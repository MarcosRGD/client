var m9=Object.defineProperty;var g9=(t,e,n)=>e in t?m9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Bn=(t,e,n)=>(g9(t,typeof e!="symbol"?e+"":e,n),n);function y9(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(i){if(i!=="default"&&!(i in t)){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}})}),Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const v9=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}};v9();var Pl=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Z={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh=Symbol.for("react.element"),b9=Symbol.for("react.portal"),w9=Symbol.for("react.fragment"),k9=Symbol.for("react.strict_mode"),_9=Symbol.for("react.profiler"),x9=Symbol.for("react.provider"),S9=Symbol.for("react.context"),C9=Symbol.for("react.forward_ref"),N9=Symbol.for("react.suspense"),I9=Symbol.for("react.memo"),T9=Symbol.for("react.lazy"),MN=Symbol.iterator;function $9(t){return t===null||typeof t!="object"?null:(t=MN&&t[MN]||t["@@iterator"],typeof t=="function"?t:null)}var RE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OE=Object.assign,PE={};function du(t,e,n){this.props=t,this.context=e,this.refs=PE,this.updater=n||RE}du.prototype.isReactComponent={};du.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};du.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LE(){}LE.prototype=du.prototype;function ux(t,e,n){this.props=t,this.context=e,this.refs=PE,this.updater=n||RE}var dx=ux.prototype=new LE;dx.constructor=ux;OE(dx,du.prototype);dx.isPureReactComponent=!0;var BN=Array.isArray,ME=Object.prototype.hasOwnProperty,fx={current:null},BE={key:!0,ref:!0,__self:!0,__source:!0};function zE(t,e,n){var i,s={},a=null,r=null;if(e!=null)for(i in e.ref!==void 0&&(r=e.ref),e.key!==void 0&&(a=""+e.key),e)ME.call(e,i)&&!BE.hasOwnProperty(i)&&(s[i]=e[i]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(i in o=t.defaultProps,o)s[i]===void 0&&(s[i]=o[i]);return{$$typeof:kh,type:t,key:a,ref:r,props:s,_owner:fx.current}}function E9(t,e){return{$$typeof:kh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hx(t){return typeof t=="object"&&t!==null&&t.$$typeof===kh}function D9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zN=/\/+/g;function Db(t,e){return typeof t=="object"&&t!==null&&t.key!=null?D9(""+t.key):e.toString(36)}function kg(t,e,n,i,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(a){case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case kh:case b9:r=!0}}if(r)return r=t,s=s(r),t=i===""?"."+Db(r,0):i,BN(s)?(n="",t!=null&&(n=t.replace(zN,"$&/")+"/"),kg(s,e,n,"",function(c){return c})):s!=null&&(hx(s)&&(s=E9(s,n+(!s.key||r&&r.key===s.key?"":(""+s.key).replace(zN,"$&/")+"/")+t)),e.push(s)),1;if(r=0,i=i===""?".":i+":",BN(t))for(var o=0;o<t.length;o++){a=t[o];var l=i+Db(a,o);r+=kg(a,e,n,l,s)}else if(l=$9(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=i+Db(a,o++),r+=kg(a,e,n,l,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return r}function _m(t,e,n){if(t==null)return t;var i=[],s=0;return kg(t,i,"","",function(a){return e.call(n,a,s++)}),i}function A9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hi={current:null},_g={transition:null},F9={ReactCurrentDispatcher:hi,ReactCurrentBatchConfig:_g,ReactCurrentOwner:fx};Je.Children={map:_m,forEach:function(t,e,n){_m(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _m(t,function(){e++}),e},toArray:function(t){return _m(t,function(e){return e})||[]},only:function(t){if(!hx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Je.Component=du;Je.Fragment=w9;Je.Profiler=_9;Je.PureComponent=ux;Je.StrictMode=k9;Je.Suspense=N9;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F9;Je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=OE({},t.props),s=t.key,a=t.ref,r=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,r=fx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)ME.call(e,l)&&!BE.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];i.children=o}return{$$typeof:kh,type:t.type,key:s,ref:a,props:i,_owner:r}};Je.createContext=function(t){return t={$$typeof:S9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:x9,_context:t},t.Consumer=t};Je.createElement=zE;Je.createFactory=function(t){var e=zE.bind(null,t);return e.type=t,e};Je.createRef=function(){return{current:null}};Je.forwardRef=function(t){return{$$typeof:C9,render:t}};Je.isValidElement=hx;Je.lazy=function(t){return{$$typeof:T9,_payload:{_status:-1,_result:t},_init:A9}};Je.memo=function(t,e){return{$$typeof:I9,type:t,compare:e===void 0?null:e}};Je.startTransition=function(t){var e=_g.transition;_g.transition={};try{t()}finally{_g.transition=e}};Je.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Je.useCallback=function(t,e){return hi.current.useCallback(t,e)};Je.useContext=function(t){return hi.current.useContext(t)};Je.useDebugValue=function(){};Je.useDeferredValue=function(t){return hi.current.useDeferredValue(t)};Je.useEffect=function(t,e){return hi.current.useEffect(t,e)};Je.useId=function(){return hi.current.useId()};Je.useImperativeHandle=function(t,e,n){return hi.current.useImperativeHandle(t,e,n)};Je.useInsertionEffect=function(t,e){return hi.current.useInsertionEffect(t,e)};Je.useLayoutEffect=function(t,e){return hi.current.useLayoutEffect(t,e)};Je.useMemo=function(t,e){return hi.current.useMemo(t,e)};Je.useReducer=function(t,e,n){return hi.current.useReducer(t,e,n)};Je.useRef=function(t){return hi.current.useRef(t)};Je.useState=function(t){return hi.current.useState(t)};Je.useSyncExternalStore=function(t,e,n){return hi.current.useSyncExternalStore(t,e,n)};Je.useTransition=function(){return hi.current.useTransition()};Je.version="18.2.0";Z.exports=Je;var VE=Z.exports,ek={},WE={exports:{}},Yi={},jE={exports:{}},HE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,U){var Q=M.length;M.push(U);e:for(;0<Q;){var ee=Q-1>>>1,ie=M[ee];if(0<s(ie,U))M[ee]=U,M[Q]=ie,Q=ee;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var U=M[0],Q=M.pop();if(Q!==U){M[0]=Q;e:for(var ee=0,ie=M.length,se=ie>>>1;ee<se;){var ce=2*(ee+1)-1,le=M[ce],ue=ce+1,pe=M[ue];if(0>s(le,Q))ue<ie&&0>s(pe,le)?(M[ee]=pe,M[ue]=Q,ee=ue):(M[ee]=le,M[ce]=Q,ee=ce);else if(ue<ie&&0>s(pe,Q))M[ee]=pe,M[ue]=Q,ee=ue;else break e}}return U}function s(M,U){var Q=M.sortIndex-U.sortIndex;return Q!==0?Q:M.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var r=Date,o=r.now();t.unstable_now=function(){return r.now()-o}}var l=[],c=[],u=1,d=null,f=3,h=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var U=n(c);U!==null;){if(U.callback===null)i(c);else if(U.startTime<=M)i(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function w(M){if(m=!1,b(M),!p)if(n(l)!==null)p=!0,$(k);else{var U=n(c);U!==null&&K(w,U.startTime-M)}}function k(M,U){p=!1,m&&(m=!1,g(I),I=-1),h=!0;var Q=f;try{for(b(U),d=n(l);d!==null&&(!(d.expirationTime>U)||M&&!L());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,f=d.priorityLevel;var ie=ee(d.expirationTime<=U);U=t.unstable_now(),typeof ie=="function"?d.callback=ie:d===n(l)&&i(l),b(U)}else i(l);d=n(l)}if(d!==null)var se=!0;else{var ce=n(c);ce!==null&&K(w,ce.startTime-U),se=!1}return se}finally{d=null,f=Q,h=!1}}var x=!1,N=null,I=-1,D=5,R=-1;function L(){return!(t.unstable_now()-R<D)}function O(){if(N!==null){var M=t.unstable_now();R=M;var U=!0;try{U=N(!0,M)}finally{U?T():(x=!1,N=null)}}else x=!1}var T;if(typeof v=="function")T=function(){v(O)};else if(typeof MessageChannel!="undefined"){var A=new MessageChannel,S=A.port2;A.port1.onmessage=O,T=function(){S.postMessage(null)}}else T=function(){y(O,0)};function $(M){N=M,x||(x=!0,T())}function K(M,U){I=y(function(){M(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,$(k))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var Q=f;f=U;try{return M()}finally{f=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,U){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Q=f;f=M;try{return U()}finally{f=Q}},t.unstable_scheduleCallback=function(M,U,Q){var ee=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ee+Q:ee):Q=ee,M){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=Q+ie,M={id:u++,callback:U,priorityLevel:M,startTime:Q,expirationTime:ie,sortIndex:-1},Q>ee?(M.sortIndex=Q,e(c,M),n(l)===null&&M===n(c)&&(m?(g(I),I=-1):m=!0,K(w,Q-ee))):(M.sortIndex=ie,e(l,M),p||h||(p=!0,$(k))),M},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(M){var U=f;return function(){var Q=f;f=U;try{return M.apply(this,arguments)}finally{f=Q}}}})(HE);jE.exports=HE;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE=Z.exports,qi=jE.exports;function de(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UE=new Set,Pf={};function Ll(t,e){Rc(t,e),Rc(t+"Capture",e)}function Rc(t,e){for(Pf[t]=e,t=0;t<e.length;t++)UE.add(e[t])}var ir=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),tk=Object.prototype.hasOwnProperty,R9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VN={},WN={};function O9(t){return tk.call(WN,t)?!0:tk.call(VN,t)?!1:R9.test(t)?WN[t]=!0:(VN[t]=!0,!1)}function P9(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function L9(t,e,n,i){if(e===null||typeof e=="undefined"||P9(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pi(t,e,n,i,s,a,r){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=r}var Ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ln[t]=new pi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ln[e]=new pi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ln[t]=new pi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ln[t]=new pi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ln[t]=new pi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ln[t]=new pi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ln[t]=new pi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ln[t]=new pi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ln[t]=new pi(t,5,!1,t.toLowerCase(),null,!1,!1)});var px=/[\-:]([a-z])/g;function mx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(px,mx);Ln[e]=new pi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(px,mx);Ln[e]=new pi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(px,mx);Ln[e]=new pi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ln[t]=new pi(t,1,!1,t.toLowerCase(),null,!1,!1)});Ln.xlinkHref=new pi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ln[t]=new pi(t,1,!1,t.toLowerCase(),null,!0,!0)});function gx(t,e,n,i){var s=Ln.hasOwnProperty(e)?Ln[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(L9(e,n,s,i)&&(n=null),i||s===null?O9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var pr=GE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xm=Symbol.for("react.element"),lc=Symbol.for("react.portal"),cc=Symbol.for("react.fragment"),yx=Symbol.for("react.strict_mode"),nk=Symbol.for("react.profiler"),qE=Symbol.for("react.provider"),KE=Symbol.for("react.context"),vx=Symbol.for("react.forward_ref"),ik=Symbol.for("react.suspense"),sk=Symbol.for("react.suspense_list"),bx=Symbol.for("react.memo"),Er=Symbol.for("react.lazy"),XE=Symbol.for("react.offscreen"),jN=Symbol.iterator;function Md(t){return t===null||typeof t!="object"?null:(t=jN&&t[jN]||t["@@iterator"],typeof t=="function"?t:null)}var Mt=Object.assign,Ab;function af(t){if(Ab===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ab=e&&e[1]||""}return`
`+Ab+t}var Fb=!1;function Rb(t,e){if(!t||Fb)return"";Fb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),a=i.stack.split(`
`),r=s.length-1,o=a.length-1;1<=r&&0<=o&&s[r]!==a[o];)o--;for(;1<=r&&0<=o;r--,o--)if(s[r]!==a[o]){if(r!==1||o!==1)do if(r--,o--,0>o||s[r]!==a[o]){var l=`
`+s[r].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=r&&0<=o);break}}}finally{Fb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?af(t):""}function M9(t){switch(t.tag){case 5:return af(t.type);case 16:return af("Lazy");case 13:return af("Suspense");case 19:return af("SuspenseList");case 0:case 2:case 15:return t=Rb(t.type,!1),t;case 11:return t=Rb(t.type.render,!1),t;case 1:return t=Rb(t.type,!0),t;default:return""}}function ak(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cc:return"Fragment";case lc:return"Portal";case nk:return"Profiler";case yx:return"StrictMode";case ik:return"Suspense";case sk:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case KE:return(t.displayName||"Context")+".Consumer";case qE:return(t._context.displayName||"Context")+".Provider";case vx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bx:return e=t.displayName||null,e!==null?e:ak(t.type)||"Memo";case Er:e=t._payload,t=t._init;try{return ak(t(e))}catch{}}return null}function B9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ak(e);case 8:return e===yx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function JE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function z9(t){var e=JE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(r){i=""+r,a.call(this,r)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(r){i=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sm(t){t._valueTracker||(t._valueTracker=z9(t))}function YE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=JE(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Ug(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function rk(t,e){var n=e.checked;return Mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function HN(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=oo(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function QE(t,e){e=e.checked,e!=null&&gx(t,"checked",e,!1)}function ok(t,e){QE(t,e);var n=oo(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lk(t,e.type,n):e.hasOwnProperty("defaultValue")&&lk(t,e.type,oo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function GN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lk(t,e,n){(e!=="number"||Ug(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var rf=Array.isArray;function _c(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+oo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ck(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(de(91));return Mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function UN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(de(92));if(rf(n)){if(1<n.length)throw Error(de(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oo(n)}}function ZE(t,e){var n=oo(e.value),i=oo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function qN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function eD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uk(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?eD(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cm,tD=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cm=Cm||document.createElement("div"),Cm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V9=["Webkit","ms","Moz","O"];Object.keys(bf).forEach(function(t){V9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bf[e]=bf[t]})});function nD(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bf.hasOwnProperty(t)&&bf[t]?(""+e).trim():e+"px"}function iD(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=nD(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var W9=Mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dk(t,e){if(e){if(W9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(de(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(de(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(de(61))}if(e.style!=null&&typeof e.style!="object")throw Error(de(62))}}function fk(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hk=null;function wx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pk=null,xc=null,Sc=null;function KN(t){if(t=Sh(t)){if(typeof pk!="function")throw Error(de(280));var e=t.stateNode;e&&(e=x0(e),pk(t.stateNode,t.type,e))}}function sD(t){xc?Sc?Sc.push(t):Sc=[t]:xc=t}function aD(){if(xc){var t=xc,e=Sc;if(Sc=xc=null,KN(t),e)for(t=0;t<e.length;t++)KN(e[t])}}function rD(t,e){return t(e)}function oD(){}var Ob=!1;function lD(t,e,n){if(Ob)return t(e,n);Ob=!0;try{return rD(t,e,n)}finally{Ob=!1,(xc!==null||Sc!==null)&&(oD(),aD())}}function Mf(t,e){var n=t.stateNode;if(n===null)return null;var i=x0(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(de(231,e,typeof n));return n}var mk=!1;if(ir)try{var Bd={};Object.defineProperty(Bd,"passive",{get:function(){mk=!0}}),window.addEventListener("test",Bd,Bd),window.removeEventListener("test",Bd,Bd)}catch{mk=!1}function j9(t,e,n,i,s,a,r,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var wf=!1,qg=null,Kg=!1,gk=null,H9={onError:function(t){wf=!0,qg=t}};function G9(t,e,n,i,s,a,r,o,l){wf=!1,qg=null,j9.apply(H9,arguments)}function U9(t,e,n,i,s,a,r,o,l){if(G9.apply(this,arguments),wf){if(wf){var c=qg;wf=!1,qg=null}else throw Error(de(198));Kg||(Kg=!0,gk=c)}}function Ml(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cD(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function XN(t){if(Ml(t)!==t)throw Error(de(188))}function q9(t){var e=t.alternate;if(!e){if(e=Ml(t),e===null)throw Error(de(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return XN(s),t;if(a===i)return XN(s),e;a=a.sibling}throw Error(de(188))}if(n.return!==i.return)n=s,i=a;else{for(var r=!1,o=s.child;o;){if(o===n){r=!0,n=s,i=a;break}if(o===i){r=!0,i=s,n=a;break}o=o.sibling}if(!r){for(o=a.child;o;){if(o===n){r=!0,n=a,i=s;break}if(o===i){r=!0,i=a,n=s;break}o=o.sibling}if(!r)throw Error(de(189))}}if(n.alternate!==i)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?t:e}function uD(t){return t=q9(t),t!==null?dD(t):null}function dD(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dD(t);if(e!==null)return e;t=t.sibling}return null}var fD=qi.unstable_scheduleCallback,JN=qi.unstable_cancelCallback,K9=qi.unstable_shouldYield,X9=qi.unstable_requestPaint,Xt=qi.unstable_now,J9=qi.unstable_getCurrentPriorityLevel,kx=qi.unstable_ImmediatePriority,hD=qi.unstable_UserBlockingPriority,Xg=qi.unstable_NormalPriority,Y9=qi.unstable_LowPriority,pD=qi.unstable_IdlePriority,b0=null,_a=null;function Q9(t){if(_a&&typeof _a.onCommitFiberRoot=="function")try{_a.onCommitFiberRoot(b0,t,void 0,(t.current.flags&128)===128)}catch{}}var Us=Math.clz32?Math.clz32:tB,Z9=Math.log,eB=Math.LN2;function tB(t){return t>>>=0,t===0?32:31-(Z9(t)/eB|0)|0}var Nm=64,Im=4194304;function of(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jg(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes,r=n&268435455;if(r!==0){var o=r&~s;o!==0?i=of(o):(a&=r,a!==0&&(i=of(a)))}else r=n&~s,r!==0?i=of(r):a!==0&&(i=of(a));if(i===0)return 0;if(e!==0&&e!==i&&(e&s)===0&&(s=i&-i,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if((i&4)!==0&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Us(e),s=1<<n,i|=t[n],e&=~s;return i}function nB(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iB(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var r=31-Us(a),o=1<<r,l=s[r];l===-1?((o&n)===0||(o&i)!==0)&&(s[r]=nB(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function yk(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mD(){var t=Nm;return Nm<<=1,(Nm&4194240)===0&&(Nm=64),t}function Pb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _h(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Us(e),t[e]=n}function sB(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Us(n),a=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~a}}function _x(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Us(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var ct=0;function gD(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var yD,xx,vD,bD,wD,vk=!1,Tm=[],qr=null,Kr=null,Xr=null,Bf=new Map,zf=new Map,Fr=[],aB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function YN(t,e){switch(t){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Bf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zf.delete(e.pointerId)}}function zd(t,e,n,i,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},e!==null&&(e=Sh(e),e!==null&&xx(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function rB(t,e,n,i,s){switch(e){case"focusin":return qr=zd(qr,t,e,n,i,s),!0;case"dragenter":return Kr=zd(Kr,t,e,n,i,s),!0;case"mouseover":return Xr=zd(Xr,t,e,n,i,s),!0;case"pointerover":var a=s.pointerId;return Bf.set(a,zd(Bf.get(a)||null,t,e,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,zf.set(a,zd(zf.get(a)||null,t,e,n,i,s)),!0}return!1}function kD(t){var e=Yo(t.target);if(e!==null){var n=Ml(e);if(n!==null){if(e=n.tag,e===13){if(e=cD(n),e!==null){t.blockedOn=e,wD(t.priority,function(){vD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bk(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);hk=i,n.target.dispatchEvent(i),hk=null}else return e=Sh(n),e!==null&&xx(e),t.blockedOn=n,!1;e.shift()}return!0}function QN(t,e,n){xg(t)&&n.delete(e)}function oB(){vk=!1,qr!==null&&xg(qr)&&(qr=null),Kr!==null&&xg(Kr)&&(Kr=null),Xr!==null&&xg(Xr)&&(Xr=null),Bf.forEach(QN),zf.forEach(QN)}function Vd(t,e){t.blockedOn===e&&(t.blockedOn=null,vk||(vk=!0,qi.unstable_scheduleCallback(qi.unstable_NormalPriority,oB)))}function Vf(t){function e(s){return Vd(s,t)}if(0<Tm.length){Vd(Tm[0],t);for(var n=1;n<Tm.length;n++){var i=Tm[n];i.blockedOn===t&&(i.blockedOn=null)}}for(qr!==null&&Vd(qr,t),Kr!==null&&Vd(Kr,t),Xr!==null&&Vd(Xr,t),Bf.forEach(e),zf.forEach(e),n=0;n<Fr.length;n++)i=Fr[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Fr.length&&(n=Fr[0],n.blockedOn===null);)kD(n),n.blockedOn===null&&Fr.shift()}var Cc=pr.ReactCurrentBatchConfig,Yg=!0;function lB(t,e,n,i){var s=ct,a=Cc.transition;Cc.transition=null;try{ct=1,Sx(t,e,n,i)}finally{ct=s,Cc.transition=a}}function cB(t,e,n,i){var s=ct,a=Cc.transition;Cc.transition=null;try{ct=4,Sx(t,e,n,i)}finally{ct=s,Cc.transition=a}}function Sx(t,e,n,i){if(Yg){var s=bk(t,e,n,i);if(s===null)Ub(t,e,i,Qg,n),YN(t,i);else if(rB(s,t,e,n,i))i.stopPropagation();else if(YN(t,i),e&4&&-1<aB.indexOf(t)){for(;s!==null;){var a=Sh(s);if(a!==null&&yD(a),a=bk(t,e,n,i),a===null&&Ub(t,e,i,Qg,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else Ub(t,e,i,null,n)}}var Qg=null;function bk(t,e,n,i){if(Qg=null,t=wx(i),t=Yo(t),t!==null)if(e=Ml(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cD(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qg=t,null}function _D(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J9()){case kx:return 1;case hD:return 4;case Xg:case Y9:return 16;case pD:return 536870912;default:return 16}default:return 16}}var Pr=null,Cx=null,Sg=null;function xD(){if(Sg)return Sg;var t,e=Cx,n=e.length,i,s="value"in Pr?Pr.value:Pr.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===s[a-i];i++);return Sg=s.slice(t,1<i?1-i:void 0)}function Cg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $m(){return!0}function ZN(){return!1}function Qi(t){function e(n,i,s,a,r){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?$m:ZN,this.isPropagationStopped=ZN,this}return Mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$m)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$m)},persist:function(){},isPersistent:$m}),e}var fu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nx=Qi(fu),xh=Mt({},fu,{view:0,detail:0}),uB=Qi(xh),Lb,Mb,Wd,w0=Mt({},xh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ix,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wd&&(Wd&&t.type==="mousemove"?(Lb=t.screenX-Wd.screenX,Mb=t.screenY-Wd.screenY):Mb=Lb=0,Wd=t),Lb)},movementY:function(t){return"movementY"in t?t.movementY:Mb}}),eI=Qi(w0),dB=Mt({},w0,{dataTransfer:0}),fB=Qi(dB),hB=Mt({},xh,{relatedTarget:0}),Bb=Qi(hB),pB=Mt({},fu,{animationName:0,elapsedTime:0,pseudoElement:0}),mB=Qi(pB),gB=Mt({},fu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yB=Qi(gB),vB=Mt({},fu,{data:0}),tI=Qi(vB),bB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _B(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kB[t])?!!e[t]:!1}function Ix(){return _B}var xB=Mt({},xh,{key:function(t){if(t.key){var e=bB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ix,charCode:function(t){return t.type==="keypress"?Cg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SB=Qi(xB),CB=Mt({},w0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nI=Qi(CB),NB=Mt({},xh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ix}),IB=Qi(NB),TB=Mt({},fu,{propertyName:0,elapsedTime:0,pseudoElement:0}),$B=Qi(TB),EB=Mt({},w0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DB=Qi(EB),AB=[9,13,27,32],Tx=ir&&"CompositionEvent"in window,kf=null;ir&&"documentMode"in document&&(kf=document.documentMode);var FB=ir&&"TextEvent"in window&&!kf,SD=ir&&(!Tx||kf&&8<kf&&11>=kf),iI=String.fromCharCode(32),sI=!1;function CD(t,e){switch(t){case"keyup":return AB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ND(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uc=!1;function RB(t,e){switch(t){case"compositionend":return ND(e);case"keypress":return e.which!==32?null:(sI=!0,iI);case"textInput":return t=e.data,t===iI&&sI?null:t;default:return null}}function OB(t,e){if(uc)return t==="compositionend"||!Tx&&CD(t,e)?(t=xD(),Sg=Cx=Pr=null,uc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return SD&&e.locale!=="ko"?null:e.data;default:return null}}var PB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PB[t.type]:e==="textarea"}function ID(t,e,n,i){sD(i),e=Zg(e,"onChange"),0<e.length&&(n=new Nx("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var _f=null,Wf=null;function LB(t){MD(t,0)}function k0(t){var e=hc(t);if(YE(e))return t}function MB(t,e){if(t==="change")return e}var TD=!1;if(ir){var zb;if(ir){var Vb="oninput"in document;if(!Vb){var rI=document.createElement("div");rI.setAttribute("oninput","return;"),Vb=typeof rI.oninput=="function"}zb=Vb}else zb=!1;TD=zb&&(!document.documentMode||9<document.documentMode)}function oI(){_f&&(_f.detachEvent("onpropertychange",$D),Wf=_f=null)}function $D(t){if(t.propertyName==="value"&&k0(Wf)){var e=[];ID(e,Wf,t,wx(t)),lD(LB,e)}}function BB(t,e,n){t==="focusin"?(oI(),_f=e,Wf=n,_f.attachEvent("onpropertychange",$D)):t==="focusout"&&oI()}function zB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return k0(Wf)}function VB(t,e){if(t==="click")return k0(e)}function WB(t,e){if(t==="input"||t==="change")return k0(e)}function jB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qs=typeof Object.is=="function"?Object.is:jB;function jf(t,e){if(Qs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!tk.call(e,s)||!Qs(t[s],e[s]))return!1}return!0}function lI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cI(t,e){var n=lI(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lI(n)}}function ED(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ED(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function DD(){for(var t=window,e=Ug();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ug(t.document)}return e}function $x(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HB(t){var e=DD(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ED(n.ownerDocument.documentElement,n)){if(i!==null&&$x(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,a=Math.min(i.start,s);i=i.end===void 0?a:Math.min(i.end,s),!t.extend&&a>i&&(s=i,i=a,a=s),s=cI(n,a);var r=cI(n,i);s&&r&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==r.node||t.focusOffset!==r.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>i?(t.addRange(e),t.extend(r.node,r.offset)):(e.setEnd(r.node,r.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GB=ir&&"documentMode"in document&&11>=document.documentMode,dc=null,wk=null,xf=null,kk=!1;function uI(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kk||dc==null||dc!==Ug(i)||(i=dc,"selectionStart"in i&&$x(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),xf&&jf(xf,i)||(xf=i,i=Zg(wk,"onSelect"),0<i.length&&(e=new Nx("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=dc)))}function Em(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fc={animationend:Em("Animation","AnimationEnd"),animationiteration:Em("Animation","AnimationIteration"),animationstart:Em("Animation","AnimationStart"),transitionend:Em("Transition","TransitionEnd")},Wb={},AD={};ir&&(AD=document.createElement("div").style,"AnimationEvent"in window||(delete fc.animationend.animation,delete fc.animationiteration.animation,delete fc.animationstart.animation),"TransitionEvent"in window||delete fc.transitionend.transition);function _0(t){if(Wb[t])return Wb[t];if(!fc[t])return t;var e=fc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in AD)return Wb[t]=e[n];return t}var FD=_0("animationend"),RD=_0("animationiteration"),OD=_0("animationstart"),PD=_0("transitionend"),LD=new Map,dI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _o(t,e){LD.set(t,e),Ll(e,[t])}for(var jb=0;jb<dI.length;jb++){var Hb=dI[jb],UB=Hb.toLowerCase(),qB=Hb[0].toUpperCase()+Hb.slice(1);_o(UB,"on"+qB)}_o(FD,"onAnimationEnd");_o(RD,"onAnimationIteration");_o(OD,"onAnimationStart");_o("dblclick","onDoubleClick");_o("focusin","onFocus");_o("focusout","onBlur");_o(PD,"onTransitionEnd");Rc("onMouseEnter",["mouseout","mouseover"]);Rc("onMouseLeave",["mouseout","mouseover"]);Rc("onPointerEnter",["pointerout","pointerover"]);Rc("onPointerLeave",["pointerout","pointerover"]);Ll("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ll("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ll("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ll("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ll("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ll("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KB=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function fI(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,U9(i,e,void 0,t),t.currentTarget=null}function MD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var r=i.length-1;0<=r;r--){var o=i[r],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;fI(s,o,c),a=l}else for(r=0;r<i.length;r++){if(o=i[r],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;fI(s,o,c),a=l}}}if(Kg)throw t=gk,Kg=!1,gk=null,t}function _t(t,e){var n=e[Nk];n===void 0&&(n=e[Nk]=new Set);var i=t+"__bubble";n.has(i)||(BD(e,t,2,!1),n.add(i))}function Gb(t,e,n){var i=0;e&&(i|=4),BD(n,t,i,e)}var Dm="_reactListening"+Math.random().toString(36).slice(2);function Hf(t){if(!t[Dm]){t[Dm]=!0,UE.forEach(function(n){n!=="selectionchange"&&(KB.has(n)||Gb(n,!1,t),Gb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Dm]||(e[Dm]=!0,Gb("selectionchange",!1,e))}}function BD(t,e,n,i){switch(_D(e)){case 1:var s=lB;break;case 4:s=cB;break;default:s=Sx}n=s.bind(null,e,n,t),s=void 0,!mk||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ub(t,e,n,i,s){var a=i;if((e&1)===0&&(e&2)===0&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var o=i.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(r===4)for(r=i.return;r!==null;){var l=r.tag;if((l===3||l===4)&&(l=r.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;r=r.return}for(;o!==null;){if(r=Yo(o),r===null)return;if(l=r.tag,l===5||l===6){i=a=r;continue e}o=o.parentNode}}i=i.return}lD(function(){var c=a,u=wx(n),d=[];e:{var f=LD.get(t);if(f!==void 0){var h=Nx,p=t;switch(t){case"keypress":if(Cg(n)===0)break e;case"keydown":case"keyup":h=SB;break;case"focusin":p="focus",h=Bb;break;case"focusout":p="blur",h=Bb;break;case"beforeblur":case"afterblur":h=Bb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=eI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=fB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=IB;break;case FD:case RD:case OD:h=mB;break;case PD:h=$B;break;case"scroll":h=uB;break;case"wheel":h=DB;break;case"copy":case"cut":case"paste":h=yB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=nI}var m=(e&4)!==0,y=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var v=c,b;v!==null;){b=v;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,g!==null&&(w=Mf(v,g),w!=null&&m.push(Gf(v,w,b)))),y)break;v=v.return}0<m.length&&(f=new h(f,p,null,n,u),d.push({event:f,listeners:m}))}}if((e&7)===0){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==hk&&(p=n.relatedTarget||n.fromElement)&&(Yo(p)||p[sr]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?Yo(p):null,p!==null&&(y=Ml(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(m=eI,w="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=nI,w="onPointerLeave",g="onPointerEnter",v="pointer"),y=h==null?f:hc(h),b=p==null?f:hc(p),f=new m(w,v+"leave",h,n,u),f.target=y,f.relatedTarget=b,w=null,Yo(u)===c&&(m=new m(g,v+"enter",p,n,u),m.target=b,m.relatedTarget=y,w=m),y=w,h&&p)t:{for(m=h,g=p,v=0,b=m;b;b=tc(b))v++;for(b=0,w=g;w;w=tc(w))b++;for(;0<v-b;)m=tc(m),v--;for(;0<b-v;)g=tc(g),b--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=tc(m),g=tc(g)}m=null}else m=null;h!==null&&hI(d,f,h,m,!1),p!==null&&y!==null&&hI(d,y,p,m,!0)}}e:{if(f=c?hc(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var k=MB;else if(aI(f))if(TD)k=WB;else{k=zB;var x=BB}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=VB);if(k&&(k=k(t,c))){ID(d,k,n,u);break e}x&&x(t,f,c),t==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&lk(f,"number",f.value)}switch(x=c?hc(c):window,t){case"focusin":(aI(x)||x.contentEditable==="true")&&(dc=x,wk=c,xf=null);break;case"focusout":xf=wk=dc=null;break;case"mousedown":kk=!0;break;case"contextmenu":case"mouseup":case"dragend":kk=!1,uI(d,n,u);break;case"selectionchange":if(GB)break;case"keydown":case"keyup":uI(d,n,u)}var N;if(Tx)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else uc?CD(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(SD&&n.locale!=="ko"&&(uc||I!=="onCompositionStart"?I==="onCompositionEnd"&&uc&&(N=xD()):(Pr=u,Cx="value"in Pr?Pr.value:Pr.textContent,uc=!0)),x=Zg(c,I),0<x.length&&(I=new tI(I,t,null,n,u),d.push({event:I,listeners:x}),N?I.data=N:(N=ND(n),N!==null&&(I.data=N)))),(N=FB?RB(t,n):OB(t,n))&&(c=Zg(c,"onBeforeInput"),0<c.length&&(u=new tI("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=N))}MD(d,e)})}function Gf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zg(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Mf(t,n),a!=null&&i.unshift(Gf(t,a,s)),a=Mf(t,e),a!=null&&i.push(Gf(t,a,s))),t=t.return}return i}function tc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hI(t,e,n,i,s){for(var a=e._reactName,r=[];n!==null&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===i)break;o.tag===5&&c!==null&&(o=c,s?(l=Mf(n,a),l!=null&&r.unshift(Gf(n,l,o))):s||(l=Mf(n,a),l!=null&&r.push(Gf(n,l,o)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var XB=/\r\n?/g,JB=/\u0000|\uFFFD/g;function pI(t){return(typeof t=="string"?t:""+t).replace(XB,`
`).replace(JB,"")}function Am(t,e,n){if(e=pI(e),pI(t)!==e&&n)throw Error(de(425))}function e1(){}var _k=null,xk=null;function Sk(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ck=typeof setTimeout=="function"?setTimeout:void 0,YB=typeof clearTimeout=="function"?clearTimeout:void 0,mI=typeof Promise=="function"?Promise:void 0,QB=typeof queueMicrotask=="function"?queueMicrotask:typeof mI!="undefined"?function(t){return mI.resolve(null).then(t).catch(ZB)}:Ck;function ZB(t){setTimeout(function(){throw t})}function qb(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),Vf(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Vf(e)}function Jr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hu=Math.random().toString(36).slice(2),ga="__reactFiber$"+hu,Uf="__reactProps$"+hu,sr="__reactContainer$"+hu,Nk="__reactEvents$"+hu,ez="__reactListeners$"+hu,tz="__reactHandles$"+hu;function Yo(t){var e=t[ga];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sr]||n[ga]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gI(t);t!==null;){if(n=t[ga])return n;t=gI(t)}return e}t=n,n=t.parentNode}return null}function Sh(t){return t=t[ga]||t[sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(de(33))}function x0(t){return t[Uf]||null}var Ik=[],pc=-1;function xo(t){return{current:t}}function St(t){0>pc||(t.current=Ik[pc],Ik[pc]=null,pc--)}function gt(t,e){pc++,Ik[pc]=t.current,t.current=e}var lo={},Yn=xo(lo),Ci=xo(!1),pl=lo;function Oc(t,e){var n=t.type.contextTypes;if(!n)return lo;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=e[a];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ni(t){return t=t.childContextTypes,t!=null}function t1(){St(Ci),St(Yn)}function yI(t,e,n){if(Yn.current!==lo)throw Error(de(168));gt(Yn,e),gt(Ci,n)}function zD(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(de(108,B9(t)||"Unknown",s));return Mt({},n,i)}function n1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lo,pl=Yn.current,gt(Yn,t),gt(Ci,Ci.current),!0}function vI(t,e,n){var i=t.stateNode;if(!i)throw Error(de(169));n?(t=zD(t,e,pl),i.__reactInternalMemoizedMergedChildContext=t,St(Ci),St(Yn),gt(Yn,t)):St(Ci),gt(Ci,n)}var Ha=null,S0=!1,Kb=!1;function VD(t){Ha===null?Ha=[t]:Ha.push(t)}function nz(t){S0=!0,VD(t)}function So(){if(!Kb&&Ha!==null){Kb=!0;var t=0,e=ct;try{var n=Ha;for(ct=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Ha=null,S0=!1}catch(s){throw Ha!==null&&(Ha=Ha.slice(t+1)),fD(kx,So),s}finally{ct=e,Kb=!1}}return null}var mc=[],gc=0,i1=null,s1=0,ds=[],fs=0,ml=null,Qa=1,Za="";function Wo(t,e){mc[gc++]=s1,mc[gc++]=i1,i1=t,s1=e}function WD(t,e,n){ds[fs++]=Qa,ds[fs++]=Za,ds[fs++]=ml,ml=t;var i=Qa;t=Za;var s=32-Us(i)-1;i&=~(1<<s),n+=1;var a=32-Us(e)+s;if(30<a){var r=s-s%5;a=(i&(1<<r)-1).toString(32),i>>=r,s-=r,Qa=1<<32-Us(e)+s|n<<s|i,Za=a+t}else Qa=1<<a|n<<s|i,Za=t}function Ex(t){t.return!==null&&(Wo(t,1),WD(t,1,0))}function Dx(t){for(;t===i1;)i1=mc[--gc],mc[gc]=null,s1=mc[--gc],mc[gc]=null;for(;t===ml;)ml=ds[--fs],ds[fs]=null,Za=ds[--fs],ds[fs]=null,Qa=ds[--fs],ds[fs]=null}var Hi=null,Vi=null,$t=!1,zs=null;function jD(t,e){var n=ps(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hi=t,Vi=Jr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hi=t,Vi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ml!==null?{id:Qa,overflow:Za}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ps(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Hi=t,Vi=null,!0):!1;default:return!1}}function Tk(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $k(t){if($t){var e=Vi;if(e){var n=e;if(!bI(t,e)){if(Tk(t))throw Error(de(418));e=Jr(n.nextSibling);var i=Hi;e&&bI(t,e)?jD(i,n):(t.flags=t.flags&-4097|2,$t=!1,Hi=t)}}else{if(Tk(t))throw Error(de(418));t.flags=t.flags&-4097|2,$t=!1,Hi=t}}}function wI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hi=t}function Fm(t){if(t!==Hi)return!1;if(!$t)return wI(t),$t=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sk(t.type,t.memoizedProps)),e&&(e=Vi)){if(Tk(t))throw HD(),Error(de(418));for(;e;)jD(t,e),e=Jr(e.nextSibling)}if(wI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vi=Jr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vi=null}}else Vi=Hi?Jr(t.stateNode.nextSibling):null;return!0}function HD(){for(var t=Vi;t;)t=Jr(t.nextSibling)}function Pc(){Vi=Hi=null,$t=!1}function Ax(t){zs===null?zs=[t]:zs.push(t)}var iz=pr.ReactCurrentBatchConfig;function Os(t,e){if(t&&t.defaultProps){e=Mt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var a1=xo(null),r1=null,yc=null,Fx=null;function Rx(){Fx=yc=r1=null}function Ox(t){var e=a1.current;St(a1),t._currentValue=e}function Ek(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Nc(t,e){r1=t,Fx=yc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(_i=!0),t.firstContext=null)}function _s(t){var e=t._currentValue;if(Fx!==t)if(t={context:t,memoizedValue:e,next:null},yc===null){if(r1===null)throw Error(de(308));yc=t,r1.dependencies={lanes:0,firstContext:t}}else yc=yc.next=t;return e}var Qo=null;function Px(t){Qo===null?Qo=[t]:Qo.push(t)}function GD(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,Px(e)):(n.next=s.next,s.next=n),e.interleaved=n,ar(t,i)}function ar(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Dr=!1;function Lx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(tt&2)!==0){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,ar(t,n)}return s=i.interleaved,s===null?(e.next=e,Px(i)):(e.next=s.next,s.next=e),i.interleaved=e,ar(t,n)}function Ng(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,_x(t,n)}}function kI(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var r={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=r:a=a.next=r,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function o1(t,e,n,i){var s=t.updateQueue;Dr=!1;var a=s.firstBaseUpdate,r=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,r===null?a=c:r.next=c,r=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==r&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=s.baseState;r=0,u=c=l=null,o=a;do{var f=o.lane,h=o.eventTime;if((i&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,m=o;switch(f=e,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Mt({},d,f);break e;case 2:Dr=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,r|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do r|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);yl|=r,t.lanes=r,t.memoizedState=d}}function _I(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(de(191,s));s.call(i)}}}var qD=new GE.Component().refs;function Dk(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Mt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var C0={isMounted:function(t){return(t=t._reactInternals)?Ml(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ri(),s=Zr(t),a=tr(i,s);a.payload=e,n!=null&&(a.callback=n),e=Yr(t,a,s),e!==null&&(qs(e,t,s,i),Ng(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ri(),s=Zr(t),a=tr(i,s);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Yr(t,a,s),e!==null&&(qs(e,t,s,i),Ng(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ri(),i=Zr(t),s=tr(n,i);s.tag=2,e!=null&&(s.callback=e),e=Yr(t,s,i),e!==null&&(qs(e,t,i,n),Ng(e,t,i))}};function xI(t,e,n,i,s,a,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,r):e.prototype&&e.prototype.isPureReactComponent?!jf(n,i)||!jf(s,a):!0}function KD(t,e,n){var i=!1,s=lo,a=e.contextType;return typeof a=="object"&&a!==null?a=_s(a):(s=Ni(e)?pl:Yn.current,i=e.contextTypes,a=(i=i!=null)?Oc(t,s):lo),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=C0,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function SI(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&C0.enqueueReplaceState(e,e.state,null)}function Ak(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=qD,Lx(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=_s(a):(a=Ni(e)?pl:Yn.current,s.context=Oc(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Dk(t,e,a,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&C0.enqueueReplaceState(s,s.state,null),o1(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function jd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(de(309));var i=n.stateNode}if(!i)throw Error(de(147,t));var s=i,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(r){var o=s.refs;o===qD&&(o=s.refs={}),r===null?delete o[a]:o[a]=r},e._stringRef=a,e)}if(typeof t!="string")throw Error(de(284));if(!n._owner)throw Error(de(290,t))}return t}function Rm(t,e){throw t=Object.prototype.toString.call(e),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function CI(t){var e=t._init;return e(t._payload)}function XD(t){function e(g,v){if(t){var b=g.deletions;b===null?(g.deletions=[v],g.flags|=16):b.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function i(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=eo(g,v),g.index=0,g.sibling=null,g}function a(g,v,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<v?(g.flags|=2,v):b):(g.flags|=2,v)):(g.flags|=1048576,v)}function r(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,b,w){return v===null||v.tag!==6?(v=tw(b,g.mode,w),v.return=g,v):(v=s(v,b),v.return=g,v)}function l(g,v,b,w){var k=b.type;return k===cc?u(g,v,b.props.children,w,b.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Er&&CI(k)===v.type)?(w=s(v,b.props),w.ref=jd(g,v,b),w.return=g,w):(w=Ag(b.type,b.key,b.props,null,g.mode,w),w.ref=jd(g,v,b),w.return=g,w)}function c(g,v,b,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=nw(b,g.mode,w),v.return=g,v):(v=s(v,b.children||[]),v.return=g,v)}function u(g,v,b,w,k){return v===null||v.tag!==7?(v=al(b,g.mode,w,k),v.return=g,v):(v=s(v,b),v.return=g,v)}function d(g,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=tw(""+v,g.mode,b),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case xm:return b=Ag(v.type,v.key,v.props,null,g.mode,b),b.ref=jd(g,null,v),b.return=g,b;case lc:return v=nw(v,g.mode,b),v.return=g,v;case Er:var w=v._init;return d(g,w(v._payload),b)}if(rf(v)||Md(v))return v=al(v,g.mode,b,null),v.return=g,v;Rm(g,v)}return null}function f(g,v,b,w){var k=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:o(g,v,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case xm:return b.key===k?l(g,v,b,w):null;case lc:return b.key===k?c(g,v,b,w):null;case Er:return k=b._init,f(g,v,k(b._payload),w)}if(rf(b)||Md(b))return k!==null?null:u(g,v,b,w,null);Rm(g,b)}return null}function h(g,v,b,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(b)||null,o(v,g,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xm:return g=g.get(w.key===null?b:w.key)||null,l(v,g,w,k);case lc:return g=g.get(w.key===null?b:w.key)||null,c(v,g,w,k);case Er:var x=w._init;return h(g,v,b,x(w._payload),k)}if(rf(w)||Md(w))return g=g.get(b)||null,u(v,g,w,k,null);Rm(v,w)}return null}function p(g,v,b,w){for(var k=null,x=null,N=v,I=v=0,D=null;N!==null&&I<b.length;I++){N.index>I?(D=N,N=null):D=N.sibling;var R=f(g,N,b[I],w);if(R===null){N===null&&(N=D);break}t&&N&&R.alternate===null&&e(g,N),v=a(R,v,I),x===null?k=R:x.sibling=R,x=R,N=D}if(I===b.length)return n(g,N),$t&&Wo(g,I),k;if(N===null){for(;I<b.length;I++)N=d(g,b[I],w),N!==null&&(v=a(N,v,I),x===null?k=N:x.sibling=N,x=N);return $t&&Wo(g,I),k}for(N=i(g,N);I<b.length;I++)D=h(N,g,I,b[I],w),D!==null&&(t&&D.alternate!==null&&N.delete(D.key===null?I:D.key),v=a(D,v,I),x===null?k=D:x.sibling=D,x=D);return t&&N.forEach(function(L){return e(g,L)}),$t&&Wo(g,I),k}function m(g,v,b,w){var k=Md(b);if(typeof k!="function")throw Error(de(150));if(b=k.call(b),b==null)throw Error(de(151));for(var x=k=null,N=v,I=v=0,D=null,R=b.next();N!==null&&!R.done;I++,R=b.next()){N.index>I?(D=N,N=null):D=N.sibling;var L=f(g,N,R.value,w);if(L===null){N===null&&(N=D);break}t&&N&&L.alternate===null&&e(g,N),v=a(L,v,I),x===null?k=L:x.sibling=L,x=L,N=D}if(R.done)return n(g,N),$t&&Wo(g,I),k;if(N===null){for(;!R.done;I++,R=b.next())R=d(g,R.value,w),R!==null&&(v=a(R,v,I),x===null?k=R:x.sibling=R,x=R);return $t&&Wo(g,I),k}for(N=i(g,N);!R.done;I++,R=b.next())R=h(N,g,I,R.value,w),R!==null&&(t&&R.alternate!==null&&N.delete(R.key===null?I:R.key),v=a(R,v,I),x===null?k=R:x.sibling=R,x=R);return t&&N.forEach(function(O){return e(g,O)}),$t&&Wo(g,I),k}function y(g,v,b,w){if(typeof b=="object"&&b!==null&&b.type===cc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case xm:e:{for(var k=b.key,x=v;x!==null;){if(x.key===k){if(k=b.type,k===cc){if(x.tag===7){n(g,x.sibling),v=s(x,b.props.children),v.return=g,g=v;break e}}else if(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Er&&CI(k)===x.type){n(g,x.sibling),v=s(x,b.props),v.ref=jd(g,x,b),v.return=g,g=v;break e}n(g,x);break}else e(g,x);x=x.sibling}b.type===cc?(v=al(b.props.children,g.mode,w,b.key),v.return=g,g=v):(w=Ag(b.type,b.key,b.props,null,g.mode,w),w.ref=jd(g,v,b),w.return=g,g=w)}return r(g);case lc:e:{for(x=b.key;v!==null;){if(v.key===x)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(g,v.sibling),v=s(v,b.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=nw(b,g.mode,w),v.return=g,g=v}return r(g);case Er:return x=b._init,y(g,v,x(b._payload),w)}if(rf(b))return p(g,v,b,w);if(Md(b))return m(g,v,b,w);Rm(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,b),v.return=g,g=v):(n(g,v),v=tw(b,g.mode,w),v.return=g,g=v),r(g)):n(g,v)}return y}var Lc=XD(!0),JD=XD(!1),Ch={},xa=xo(Ch),qf=xo(Ch),Kf=xo(Ch);function Zo(t){if(t===Ch)throw Error(de(174));return t}function Mx(t,e){switch(gt(Kf,e),gt(qf,t),gt(xa,Ch),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:uk(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=uk(e,t)}St(xa),gt(xa,e)}function Mc(){St(xa),St(qf),St(Kf)}function YD(t){Zo(Kf.current);var e=Zo(xa.current),n=uk(e,t.type);e!==n&&(gt(qf,t),gt(xa,n))}function Bx(t){qf.current===t&&(St(xa),St(qf))}var Ot=xo(0);function l1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xb=[];function zx(){for(var t=0;t<Xb.length;t++)Xb[t]._workInProgressVersionPrimary=null;Xb.length=0}var Ig=pr.ReactCurrentDispatcher,Jb=pr.ReactCurrentBatchConfig,gl=0,Pt=null,ln=null,yn=null,c1=!1,Sf=!1,Xf=0,sz=0;function zn(){throw Error(de(321))}function Vx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qs(t[n],e[n]))return!1;return!0}function Wx(t,e,n,i,s,a){if(gl=a,Pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ig.current=t===null||t.memoizedState===null?lz:cz,t=n(i,s),Sf){a=0;do{if(Sf=!1,Xf=0,25<=a)throw Error(de(301));a+=1,yn=ln=null,e.updateQueue=null,Ig.current=uz,t=n(i,s)}while(Sf)}if(Ig.current=u1,e=ln!==null&&ln.next!==null,gl=0,yn=ln=Pt=null,c1=!1,e)throw Error(de(300));return t}function jx(){var t=Xf!==0;return Xf=0,t}function da(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Pt.memoizedState=yn=t:yn=yn.next=t,yn}function xs(){if(ln===null){var t=Pt.alternate;t=t!==null?t.memoizedState:null}else t=ln.next;var e=yn===null?Pt.memoizedState:yn.next;if(e!==null)yn=e,ln=t;else{if(t===null)throw Error(de(310));ln=t,t={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},yn===null?Pt.memoizedState=yn=t:yn=yn.next=t}return yn}function Jf(t,e){return typeof e=="function"?e(t):e}function Yb(t){var e=xs(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var i=ln,s=i.baseQueue,a=n.pending;if(a!==null){if(s!==null){var r=s.next;s.next=a.next,a.next=r}i.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,i=i.baseState;var o=r=null,l=null,c=a;do{var u=c.lane;if((gl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,r=i):l=l.next=d,Pt.lanes|=u,yl|=u}c=c.next}while(c!==null&&c!==a);l===null?r=i:l.next=o,Qs(i,e.memoizedState)||(_i=!0),e.memoizedState=i,e.baseState=r,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do a=s.lane,Pt.lanes|=a,yl|=a,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qb(t){var e=xs(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var r=s=s.next;do a=t(a,r.action),r=r.next;while(r!==s);Qs(a,e.memoizedState)||(_i=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function QD(){}function ZD(t,e){var n=Pt,i=xs(),s=e(),a=!Qs(i.memoizedState,s);if(a&&(i.memoizedState=s,_i=!0),i=i.queue,Hx(nA.bind(null,n,i,t),[t]),i.getSnapshot!==e||a||yn!==null&&yn.memoizedState.tag&1){if(n.flags|=2048,Yf(9,tA.bind(null,n,i,s,e),void 0,null),kn===null)throw Error(de(349));(gl&30)!==0||eA(n,e,s)}return s}function eA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tA(t,e,n,i){e.value=n,e.getSnapshot=i,iA(e)&&sA(t)}function nA(t,e,n){return n(function(){iA(e)&&sA(t)})}function iA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qs(t,n)}catch{return!0}}function sA(t){var e=ar(t,1);e!==null&&qs(e,t,1,-1)}function NI(t){var e=da();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jf,lastRenderedState:t},e.queue=t,t=t.dispatch=oz.bind(null,Pt,t),[e.memoizedState,t]}function Yf(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Pt.updateQueue,e===null?(e={lastEffect:null,stores:null},Pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function aA(){return xs().memoizedState}function Tg(t,e,n,i){var s=da();Pt.flags|=t,s.memoizedState=Yf(1|e,n,void 0,i===void 0?null:i)}function N0(t,e,n,i){var s=xs();i=i===void 0?null:i;var a=void 0;if(ln!==null){var r=ln.memoizedState;if(a=r.destroy,i!==null&&Vx(i,r.deps)){s.memoizedState=Yf(e,n,a,i);return}}Pt.flags|=t,s.memoizedState=Yf(1|e,n,a,i)}function II(t,e){return Tg(8390656,8,t,e)}function Hx(t,e){return N0(2048,8,t,e)}function rA(t,e){return N0(4,2,t,e)}function oA(t,e){return N0(4,4,t,e)}function lA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cA(t,e,n){return n=n!=null?n.concat([t]):null,N0(4,4,lA.bind(null,e,t),n)}function Gx(){}function uA(t,e){var n=xs();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Vx(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function dA(t,e){var n=xs();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Vx(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function fA(t,e,n){return(gl&21)===0?(t.baseState&&(t.baseState=!1,_i=!0),t.memoizedState=n):(Qs(n,e)||(n=mD(),Pt.lanes|=n,yl|=n,t.baseState=!0),e)}function az(t,e){var n=ct;ct=n!==0&&4>n?n:4,t(!0);var i=Jb.transition;Jb.transition={};try{t(!1),e()}finally{ct=n,Jb.transition=i}}function hA(){return xs().memoizedState}function rz(t,e,n){var i=Zr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},pA(t))mA(e,n);else if(n=GD(t,e,n,i),n!==null){var s=ri();qs(n,t,i,s),gA(n,e,i)}}function oz(t,e,n){var i=Zr(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(pA(t))mA(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var r=e.lastRenderedState,o=a(r,n);if(s.hasEagerState=!0,s.eagerState=o,Qs(o,r)){var l=e.interleaved;l===null?(s.next=s,Px(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=GD(t,e,s,i),n!==null&&(s=ri(),qs(n,t,i,s),gA(n,e,i))}}function pA(t){var e=t.alternate;return t===Pt||e!==null&&e===Pt}function mA(t,e){Sf=c1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gA(t,e,n){if((n&4194240)!==0){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,_x(t,n)}}var u1={readContext:_s,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useInsertionEffect:zn,useLayoutEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useMutableSource:zn,useSyncExternalStore:zn,useId:zn,unstable_isNewReconciler:!1},lz={readContext:_s,useCallback:function(t,e){return da().memoizedState=[t,e===void 0?null:e],t},useContext:_s,useEffect:II,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tg(4194308,4,lA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tg(4,2,t,e)},useMemo:function(t,e){var n=da();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=da();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=rz.bind(null,Pt,t),[i.memoizedState,t]},useRef:function(t){var e=da();return t={current:t},e.memoizedState=t},useState:NI,useDebugValue:Gx,useDeferredValue:function(t){return da().memoizedState=t},useTransition:function(){var t=NI(!1),e=t[0];return t=az.bind(null,t[1]),da().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Pt,s=da();if($t){if(n===void 0)throw Error(de(407));n=n()}else{if(n=e(),kn===null)throw Error(de(349));(gl&30)!==0||eA(i,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,II(nA.bind(null,i,a,t),[t]),i.flags|=2048,Yf(9,tA.bind(null,i,a,n,e),void 0,null),n},useId:function(){var t=da(),e=kn.identifierPrefix;if($t){var n=Za,i=Qa;n=(i&~(1<<32-Us(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=sz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cz={readContext:_s,useCallback:uA,useContext:_s,useEffect:Hx,useImperativeHandle:cA,useInsertionEffect:rA,useLayoutEffect:oA,useMemo:dA,useReducer:Yb,useRef:aA,useState:function(){return Yb(Jf)},useDebugValue:Gx,useDeferredValue:function(t){var e=xs();return fA(e,ln.memoizedState,t)},useTransition:function(){var t=Yb(Jf)[0],e=xs().memoizedState;return[t,e]},useMutableSource:QD,useSyncExternalStore:ZD,useId:hA,unstable_isNewReconciler:!1},uz={readContext:_s,useCallback:uA,useContext:_s,useEffect:Hx,useImperativeHandle:cA,useInsertionEffect:rA,useLayoutEffect:oA,useMemo:dA,useReducer:Qb,useRef:aA,useState:function(){return Qb(Jf)},useDebugValue:Gx,useDeferredValue:function(t){var e=xs();return ln===null?e.memoizedState=t:fA(e,ln.memoizedState,t)},useTransition:function(){var t=Qb(Jf)[0],e=xs().memoizedState;return[t,e]},useMutableSource:QD,useSyncExternalStore:ZD,useId:hA,unstable_isNewReconciler:!1};function Bc(t,e){try{var n="",i=e;do n+=M9(i),i=i.return;while(i);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function Zb(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function Fk(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dz=typeof WeakMap=="function"?WeakMap:Map;function yA(t,e,n){n=tr(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){f1||(f1=!0,jk=i),Fk(t,e)},n}function vA(t,e,n){n=tr(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){Fk(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Fk(t,e),typeof i!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var r=e.stack;this.componentDidCatch(e.value,{componentStack:r!==null?r:""})}),n}function TI(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new dz;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=Cz.bind(null,t,e,n),e.then(t,t))}function $I(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function EI(t,e,n,i,s){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=tr(-1,1),e.tag=2,Yr(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=s,t)}var fz=pr.ReactCurrentOwner,_i=!1;function si(t,e,n,i){e.child=t===null?JD(e,null,n,i):Lc(e,t.child,n,i)}function DI(t,e,n,i,s){n=n.render;var a=e.ref;return Nc(e,s),i=Wx(t,e,n,i,a,s),n=jx(),t!==null&&!_i?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,rr(t,e,s)):($t&&n&&Ex(e),e.flags|=1,si(t,e,i,s),e.child)}function AI(t,e,n,i,s){if(t===null){var a=n.type;return typeof a=="function"&&!Zx(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,bA(t,e,a,i,s)):(t=Ag(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,(t.lanes&s)===0){var r=a.memoizedProps;if(n=n.compare,n=n!==null?n:jf,n(r,i)&&t.ref===e.ref)return rr(t,e,s)}return e.flags|=1,t=eo(a,i),t.ref=e.ref,t.return=e,e.child=t}function bA(t,e,n,i,s){if(t!==null){var a=t.memoizedProps;if(jf(a,i)&&t.ref===e.ref)if(_i=!1,e.pendingProps=i=a,(t.lanes&s)!==0)(t.flags&131072)!==0&&(_i=!0);else return e.lanes=t.lanes,rr(t,e,s)}return Rk(t,e,n,i,s)}function wA(t,e,n){var i=e.pendingProps,s=i.children,a=t!==null?t.memoizedState:null;if(i.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(bc,Mi),Mi|=n;else{if((n&1073741824)===0)return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gt(bc,Mi),Mi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:n,gt(bc,Mi),Mi|=i}else a!==null?(i=a.baseLanes|n,e.memoizedState=null):i=n,gt(bc,Mi),Mi|=i;return si(t,e,s,n),e.child}function kA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rk(t,e,n,i,s){var a=Ni(n)?pl:Yn.current;return a=Oc(e,a),Nc(e,s),n=Wx(t,e,n,i,a,s),i=jx(),t!==null&&!_i?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,rr(t,e,s)):($t&&i&&Ex(e),e.flags|=1,si(t,e,n,s),e.child)}function FI(t,e,n,i,s){if(Ni(n)){var a=!0;n1(e)}else a=!1;if(Nc(e,s),e.stateNode===null)$g(t,e),KD(e,n,i),Ak(e,n,i,s),i=!0;else if(t===null){var r=e.stateNode,o=e.memoizedProps;r.props=o;var l=r.context,c=n.contextType;typeof c=="object"&&c!==null?c=_s(c):(c=Ni(n)?pl:Yn.current,c=Oc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof r.getSnapshotBeforeUpdate=="function";d||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o!==i||l!==c)&&SI(e,r,i,c),Dr=!1;var f=e.memoizedState;r.state=f,o1(e,i,r,s),l=e.memoizedState,o!==i||f!==l||Ci.current||Dr?(typeof u=="function"&&(Dk(e,n,u,i),l=e.memoizedState),(o=Dr||xI(e,n,o,i,f,l,c))?(d||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),r.props=i,r.state=l,r.context=c,i=o):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{r=e.stateNode,UD(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Os(e.type,o),r.props=c,d=e.pendingProps,f=r.context,l=n.contextType,typeof l=="object"&&l!==null?l=_s(l):(l=Ni(n)?pl:Yn.current,l=Oc(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o!==d||f!==l)&&SI(e,r,i,l),Dr=!1,f=e.memoizedState,r.state=f,o1(e,i,r,s);var p=e.memoizedState;o!==d||f!==p||Ci.current||Dr?(typeof h=="function"&&(Dk(e,n,h,i),p=e.memoizedState),(c=Dr||xI(e,n,c,i,f,p,l)||!1)?(u||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,p,l),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,p,l)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),r.props=i,r.state=p,r.context=l,i=c):(typeof r.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return Ok(t,e,n,i,a,s)}function Ok(t,e,n,i,s,a){kA(t,e);var r=(e.flags&128)!==0;if(!i&&!r)return s&&vI(e,n,!1),rr(t,e,a);i=e.stateNode,fz.current=e;var o=r&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&r?(e.child=Lc(e,t.child,null,a),e.child=Lc(e,null,o,a)):si(t,e,o,a),e.memoizedState=i.state,s&&vI(e,n,!0),e.child}function _A(t){var e=t.stateNode;e.pendingContext?yI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yI(t,e.context,!1),Mx(t,e.containerInfo)}function RI(t,e,n,i,s){return Pc(),Ax(s),e.flags|=256,si(t,e,n,i),e.child}var Pk={dehydrated:null,treeContext:null,retryLane:0};function Lk(t){return{baseLanes:t,cachePool:null,transitions:null}}function xA(t,e,n){var i=e.pendingProps,s=Ot.current,a=!1,r=(e.flags&128)!==0,o;if((o=r)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),gt(Ot,s&1),t===null)return $k(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(r=i.children,t=i.fallback,a?(i=e.mode,a=e.child,r={mode:"hidden",children:r},(i&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=r):a=$0(r,i,0,null),t=al(t,i,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Lk(n),e.memoizedState=Pk,t):Ux(e,r));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return hz(t,e,r,i,o,s,n);if(a){a=i.fallback,r=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:i.children};return(r&1)===0&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=eo(s,l),i.subtreeFlags=s.subtreeFlags&14680064),o!==null?a=eo(o,a):(a=al(a,r,n,null),a.flags|=2),a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,r=t.child.memoizedState,r=r===null?Lk(n):{baseLanes:r.baseLanes|n,cachePool:null,transitions:r.transitions},a.memoizedState=r,a.childLanes=t.childLanes&~n,e.memoizedState=Pk,i}return a=t.child,t=a.sibling,i=eo(a,{mode:"visible",children:i.children}),(e.mode&1)===0&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Ux(t,e){return e=$0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Om(t,e,n,i){return i!==null&&Ax(i),Lc(e,t.child,null,n),t=Ux(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hz(t,e,n,i,s,a,r){if(n)return e.flags&256?(e.flags&=-257,i=Zb(Error(de(422))),Om(t,e,r,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=i.fallback,s=e.mode,i=$0({mode:"visible",children:i.children},s,0,null),a=al(a,s,r,null),a.flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,(e.mode&1)!==0&&Lc(e,t.child,null,r),e.child.memoizedState=Lk(r),e.memoizedState=Pk,a);if((e.mode&1)===0)return Om(t,e,r,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var o=i.dgst;return i=o,a=Error(de(419)),i=Zb(a,i,void 0),Om(t,e,r,i)}if(o=(r&t.childLanes)!==0,_i||o){if(i=kn,i!==null){switch(r&-r){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(i.suspendedLanes|r))!==0?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,ar(t,s),qs(i,t,s,-1))}return Qx(),i=Zb(Error(de(421))),Om(t,e,r,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Nz.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,Vi=Jr(s.nextSibling),Hi=e,$t=!0,zs=null,t!==null&&(ds[fs++]=Qa,ds[fs++]=Za,ds[fs++]=ml,Qa=t.id,Za=t.overflow,ml=e),e=Ux(e,i.children),e.flags|=4096,e)}function OI(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Ek(t.return,e,n)}function ew(t,e,n,i,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s)}function SA(t,e,n){var i=e.pendingProps,s=i.revealOrder,a=i.tail;if(si(t,e,i.children,n),i=Ot.current,(i&2)!==0)i=i&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&OI(t,n,e);else if(t.tag===19)OI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(gt(Ot,i),(e.mode&1)===0)e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&l1(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ew(e,!1,s,n,a);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&l1(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ew(e,!0,n,null,a);break;case"together":ew(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $g(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function rr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yl|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(de(153));if(e.child!==null){for(t=e.child,n=eo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=eo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pz(t,e,n){switch(e.tag){case 3:_A(e),Pc();break;case 5:YD(e);break;case 1:Ni(e.type)&&n1(e);break;case 4:Mx(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;gt(a1,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(gt(Ot,Ot.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?xA(t,e,n):(gt(Ot,Ot.current&1),t=rr(t,e,n),t!==null?t.sibling:null);gt(Ot,Ot.current&1);break;case 19:if(i=(n&e.childLanes)!==0,(t.flags&128)!==0){if(i)return SA(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),gt(Ot,Ot.current),i)break;return null;case 22:case 23:return e.lanes=0,wA(t,e,n)}return rr(t,e,n)}var CA,Mk,NA,IA;CA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mk=function(){};NA=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,Zo(xa.current);var a=null;switch(n){case"input":s=rk(t,s),i=rk(t,i),a=[];break;case"select":s=Mt({},s,{value:void 0}),i=Mt({},i,{value:void 0}),a=[];break;case"textarea":s=ck(t,s),i=ck(t,i),a=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=e1)}dk(n,i);var r;n=null;for(c in s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(r in o)o.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pf.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in i){var l=i[c];if(o=s!=null?s[c]:void 0,i.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(r in o)!o.hasOwnProperty(r)||l&&l.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in l)l.hasOwnProperty(r)&&o[r]!==l[r]&&(n||(n={}),n[r]=l[r])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_t("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};IA=function(t,e,n,i){n!==i&&(e.flags|=4)};function Hd(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Vn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function mz(t,e,n){var i=e.pendingProps;switch(Dx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(e),null;case 1:return Ni(e.type)&&t1(),Vn(e),null;case 3:return i=e.stateNode,Mc(),St(Ci),St(Yn),zx(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Fm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,zs!==null&&(Uk(zs),zs=null))),Mk(t,e),Vn(e),null;case 5:Bx(e);var s=Zo(Kf.current);if(n=e.type,t!==null&&e.stateNode!=null)NA(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(de(166));return Vn(e),null}if(t=Zo(xa.current),Fm(e)){i=e.stateNode,n=e.type;var a=e.memoizedProps;switch(i[ga]=e,i[Uf]=a,t=(e.mode&1)!==0,n){case"dialog":_t("cancel",i),_t("close",i);break;case"iframe":case"object":case"embed":_t("load",i);break;case"video":case"audio":for(s=0;s<lf.length;s++)_t(lf[s],i);break;case"source":_t("error",i);break;case"img":case"image":case"link":_t("error",i),_t("load",i);break;case"details":_t("toggle",i);break;case"input":HN(i,a),_t("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},_t("invalid",i);break;case"textarea":UN(i,a),_t("invalid",i)}dk(n,a),s=null;for(var r in a)if(a.hasOwnProperty(r)){var o=a[r];r==="children"?typeof o=="string"?i.textContent!==o&&(a.suppressHydrationWarning!==!0&&Am(i.textContent,o,t),s=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Am(i.textContent,o,t),s=["children",""+o]):Pf.hasOwnProperty(r)&&o!=null&&r==="onScroll"&&_t("scroll",i)}switch(n){case"input":Sm(i),GN(i,a,!0);break;case"textarea":Sm(i),qN(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=e1)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{r=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eD(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=r.createElement(n,{is:i.is}):(t=r.createElement(n),n==="select"&&(r=t,i.multiple?r.multiple=!0:i.size&&(r.size=i.size))):t=r.createElementNS(t,n),t[ga]=e,t[Uf]=i,CA(t,e,!1,!1),e.stateNode=t;e:{switch(r=fk(n,i),n){case"dialog":_t("cancel",t),_t("close",t),s=i;break;case"iframe":case"object":case"embed":_t("load",t),s=i;break;case"video":case"audio":for(s=0;s<lf.length;s++)_t(lf[s],t);s=i;break;case"source":_t("error",t),s=i;break;case"img":case"image":case"link":_t("error",t),_t("load",t),s=i;break;case"details":_t("toggle",t),s=i;break;case"input":HN(t,i),s=rk(t,i),_t("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=Mt({},i,{value:void 0}),_t("invalid",t);break;case"textarea":UN(t,i),s=ck(t,i),_t("invalid",t);break;default:s=i}dk(n,s),o=s;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?iD(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tD(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Lf(t,l):typeof l=="number"&&Lf(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Pf.hasOwnProperty(a)?l!=null&&a==="onScroll"&&_t("scroll",t):l!=null&&gx(t,a,l,r))}switch(n){case"input":Sm(t),GN(t,i,!1);break;case"textarea":Sm(t),qN(t);break;case"option":i.value!=null&&t.setAttribute("value",""+oo(i.value));break;case"select":t.multiple=!!i.multiple,a=i.value,a!=null?_c(t,!!i.multiple,a,!1):i.defaultValue!=null&&_c(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=e1)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vn(e),null;case 6:if(t&&e.stateNode!=null)IA(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(de(166));if(n=Zo(Kf.current),Zo(xa.current),Fm(e)){if(i=e.stateNode,n=e.memoizedProps,i[ga]=e,(a=i.nodeValue!==n)&&(t=Hi,t!==null))switch(t.tag){case 3:Am(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Am(i.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[ga]=e,e.stateNode=i}return Vn(e),null;case 13:if(St(Ot),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($t&&Vi!==null&&(e.mode&1)!==0&&(e.flags&128)===0)HD(),Pc(),e.flags|=98560,a=!1;else if(a=Fm(e),i!==null&&i.dehydrated!==null){if(t===null){if(!a)throw Error(de(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(de(317));a[ga]=e}else Pc(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Vn(e),a=!1}else zs!==null&&(Uk(zs),zs=null),a=!0;if(!a)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Ot.current&1)!==0?un===0&&(un=3):Qx())),e.updateQueue!==null&&(e.flags|=4),Vn(e),null);case 4:return Mc(),Mk(t,e),t===null&&Hf(e.stateNode.containerInfo),Vn(e),null;case 10:return Ox(e.type._context),Vn(e),null;case 17:return Ni(e.type)&&t1(),Vn(e),null;case 19:if(St(Ot),a=e.memoizedState,a===null)return Vn(e),null;if(i=(e.flags&128)!==0,r=a.rendering,r===null)if(i)Hd(a,!1);else{if(un!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(r=l1(t),r!==null){for(e.flags|=128,Hd(a,!1),i=r.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)a=n,t=i,a.flags&=14680066,r=a.alternate,r===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,a.type=r.type,t=r.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return gt(Ot,Ot.current&1|2),e.child}t=t.sibling}a.tail!==null&&Xt()>zc&&(e.flags|=128,i=!0,Hd(a,!1),e.lanes=4194304)}else{if(!i)if(t=l1(r),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!r.alternate&&!$t)return Vn(e),null}else 2*Xt()-a.renderingStartTime>zc&&n!==1073741824&&(e.flags|=128,i=!0,Hd(a,!1),e.lanes=4194304);a.isBackwards?(r.sibling=e.child,e.child=r):(n=a.last,n!==null?n.sibling=r:e.child=r,a.last=r)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Xt(),e.sibling=null,n=Ot.current,gt(Ot,i?n&1|2:n&1),e):(Vn(e),null);case 22:case 23:return Yx(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&(e.mode&1)!==0?(Mi&1073741824)!==0&&(Vn(e),e.subtreeFlags&6&&(e.flags|=8192)):Vn(e),null;case 24:return null;case 25:return null}throw Error(de(156,e.tag))}function gz(t,e){switch(Dx(e),e.tag){case 1:return Ni(e.type)&&t1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mc(),St(Ci),St(Yn),zx(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return Bx(e),null;case 13:if(St(Ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(de(340));Pc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return St(Ot),null;case 4:return Mc(),null;case 10:return Ox(e.type._context),null;case 22:case 23:return Yx(),null;case 24:return null;default:return null}}var Pm=!1,Gn=!1,yz=typeof WeakSet=="function"?WeakSet:Set,_e=null;function vc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){zt(t,e,i)}else n.current=null}function Bk(t,e,n){try{n()}catch(i){zt(t,e,i)}}var PI=!1;function vz(t,e){if(_k=Yg,t=DD(),$x(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var r=0,o=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||s!==0&&d.nodeType!==3||(o=r+s),d!==a||i!==0&&d.nodeType!==3||(l=r+i),d.nodeType===3&&(r+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===s&&(o=r),f===a&&++u===i&&(l=r),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xk={focusedElem:t,selectionRange:n},Yg=!1,_e=e;_e!==null;)if(e=_e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_e=t;else for(;_e!==null;){e=_e;try{var p=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Os(e.type,m),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(w){zt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,_e=t;break}_e=e.return}return p=PI,PI=!1,p}function Cf(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&Bk(e,n,a)}s=s.next}while(s!==i)}}function I0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function zk(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TA(t){var e=t.alternate;e!==null&&(t.alternate=null,TA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ga],delete e[Uf],delete e[Nk],delete e[ez],delete e[tz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $A(t){return t.tag===5||t.tag===3||t.tag===4}function LI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$A(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vk(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=e1));else if(i!==4&&(t=t.child,t!==null))for(Vk(t,e,n),t=t.sibling;t!==null;)Vk(t,e,n),t=t.sibling}function Wk(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Wk(t,e,n),t=t.sibling;t!==null;)Wk(t,e,n),t=t.sibling}var En=null,Ls=!1;function Cr(t,e,n){for(n=n.child;n!==null;)EA(t,e,n),n=n.sibling}function EA(t,e,n){if(_a&&typeof _a.onCommitFiberUnmount=="function")try{_a.onCommitFiberUnmount(b0,n)}catch{}switch(n.tag){case 5:Gn||vc(n,e);case 6:var i=En,s=Ls;En=null,Cr(t,e,n),En=i,Ls=s,En!==null&&(Ls?(t=En,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):En.removeChild(n.stateNode));break;case 18:En!==null&&(Ls?(t=En,n=n.stateNode,t.nodeType===8?qb(t.parentNode,n):t.nodeType===1&&qb(t,n),Vf(t)):qb(En,n.stateNode));break;case 4:i=En,s=Ls,En=n.stateNode.containerInfo,Ls=!0,Cr(t,e,n),En=i,Ls=s;break;case 0:case 11:case 14:case 15:if(!Gn&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var a=s,r=a.destroy;a=a.tag,r!==void 0&&((a&2)!==0||(a&4)!==0)&&Bk(n,e,r),s=s.next}while(s!==i)}Cr(t,e,n);break;case 1:if(!Gn&&(vc(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){zt(n,e,o)}Cr(t,e,n);break;case 21:Cr(t,e,n);break;case 22:n.mode&1?(Gn=(i=Gn)||n.memoizedState!==null,Cr(t,e,n),Gn=i):Cr(t,e,n);break;default:Cr(t,e,n)}}function MI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yz),e.forEach(function(i){var s=Iz.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function Ds(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var a=t,r=e,o=r;e:for(;o!==null;){switch(o.tag){case 5:En=o.stateNode,Ls=!1;break e;case 3:En=o.stateNode.containerInfo,Ls=!0;break e;case 4:En=o.stateNode.containerInfo,Ls=!0;break e}o=o.return}if(En===null)throw Error(de(160));EA(a,r,s),En=null,Ls=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){zt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DA(e,t),e=e.sibling}function DA(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ds(e,t),ca(t),i&4){try{Cf(3,t,t.return),I0(3,t)}catch(m){zt(t,t.return,m)}try{Cf(5,t,t.return)}catch(m){zt(t,t.return,m)}}break;case 1:Ds(e,t),ca(t),i&512&&n!==null&&vc(n,n.return);break;case 5:if(Ds(e,t),ca(t),i&512&&n!==null&&vc(n,n.return),t.flags&32){var s=t.stateNode;try{Lf(s,"")}catch(m){zt(t,t.return,m)}}if(i&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,r=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&QE(s,a),fk(o,r);var c=fk(o,a);for(r=0;r<l.length;r+=2){var u=l[r],d=l[r+1];u==="style"?iD(s,d):u==="dangerouslySetInnerHTML"?tD(s,d):u==="children"?Lf(s,d):gx(s,u,d,c)}switch(o){case"input":ok(s,a);break;case"textarea":ZE(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?_c(s,!!a.multiple,h,!1):f!==!!a.multiple&&(a.defaultValue!=null?_c(s,!!a.multiple,a.defaultValue,!0):_c(s,!!a.multiple,a.multiple?[]:"",!1))}s[Uf]=a}catch(m){zt(t,t.return,m)}}break;case 6:if(Ds(e,t),ca(t),i&4){if(t.stateNode===null)throw Error(de(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(m){zt(t,t.return,m)}}break;case 3:if(Ds(e,t),ca(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Vf(e.containerInfo)}catch(m){zt(t,t.return,m)}break;case 4:Ds(e,t),ca(t);break;case 13:Ds(e,t),ca(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Xx=Xt())),i&4&&MI(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Gn=(c=Gn)||u,Ds(e,t),Gn=c):Ds(e,t),ca(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&(t.mode&1)!==0)for(_e=t,u=t.child;u!==null;){for(d=_e=u;_e!==null;){switch(f=_e,h=f.child,f.tag){case 0:case 11:case 14:case 15:Cf(4,f,f.return);break;case 1:vc(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){zt(i,n,m)}}break;case 5:vc(f,f.return);break;case 22:if(f.memoizedState!==null){zI(d);continue}}h!==null?(h.return=f,_e=h):zI(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,r=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=nD("display",r))}catch(m){zt(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){zt(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ds(e,t),ca(t),i&4&&MI(t);break;case 21:break;default:Ds(e,t),ca(t)}}function ca(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($A(n)){var i=n;break e}n=n.return}throw Error(de(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Lf(s,""),i.flags&=-33);var a=LI(t);Wk(t,a,s);break;case 3:case 4:var r=i.stateNode.containerInfo,o=LI(t);Vk(t,o,r);break;default:throw Error(de(161))}}catch(l){zt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bz(t,e,n){_e=t,AA(t)}function AA(t,e,n){for(var i=(t.mode&1)!==0;_e!==null;){var s=_e,a=s.child;if(s.tag===22&&i){var r=s.memoizedState!==null||Pm;if(!r){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Gn;o=Pm;var c=Gn;if(Pm=r,(Gn=l)&&!c)for(_e=s;_e!==null;)r=_e,l=r.child,r.tag===22&&r.memoizedState!==null?VI(s):l!==null?(l.return=r,_e=l):VI(s);for(;a!==null;)_e=a,AA(a),a=a.sibling;_e=s,Pm=o,Gn=c}BI(t)}else(s.subtreeFlags&8772)!==0&&a!==null?(a.return=s,_e=a):BI(t)}}function BI(t){for(;_e!==null;){var e=_e;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Gn||I0(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Gn)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Os(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&_I(e,a,i);break;case 3:var r=e.updateQueue;if(r!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_I(e,r,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Vf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Gn||e.flags&512&&zk(e)}catch(f){zt(e,e.return,f)}}if(e===t){_e=null;break}if(n=e.sibling,n!==null){n.return=e.return,_e=n;break}_e=e.return}}function zI(t){for(;_e!==null;){var e=_e;if(e===t){_e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,_e=n;break}_e=e.return}}function VI(t){for(;_e!==null;){var e=_e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{I0(4,e)}catch(l){zt(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(l){zt(e,s,l)}}var a=e.return;try{zk(e)}catch(l){zt(e,a,l)}break;case 5:var r=e.return;try{zk(e)}catch(l){zt(e,r,l)}}}catch(l){zt(e,e.return,l)}if(e===t){_e=null;break}var o=e.sibling;if(o!==null){o.return=e.return,_e=o;break}_e=e.return}}var wz=Math.ceil,d1=pr.ReactCurrentDispatcher,qx=pr.ReactCurrentOwner,ks=pr.ReactCurrentBatchConfig,tt=0,kn=null,Zt=null,On=0,Mi=0,bc=xo(0),un=0,Qf=null,yl=0,T0=0,Kx=0,Nf=null,bi=null,Xx=0,zc=1/0,ja=null,f1=!1,jk=null,Qr=null,Lm=!1,Lr=null,h1=0,If=0,Hk=null,Eg=-1,Dg=0;function ri(){return(tt&6)!==0?Xt():Eg!==-1?Eg:Eg=Xt()}function Zr(t){return(t.mode&1)===0?1:(tt&2)!==0&&On!==0?On&-On:iz.transition!==null?(Dg===0&&(Dg=mD()),Dg):(t=ct,t!==0||(t=window.event,t=t===void 0?16:_D(t.type)),t)}function qs(t,e,n,i){if(50<If)throw If=0,Hk=null,Error(de(185));_h(t,n,i),((tt&2)===0||t!==kn)&&(t===kn&&((tt&2)===0&&(T0|=n),un===4&&Rr(t,On)),Ii(t,i),n===1&&tt===0&&(e.mode&1)===0&&(zc=Xt()+500,S0&&So()))}function Ii(t,e){var n=t.callbackNode;iB(t,e);var i=Jg(t,t===kn?On:0);if(i===0)n!==null&&JN(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&JN(n),e===1)t.tag===0?nz(WI.bind(null,t)):VD(WI.bind(null,t)),QB(function(){(tt&6)===0&&So()}),n=null;else{switch(gD(i)){case 1:n=kx;break;case 4:n=hD;break;case 16:n=Xg;break;case 536870912:n=pD;break;default:n=Xg}n=zA(n,FA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FA(t,e){if(Eg=-1,Dg=0,(tt&6)!==0)throw Error(de(327));var n=t.callbackNode;if(Ic()&&t.callbackNode!==n)return null;var i=Jg(t,t===kn?On:0);if(i===0)return null;if((i&30)!==0||(i&t.expiredLanes)!==0||e)e=p1(t,i);else{e=i;var s=tt;tt|=2;var a=OA();(kn!==t||On!==e)&&(ja=null,zc=Xt()+500,sl(t,e));do try{xz();break}catch(o){RA(t,o)}while(1);Rx(),d1.current=a,tt=s,Zt!==null?e=0:(kn=null,On=0,e=un)}if(e!==0){if(e===2&&(s=yk(t),s!==0&&(i=s,e=Gk(t,s))),e===1)throw n=Qf,sl(t,0),Rr(t,i),Ii(t,Xt()),n;if(e===6)Rr(t,i);else{if(s=t.current.alternate,(i&30)===0&&!kz(s)&&(e=p1(t,i),e===2&&(a=yk(t),a!==0&&(i=a,e=Gk(t,a))),e===1))throw n=Qf,sl(t,0),Rr(t,i),Ii(t,Xt()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(de(345));case 2:jo(t,bi,ja);break;case 3:if(Rr(t,i),(i&130023424)===i&&(e=Xx+500-Xt(),10<e)){if(Jg(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){ri(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ck(jo.bind(null,t,bi,ja),e);break}jo(t,bi,ja);break;case 4:if(Rr(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var r=31-Us(i);a=1<<r,r=e[r],r>s&&(s=r),i&=~a}if(i=s,i=Xt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*wz(i/1960))-i,10<i){t.timeoutHandle=Ck(jo.bind(null,t,bi,ja),i);break}jo(t,bi,ja);break;case 5:jo(t,bi,ja);break;default:throw Error(de(329))}}}return Ii(t,Xt()),t.callbackNode===n?FA.bind(null,t):null}function Gk(t,e){var n=Nf;return t.current.memoizedState.isDehydrated&&(sl(t,e).flags|=256),t=p1(t,e),t!==2&&(e=bi,bi=n,e!==null&&Uk(e)),t}function Uk(t){bi===null?bi=t:bi.push.apply(bi,t)}function kz(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!Qs(a(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rr(t,e){for(e&=~Kx,e&=~T0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Us(e),i=1<<n;t[n]=-1,e&=~i}}function WI(t){if((tt&6)!==0)throw Error(de(327));Ic();var e=Jg(t,0);if((e&1)===0)return Ii(t,Xt()),null;var n=p1(t,e);if(t.tag!==0&&n===2){var i=yk(t);i!==0&&(e=i,n=Gk(t,i))}if(n===1)throw n=Qf,sl(t,0),Rr(t,e),Ii(t,Xt()),n;if(n===6)throw Error(de(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jo(t,bi,ja),Ii(t,Xt()),null}function Jx(t,e){var n=tt;tt|=1;try{return t(e)}finally{tt=n,tt===0&&(zc=Xt()+500,S0&&So())}}function vl(t){Lr!==null&&Lr.tag===0&&(tt&6)===0&&Ic();var e=tt;tt|=1;var n=ks.transition,i=ct;try{if(ks.transition=null,ct=1,t)return t()}finally{ct=i,ks.transition=n,tt=e,(tt&6)===0&&So()}}function Yx(){Mi=bc.current,St(bc)}function sl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,YB(n)),Zt!==null)for(n=Zt.return;n!==null;){var i=n;switch(Dx(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&t1();break;case 3:Mc(),St(Ci),St(Yn),zx();break;case 5:Bx(i);break;case 4:Mc();break;case 13:St(Ot);break;case 19:St(Ot);break;case 10:Ox(i.type._context);break;case 22:case 23:Yx()}n=n.return}if(kn=t,Zt=t=eo(t.current,null),On=Mi=e,un=0,Qf=null,Kx=T0=yl=0,bi=Nf=null,Qo!==null){for(e=0;e<Qo.length;e++)if(n=Qo[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,a=n.pending;if(a!==null){var r=a.next;a.next=s,i.next=r}n.pending=i}Qo=null}return t}function RA(t,e){do{var n=Zt;try{if(Rx(),Ig.current=u1,c1){for(var i=Pt.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}c1=!1}if(gl=0,yn=ln=Pt=null,Sf=!1,Xf=0,qx.current=null,n===null||n.return===null){un=1,Qf=e,Zt=null;break}e:{var a=t,r=n.return,o=n,l=e;if(e=On,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if((u.mode&1)===0&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=$I(r);if(h!==null){h.flags&=-257,EI(h,r,o,a,e),h.mode&1&&TI(a,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if((e&1)===0){TI(a,c,e),Qx();break e}l=Error(de(426))}}else if($t&&o.mode&1){var y=$I(r);if(y!==null){(y.flags&65536)===0&&(y.flags|=256),EI(y,r,o,a,e),Ax(Bc(l,o));break e}}a=l=Bc(l,o),un!==4&&(un=2),Nf===null?Nf=[a]:Nf.push(a),a=r;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=yA(a,l,e);kI(a,g);break e;case 1:o=l;var v=a.type,b=a.stateNode;if((a.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Qr===null||!Qr.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var w=vA(a,o,e);kI(a,w);break e}}a=a.return}while(a!==null)}LA(n)}catch(k){e=k,Zt===n&&n!==null&&(Zt=n=n.return);continue}break}while(1)}function OA(){var t=d1.current;return d1.current=u1,t===null?u1:t}function Qx(){(un===0||un===3||un===2)&&(un=4),kn===null||(yl&268435455)===0&&(T0&268435455)===0||Rr(kn,On)}function p1(t,e){var n=tt;tt|=2;var i=OA();(kn!==t||On!==e)&&(ja=null,sl(t,e));do try{_z();break}catch(s){RA(t,s)}while(1);if(Rx(),tt=n,d1.current=i,Zt!==null)throw Error(de(261));return kn=null,On=0,un}function _z(){for(;Zt!==null;)PA(Zt)}function xz(){for(;Zt!==null&&!K9();)PA(Zt)}function PA(t){var e=BA(t.alternate,t,Mi);t.memoizedProps=t.pendingProps,e===null?LA(t):Zt=e,qx.current=null}function LA(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=mz(n,e,Mi),n!==null){Zt=n;return}}else{if(n=gz(n,e),n!==null){n.flags&=32767,Zt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{un=6,Zt=null;return}}if(e=e.sibling,e!==null){Zt=e;return}Zt=e=t}while(e!==null);un===0&&(un=5)}function jo(t,e,n){var i=ct,s=ks.transition;try{ks.transition=null,ct=1,Sz(t,e,n,i)}finally{ks.transition=s,ct=i}return null}function Sz(t,e,n,i){do Ic();while(Lr!==null);if((tt&6)!==0)throw Error(de(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(sB(t,a),t===kn&&(Zt=kn=null,On=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Lm||(Lm=!0,zA(Xg,function(){return Ic(),null})),a=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||a){a=ks.transition,ks.transition=null;var r=ct;ct=1;var o=tt;tt|=4,qx.current=null,vz(t,n),DA(n,t),HB(xk),Yg=!!_k,xk=_k=null,t.current=n,bz(n),X9(),tt=o,ct=r,ks.transition=a}else t.current=n;if(Lm&&(Lm=!1,Lr=t,h1=s),a=t.pendingLanes,a===0&&(Qr=null),Q9(n.stateNode),Ii(t,Xt()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(f1)throw f1=!1,t=jk,jk=null,t;return(h1&1)!==0&&t.tag!==0&&Ic(),a=t.pendingLanes,(a&1)!==0?t===Hk?If++:(If=0,Hk=t):If=0,So(),null}function Ic(){if(Lr!==null){var t=gD(h1),e=ks.transition,n=ct;try{if(ks.transition=null,ct=16>t?16:t,Lr===null)var i=!1;else{if(t=Lr,Lr=null,h1=0,(tt&6)!==0)throw Error(de(331));var s=tt;for(tt|=4,_e=t.current;_e!==null;){var a=_e,r=a.child;if((_e.flags&16)!==0){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(_e=c;_e!==null;){var u=_e;switch(u.tag){case 0:case 11:case 15:Cf(8,u,a)}var d=u.child;if(d!==null)d.return=u,_e=d;else for(;_e!==null;){u=_e;var f=u.sibling,h=u.return;if(TA(u),u===c){_e=null;break}if(f!==null){f.return=h,_e=f;break}_e=h}}}var p=a.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}_e=a}}if((a.subtreeFlags&2064)!==0&&r!==null)r.return=a,_e=r;else e:for(;_e!==null;){if(a=_e,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:Cf(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,_e=g;break e}_e=a.return}}var v=t.current;for(_e=v;_e!==null;){r=_e;var b=r.child;if((r.subtreeFlags&2064)!==0&&b!==null)b.return=r,_e=b;else e:for(r=v;_e!==null;){if(o=_e,(o.flags&2048)!==0)try{switch(o.tag){case 0:case 11:case 15:I0(9,o)}}catch(k){zt(o,o.return,k)}if(o===r){_e=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,_e=w;break e}_e=o.return}}if(tt=s,So(),_a&&typeof _a.onPostCommitFiberRoot=="function")try{_a.onPostCommitFiberRoot(b0,t)}catch{}i=!0}return i}finally{ct=n,ks.transition=e}}return!1}function jI(t,e,n){e=Bc(n,e),e=yA(t,e,1),t=Yr(t,e,1),e=ri(),t!==null&&(_h(t,1,e),Ii(t,e))}function zt(t,e,n){if(t.tag===3)jI(t,t,n);else for(;e!==null;){if(e.tag===3){jI(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Qr===null||!Qr.has(i))){t=Bc(n,t),t=vA(e,t,1),e=Yr(e,t,1),t=ri(),e!==null&&(_h(e,1,t),Ii(e,t));break}}e=e.return}}function Cz(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=ri(),t.pingedLanes|=t.suspendedLanes&n,kn===t&&(On&n)===n&&(un===4||un===3&&(On&130023424)===On&&500>Xt()-Xx?sl(t,0):Kx|=n),Ii(t,e)}function MA(t,e){e===0&&((t.mode&1)===0?e=1:(e=Im,Im<<=1,(Im&130023424)===0&&(Im=4194304)));var n=ri();t=ar(t,e),t!==null&&(_h(t,e,n),Ii(t,n))}function Nz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MA(t,n)}function Iz(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(de(314))}i!==null&&i.delete(e),MA(t,n)}var BA;BA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ci.current)_i=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return _i=!1,pz(t,e,n);_i=(t.flags&131072)!==0}else _i=!1,$t&&(e.flags&1048576)!==0&&WD(e,s1,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;$g(t,e),t=e.pendingProps;var s=Oc(e,Yn.current);Nc(e,n),s=Wx(null,e,i,t,s,n);var a=jx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ni(i)?(a=!0,n1(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Lx(e),s.updater=C0,e.stateNode=s,s._reactInternals=e,Ak(e,i,t,n),e=Ok(null,e,i,!0,a,n)):(e.tag=0,$t&&a&&Ex(e),si(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch($g(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=$z(i),t=Os(i,t),s){case 0:e=Rk(null,e,i,t,n);break e;case 1:e=FI(null,e,i,t,n);break e;case 11:e=DI(null,e,i,t,n);break e;case 14:e=AI(null,e,i,Os(i.type,t),n);break e}throw Error(de(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Os(i,s),Rk(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Os(i,s),FI(t,e,i,s,n);case 3:e:{if(_A(e),t===null)throw Error(de(387));i=e.pendingProps,a=e.memoizedState,s=a.element,UD(t,e),o1(e,i,null,n);var r=e.memoizedState;if(i=r.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:r.cache,pendingSuspenseBoundaries:r.pendingSuspenseBoundaries,transitions:r.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=Bc(Error(de(423)),e),e=RI(t,e,i,n,s);break e}else if(i!==s){s=Bc(Error(de(424)),e),e=RI(t,e,i,n,s);break e}else for(Vi=Jr(e.stateNode.containerInfo.firstChild),Hi=e,$t=!0,zs=null,n=JD(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pc(),i===s){e=rr(t,e,n);break e}si(t,e,i,n)}e=e.child}return e;case 5:return YD(e),t===null&&$k(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,r=s.children,Sk(i,s)?r=null:a!==null&&Sk(i,a)&&(e.flags|=32),kA(t,e),si(t,e,r,n),e.child;case 6:return t===null&&$k(e),null;case 13:return xA(t,e,n);case 4:return Mx(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Lc(e,null,i,n):si(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Os(i,s),DI(t,e,i,s,n);case 7:return si(t,e,e.pendingProps,n),e.child;case 8:return si(t,e,e.pendingProps.children,n),e.child;case 12:return si(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,a=e.memoizedProps,r=s.value,gt(a1,i._currentValue),i._currentValue=r,a!==null)if(Qs(a.value,r)){if(a.children===s.children&&!Ci.current){e=rr(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){r=a.child;for(var l=o.firstContext;l!==null;){if(l.context===i){if(a.tag===1){l=tr(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Ek(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)r=a.type===e.type?null:a.child;else if(a.tag===18){if(r=a.return,r===null)throw Error(de(341));r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),Ek(r,n,e),r=a.sibling}else r=a.child;if(r!==null)r.return=a;else for(r=a;r!==null;){if(r===e){r=null;break}if(a=r.sibling,a!==null){a.return=r.return,r=a;break}r=r.return}a=r}si(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Nc(e,n),s=_s(s),i=i(s),e.flags|=1,si(t,e,i,n),e.child;case 14:return i=e.type,s=Os(i,e.pendingProps),s=Os(i.type,s),AI(t,e,i,s,n);case 15:return bA(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Os(i,s),$g(t,e),e.tag=1,Ni(i)?(t=!0,n1(e)):t=!1,Nc(e,n),KD(e,i,s),Ak(e,i,s,n),Ok(null,e,i,!0,t,n);case 19:return SA(t,e,n);case 22:return wA(t,e,n)}throw Error(de(156,e.tag))};function zA(t,e){return fD(t,e)}function Tz(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(t,e,n,i){return new Tz(t,e,n,i)}function Zx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $z(t){if(typeof t=="function")return Zx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vx)return 11;if(t===bx)return 14}return 2}function eo(t,e){var n=t.alternate;return n===null?(n=ps(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ag(t,e,n,i,s,a){var r=2;if(i=t,typeof t=="function")Zx(t)&&(r=1);else if(typeof t=="string")r=5;else e:switch(t){case cc:return al(n.children,s,a,e);case yx:r=8,s|=8;break;case nk:return t=ps(12,n,e,s|2),t.elementType=nk,t.lanes=a,t;case ik:return t=ps(13,n,e,s),t.elementType=ik,t.lanes=a,t;case sk:return t=ps(19,n,e,s),t.elementType=sk,t.lanes=a,t;case XE:return $0(n,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qE:r=10;break e;case KE:r=9;break e;case vx:r=11;break e;case bx:r=14;break e;case Er:r=16,i=null;break e}throw Error(de(130,t==null?t:typeof t,""))}return e=ps(r,n,e,s),e.elementType=t,e.type=i,e.lanes=a,e}function al(t,e,n,i){return t=ps(7,t,i,e),t.lanes=n,t}function $0(t,e,n,i){return t=ps(22,t,i,e),t.elementType=XE,t.lanes=n,t.stateNode={isHidden:!1},t}function tw(t,e,n){return t=ps(6,t,null,e),t.lanes=n,t}function nw(t,e,n){return e=ps(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ez(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pb(0),this.expirationTimes=Pb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pb(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function e2(t,e,n,i,s,a,r,o,l){return t=new Ez(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ps(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lx(a),t}function Dz(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lc,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function VA(t){if(!t)return lo;t=t._reactInternals;e:{if(Ml(t)!==t||t.tag!==1)throw Error(de(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ni(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(de(171))}if(t.tag===1){var n=t.type;if(Ni(n))return zD(t,n,e)}return e}function WA(t,e,n,i,s,a,r,o,l){return t=e2(n,i,!0,t,s,a,r,o,l),t.context=VA(null),n=t.current,i=ri(),s=Zr(n),a=tr(i,s),a.callback=e!=null?e:null,Yr(n,a,s),t.current.lanes=s,_h(t,s,i),Ii(t,i),t}function E0(t,e,n,i){var s=e.current,a=ri(),r=Zr(s);return n=VA(n),e.context===null?e.context=n:e.pendingContext=n,e=tr(a,r),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Yr(s,e,r),t!==null&&(qs(t,s,r,a),Ng(t,s,r)),r}function m1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function HI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function t2(t,e){HI(t,e),(t=t.alternate)&&HI(t,e)}function Az(){return null}var jA=typeof reportError=="function"?reportError:function(t){console.error(t)};function n2(t){this._internalRoot=t}D0.prototype.render=n2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(de(409));E0(t,e,null,null)};D0.prototype.unmount=n2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vl(function(){E0(null,t,null,null)}),e[sr]=null}};function D0(t){this._internalRoot=t}D0.prototype.unstable_scheduleHydration=function(t){if(t){var e=bD();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fr.length&&e!==0&&e<Fr[n].priority;n++);Fr.splice(n,0,t),n===0&&kD(t)}};function i2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function A0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function GI(){}function Fz(t,e,n,i,s){if(s){if(typeof i=="function"){var a=i;i=function(){var c=m1(r);a.call(c)}}var r=WA(e,i,t,0,null,!1,!1,"",GI);return t._reactRootContainer=r,t[sr]=r.current,Hf(t.nodeType===8?t.parentNode:t),vl(),r}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var o=i;i=function(){var c=m1(l);o.call(c)}}var l=e2(t,0,!1,null,null,!1,!1,"",GI);return t._reactRootContainer=l,t[sr]=l.current,Hf(t.nodeType===8?t.parentNode:t),vl(function(){E0(e,l,n,i)}),l}function F0(t,e,n,i,s){var a=n._reactRootContainer;if(a){var r=a;if(typeof s=="function"){var o=s;s=function(){var l=m1(r);o.call(l)}}E0(e,r,t,s)}else r=Fz(n,e,t,s,i);return m1(r)}yD=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=of(e.pendingLanes);n!==0&&(_x(e,n|1),Ii(e,Xt()),(tt&6)===0&&(zc=Xt()+500,So()))}break;case 13:vl(function(){var i=ar(t,1);if(i!==null){var s=ri();qs(i,t,1,s)}}),t2(t,1)}};xx=function(t){if(t.tag===13){var e=ar(t,134217728);if(e!==null){var n=ri();qs(e,t,134217728,n)}t2(t,134217728)}};vD=function(t){if(t.tag===13){var e=Zr(t),n=ar(t,e);if(n!==null){var i=ri();qs(n,t,e,i)}t2(t,e)}};bD=function(){return ct};wD=function(t,e){var n=ct;try{return ct=t,e()}finally{ct=n}};pk=function(t,e,n){switch(e){case"input":if(ok(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=x0(i);if(!s)throw Error(de(90));YE(i),ok(i,s)}}}break;case"textarea":ZE(t,n);break;case"select":e=n.value,e!=null&&_c(t,!!n.multiple,e,!1)}};rD=Jx;oD=vl;var Rz={usingClientEntryPoint:!1,Events:[Sh,hc,x0,sD,aD,Jx]},Gd={findFiberByHostInstance:Yo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Oz={bundleType:Gd.bundleType,version:Gd.version,rendererPackageName:Gd.rendererPackageName,rendererConfig:Gd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uD(t),t===null?null:t.stateNode},findFiberByHostInstance:Gd.findFiberByHostInstance||Az,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Mm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mm.isDisabled&&Mm.supportsFiber)try{b0=Mm.inject(Oz),_a=Mm}catch{}}Yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rz;Yi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!i2(e))throw Error(de(200));return Dz(t,e,null,n)};Yi.createRoot=function(t,e){if(!i2(t))throw Error(de(299));var n=!1,i="",s=jA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=e2(t,1,!1,null,null,n,!1,i,s),t[sr]=e.current,Hf(t.nodeType===8?t.parentNode:t),new n2(e)};Yi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=uD(e),t=t===null?null:t.stateNode,t};Yi.flushSync=function(t){return vl(t)};Yi.hydrate=function(t,e,n){if(!A0(e))throw Error(de(200));return F0(null,t,e,!0,n)};Yi.hydrateRoot=function(t,e,n){if(!i2(t))throw Error(de(405));var i=n!=null&&n.hydratedSources||null,s=!1,a="",r=jA;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(r=n.onRecoverableError)),e=WA(e,null,t,1,n!=null?n:null,s,!1,a,r),t[sr]=e.current,Hf(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new D0(e)};Yi.render=function(t,e,n){if(!A0(e))throw Error(de(200));return F0(null,t,e,!1,n)};Yi.unmountComponentAtNode=function(t){if(!A0(t))throw Error(de(40));return t._reactRootContainer?(vl(function(){F0(null,null,t,!1,function(){t._reactRootContainer=null,t[sr]=null})}),!0):!1};Yi.unstable_batchedUpdates=Jx;Yi.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!A0(n))throw Error(de(200));if(t==null||t._reactInternals===void 0)throw Error(de(38));return F0(t,e,n,!1,i)};Yi.version="18.2.0-next-9e3b772b8-20220608";function HA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HA)}catch(t){console.error(t)}}HA(),WE.exports=Yi;var UI=WE.exports;ek.createRoot=UI.createRoot,ek.hydrateRoot=UI.hydrateRoot;function g1(){return g1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},g1.apply(this,arguments)}var el;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(el||(el={}));var qI=function(t){return t},KI="beforeunload",Pz="popstate";function Lz(t){t===void 0&&(t={});var e=t,n=e.window,i=n===void 0?document.defaultView:n,s=i.history;function a(){var N=i.location,I=N.pathname,D=N.search,R=N.hash,L=s.state||{};return[L.idx,qI({pathname:I,search:D,hash:R,state:L.usr||null,key:L.key||"default"})]}var r=null;function o(){if(r)h.call(r),r=null;else{var N=el.Pop,I=a(),D=I[0],R=I[1];if(h.length){if(D!=null){var L=u-D;L&&(r={action:N,location:R,retry:function(){k(L*-1)}},k(L))}}else v(N)}}i.addEventListener(Pz,o);var l=el.Pop,c=a(),u=c[0],d=c[1],f=JI(),h=JI();u==null&&(u=0,s.replaceState(g1({},s.state,{idx:u}),""));function p(N){return typeof N=="string"?N:Bz(N)}function m(N,I){return I===void 0&&(I=null),qI(g1({pathname:d.pathname,hash:"",search:""},typeof N=="string"?R0(N):N,{state:I,key:Mz()}))}function y(N,I){return[{usr:N.state,key:N.key,idx:I},p(N)]}function g(N,I,D){return!h.length||(h.call({action:N,location:I,retry:D}),!1)}function v(N){l=N;var I=a();u=I[0],d=I[1],f.call({action:l,location:d})}function b(N,I){var D=el.Push,R=m(N,I);function L(){b(N,I)}if(g(D,R,L)){var O=y(R,u+1),T=O[0],A=O[1];try{s.pushState(T,"",A)}catch{i.location.assign(A)}v(D)}}function w(N,I){var D=el.Replace,R=m(N,I);function L(){w(N,I)}if(g(D,R,L)){var O=y(R,u),T=O[0],A=O[1];s.replaceState(T,"",A),v(D)}}function k(N){s.go(N)}var x={get action(){return l},get location(){return d},createHref:p,push:b,replace:w,go:k,back:function(){k(-1)},forward:function(){k(1)},listen:function(I){return f.push(I)},block:function(I){var D=h.push(I);return h.length===1&&i.addEventListener(KI,XI),function(){D(),h.length||i.removeEventListener(KI,XI)}}};return x}function XI(t){t.preventDefault(),t.returnValue=""}function JI(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(i){return i!==n})}},call:function(n){t.forEach(function(i){return i&&i(n)})}}}function Mz(){return Math.random().toString(36).substr(2,8)}function Bz(t){var e=t.pathname,n=e===void 0?"/":e,i=t.search,s=i===void 0?"":i,a=t.hash,r=a===void 0?"":a;return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function R0(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const zz=Z.exports.createContext(null),s2=Z.exports.createContext(null),GA=Z.exports.createContext({outlet:null,matches:[]});function co(t,e){if(!t)throw new Error(e)}function Vz(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?R0(e):e,s=qA(i.pathname||"/",n);if(s==null)return null;let a=UA(t);Wz(a);let r=null;for(let o=0;r==null&&o<a.length;++o)r=Yz(a[o],s);return r}function UA(t,e,n,i){return e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i=""),t.forEach((s,a)=>{let r={relativePath:s.path||"",caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};r.relativePath.startsWith("/")&&(r.relativePath.startsWith(i)||co(!1),r.relativePath=r.relativePath.slice(i.length));let o=Tc([i,r.relativePath]),l=n.concat(r);s.children&&s.children.length>0&&(s.index===!0&&co(!1),UA(s.children,e,l,o)),!(s.path==null&&!s.index)&&e.push({path:o,score:Xz(o,s.index),routesMeta:l})}),e}function Wz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Jz(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const jz=/^:\w+$/,Hz=3,Gz=2,Uz=1,qz=10,Kz=-2,YI=t=>t==="*";function Xz(t,e){let n=t.split("/"),i=n.length;return n.some(YI)&&(i+=Kz),e&&(i+=Gz),n.filter(s=>!YI(s)).reduce((s,a)=>s+(jz.test(a)?Hz:a===""?Uz:qz),i)}function Jz(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function Yz(t,e){let{routesMeta:n}=t,i={},s="/",a=[];for(let r=0;r<n.length;++r){let o=n[r],l=r===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=Qz({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},c);if(!u)return null;Object.assign(i,u.params);let d=o.route;a.push({params:i,pathname:Tc([s,u.pathname]),pathnameBase:KA(Tc([s,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(s=Tc([s,u.pathnameBase]))}return a}function Qz(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Zz(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],r=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:i.reduce((c,u,d)=>{if(u==="*"){let f=o[d]||"";r=a.slice(0,a.length-f.length).replace(/(.)\/+$/,"$1")}return c[u]=e8(o[d]||""),c},{}),pathname:a,pathnameBase:r,pattern:t}}function Zz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(r,o)=>(i.push(o),"([^\\/]+)"));return t.endsWith("*")?(i.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(s,e?void 0:"i"),i]}function e8(t,e){try{return decodeURIComponent(t)}catch{return t}}function qA(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const Tc=t=>t.join("/").replace(/\/\/+/g,"/"),KA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function a2(){return Z.exports.useContext(s2)!=null}function t8(){return a2()||co(!1),Z.exports.useContext(s2).location}function n8(t,e){a2()||co(!1);let{matches:n}=Z.exports.useContext(GA),i=n[n.length-1],s=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let r=t8(),o;if(e){var l;let f=typeof e=="string"?R0(e):e;a==="/"||((l=f.pathname)==null?void 0:l.startsWith(a))||co(!1),o=f}else o=r;let c=o.pathname||"/",u=a==="/"?c:c.slice(a.length)||"/",d=Vz(t,{pathname:u});return i8(d&&d.map(f=>Object.assign({},f,{params:Object.assign({},s,f.params),pathname:Tc([a,f.pathname]),pathnameBase:f.pathnameBase==="/"?a:Tc([a,f.pathnameBase])})),n)}function i8(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,i,s)=>Z.exports.createElement(GA.Provider,{children:i.route.element!==void 0?i.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,s+1))}}),null)}function XA(t){co(!1)}function s8(t){let{basename:e="/",children:n=null,location:i,navigationType:s=el.Pop,navigator:a,static:r=!1}=t;a2()&&co(!1);let o=KA(e),l=Z.exports.useMemo(()=>({basename:o,navigator:a,static:r}),[o,a,r]);typeof i=="string"&&(i=R0(i));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=i,p=Z.exports.useMemo(()=>{let m=qA(c,o);return m==null?null:{pathname:m,search:u,hash:d,state:f,key:h}},[o,c,u,d,f,h]);return p==null?null:Z.exports.createElement(zz.Provider,{value:l},Z.exports.createElement(s2.Provider,{children:n,value:{location:p,navigationType:s}}))}function a8(t){let{children:e,location:n}=t;return n8(qk(e),n)}function qk(t){let e=[];return Z.exports.Children.forEach(t,n=>{if(!Z.exports.isValidElement(n))return;if(n.type===Z.exports.Fragment){e.push.apply(e,qk(n.props.children));return}n.type!==XA&&co(!1);let i={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(i.children=qk(n.props.children)),e.push(i)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function r8(t){let{basename:e,children:n,window:i}=t,s=Z.exports.useRef();s.current==null&&(s.current=Lz({window:i}));let a=s.current,[r,o]=Z.exports.useState({action:a.action,location:a.location});return Z.exports.useLayoutEffect(()=>a.listen(o),[a]),Z.exports.createElement(s8,{basename:e,children:n,location:r.location,navigationType:r.action,navigator:a})}var o8="/assets/saleshub_icon.8fcdcdb9.png",JA="/assets/saleshub_textIcon.f1191ddb.png",l8="/assets/home.3680ad57.png",c8="/assets/filter.5a8463bf.png",u8="/assets/chat.70e6cf61.png",YA="/assets/directory.aec0f76d.png",d8="/assets/statistics.3b6c8bbf.png",f8="/assets/robot.dcd29e92.png",h8="/assets/pending.3a00099e.png",p8="/assets/integration.afb7877b.png",m8="/assets/teamwork.ef2b27ea.png",y1="/assets/whatsapp.5e1f973e.png",Zf="/assets/facebook.193ba9b3.png",QA="/assets/instagram.0a016134.png",ns="/assets/link.6838ba74.png",g8="/assets/plus.2685a9a9.png",Fg="/assets/management.6745fdc8.png",r2="/assets/search.c5198e61.png",Vc="/assets/addLead.02cb043d.png",o2="/assets/notes.33ab08a6.png",Kk="/assets/inbox.8848c982.png",fa="/assets/profile.716ea88e.png",QI="/assets/hourglass.fd622c4a.png",O0="/assets/smiling.9e883562.png",ZA="/assets/messenger.5874cd38.png",P0="/assets/attachment.b6bfa853.png",e6="/assets/exit.d2d60624.png",y8="/assets/team.1e82f3a2.png",cf="/assets/sheets.015a72a2.png",v8="/assets/message.8a68600a.png",Rg="/assets/email.0955d8be.png",iw="/assets/calendar.77d64ac5.png",sw="/assets/business.f6dafb20.png",l2="/assets/disconnect.25dfa15e.png",aw="/assets/target.060d38aa.png",rw="/assets/campaign.3f024481.png",ow="/assets/platform.d98d8113.png",t6="/assets/construction.84ff95db.png",b8="/assets/delete.80ef6878.png",is="/assets/broken-link.fdb4b621.png",lw="/assets/tags.f53a0e87.png",cw="/assets/neutral.de68bc61.png",uw="/assets/urgent.c30d0b9e.png",Tf="/assets/done.3f1c2f24.png",dw="/assets/cancelled.448f9693.png",fw="/assets/stuck.7f1ddf0e.png",hw="/assets/slope.63b4b512.png",pw="/assets/important.a7c6f2da.png",w8="/assets/forward.b83603a7.png",mw="/assets/infoPhone.9ad32bb0.png",gw="/assets/infoName.ee7dddd6.png",k8="/assets/infoFunnel.002ff144.png",yw="/assets/gain.b635a459.png",Bl="/assets/bell.e1eab570.png",Wc="/assets/dustbin.85edc22d.png",c2="/assets/ai.28baae97.png";var L0={exports:{}},M0={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _8=Z.exports,x8=Symbol.for("react.element"),S8=Symbol.for("react.fragment"),C8=Object.prototype.hasOwnProperty,N8=_8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I8={key:!0,ref:!0,__self:!0,__source:!0};function n6(t,e,n){var i,s={},a=null,r=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(r=e.ref);for(i in e)C8.call(e,i)&&!I8.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:x8,type:t,key:a,ref:r,props:s,_owner:N8.current}}M0.Fragment=S8;M0.jsx=n6;M0.jsxs=n6;L0.exports=M0;const _=L0.exports.jsx,P=L0.exports.jsxs,jc=L0.exports.Fragment,T8=({setHome:t})=>{const[e,n]=Z.exports.useState(!1),[i,s]=Z.exports.useState("Login"),[a,r]=Z.exports.useState("Register");function o(u){var d=document.getElementById("snackbar");d.className="show",d.innerText=u,setTimeout(function(){d.className=d.className.replace("show","")},3e3)}return P("div",{className:"app__login__wrapper",children:[_("div",{id:"snackbar",children:"Some text some message.."}),e?P("div",{className:"center",children:[_("h1",{children:"Register to Idealidad"}),P("div",{className:"form",children:[P("div",{className:"txt_field",children:[_("input",{type:"text",required:!0,id:"name"}),_("span",{}),_("label",{children:"Name"})]}),P("div",{className:"txt_field",children:[_("input",{type:"text",required:!0,id:"email"}),_("span",{}),_("label",{children:"Email"})]}),P("div",{className:"txt_field",children:[_("input",{type:"password",required:!0,id:"password"}),_("span",{}),_("label",{children:"Password"})]}),_("input",{type:"submit",value:a,onClick:()=>{var u=document.getElementById("name").value===""?"":document.getElementById("name").value,d=document.getElementById("email").value===""?"":document.getElementById("email").value,f=document.getElementById("password").value.length<8?"":document.getElementById("password").value;u!==""&&d!==""&&f!==""?(r("Registering"),fetch("www.idealidad.net/api/auth/register",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json",name:u,email:d,password:f,serverPass:"spfudFojOQJsh7Fmhad55gegy.saleshub.io"}}).then(h=>h.json()).then(h=>{h.message==="User registered succesfully..."&&h.id===13&&h.statusCode===201?h.password==="spfudFojOQJsh7Fmhad55gegy.saleshub.io"?(window.localStorage.setItem("shulidtH9kNnMgaUtlL730ktnkB.saleshub.io",JSON.stringify(h.credentials.authToken)),window.localStorage.getItem("shulidtH9kNnMgaUtlL730ktnkB.saleshub.io"),fetch("www.idealidad.net/api/auth/user",{method:"GET",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","auth-token":h.credentials.authToken,serverPass:"spfudFojOQJsh7Fmhad55gegy.saleshub.io"}}).then(p=>p.json()).then(p=>{p.message==="User data fetched successfully..."&&p.statusCode===200&&p.id===12&&p.password==="spfudFojOQJsh7Fmhad55gegy.saleshub.io"?(window.localStorage.setItem("shulidtH9kNnMgaUtlL73dbhkvhkl.saleshub.io",JSON.stringify(p.data)),window.localStorage.getItem("shulidtH9kNnMgaUtlL73dbhkvhkl.saleshub.io"),t(!0),r("Registered")):t(!1)})):o("Access denied..."):(r("Register"),o(h.message))})):o("Please fill up all the fields....")}}),P("div",{className:"signup_link",children:["Already a member?"," ",_("span",{onClick:()=>{n(!1)},children:"SignIn"})]})]})]}):P("div",{className:"center",children:[_("h1",{children:"Login to Idealidad"}),P("div",{className:"form",children:[P("div",{className:"txt_field",children:[_("input",{type:"text",required:!0,id:"loginEmail"}),_("span",{}),_("label",{children:"Email"})]}),P("div",{className:"txt_field",children:[_("input",{type:"password",required:!0,id:"loginPassword"}),_("span",{}),_("label",{children:"Password"})]}),_("div",{className:"pass",children:"Forgot Password?"}),_("input",{type:"submit",value:i,onClick:()=>{var u=document.getElementById("loginEmail").value===""?"":document.getElementById("loginEmail").value,d=document.getElementById("loginPassword").value.length<8?"":document.getElementById("loginPassword").value;u!==""&&d!==""?(s("Logging"),fetch("www.idealidad.net/api/auth/login",{method:"GET",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json",email:u,password:d,serverPass:"spfudFojOQJsh7Fmhad55gegy.saleshub.io"}}).then(f=>f.json()).then(f=>{if(f.message==="User authenticated succesfully..."&&f.id===13&&f.statusCode===201)if(f.password==="spfudFojOQJsh7Fmhad55gegy.saleshub.io"){window.localStorage.setItem("shulidtH9kNnMgaUtlL730ktnkB.saleshub.io",JSON.stringify(f.credentials.authToken));const h=window.localStorage.getItem("shulidtH9kNnMgaUtlL730ktnkB.saleshub.io");console.log({userAuthToken:h}),fetch("www.idealidad.net/api/auth/user",{method:"GET",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","auth-token":f.credentials.authToken,serverPass:"spfudFojOQJsh7Fmhad55gegy.saleshub.io"}}).then(p=>p.json()).then(p=>{if(p.message==="User data fetched successfully..."&&p.statusCode===200&&p.id===12&&p.password==="spfudFojOQJsh7Fmhad55gegy.saleshub.io"){window.localStorage.setItem("shulidtH9kNnMgaUtlL73dbhkvhkl.saleshub.io",JSON.stringify(p.data));const m=window.localStorage.getItem("shulidtH9kNnMgaUtlL73dbhkvhkl.saleshub.io");console.log({userLoggedInData:m}),s("Logged"),t(!0)}else t(!1)})}else o("Access denied...");else s("Login"),o(f.message)})):o("Please fill up all the fields....")}}),P("div",{className:"signup_link",children:["Not a member?"," ",_("span",{onClick:()=>{n(!0)},children:"SignUp"})]})]})]})]})},Aa=Object.create(null);Aa.open="0";Aa.close="1";Aa.ping="2";Aa.pong="3";Aa.message="4";Aa.upgrade="5";Aa.noop="6";const Og=Object.create(null);Object.keys(Aa).forEach(t=>{Og[Aa[t]]=t});const $8={type:"error",data:"parser error"},E8=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",D8=typeof ArrayBuffer=="function",A8=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,i6=({type:t,data:e},n,i)=>E8&&e instanceof Blob?n?i(e):ZI(e,i):D8&&(e instanceof ArrayBuffer||A8(e))?n?i(e):ZI(new Blob([e]),i):i(Aa[t]+(e||"")),ZI=(t,e)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];e("b"+i)},n.readAsDataURL(t)},e4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uf=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(let t=0;t<e4.length;t++)uf[e4.charCodeAt(t)]=t;const F8=t=>{let e=t.length*.75,n=t.length,i,s=0,a,r,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const c=new ArrayBuffer(e),u=new Uint8Array(c);for(i=0;i<n;i+=4)a=uf[t.charCodeAt(i)],r=uf[t.charCodeAt(i+1)],o=uf[t.charCodeAt(i+2)],l=uf[t.charCodeAt(i+3)],u[s++]=a<<2|r>>4,u[s++]=(r&15)<<4|o>>2,u[s++]=(o&3)<<6|l&63;return c},R8=typeof ArrayBuffer=="function",s6=(t,e)=>{if(typeof t!="string")return{type:"message",data:a6(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:O8(t.substring(1),e)}:Og[n]?t.length>1?{type:Og[n],data:t.substring(1)}:{type:Og[n]}:$8},O8=(t,e)=>{if(R8){const n=F8(t);return a6(n,e)}else return{base64:!0,data:t}},a6=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}},r6=String.fromCharCode(30),P8=(t,e)=>{const n=t.length,i=new Array(n);let s=0;t.forEach((a,r)=>{i6(a,!1,o=>{i[r]=o,++s===n&&e(i.join(r6))})})},L8=(t,e)=>{const n=t.split(r6),i=[];for(let s=0;s<n.length;s++){const a=s6(n[s],e);if(i.push(a),a.type==="error")break}return i},o6=4;function en(t){if(t)return M8(t)}function M8(t){for(var e in en.prototype)t[e]=en.prototype[e];return t}en.prototype.on=en.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};en.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};en.prototype.off=en.prototype.removeListener=en.prototype.removeAllListeners=en.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,s=0;s<n.length;s++)if(i=n[s],i===e||i.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};en.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,s=n.length;i<s;++i)n[i].apply(this,e)}return this};en.prototype.emitReserved=en.prototype.emit;en.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};en.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Mr=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())();function l6(t,...e){return e.reduce((n,i)=>(t.hasOwnProperty(i)&&(n[i]=t[i]),n),{})}const B8=setTimeout,z8=clearTimeout;function B0(t,e){e.useNativeTimers?(t.setTimeoutFn=B8.bind(Mr),t.clearTimeoutFn=z8.bind(Mr)):(t.setTimeoutFn=setTimeout.bind(Mr),t.clearTimeoutFn=clearTimeout.bind(Mr))}const V8=1.33;function W8(t){return typeof t=="string"?j8(t):Math.ceil((t.byteLength||t.size)*V8)}function j8(t){let e=0,n=0;for(let i=0,s=t.length;i<s;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}class H8 extends Error{constructor(e,n,i){super(e),this.description=n,this.context=i,this.type="TransportError"}}class c6 extends en{constructor(e){super(),this.writable=!1,B0(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,n,i){return super.emitReserved("error",new H8(e,n,i)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=s6(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const u6="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Xk=64,G8={};let t4=0,Bm=0,n4;function i4(t){let e="";do e=u6[t%Xk]+e,t=Math.floor(t/Xk);while(t>0);return e}function d6(){const t=i4(+new Date);return t!==n4?(t4=0,n4=t):t+"."+i4(t4++)}for(;Bm<Xk;Bm++)G8[u6[Bm]]=Bm;function f6(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function U8(t){let e={},n=t.split("&");for(let i=0,s=n.length;i<s;i++){let a=n[i].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}let h6=!1;try{h6=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch{}const q8=h6;function p6(t){const e=t.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||q8))return new XMLHttpRequest}catch{}if(!e)try{return new Mr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function K8(){}const X8=function(){return new p6({xdomain:!1}).responseType!=null}();class J8 extends c6{constructor(e){if(super(e),this.polling=!1,typeof location!="undefined"){const i=location.protocol==="https:";let s=location.port;s||(s=i?"443":"80"),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||s!==e.port,this.xs=e.secure!==i}const n=e&&e.forceBase64;this.supportsBinary=X8&&!n}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};L8(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,P8(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const n=this.opts.secure?"https":"http";let i="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=d6()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port);const s=f6(e),a=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(a?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(s.length?"?"+s:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Sa(this.uri(),e)}doWrite(e,n){const i=this.request({method:"POST",data:e});i.on("success",n),i.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=e}}class Sa extends en{constructor(e,n){super(),B0(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){const e=l6(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const n=this.xhr=new p6(e);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document!="undefined"&&(this.index=Sa.requestsCount++,Sa.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=K8,e)try{this.xhr.abort()}catch{}typeof document!="undefined"&&delete Sa.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Sa.requestsCount=0;Sa.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",s4);else if(typeof addEventListener=="function"){const t="onpagehide"in Mr?"pagehide":"unload";addEventListener(t,s4,!1)}}function s4(){for(let t in Sa.requests)Sa.requests.hasOwnProperty(t)&&Sa.requests[t].abort()}const Y8=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0))(),zm=Mr.WebSocket||Mr.MozWebSocket,a4=!0,Q8="arraybuffer",r4=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Z8 extends c6{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,i=r4?{}:l6(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=a4&&!r4?n?new zm(e,n):new zm(e):new zm(e,n,i)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType||Q8,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],s=n===e.length-1;i6(i,this.supportsBinary,a=>{const r={};try{a4&&this.ws.send(a)}catch{}s&&Y8(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const n=this.opts.secure?"wss":"ws";let i="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=d6()),this.supportsBinary||(e.b64=1);const s=f6(e),a=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(a?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(s.length?"?"+s:"")}check(){return!!zm}}const e7={websocket:Z8,polling:J8},t7=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n7=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Jk(t){const e=t,n=t.indexOf("["),i=t.indexOf("]");n!=-1&&i!=-1&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let s=t7.exec(t||""),a={},r=14;for(;r--;)a[n7[r]]=s[r]||"";return n!=-1&&i!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=i7(a,a.path),a.queryKey=s7(a,a.query),a}function i7(t,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&i.splice(0,1),e.substr(e.length-1,1)=="/"&&i.splice(i.length-1,1),i}function s7(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,a){s&&(n[s]=a)}),n}class Or extends en{constructor(e,n={}){super(),e&&typeof e=="object"&&(n=e,e=null),e?(e=Jk(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=Jk(n.host).host),B0(this,n),this.secure=n.secure!=null?n.secure:typeof location!="undefined"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=n.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=U8(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=o6,n.transport=e,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts.transportOptions[e],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new e7[e](i)}open(){let e;if(this.opts.rememberUpgrade&&Or.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),i=!1;Or.priorWebsocketSuccess=!1;const s=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!i)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Or.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function a(){i||(i=!0,u(),n.close(),n=null)}const r=d=>{const f=new Error("probe error: "+d);f.transport=n.name,a(),this.emitReserved("upgradeError",f)};function o(){r("transport closed")}function l(){r("socket closed")}function c(d){n&&d.name!==n.name&&a()}const u=()=>{n.removeListener("open",s),n.removeListener("error",r),n.removeListener("close",o),this.off("close",l),this.off("upgrading",c)};n.once("open",s),n.once("error",r),n.once("close",o),this.once("close",l),this.once("upgrading",c),n.open()}onOpen(){if(this.readyState="open",Or.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(n+=W8(s)),i>0&&n>this.maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}write(e,n,i){return this.sendPacket("message",e,n,i),this}send(e,n,i){return this.sendPacket("message",e,n,i),this}sendPacket(e,n,i,s){if(typeof n=="function"&&(s=n,n=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const a={type:e,data:n,options:i};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){Or.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let i=0;const s=e.length;for(;i<s;i++)~this.transports.indexOf(e[i])&&n.push(e[i]);return n}}Or.protocol=o6;function a7(t,e="",n){let i=t;n=n||typeof location!="undefined"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n!="undefined"?t=n.protocol+"//"+t:t="https://"+t),i=Jk(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const a=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+a+":"+i.port+e,i.href=i.protocol+"://"+a+(n&&n.port===i.port?"":":"+i.port),i}const r7=typeof ArrayBuffer=="function",o7=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,m6=Object.prototype.toString,l7=typeof Blob=="function"||typeof Blob!="undefined"&&m6.call(Blob)==="[object BlobConstructor]",c7=typeof File=="function"||typeof File!="undefined"&&m6.call(File)==="[object FileConstructor]";function u2(t){return r7&&(t instanceof ArrayBuffer||o7(t))||l7&&t instanceof Blob||c7&&t instanceof File}function Pg(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(Pg(t[n]))return!0;return!1}if(u2(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Pg(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Pg(t[n]))return!0;return!1}function u7(t){const e=[],n=t.data,i=t;return i.data=Yk(n,e),i.attachments=e.length,{packet:i,buffers:e}}function Yk(t,e){if(!t)return t;if(u2(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=Yk(t[i],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Yk(t[i],e));return n}return t}function d7(t,e){return t.data=Qk(t.data,e),t.attachments=void 0,t}function Qk(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Qk(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Qk(t[n],e));return t}const f7=5;var Ze;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Ze||(Ze={}));class h7{constructor(e){this.replacer=e}encode(e){return(e.type===Ze.EVENT||e.type===Ze.ACK)&&Pg(e)?(e.type=e.type===Ze.EVENT?Ze.BINARY_EVENT:Ze.BINARY_ACK,this.encodeAsBinary(e)):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Ze.BINARY_EVENT||e.type===Ze.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=u7(e),i=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(i),s}}class d2 extends en{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e),n.type===Ze.BINARY_EVENT||n.type===Ze.BINARY_ACK?(this.reconstructor=new p7(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(u2(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const i={type:Number(e.charAt(0))};if(Ze[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Ze.BINARY_EVENT||i.type===Ze.BINARY_ACK){const a=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const r=e.substring(a,n);if(r!=Number(r)||e.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(r)}if(e.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););i.nsp=e.substring(a,n)}else i.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const a=n+1;for(;++n;){const r=e.charAt(n);if(r==null||Number(r)!=r){--n;break}if(n===e.length)break}i.id=Number(e.substring(a,n+1))}if(e.charAt(++n)){const a=this.tryParse(e.substr(n));if(d2.isPayloadValid(i.type,a))i.data=a;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Ze.CONNECT:return typeof n=="object";case Ze.DISCONNECT:return n===void 0;case Ze.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case Ze.EVENT:case Ze.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case Ze.ACK:case Ze.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class p7{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=d7(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var m7=Object.freeze(Object.defineProperty({__proto__:null,protocol:f7,get PacketType(){return Ze},Encoder:h7,Decoder:d2},Symbol.toStringTag,{value:"Module"}));function Ms(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const g7=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class g6 extends en{constructor(e,n,i){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ms(e,"open",this.onopen.bind(this)),Ms(e,"packet",this.onpacket.bind(this)),Ms(e,"error",this.onerror.bind(this)),Ms(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(g7.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');n.unshift(e);const i={type:Ze.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const r=this.ids++,o=n.pop();this._registerAckCallback(r,o),i.id=r}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,n){const i=this.flags.timeout;if(i===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i);this.acks[e]=(...a)=>{this.io.clearTimeoutFn(s),n.apply(this,[null,...a])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this.packet({type:Ze.CONNECT,data:e})}):this.packet({type:Ze.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ze.CONNECT:if(e.data&&e.data.sid){const s=e.data.sid;this.onconnect(s)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ze.EVENT:case Ze.BINARY_EVENT:this.onevent(e);break;case Ze.ACK:case Ze.BINARY_ACK:this.onack(e);break;case Ze.DISCONNECT:this.ondisconnect();break;case Ze.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,e)}super.emit.apply(this,e)}ack(e){const n=this;let i=!1;return function(...s){i||(i=!0,n.packet({type:Ze.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(n.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ze.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,e.data)}}}function pu(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}pu.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};pu.prototype.reset=function(){this.attempts=0};pu.prototype.setMin=function(t){this.ms=t};pu.prototype.setMax=function(t){this.max=t};pu.prototype.setJitter=function(t){this.jitter=t};class Zk extends en{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,B0(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new pu({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||m7;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Or(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const s=Ms(n,"open",function(){i.onopen(),e&&e()}),a=Ms(n,"error",r=>{i.cleanup(),i._readyState="closed",this.emitReserved("error",r),e?e(r):i.maybeReconnectOnOpen()});if(this._timeout!==!1){const r=this._timeout;r===0&&s();const o=this.setTimeoutFn(()=>{s(),n.close(),n.emit("error",new Error("timeout"))},r);this.opts.autoUnref&&o.unref(),this.subs.push(function(){clearTimeout(o)})}return this.subs.push(s),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ms(e,"ping",this.onping.bind(this)),Ms(e,"data",this.ondata.bind(this)),Ms(e,"error",this.onerror.bind(this)),Ms(e,"close",this.onclose.bind(this)),Ms(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,n){let i=this.nsps[e];return i||(i=new g6(this,e,n),this.nsps[e]=i),i}_destroy(e){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let i=0;i<n.length;i++)this.engine.write(n[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(function(){clearTimeout(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ud={};function Lg(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=a7(t,e.path||"/socket.io"),i=n.source,s=n.id,a=n.path,r=Ud[s]&&a in Ud[s].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||r;let l;return o?l=new Zk(i,e):(Ud[s]||(Ud[s]=new Zk(i,e)),l=Ud[s]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(Lg,{Manager:Zk,Socket:g6,io:Lg,connect:Lg});const o4=Lg.connect("www.idealidad.net"),y7=()=>{window.localStorage.setItem("spfudFojOQJsh7djfvnfnvfvnvnSDBVad55gegy.saleshub.io","Un-Authenticated"),window.localStorage.setItem("spfudFojOQJsh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io","Un-Authenticated"),window.localStorage.setItem("spfudFojdbcdblsbh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io","No-UserData");const[t,e]=Z.exports.useState(!0),[n,i]=Z.exports.useState(!1),[s,a]=Z.exports.useState(!1);return setTimeout(()=>{e(!1)},4e3),Z.exports.useEffect(()=>{const r=JSON.parse(window.localStorage.getItem("shulidtH9kNnMgaUtlL730ktnkB.saleshub.io"));fetch("www.idealidad.net/api/auth/user",{method:"GET",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","auth-token":r,serverPass:"spfudFojOQJsh7Fmhad55gegy.saleshub.io"}}).then(o=>o.json()).then(o=>{o.message==="User data fetched successfully..."&&o.statusCode===200&&o.id===12&&o.password==="spfudFojOQJsh7Fmhad55gegy.saleshub.io"?(window.localStorage.setItem("shulidtH9kNnMgaUtlL73dbhkvhkl.saleshub.io",JSON.stringify(o.data)),i(!0),a(r===null?!1:!!n)):i(!1)})},[t]),_(jc,{children:_("div",{className:"app__flex app__welcome",children:t?P("div",{className:"app__welcome__animation__wrapper",children:[_("img",{src:JA,alt:"",className:"welcome__icon"}),_("div",{className:"load-bar"})]}):s?_(PSe,{setHome:a,socket:o4}):_(T8,{socket:o4,setHome:a})})})};const v7=[{name:"Dashboard",image:l8,value:"dashboard"},{name:"Funnels",image:c8,value:"funnels"},{name:"Chats",image:u8,value:"chats"},{name:"Directory",image:YA,value:"directory"},{name:"Salesbot",image:f8,value:"salesbot"},{name:"Analytics",image:d8,value:"analytics"}],b7=({setDisplayComponent:t,displayComponent:e})=>{const n=()=>{var s=document.getElementById("sidebar");s.classList.toggle("open")},i=()=>{var s=document.getElementById("sidebar");s.classList.toggle("open")};return P("div",{className:"app__sidebar",id:"sidebar",onMouseOver:()=>{n()},onMouseOut:()=>{i()},children:[P("div",{className:"app__sidebar__header",children:[_("img",{src:o8,alt:"",className:"small__icon"}),_("img",{src:JA,alt:"",className:"header__icon"})]}),_("div",{className:"app__sidebar__links",children:_("ul",{children:v7.map(s=>P("li",{onClick:()=>{t(`${s.value}`)},className:`${e===s.value?"active":""}`,children:[_("img",{src:s.image,alt:s.name,className:"extra__small"}),_("span",{children:s.name})]},s.name))})})]})};/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */const y6=function(){return typeof window=="undefined"?function(t){return t()}:window.requestAnimationFrame}();function v6(t,e,n){const i=n||(r=>Array.prototype.slice.call(r));let s=!1,a=[];return function(...r){a=i(r),s||(s=!0,y6.call(window,()=>{s=!1,t.apply(e,a)}))}}function w7(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const f2=t=>t==="start"?"left":t==="end"?"right":"center",jn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,k7=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function Ma(){}const _7=function(){let t=0;return function(){return t++}}();function ot(t){return t===null||typeof t=="undefined"}function xt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function st(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}const Pn=t=>(typeof t=="number"||t instanceof Number)&&isFinite(+t);function ls(t,e){return Pn(t)?t:e}function Ve(t,e){return typeof t=="undefined"?e:t}const x7=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:t/e,b6=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function pt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function rt(t,e,n,i){let s,a,r;if(xt(t))if(a=t.length,i)for(s=a-1;s>=0;s--)e.call(n,t[s],s);else for(s=0;s<a;s++)e.call(n,t[s],s);else if(st(t))for(r=Object.keys(t),a=r.length,s=0;s<a;s++)e.call(n,t[r[s]],r[s])}function v1(t,e){let n,i,s,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],a=e[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function b1(t){if(xt(t))return t.map(b1);if(st(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=b1(t[n[s]]);return e}return t}function w6(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function S7(t,e,n,i){if(!w6(t))return;const s=e[t],a=n[t];st(s)&&st(a)?eh(s,a,i):e[t]=b1(a)}function eh(t,e,n){const i=xt(e)?e:[e],s=i.length;if(!st(t))return t;n=n||{};const a=n.merger||S7;for(let r=0;r<s;++r){if(e=i[r],!st(e))continue;const o=Object.keys(e);for(let l=0,c=o.length;l<c;++l)a(o[l],t,e,n)}return t}function $f(t,e){return eh(t,e,{merger:C7})}function C7(t,e,n){if(!w6(t))return;const i=e[t],s=n[t];st(i)&&st(s)?$f(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=b1(s))}const N7="",I7=".";function l4(t,e){const n=t.indexOf(I7,e);return n===-1?t.length:n}function uo(t,e){if(e===N7)return t;let n=0,i=l4(e,n);for(;t&&i>n;)t=t[e.slice(n,i)],n=i+1,i=l4(e,n);return t}function h2(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ss=t=>typeof t!="undefined",fo=t=>typeof t=="function",c4=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function T7(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const At=Math.PI,yt=2*At,$7=yt+At,w1=Number.POSITIVE_INFINITY,E7=At/180,Wt=At/2,qd=At/4,u4=At*2/3,hs=Math.log10,Ca=Math.sign;function d4(t){const e=Math.round(t);t=Ef(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(hs(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function D7(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,a)=>s-a).pop(),e}function th(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Ef(t,e,n){return Math.abs(t-e)<n}function A7(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function k6(t,e,n){let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i][n],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function Hs(t){return t*(At/180)}function p2(t){return t*(180/At)}function f4(t){if(!Pn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function _6(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*At&&(a+=yt),{angle:a,distance:s}}function e_(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function F7(t,e){return(t-e+$7)%yt-At}function Bs(t){return(t%yt+yt)%yt}function nh(t,e,n,i){const s=Bs(t),a=Bs(e),r=Bs(n),o=Bs(a-s),l=Bs(r-s),c=Bs(s-a),u=Bs(s-r);return s===a||s===r||i&&a===r||o>l&&c<u}function Jn(t,e,n){return Math.max(e,Math.min(n,t))}function R7(t){return Jn(t,-32768,32767)}function Br(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}const Vm=t=>t===0||t===1,h4=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*yt/n)),p4=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*yt/n)+1,Df={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Wt)+1,easeOutSine:t=>Math.sin(t*Wt),easeInOutSine:t=>-.5*(Math.cos(At*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Vm(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Vm(t)?t:h4(t,.075,.3),easeOutElastic:t=>Vm(t)?t:p4(t,.075,.3),easeInOutElastic(t){return Vm(t)?t:t<.5?.5*h4(t*2,.1125,.45):.5+.5*p4(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Df.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Df.easeInBounce(t*2)*.5:Df.easeOutBounce(t*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function Nh(t){return t+.5|0}const zr=(t,e,n)=>Math.max(Math.min(t,n),e);function df(t){return zr(Nh(t*2.55),0,255)}function to(t){return zr(Nh(t*255),0,255)}function Ga(t){return zr(Nh(t/2.55)/100,0,1)}function m4(t){return zr(Nh(t*100),0,100)}const ss={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},t_=[..."0123456789ABCDEF"],O7=t=>t_[t&15],P7=t=>t_[(t&240)>>4]+t_[t&15],Wm=t=>(t&240)>>4===(t&15),L7=t=>Wm(t.r)&&Wm(t.g)&&Wm(t.b)&&Wm(t.a);function M7(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ss[t[1]]*17,g:255&ss[t[2]]*17,b:255&ss[t[3]]*17,a:e===5?ss[t[4]]*17:255}:(e===7||e===9)&&(n={r:ss[t[1]]<<4|ss[t[2]],g:ss[t[3]]<<4|ss[t[4]],b:ss[t[5]]<<4|ss[t[6]],a:e===9?ss[t[7]]<<4|ss[t[8]]:255})),n}const B7=(t,e)=>t<255?e(t):"";function z7(t){var e=L7(t)?O7:P7;return t?"#"+e(t.r)+e(t.g)+e(t.b)+B7(t.a,e):void 0}const V7=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function x6(t,e,n){const i=e*Math.min(n,1-n),s=(a,r=(a+t/30)%12)=>n-i*Math.max(Math.min(r-3,9-r,1),-1);return[s(0),s(8),s(4)]}function W7(t,e,n){const i=(s,a=(s+t/60)%6)=>n-n*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function j7(t,e,n){const i=x6(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function H7(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function m2(t){const n=t.r/255,i=t.g/255,s=t.b/255,a=Math.max(n,i,s),r=Math.min(n,i,s),o=(a+r)/2;let l,c,u;return a!==r&&(u=a-r,c=o>.5?u/(2-a-r):u/(a+r),l=H7(n,i,s,u,a),l=l*60+.5),[l|0,c||0,o]}function g2(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(to)}function y2(t,e,n){return g2(x6,t,e,n)}function G7(t,e,n){return g2(j7,t,e,n)}function U7(t,e,n){return g2(W7,t,e,n)}function S6(t){return(t%360+360)%360}function q7(t){const e=V7.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?df(+e[5]):to(+e[5]));const s=S6(+e[2]),a=+e[3]/100,r=+e[4]/100;return e[1]==="hwb"?i=G7(s,a,r):e[1]==="hsv"?i=U7(s,a,r):i=y2(s,a,r),{r:i[0],g:i[1],b:i[2],a:n}}function K7(t,e){var n=m2(t);n[0]=S6(n[0]+e),n=y2(n),t.r=n[0],t.g=n[1],t.b=n[2]}function X7(t){if(!t)return;const e=m2(t),n=e[0],i=m4(e[1]),s=m4(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${Ga(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const g4={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},y4={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function J7(){const t={},e=Object.keys(y4),n=Object.keys(g4);let i,s,a,r,o;for(i=0;i<e.length;i++){for(r=o=e[i],s=0;s<n.length;s++)a=n[s],o=o.replace(a,g4[a]);a=parseInt(y4[r],16),t[o]=[a>>16&255,a>>8&255,a&255]}return t}let jm;function Y7(t){jm||(jm=J7(),jm.transparent=[0,0,0,0]);const e=jm[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Q7=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Z7(t){const e=Q7.exec(t);let n=255,i,s,a;if(!!e){if(e[7]!==i){const r=+e[7];n=e[8]?df(r):zr(r*255,0,255)}return i=+e[1],s=+e[3],a=+e[5],i=255&(e[2]?df(i):zr(i,0,255)),s=255&(e[4]?df(s):zr(s,0,255)),a=255&(e[6]?df(a):zr(a,0,255)),{r:i,g:s,b:a,a:n}}}function eV(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ga(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const vw=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,nc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function tV(t,e,n){const i=nc(Ga(t.r)),s=nc(Ga(t.g)),a=nc(Ga(t.b));return{r:to(vw(i+n*(nc(Ga(e.r))-i))),g:to(vw(s+n*(nc(Ga(e.g))-s))),b:to(vw(a+n*(nc(Ga(e.b))-a))),a:t.a+n*(e.a-t.a)}}function Hm(t,e,n){if(t){let i=m2(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=y2(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function C6(t,e){return t&&Object.assign(e||{},t)}function v4(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=to(t[3]))):(e=C6(t,{r:0,g:0,b:0,a:1}),e.a=to(e.a)),e}function nV(t){return t.charAt(0)==="r"?Z7(t):q7(t)}class k1{constructor(e){if(e instanceof k1)return e;const n=typeof e;let i;n==="object"?i=v4(e):n==="string"&&(i=M7(e)||Y7(e)||nV(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=C6(this._rgb);return e&&(e.a=Ga(e.a)),e}set rgb(e){this._rgb=v4(e)}rgbString(){return this._valid?eV(this._rgb):void 0}hexString(){return this._valid?z7(this._rgb):void 0}hslString(){return this._valid?X7(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let a;const r=n===a?.5:n,o=2*r-1,l=i.a-s.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;a=1-c,i.r=255&c*i.r+a*s.r+.5,i.g=255&c*i.g+a*s.g+.5,i.b=255&c*i.b+a*s.b+.5,i.a=r*i.a+(1-r)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=tV(this._rgb,e._rgb,n)),this}clone(){return new k1(this.rgb)}alpha(e){return this._rgb.a=to(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Nh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Hm(this._rgb,2,e),this}darken(e){return Hm(this._rgb,2,-e),this}saturate(e){return Hm(this._rgb,1,e),this}desaturate(e){return Hm(this._rgb,1,-e),this}rotate(e){return K7(this._rgb,e),this}}function N6(t){return new k1(t)}function I6(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function b4(t){return I6(t)?t:N6(t)}function bw(t){return I6(t)?t:N6(t).saturate(.5).darken(.1).hexString()}const bl=Object.create(null),n_=Object.create(null);function Af(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const a=n[i];t=t[a]||(t[a]=Object.create(null))}return t}function ww(t,e,n){return typeof e=="string"?eh(Af(t,e),n):eh(Af(t,""),e)}class iV{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>bw(i.backgroundColor),this.hoverBorderColor=(n,i)=>bw(i.borderColor),this.hoverColor=(n,i)=>bw(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,n){return ww(this,e,n)}get(e){return Af(this,e)}describe(e,n){return ww(n_,e,n)}override(e,n){return ww(bl,e,n)}route(e,n,i,s){const a=Af(this,e),r=Af(this,i),o="_"+n;Object.defineProperties(a,{[o]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=r[s];return st(l)?Object.assign({},c,l):Ve(l,c)},set(l){this[o]=l}}})}}var Ye=new iV({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function sV(t){return!t||ot(t.size)||ot(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function _1(t,e,n,i,s){let a=e[s];return a||(a=e[s]=t.measureText(s).width,n.push(s)),a>i&&(i=a),i}function aV(t,e,n,i){i=i||{};let s=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},a=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let r=0;const o=n.length;let l,c,u,d,f;for(l=0;l<o;l++)if(d=n[l],d!=null&&xt(d)!==!0)r=_1(t,s,a,r,d);else if(xt(d))for(c=0,u=d.length;c<u;c++)f=d[c],f!=null&&!xt(f)&&(r=_1(t,s,a,r,f));t.restore();const h=a.length/2;if(h>n.length){for(l=0;l<h;l++)delete s[a[l]];a.splice(0,h)}return r}function Lo(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function w4(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function x1(t,e,n,i){let s,a,r,o,l;const c=e.pointStyle,u=e.rotation,d=e.radius;let f=(u||0)*E7;if(c&&typeof c=="object"&&(s=c.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(f),t.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),t.restore();return}if(!(isNaN(d)||d<=0)){switch(t.beginPath(),c){default:t.arc(n,i,d,0,yt),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(f)*d,i-Math.cos(f)*d),f+=u4,t.lineTo(n+Math.sin(f)*d,i-Math.cos(f)*d),f+=u4,t.lineTo(n+Math.sin(f)*d,i-Math.cos(f)*d),t.closePath();break;case"rectRounded":l=d*.516,o=d-l,a=Math.cos(f+qd)*o,r=Math.sin(f+qd)*o,t.arc(n-a,i-r,l,f-At,f-Wt),t.arc(n+r,i-a,l,f-Wt,f),t.arc(n+a,i+r,l,f,f+Wt),t.arc(n-r,i+a,l,f+Wt,f+At),t.closePath();break;case"rect":if(!u){o=Math.SQRT1_2*d,t.rect(n-o,i-o,2*o,2*o);break}f+=qd;case"rectRot":a=Math.cos(f)*d,r=Math.sin(f)*d,t.moveTo(n-a,i-r),t.lineTo(n+r,i-a),t.lineTo(n+a,i+r),t.lineTo(n-r,i+a),t.closePath();break;case"crossRot":f+=qd;case"cross":a=Math.cos(f)*d,r=Math.sin(f)*d,t.moveTo(n-a,i-r),t.lineTo(n+a,i+r),t.moveTo(n+r,i-a),t.lineTo(n-r,i+a);break;case"star":a=Math.cos(f)*d,r=Math.sin(f)*d,t.moveTo(n-a,i-r),t.lineTo(n+a,i+r),t.moveTo(n+r,i-a),t.lineTo(n-r,i+a),f+=qd,a=Math.cos(f)*d,r=Math.sin(f)*d,t.moveTo(n-a,i-r),t.lineTo(n+a,i+r),t.moveTo(n+r,i-a),t.lineTo(n-r,i+a);break;case"line":a=Math.cos(f)*d,r=Math.sin(f)*d,t.moveTo(n-a,i-r),t.lineTo(n+a,i+r);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(f)*d,i+Math.sin(f)*d);break}t.fill(),e.borderWidth>0&&t.stroke()}}function ih(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function v2(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function b2(t){t.restore()}function rV(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const a=(e.x+n.x)/2;t.lineTo(a,e.y),t.lineTo(a,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function oV(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function wl(t,e,n,i,s,a={}){const r=xt(e)?e:[e],o=a.strokeWidth>0&&a.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,lV(t,a),l=0;l<r.length;++l)c=r[l],o&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),ot(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(c,n,i,a.maxWidth)),t.fillText(c,n,i,a.maxWidth),cV(t,n,i,c,a),i+=s.lineHeight;t.restore()}function lV(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ot(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function cV(t,e,n,i,s){if(s.strikethrough||s.underline){const a=t.measureText(i),r=e-a.actualBoundingBoxLeft,o=e+a.actualBoundingBoxRight,l=n-a.actualBoundingBoxAscent,c=n+a.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(r,u),t.lineTo(o,u),t.stroke()}}function sh(t,e){const{x:n,y:i,w:s,h:a,radius:r}=e;t.arc(n+r.topLeft,i+r.topLeft,r.topLeft,-Wt,At,!0),t.lineTo(n,i+a-r.bottomLeft),t.arc(n+r.bottomLeft,i+a-r.bottomLeft,r.bottomLeft,At,Wt,!0),t.lineTo(n+s-r.bottomRight,i+a),t.arc(n+s-r.bottomRight,i+a-r.bottomRight,r.bottomRight,Wt,0,!0),t.lineTo(n+s,i+r.topRight),t.arc(n+s-r.topRight,i+r.topRight,r.topRight,0,-Wt,!0),t.lineTo(n+r.topLeft,i)}const uV=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),dV=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function fV(t,e){const n=(""+t).match(uV);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const hV=t=>+t||0;function w2(t,e){const n={},i=st(e),s=i?Object.keys(e):e,a=st(t)?i?r=>Ve(t[r],t[e[r]]):r=>t[r]:()=>t;for(const r of s)n[r]=hV(a(r));return n}function T6(t){return w2(t,{top:"y",right:"x",bottom:"y",left:"x"})}function rl(t){return w2(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Qn(t){const e=T6(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function dn(t,e){t=t||{},e=e||Ye.font;let n=Ve(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Ve(t.style,e.style);i&&!(""+i).match(dV)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const s={family:Ve(t.family,e.family),lineHeight:fV(Ve(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Ve(t.weight,e.weight),string:""};return s.string=sV(s),s}function Gm(t,e,n,i){let s=!0,a,r,o;for(a=0,r=t.length;a<r;++a)if(o=t[a],o!==void 0&&(e!==void 0&&typeof o=="function"&&(o=o(e),s=!1),n!==void 0&&xt(o)&&(o=o[n%o.length],s=!1),o!==void 0))return i&&!s&&(i.cacheable=!1),o}function pV(t,e,n){const{min:i,max:s}=t,a=b6(e,(s-i)/2),r=(o,l)=>n&&o===0?0:o+l;return{min:r(i,-Math.abs(a)),max:r(s,a)}}function Co(t,e){return Object.assign(Object.create(t),e)}function k2(t,e,n){n=n||(r=>t[r]<e);let i=t.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,n(a)?s=a:i=a;return{lo:s,hi:i}}const tl=(t,e,n)=>k2(t,n,i=>t[i][e]<n),mV=(t,e,n)=>k2(t,n,i=>t[i][e]>=n);function gV(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const $6=["push","pop","shift","splice","unshift"];function yV(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),$6.forEach(n=>{const i="_onData"+h2(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...a){const r=s.apply(this,a);return t._chartjs.listeners.forEach(o=>{typeof o[i]=="function"&&o[i](...a)}),r}})})}function k4(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&($6.forEach(a=>{delete t[a]}),delete t._chartjs)}function E6(t){const e=new Set;let n,i;for(n=0,i=t.length;n<i;++n)e.add(t[n]);return e.size===i?t:Array.from(e)}function _2(t,e=[""],n=t,i,s=()=>t[0]){Ss(i)||(i=R6("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:i,_getTarget:s,override:r=>_2([r,...t],e,n,i)};return new Proxy(a,{deleteProperty(r,o){return delete r[o],delete r._keys,delete t[0][o],!0},get(r,o){return A6(r,o,()=>CV(o,e,t,r))},getOwnPropertyDescriptor(r,o){return Reflect.getOwnPropertyDescriptor(r._scopes[0],o)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(r,o){return x4(r).includes(o)},ownKeys(r){return x4(r)},set(r,o,l){const c=r._storage||(r._storage=s());return r[o]=c[o]=l,delete r._keys,!0}})}function Hc(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:D6(t,i),setContext:a=>Hc(t,a,n,i),override:a=>Hc(t.override(a),e,n,i)};return new Proxy(s,{deleteProperty(a,r){return delete a[r],delete t[r],!0},get(a,r,o){return A6(a,r,()=>bV(a,r,o))},getOwnPropertyDescriptor(a,r){return a._descriptors.allKeys?Reflect.has(t,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,r)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,r){return Reflect.has(t,r)},ownKeys(){return Reflect.ownKeys(t)},set(a,r,o){return t[r]=o,delete a[r],!0}})}function D6(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:fo(n)?n:()=>n,isIndexable:fo(i)?i:()=>i}}const vV=(t,e)=>t?t+h2(e):e,x2=(t,e)=>st(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function A6(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function bV(t,e,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:r}=t;let o=i[e];return fo(o)&&r.isScriptable(e)&&(o=wV(e,o,t,n)),xt(o)&&o.length&&(o=kV(e,o,t,r.isIndexable)),x2(e,o)&&(o=Hc(o,s,a&&a[e],r)),o}function wV(t,e,n,i){const{_proxy:s,_context:a,_subProxy:r,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);return o.add(t),e=e(a,r||i),o.delete(t),x2(t,e)&&(e=S2(s._scopes,s,t,e)),e}function kV(t,e,n,i){const{_proxy:s,_context:a,_subProxy:r,_descriptors:o}=n;if(Ss(a.index)&&i(t))e=e[a.index%e.length];else if(st(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=S2(c,s,t,u);e.push(Hc(d,a,r&&r[t],o))}}return e}function F6(t,e,n){return fo(t)?t(e,n):t}const _V=(t,e)=>t===!0?e:typeof t=="string"?uo(e,t):void 0;function xV(t,e,n,i,s){for(const a of e){const r=_V(n,a);if(r){t.add(r);const o=F6(r._fallback,n,s);if(Ss(o)&&o!==n&&o!==i)return o}else if(r===!1&&Ss(i)&&n!==i)return null}return!1}function S2(t,e,n,i){const s=e._rootScopes,a=F6(e._fallback,n,i),r=[...t,...s],o=new Set;o.add(i);let l=_4(o,r,n,a||n,i);return l===null||Ss(a)&&a!==n&&(l=_4(o,r,a,l,i),l===null)?!1:_2(Array.from(o),[""],s,a,()=>SV(e,n,i))}function _4(t,e,n,i,s){for(;n;)n=xV(t,e,n,i,s);return n}function SV(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return xt(s)&&st(n)?n:s}function CV(t,e,n,i){let s;for(const a of e)if(s=R6(vV(a,t),n),Ss(s))return x2(t,s)?S2(n,i,t,s):s}function R6(t,e){for(const n of e){if(!n)continue;const i=n[t];if(Ss(i))return i}}function x4(t){let e=t._keys;return e||(e=t._keys=NV(t._scopes)),e}function NV(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function O6(t,e,n,i){const{iScale:s}=t,{key:a="r"}=this._parsing,r=new Array(i);let o,l,c,u;for(o=0,l=i;o<l;++o)c=o+n,u=e[c],r[o]={r:s.parse(uo(u,a),c)};return r}const IV=Number.EPSILON||1e-14,Gc=(t,e)=>e<t.length&&!t[e].skip&&t[e],P6=t=>t==="x"?"y":"x";function TV(t,e,n,i){const s=t.skip?e:t,a=e,r=n.skip?e:n,o=e_(a,s),l=e_(r,a);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,f=i*u;return{previous:{x:a.x-d*(r.x-s.x),y:a.y-d*(r.y-s.y)},next:{x:a.x+f*(r.x-s.x),y:a.y+f*(r.y-s.y)}}}function $V(t,e,n){const i=t.length;let s,a,r,o,l,c=Gc(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Gc(t,u+1),!(!l||!c)){if(Ef(e[u],0,IV)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],a=n[u+1]/e[u],o=Math.pow(s,2)+Math.pow(a,2),!(o<=9)&&(r=3/Math.sqrt(o),n[u]=s*r*e[u],n[u+1]=a*r*e[u])}}function EV(t,e,n="x"){const i=P6(n),s=t.length;let a,r,o,l=Gc(t,0);for(let c=0;c<s;++c){if(r=o,o=l,l=Gc(t,c+1),!o)continue;const u=o[n],d=o[i];r&&(a=(u-r[n])/3,o[`cp1${n}`]=u-a,o[`cp1${i}`]=d-a*e[c]),l&&(a=(l[n]-u)/3,o[`cp2${n}`]=u+a,o[`cp2${i}`]=d+a*e[c])}}function DV(t,e="x"){const n=P6(e),i=t.length,s=Array(i).fill(0),a=Array(i);let r,o,l,c=Gc(t,0);for(r=0;r<i;++r)if(o=l,l=c,c=Gc(t,r+1),!!l){if(c){const u=c[e]-l[e];s[r]=u!==0?(c[n]-l[n])/u:0}a[r]=o?c?Ca(s[r-1])!==Ca(s[r])?0:(s[r-1]+s[r])/2:s[r-1]:s[r]}$V(t,s,a),EV(t,a,e)}function Um(t,e,n){return Math.max(Math.min(t,n),e)}function AV(t,e){let n,i,s,a,r,o=ih(t[0],e);for(n=0,i=t.length;n<i;++n)r=a,a=o,o=n<i-1&&ih(t[n+1],e),a&&(s=t[n],r&&(s.cp1x=Um(s.cp1x,e.left,e.right),s.cp1y=Um(s.cp1y,e.top,e.bottom)),o&&(s.cp2x=Um(s.cp2x,e.left,e.right),s.cp2y=Um(s.cp2y,e.top,e.bottom)))}function FV(t,e,n,i,s){let a,r,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")DV(t,s);else{let c=i?t[t.length-1]:t[0];for(a=0,r=t.length;a<r;++a)o=t[a],l=TV(c,o,t[Math.min(a+1,r-(i?0:1))%r],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&AV(t,n)}function L6(){return typeof window!="undefined"&&typeof document!="undefined"}function C2(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function S1(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const z0=t=>window.getComputedStyle(t,null);function RV(t,e){return z0(t).getPropertyValue(e)}const OV=["top","right","bottom","left"];function ol(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=OV[s];i[a]=parseFloat(t[e+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const PV=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function LV(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:a}=i;let r=!1,o,l;if(PV(s,a,t.target))o=s,l=a;else{const c=e.getBoundingClientRect();o=i.clientX-c.left,l=i.clientY-c.top,r=!0}return{x:o,y:l,box:r}}function Ho(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=z0(n),a=s.boxSizing==="border-box",r=ol(s,"padding"),o=ol(s,"border","width"),{x:l,y:c,box:u}=LV(t,n),d=r.left+(u&&o.left),f=r.top+(u&&o.top);let{width:h,height:p}=e;return a&&(h-=r.width+o.width,p-=r.height+o.height),{x:Math.round((l-d)/h*n.width/i),y:Math.round((c-f)/p*n.height/i)}}function MV(t,e,n){let i,s;if(e===void 0||n===void 0){const a=C2(t);if(!a)e=t.clientWidth,n=t.clientHeight;else{const r=a.getBoundingClientRect(),o=z0(a),l=ol(o,"border","width"),c=ol(o,"padding");e=r.width-c.width-l.width,n=r.height-c.height-l.height,i=S1(o.maxWidth,a,"clientWidth"),s=S1(o.maxHeight,a,"clientHeight")}}return{width:e,height:n,maxWidth:i||w1,maxHeight:s||w1}}const kw=t=>Math.round(t*10)/10;function BV(t,e,n,i){const s=z0(t),a=ol(s,"margin"),r=S1(s.maxWidth,t,"clientWidth")||w1,o=S1(s.maxHeight,t,"clientHeight")||w1,l=MV(t,e,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const d=ol(s,"border","width"),f=ol(s,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-a.width),u=Math.max(0,i?Math.floor(c/i):u-a.height),c=kw(Math.min(c,r,l.maxWidth)),u=kw(Math.min(u,o,l.maxHeight)),c&&!u&&(u=kw(c/2)),{width:c,height:u}}function S4(t,e,n){const i=e||1,s=Math.floor(t.height*i),a=Math.floor(t.width*i);t.height=s/i,t.width=a/i;const r=t.canvas;return r.style&&(n||!r.style.height&&!r.style.width)&&(r.style.height=`${t.height}px`,r.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||r.height!==s||r.width!==a?(t.currentDevicePixelRatio=i,r.height=s,r.width=a,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const zV=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function C4(t,e){const n=RV(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Go(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function VV(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function WV(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},r=Go(t,s,n),o=Go(s,a,n),l=Go(a,e,n),c=Go(r,o,n),u=Go(o,l,n);return Go(c,u,n)}const N4=new Map;function jV(t,e){e=e||{};const n=t+JSON.stringify(e);let i=N4.get(n);return i||(i=new Intl.NumberFormat(t,e),N4.set(n,i)),i}function Ih(t,e,n){return jV(e,n).format(t)}const HV=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},GV=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function $c(t,e,n){return t?HV(e,n):GV()}function M6(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function B6(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function z6(t){return t==="angle"?{between:nh,compare:F7,normalize:Bs}:{between:Br,compare:(e,n)=>e-n,normalize:e=>e}}function I4({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function UV(t,e,n){const{property:i,start:s,end:a}=n,{between:r,normalize:o}=z6(i),l=e.length;let{start:c,end:u,loop:d}=t,f,h;if(d){for(c+=l,u+=l,f=0,h=l;f<h&&r(o(e[c%l][i]),s,a);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function qV(t,e,n){if(!n)return[t];const{property:i,start:s,end:a}=n,r=e.length,{compare:o,between:l,normalize:c}=z6(i),{start:u,end:d,loop:f,style:h}=UV(t,e,n),p=[];let m=!1,y=null,g,v,b;const w=()=>l(s,b,g)&&o(s,b)!==0,k=()=>o(a,g)===0||l(a,b,g),x=()=>m||w(),N=()=>!m||k();for(let I=u,D=u;I<=d;++I)v=e[I%r],!v.skip&&(g=c(v[i]),g!==b&&(m=l(g,s,a),y===null&&x()&&(y=o(g,s)===0?I:D),y!==null&&N()&&(p.push(I4({start:y,end:I,loop:f,count:r,style:h})),y=null),D=I,b=g));return y!==null&&p.push(I4({start:y,end:d,loop:f,count:r,style:h})),p}function KV(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const a=qV(i[s],t.points,e);a.length&&n.push(...a)}return n}function XV(t,e,n,i){let s=0,a=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(a+=s);a>s&&t[a%e].skip;)a--;return a%=e,{start:s,end:a}}function JV(t,e,n,i){const s=t.length,a=[];let r=e,o=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?o.skip||(i=!1,a.push({start:e%s,end:(l-1)%s,loop:i}),e=r=c.stop?l:null):(r=l,o.skip&&(e=l)),o=c}return r!==null&&a.push({start:e%s,end:r%s,loop:i}),a}function YV(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const a=!!t._loop,{start:r,end:o}=XV(n,s,a,i);if(i===!0)return T4(t,[{start:r,end:o,loop:a}],n,e);const l=o<r?o+s:o,c=!!t._fullLoop&&r===0&&o===s-1;return T4(t,JV(n,r,l,c),n,e)}function T4(t,e,n,i){return!i||!i.setContext||!n?e:QV(t,e,n,i)}function QV(t,e,n,i){const s=t._chart.getContext(),a=$4(t.options),{_datasetIndex:r,options:{spanGaps:o}}=t,l=n.length,c=[];let u=a,d=e[0].start,f=d;function h(p,m,y,g){const v=o?-1:1;if(p!==m){for(p+=l;n[p%l].skip;)p-=v;for(;n[m%l].skip;)m+=v;p%l!==m%l&&(c.push({start:p%l,end:m%l,loop:y,style:g}),u=g,d=m%l)}}for(const p of e){d=o?d:p.start;let m=n[d%l],y;for(f=d+1;f<=p.end;f++){const g=n[f%l];y=$4(i.setContext(Co(s,{type:"segment",p0:m,p1:g,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:r}))),ZV(y,u)&&h(d,f-1,p.loop,u),m=g,u=y}d<f-1&&h(d,f-1,p.loop,u)}return c}function $4(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function ZV(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class eW{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const a=n.listeners[s],r=n.duration;a.forEach(o=>o({chart:e,initial:n.initial,numSteps:r,currentStep:Math.min(i-n.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=y6.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let r=a.length-1,o=!1,l;for(;r>=0;--r)l=a[r],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),o=!0):(a[r]=a[a.length-1],a.pop());o&&(s.draw(),this._notify(s,i,e,"progress")),a.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=a.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);!n||(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Va=new eW;const E4="transparent",tW={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=b4(t||E4),s=i.valid&&b4(e||E4);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class nW{constructor(e,n,i,s){const a=n[i];s=Gm([e.to,s,a,e.from]);const r=Gm([e.from,a,s]);this._active=!0,this._fn=e.fn||tW[e.type||typeof r],this._easing=Df[e.easing]||Df.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=r,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,r=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Gm([e.to,n,s,e.from]),this._from=Gm([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,a=this._from,r=this._loop,o=this._to;let l;if(this._active=a!==o&&(r||n<i),!this._active){this._target[s]=o,this._notify(!0);return}if(n<0){this._target[s]=a;return}l=n/i%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(a,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}const iW=["x","y","borderWidth","radius","tension"],sW=["color","borderColor","backgroundColor"];Ye.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const aW=Object.keys(Ye.animation);Ye.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"});Ye.set("animations",{colors:{type:"color",properties:sW},numbers:{type:"number",properties:iW}});Ye.describe("animations",{_fallback:"animation"});Ye.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}});class V6{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!st(e))return;const n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!st(s))return;const a={};for(const r of aW)a[r]=s[r];(xt(s.properties)&&s.properties||[i]).forEach(r=>{(r===i||!n.has(r))&&n.set(r,a)})})}_animateOptions(e,n){const i=n.options,s=oW(e,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&rW(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,n){const i=this._properties,s=[],a=e.$animations||(e.$animations={}),r=Object.keys(n),o=Date.now();let l;for(l=r.length-1;l>=0;--l){const c=r[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let d=a[c];const f=i.get(c);if(d)if(f&&d.active()){d.update(f,u,o);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}a[c]=d=new nW(f,e,c,u),s.push(d)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Va.add(this._chart,i),!0}}function rW(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const a=t[i[s]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function oW(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function D4(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,a=n.max===void 0?e:0;return{start:i?a:s,end:i?s:a}}function lW(t,e,n){if(n===!1)return!1;const i=D4(t,n),s=D4(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function cW(t){let e,n,i,s;return st(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function W6(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,a;for(s=0,a=i.length;s<a;++s)n.push(i[s].index);return n}function A4(t,e,n,i={}){const s=t.keys,a=i.mode==="single";let r,o,l,c;if(e!==null){for(r=0,o=s.length;r<o;++r){if(l=+s[r],l===n){if(i.all)continue;break}c=t.values[l],Pn(c)&&(a||e===0||Ca(e)===Ca(c))&&(e+=c)}return e}}function uW(t){const e=Object.keys(t),n=new Array(e.length);let i,s,a;for(i=0,s=e.length;i<s;++i)a=e[i],n[i]={x:a,y:t[a]};return n}function F4(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function dW(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function fW(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function hW(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function R4(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const a=t[s.index];if(n&&a>0||!n&&a<0)return s.index}return null}function O4(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:a,vScale:r,index:o}=i,l=a.axis,c=r.axis,u=dW(a,r,i),d=e.length;let f;for(let h=0;h<d;++h){const p=e[h],{[l]:m,[c]:y}=p,g=p._stacks||(p._stacks={});f=g[c]=hW(s,u,m),f[o]=y,f._top=R4(f,r,!0,i.type),f._bottom=R4(f,r,!1,i.type)}}function _w(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function pW(t,e){return Co(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function mW(t,e,n){return Co(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Kd(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(!!i){e=e||t._parsed;for(const s of e){const a=s._stacks;if(!a||a[i]===void 0||a[i][n]===void 0)return;delete a[i][n]}}}const xw=t=>t==="reset"||t==="none",P4=(t,e)=>e?t:Object.assign({},t),gW=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:W6(n,!0),values:null};class Pa{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=F4(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Kd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(d,f,h,p)=>d==="x"?f:d==="r"?p:h,a=n.xAxisID=Ve(i.xAxisID,_w(e,"x")),r=n.yAxisID=Ve(i.yAxisID,_w(e,"y")),o=n.rAxisID=Ve(i.rAxisID,_w(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,a,r,o),u=n.vAxisID=s(l,r,a,o);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(r),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&k4(this._data,this),e._stacked&&Kd(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(st(n))this._data=uW(n);else if(i!==n){if(i){k4(i,this);const s=this._cachedMeta;Kd(s),s._parsed=[]}n&&Object.isExtensible(n)&&yV(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=n._stacked;n._stacked=F4(n.vScale,n),n.stack!==i.stack&&(s=!0,Kd(n),n.stack=i.stack),this._resyncElements(e),(s||a!==n._stacked)&&O4(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:r}=i,o=a.axis;let l=e===0&&n===s.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,d,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{xt(s[e])?f=this.parseArrayData(i,s,e,n):st(s[e])?f=this.parseObjectData(i,s,e,n):f=this.parsePrimitiveData(i,s,e,n);const h=()=>d[o]===null||c&&d[o]<c[o];for(u=0;u<n;++u)i._parsed[u+e]=d=f[u],l&&(h()&&(l=!1),c=d);i._sorted=l}r&&O4(this,f)}parsePrimitiveData(e,n,i,s){const{iScale:a,vScale:r}=e,o=a.axis,l=r.axis,c=a.getLabels(),u=a===r,d=new Array(s);let f,h,p;for(f=0,h=s;f<h;++f)p=f+i,d[f]={[o]:u||a.parse(c[p],p),[l]:r.parse(n[p],p)};return d}parseArrayData(e,n,i,s){const{xScale:a,yScale:r}=e,o=new Array(s);let l,c,u,d;for(l=0,c=s;l<c;++l)u=l+i,d=n[u],o[l]={x:a.parse(d[0],u),y:r.parse(d[1],u)};return o}parseObjectData(e,n,i,s){const{xScale:a,yScale:r}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,d,f,h;for(u=0,d=s;u<d;++u)f=u+i,h=n[f],c[u]={x:a.parse(uo(h,o),f),y:r.parse(uo(h,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,a=this._cachedMeta,r=n[e.axis],o={keys:W6(s,!0),values:n._stacks[e.axis]};return A4(o,r,a.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const a=i[n.axis];let r=a===null?NaN:a;const o=s&&i._stacks[n.axis];s&&o&&(s.values=o,r=A4(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&e===i.iScale,r=s.length,o=this._getOtherScale(e),l=gW(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=fW(o);let f,h;function p(){h=s[f];const m=h[o.axis];return!Pn(h[e.axis])||u>m||d<m}for(f=0;f<r&&!(!p()&&(this.updateRangeFromParsed(c,e,h,l),a));++f);if(a){for(f=r-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,e,h,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,a,r;for(s=0,a=n.length;s<a;++s)r=n[s][e.axis],Pn(r)&&i.push(r);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=cW(Ve(this.options.clip,lW(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],a=n.chartArea,r=[],o=this._drawStart||0,l=this._drawCount||s.length-o,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,a,o,l),u=o;u<o+l;++u){const d=s[u];d.hidden||(d.active&&c?r.push(d):d.draw(e,a))}for(u=0;u<r.length;++u)r[u].draw(e,a)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const r=this._cachedMeta.data[e];a=r.$context||(r.$context=mW(this.getContext(),e,r)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=pW(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",a=this._cachedDataOpts,r=e+"-"+n,o=a[r],l=this.enableOptionSharing&&Ss(i);if(o)return P4(o,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),h=Object.keys(Ye.elements[e]),p=()=>this.getContext(i,s),m=c.resolveNamedOptions(f,h,p,d);return m.$shared&&(m.$shared=l,a[r]=Object.freeze(P4(m,l))),m}_resolveAnimations(e,n,i){const s=this.chart,a=this._cachedDataOpts,r=`animation-${n}`,o=a[r];if(o)return o;let l;if(s.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,i,n))}const c=new V6(s,l&&l.animations);return l&&l._cacheable&&(a[r]=Object.freeze(c)),c}getSharedOptions(e){if(!!e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||xw(e)||this.chart._animationsDisabled}updateElement(e,n,i,s){xw(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!xw(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const a=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const s=i.length,a=n.length,r=Math.min(a,s);r&&this.parse(0,r),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,n,i=!0){const s=this._cachedMeta,a=s.data,r=e+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=r;o--)c[o]=c[o-n]};for(l(a),o=e;o<r;++o)a[o]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),i&&this.updateElements(a,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&Kd(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Pa.defaults={};Pa.prototype.datasetElementType=null;Pa.prototype.dataElementType=null;function yW(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,a=n.length;s<a;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=E6(i.sort((s,a)=>s-a))}return t._cache.$bar}function vW(t){const e=t.iScale,n=yW(e,t.type);let i=e._length,s,a,r,o;const l=()=>{r===32767||r===-32768||(Ss(o)&&(i=Math.min(i,Math.abs(r-o)||i)),o=r)};for(s=0,a=n.length;s<a;++s)r=e.getPixelForValue(n[s]),l();for(o=void 0,s=0,a=e.ticks.length;s<a;++s)r=e.getPixelForTick(s),l();return i}function bW(t,e,n,i){const s=n.barThickness;let a,r;return ot(s)?(a=e.min*n.categoryPercentage,r=n.barPercentage):(a=s*i,r=1),{chunk:a/i,ratio:r,start:e.pixels[t]-a/2}}function wW(t,e,n,i){const s=e.pixels,a=s[t];let r=t>0?s[t-1]:null,o=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;r===null&&(r=a-(o===null?e.end-e.start:o-a)),o===null&&(o=a+a-r);const c=a-(a-Math.min(r,o))/2*l;return{chunk:Math.abs(o-r)/2*l/i,ratio:n.barPercentage,start:c}}function kW(t,e,n,i){const s=n.parse(t[0],i),a=n.parse(t[1],i),r=Math.min(s,a),o=Math.max(s,a);let l=r,c=o;Math.abs(r)>Math.abs(o)&&(l=o,c=r),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:a,min:r,max:o}}function j6(t,e,n,i){return xt(t)?kW(t,e,n,i):e[n.axis]=n.parse(t,i),e}function L4(t,e,n,i){const s=t.iScale,a=t.vScale,r=s.getLabels(),o=s===a,l=[];let c,u,d,f;for(c=n,u=n+i;c<u;++c)f=e[c],d={},d[s.axis]=o||s.parse(r[c],c),l.push(j6(f,d,a,c));return l}function Sw(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function _W(t,e,n){return t!==0?Ca(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function xW(t){let e,n,i,s,a;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",a="start"):(s="start",a="end"),{start:n,end:i,reverse:e,top:s,bottom:a}}function SW(t,e,n,i){let s=e.borderSkipped;const a={};if(!s){t.borderSkipped=a;return}const{start:r,end:o,reverse:l,top:c,bottom:u}=xW(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(a[M4(u,r,o,l)]=!0,s=c)),a[M4(s,r,o,l)]=!0,t.borderSkipped=a}function M4(t,e,n,i){return i?(t=CW(t,e,n),t=B4(t,n,e)):t=B4(t,e,n),t}function CW(t,e,n){return t===e?n:t===n?e:t}function B4(t,e,n){return t==="start"?e:t==="end"?n:t}function NW(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class N2 extends Pa{parsePrimitiveData(e,n,i,s){return L4(e,n,i,s)}parseArrayData(e,n,i,s){return L4(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:a,vScale:r}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=a.axis==="x"?o:l,u=r.axis==="x"?o:l,d=[];let f,h,p,m;for(f=i,h=i+s;f<h;++f)m=n[f],p={},p[a.axis]=a.parse(uo(m,c),f),d.push(j6(uo(m,u),p,r,f));return d}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const a=i._custom;a&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,a=this.getParsed(e),r=a._custom,o=Sw(r)?"["+r.start+", "+r.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const a=s==="reset",{index:r,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),u=this._getRuler(),d=this.resolveDataElementOptions(n,s),f=this.getSharedOptions(d),h=this.includeOptions(s,f);this.updateSharedOptions(f,s,d);for(let p=n;p<n+i;p++){const m=this.getParsed(p),y=a||ot(m[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),g=this._calculateBarIndexPixels(p,u),v=(m._stacks||{})[o.axis],b={horizontal:c,base:y.base,enableBorderRadius:!v||Sw(m._custom)||r===v._top||r===v._bottom,x:c?y.head:g.center,y:c?g.center:y.head,height:c?g.size:Math.abs(y.size),width:c?Math.abs(y.size):g.size};h&&(b.options=f||this.resolveDataElementOptions(p,e[p].active?"active":s));const w=b.options||e[p].options;SW(b,w,v,r),NW(b,w,u.ratio),this.updateElement(e[p],p,b,s)}}_getStacks(e,n){const s=this._cachedMeta.iScale,a=s.getMatchingVisibleMetas(this._type),r=s.options.stacked,o=a.length,l=[];let c,u;for(c=0;c<o;++c)if(u=a[c],!!u.controller.options.grouped){if(typeof n!="undefined"){const d=u.controller.getParsed(n)[u.controller._cachedMeta.vScale.axis];if(ot(d)||isNaN(d))continue}if((r===!1||l.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&l.push(u.stack),u.index===e)break}return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const s=this._getStacks(e,i),a=n!==void 0?s.indexOf(n):-1;return a===-1?s.length-1:a}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let a,r;for(a=0,r=n.data.length;a<r;++a)s.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const o=e.barThickness;return{min:o||vW(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i},options:{base:s,minBarLength:a}}=this,r=s||0,o=this.getParsed(e),l=o._custom,c=Sw(l);let u=o[n.axis],d=0,f=i?this.applyStack(n,o,i):u,h,p;f!==u&&(d=f-u,f=u),c&&(u=l.barStart,f=l.barEnd-l.barStart,u!==0&&Ca(u)!==Ca(l.barEnd)&&(d=0),d+=u);const m=!ot(s)&&!c?s:d;let y=n.getPixelForValue(m);if(this.chart.getDataVisibility(e)?h=n.getPixelForValue(d+f):h=y,p=h-y,Math.abs(p)<a){p=_W(p,n,r)*a,u===r&&(y-=p/2);const g=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),b=Math.min(g,v),w=Math.max(g,v);y=Math.max(Math.min(y,w),b),h=y+p}if(y===n.getPixelForValue(r)){const g=Ca(p)*n.getLineWidthForValue(r)/2;y+=g,p-=g}return{size:p,base:y,head:h,center:h+p/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,a=s.skipNull,r=Ve(s.maxBarThickness,1/0);let o,l;if(n.grouped){const c=a?this._getStackCount(e):n.stackCount,u=s.barThickness==="flex"?wW(e,n,s,c):bW(e,n,s,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);o=u.start+u.chunk*d+u.chunk/2,l=Math.min(r,u.chunk*u.ratio)}else o=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(r,n.min*n.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let a=0;for(;a<s;++a)this.getParsed(a)[n.axis]!==null&&i[a].draw(this._ctx)}}N2.id="bar";N2.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};N2.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class I2 extends Pa{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,s){const a=super.parsePrimitiveData(e,n,i,s);for(let r=0;r<a.length;r++)a[r]._custom=this.resolveDataElementOptions(r+i).radius;return a}parseArrayData(e,n,i,s){const a=super.parseArrayData(e,n,i,s);for(let r=0;r<a.length;r++){const o=n[i+r];a[r]._custom=Ve(o[2],this.resolveDataElementOptions(r+i).radius)}return a}parseObjectData(e,n,i,s){const a=super.parseObjectData(e,n,i,s);for(let r=0;r<a.length;r++){const o=n[i+r];a[r]._custom=Ve(o&&o.r&&+o.r,this.resolveDataElementOptions(r+i).radius)}return a}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,{xScale:i,yScale:s}=n,a=this.getParsed(e),r=i.getLabelForValue(a.x),o=s.getLabelForValue(a.y),l=a._custom;return{label:n.label,value:"("+r+", "+o+(l?", "+l:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,s){const a=s==="reset",{iScale:r,vScale:o}=this._cachedMeta,l=this.resolveDataElementOptions(n,s),c=this.getSharedOptions(l),u=this.includeOptions(s,c),d=r.axis,f=o.axis;for(let h=n;h<n+i;h++){const p=e[h],m=!a&&this.getParsed(h),y={},g=y[d]=a?r.getPixelForDecimal(.5):r.getPixelForValue(m[d]),v=y[f]=a?o.getBasePixel():o.getPixelForValue(m[f]);y.skip=isNaN(g)||isNaN(v),u&&(y.options=this.resolveDataElementOptions(h,p.active?"active":s),a&&(y.options.radius=0)),this.updateElement(p,h,y,s)}this.updateSharedOptions(c,s,l)}resolveDataElementOptions(e,n){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const a=s.radius;return n!=="active"&&(s.radius=0),s.radius+=Ve(i&&i._custom,a),s}}I2.id="bubble";I2.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};I2.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function IW(t,e,n){let i=1,s=1,a=0,r=0;if(e<yt){const o=t,l=o+e,c=Math.cos(o),u=Math.sin(o),d=Math.cos(l),f=Math.sin(l),h=(b,w,k)=>nh(b,o,l,!0)?1:Math.max(w,w*n,k,k*n),p=(b,w,k)=>nh(b,o,l,!0)?-1:Math.min(w,w*n,k,k*n),m=h(0,c,d),y=h(Wt,u,f),g=p(At,c,d),v=p(At+Wt,u,f);i=(m-g)/2,s=(y-v)/2,a=-(m+g)/2,r=-(y+v)/2}return{ratioX:i,ratioY:s,offsetX:a,offsetY:r}}class Th extends Pa{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let a=l=>+i[l];if(st(i[e])){const{key:l="value"}=this._parsing;a=c=>+uo(i[c],l)}let r,o;for(r=e,o=e+n;r<o;++r)s._parsed[r]=a(r)}}_getRotation(){return Hs(this.options.rotation-90)}_getCircumference(){return Hs(this.options.circumference)}_getRotationExtents(){let e=yt,n=-yt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const s=this.chart.getDatasetMeta(i).controller,a=s._getRotation(),r=s._getCircumference();e=Math.min(e,a),n=Math.max(n,a+r)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,a=s.data,r=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,o=Math.max((Math.min(i.width,i.height)-r)/2,0),l=Math.min(x7(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:h,offsetX:p,offsetY:m}=IW(d,u,l),y=(i.width-r)/f,g=(i.height-r)/h,v=Math.max(Math.min(y,g)/2,0),b=b6(this.options.radius,v),w=Math.max(b*l,0),k=(b-w)/this._getVisibleDatasetWeightTotal();this.offsetX=p*b,this.offsetY=m*b,s.total=this.calculateTotal(),this.outerRadius=b-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*c,0),this.updateElements(a,0,a.length,e)}_circumference(e,n){const i=this.options,s=this._cachedMeta,a=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*a/yt)}updateElements(e,n,i,s){const a=s==="reset",r=this.chart,o=r.chartArea,c=r.options.animation,u=(o.left+o.right)/2,d=(o.top+o.bottom)/2,f=a&&c.animateScale,h=f?0:this.innerRadius,p=f?0:this.outerRadius,m=this.resolveDataElementOptions(n,s),y=this.getSharedOptions(m),g=this.includeOptions(s,y);let v=this._getRotation(),b;for(b=0;b<n;++b)v+=this._circumference(b,a);for(b=n;b<n+i;++b){const w=this._circumference(b,a),k=e[b],x={x:u+this.offsetX,y:d+this.offsetY,startAngle:v,endAngle:v+w,circumference:w,outerRadius:p,innerRadius:h};g&&(x.options=y||this.resolveDataElementOptions(b,k.active?"active":s)),v+=w,this.updateElement(k,b,x,s)}this.updateSharedOptions(y,s,m)}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,s;for(s=0;s<n.length;s++){const a=e._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?yt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],a=Ih(n._parsed[e],i.options.locale);return{label:s[e]||"",value:a}}getMaxBorderWidth(e){let n=0;const i=this.chart;let s,a,r,o,l;if(!e){for(s=0,a=i.data.datasets.length;s<a;++s)if(i.isDatasetVisible(s)){r=i.getDatasetMeta(s),e=r.data,o=r.controller;break}}if(!e)return 0;for(s=0,a=e.length;s<a;++s)l=o.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,s=e.length;i<s;++i){const a=this.resolveDataElementOptions(i);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(Ve(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Th.id="doughnut";Th.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};Th.descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"};Th.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((i,s)=>{const r=t.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){let e=t.label;const n=": "+t.formattedValue;return xt(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class $h extends Pa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=n,r=this.chart._animationsDisabled;let{start:o,count:l}=TW(n,s,r);this._drawStart=o,this._drawCount=l,$W(n)&&(o=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:c},e),this.updateElements(s,o,l,e)}updateElements(e,n,i,s){const a=s==="reset",{iScale:r,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),d=this.getSharedOptions(u),f=this.includeOptions(s,d),h=r.axis,p=o.axis,{spanGaps:m,segment:y}=this.options,g=th(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||a||s==="none";let b=n>0&&this.getParsed(n-1);for(let w=n;w<n+i;++w){const k=e[w],x=this.getParsed(w),N=v?k:{},I=ot(x[p]),D=N[h]=r.getPixelForValue(x[h],w),R=N[p]=a||I?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,x,l):x[p],w);N.skip=isNaN(D)||isNaN(R)||I,N.stop=w>0&&Math.abs(x[h]-b[h])>g,y&&(N.parsed=x,N.raw=c.data[w]),f&&(N.options=d||this.resolveDataElementOptions(w,k.active?"active":s)),v||this.updateElement(k,w,N,s),b=x}this.updateSharedOptions(d,s,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}$h.id="line";$h.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};$h.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function TW(t,e,n){const i=e.length;let s=0,a=i;if(t._sorted){const{iScale:r,_parsed:o}=t,l=r.axis,{min:c,max:u,minDefined:d,maxDefined:f}=r.getUserBounds();d&&(s=Jn(Math.min(tl(o,r.axis,c).lo,n?i:tl(e,l,r.getPixelForValue(c)).lo),0,i-1)),f?a=Jn(Math.max(tl(o,r.axis,u).hi+1,n?0:tl(e,l,r.getPixelForValue(u)).hi+1),s,i)-s:a=i-s}return{start:s,count:a}}function $W(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const a=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),a}class T2 extends Pa{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],a=Ih(n._parsed[e].r,i.options.locale);return{label:s[e]||"",value:a}}parseObjectData(e,n,i,s){return O6.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const a=this.getParsed(s).r;!isNaN(a)&&this.chart.getDataVisibility(s)&&(a<n.min&&(n.min=a),a>n.max&&(n.max=a))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),a=Math.max(s/2,0),r=Math.max(i.cutoutPercentage?a/100*i.cutoutPercentage:1,0),o=(a-r)/e.getVisibleDatasetCount();this.outerRadius=a-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,n,i,s){const a=s==="reset",r=this.chart,l=r.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,f=c.getIndexAngle(0)-.5*At;let h=f,p;const m=360/this.countVisibleElements();for(p=0;p<n;++p)h+=this._computeAngle(p,s,m);for(p=n;p<n+i;p++){const y=e[p];let g=h,v=h+this._computeAngle(p,s,m),b=r.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;h=v,a&&(l.animateScale&&(b=0),l.animateRotate&&(g=v=f));const w={x:u,y:d,innerRadius:0,outerRadius:b,startAngle:g,endAngle:v,options:this.resolveDataElementOptions(p,y.active?"active":s)};this.updateElement(y,p,w,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?Hs(this.resolveDataElementOptions(e,n).angle||i):0}}T2.id="polarArea";T2.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};T2.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((i,s)=>{const r=t.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class H6 extends Th{}H6.id="pie";H6.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class $2 extends Pa{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,s){return O6.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta,i=n.dataset,s=n.data||[],a=n.iScale.getLabels();if(i.points=s,e!=="resize"){const r=this.resolveDatasetElementOptions(e);this.options.showLine||(r.borderWidth=0);const o={_loop:!0,_fullLoop:a.length===s.length,options:r};this.updateElement(i,void 0,o,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,i,s){const a=this._cachedMeta.rScale,r=s==="reset";for(let o=n;o<n+i;o++){const l=e[o],c=this.resolveDataElementOptions(o,l.active?"active":s),u=a.getPointPositionForValue(o,this.getParsed(o).r),d=r?a.xCenter:u.x,f=r?a.yCenter:u.y,h={x:d,y:f,angle:u.angle,skip:isNaN(d)||isNaN(f),options:c};this.updateElement(l,o,h,s)}}}$2.id="radar";$2.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};$2.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class E2 extends $h{}E2.id="scatter";E2.defaults={showLine:!1,fill:!1};E2.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function Mo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class i_{constructor(e){this.options=e||{}}formats(){return Mo()}parse(e,n){return Mo()}format(e,n){return Mo()}add(e,n,i){return Mo()}diff(e,n,i){return Mo()}startOf(e,n,i){return Mo()}endOf(e,n){return Mo()}}i_.override=function(t){Object.assign(i_.prototype,t)};var EW={_date:i_};function DW(t,e,n,i){const{controller:s,data:a,_sorted:r}=t,o=s._cachedMeta.iScale;if(o&&e===o.axis&&e!=="r"&&r&&a.length){const l=o._reversePixels?mV:tl;if(i){if(s._sharedOptions){const c=a[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(a,e,n-u),f=l(a,e,n+u);return{lo:d.lo,hi:f.hi}}}}else return l(a,e,n)}return{lo:0,hi:a.length-1}}function Eh(t,e,n,i,s){const a=t.getSortedVisibleDatasetMetas(),r=n[e];for(let o=0,l=a.length;o<l;++o){const{index:c,data:u}=a[o],{lo:d,hi:f}=DW(a[o],e,r,s);for(let h=d;h<=f;++h){const p=u[h];p.skip||i(p,c,h)}}}function AW(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const a=e?Math.abs(i.x-s.x):0,r=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(r,2))}}function Cw(t,e,n,i,s){const a=[];return!s&&!t.isPointInArea(e)||Eh(t,n,e,function(o,l,c){!s&&!ih(o,t.chartArea,0)||o.inRange(e.x,e.y,i)&&a.push({element:o,datasetIndex:l,index:c})},!0),a}function FW(t,e,n,i){let s=[];function a(r,o,l){const{startAngle:c,endAngle:u}=r.getProps(["startAngle","endAngle"],i),{angle:d}=_6(r,{x:e.x,y:e.y});nh(d,c,u)&&s.push({element:r,datasetIndex:o,index:l})}return Eh(t,n,e,a),s}function RW(t,e,n,i,s,a){let r=[];const o=AW(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const h=u.inRange(e.x,e.y,s);if(i&&!h)return;const p=u.getCenterPoint(s);if(!(!!a||t.isPointInArea(p))&&!h)return;const y=o(e,p);y<l?(r=[{element:u,datasetIndex:d,index:f}],l=y):y===l&&r.push({element:u,datasetIndex:d,index:f})}return Eh(t,n,e,c),r}function Nw(t,e,n,i,s,a){return!a&&!t.isPointInArea(e)?[]:n==="r"&&!i?FW(t,e,n,s):RW(t,e,n,i,s,a)}function z4(t,e,n,i,s){const a=[],r=n==="x"?"inXRange":"inYRange";let o=!1;return Eh(t,n,e,(l,c,u)=>{l[r](e[n],s)&&(a.push({element:l,datasetIndex:c,index:u}),o=o||l.inRange(e.x,e.y,s))}),i&&!o?[]:a}var OW={evaluateInteractionItems:Eh,modes:{index(t,e,n,i){const s=Ho(e,t),a=n.axis||"x",r=n.includeInvisible||!1,o=n.intersect?Cw(t,s,a,i,r):Nw(t,s,a,!1,i,r),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=o[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const s=Ho(e,t),a=n.axis||"xy",r=n.includeInvisible||!1;let o=n.intersect?Cw(t,s,a,i,r):Nw(t,s,a,!1,i,r);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let u=0;u<c.length;++u)o.push({element:c[u],datasetIndex:l,index:u})}return o},point(t,e,n,i){const s=Ho(e,t),a=n.axis||"xy",r=n.includeInvisible||!1;return Cw(t,s,a,i,r)},nearest(t,e,n,i){const s=Ho(e,t),a=n.axis||"xy",r=n.includeInvisible||!1;return Nw(t,s,a,n.intersect,i,r)},x(t,e,n,i){const s=Ho(e,t);return z4(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=Ho(e,t);return z4(t,s,"y",n.intersect,i)}}};const G6=["left","top","right","bottom"];function Xd(t,e){return t.filter(n=>n.pos===e)}function V4(t,e){return t.filter(n=>G6.indexOf(n.pos)===-1&&n.box.axis===e)}function Jd(t,e){return t.sort((n,i)=>{const s=e?i:n,a=e?n:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function PW(t){const e=[];let n,i,s,a,r,o;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:a,options:{stack:r,stackWeight:o=1}}=s,e.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:r&&a+r,stackWeight:o});return e}function LW(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:a}=n;if(!i||!G6.includes(s))continue;const r=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=a}return e}function MW(t,e){const n=LW(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let a,r,o;for(a=0,r=t.length;a<r;++a){o=t[a];const{fullSize:l}=o.box,c=n[o.stack],u=c&&o.stackWeight/c.weight;o.horizontal?(o.width=u?u*i:l&&e.availableWidth,o.height=s):(o.width=i,o.height=u?u*s:l&&e.availableHeight)}return n}function BW(t){const e=PW(t),n=Jd(e.filter(c=>c.box.fullSize),!0),i=Jd(Xd(e,"left"),!0),s=Jd(Xd(e,"right")),a=Jd(Xd(e,"top"),!0),r=Jd(Xd(e,"bottom")),o=V4(e,"x"),l=V4(e,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:s.concat(l).concat(r).concat(o),chartArea:Xd(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:a.concat(r).concat(o)}}function W4(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function U6(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function zW(t,e,n,i){const{pos:s,box:a}=n,r=t.maxPadding;if(!st(s)){n.size&&(t[s]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?a.height:a.width),n.size=d.size/d.count,t[s]+=n.size}a.getPadding&&U6(r,a.getPadding());const o=Math.max(0,e.outerWidth-W4(r,t,"left","right")),l=Math.max(0,e.outerHeight-W4(r,t,"top","bottom")),c=o!==t.w,u=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function VW(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function WW(t,e){const n=e.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(r=>{a[r]=Math.max(e[r],n[r])}),a}return i(t?["left","right"]:["top","bottom"])}function ff(t,e,n,i){const s=[];let a,r,o,l,c,u;for(a=0,r=t.length,c=0;a<r;++a){o=t[a],l=o.box,l.update(o.width||e.w,o.height||e.h,WW(o.horizontal,e));const{same:d,other:f}=zW(e,n,o,i);c|=d&&s.length,u=u||f,l.fullSize||s.push(o)}return c&&ff(s,e,n,i)||u}function qm(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function j4(t,e,n,i){const s=n.padding;let{x:a,y:r}=e;for(const o of t){const l=o.box,c=i[o.stack]||{count:1,placed:0,weight:1},u=o.stackWeight/c.weight||1;if(o.horizontal){const d=e.w*u,f=c.size||l.height;Ss(c.start)&&(r=c.start),l.fullSize?qm(l,s.left,r,n.outerWidth-s.right-s.left,f):qm(l,e.left+c.placed,r,d,f),c.start=r,c.placed+=d,r=l.bottom}else{const d=e.h*u,f=c.size||l.width;Ss(c.start)&&(a=c.start),l.fullSize?qm(l,a,s.top,f,n.outerHeight-s.bottom-s.top):qm(l,a,e.top+c.placed,f,d),c.start=a,c.placed+=d,a=l.right}}e.x=a,e.y=r}Ye.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var ms={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=Qn(t.options.layout.padding),a=Math.max(e-s.width,0),r=Math.max(n-s.height,0),o=BW(t.boxes),l=o.vertical,c=o.horizontal;rt(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,y)=>y.box.options&&y.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:a,availableHeight:r,vBoxMaxWidth:a/2/u,hBoxMaxHeight:r/2}),f=Object.assign({},s);U6(f,Qn(i));const h=Object.assign({maxPadding:f,w:a,h:r,x:s.left,y:s.top},s),p=MW(l.concat(c),d);ff(o.fullSize,h,d,p),ff(l,h,d,p),ff(c,h,d,p)&&ff(l,h,d,p),VW(h),j4(o.leftAndTop,h,d,p),h.x+=h.w,h.y+=h.h,j4(o.rightAndBottom,h,d,p),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},rt(o.chartArea,m=>{const y=m.box;Object.assign(y,t.chartArea),y.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class q6{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class jW extends q6{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Mg="$chartjs",HW={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},H4=t=>t===null||t==="";function GW(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[Mg]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",H4(s)){const a=C4(t,"width");a!==void 0&&(t.width=a)}if(H4(i))if(t.style.height==="")t.height=t.width/(e||2);else{const a=C4(t,"height");a!==void 0&&(t.height=a)}return t}const K6=zV?{passive:!0}:!1;function UW(t,e,n){t.addEventListener(e,n,K6)}function qW(t,e,n){t.canvas.removeEventListener(e,n,K6)}function KW(t,e){const n=HW[t.type]||t.type,{x:i,y:s}=Ho(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function C1(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function XW(t,e,n){const i=t.canvas,s=new MutationObserver(a=>{let r=!1;for(const o of a)r=r||C1(o.addedNodes,i),r=r&&!C1(o.removedNodes,i);r&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function JW(t,e,n){const i=t.canvas,s=new MutationObserver(a=>{let r=!1;for(const o of a)r=r||C1(o.removedNodes,i),r=r&&!C1(o.addedNodes,i);r&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const ah=new Map;let G4=0;function X6(){const t=window.devicePixelRatio;t!==G4&&(G4=t,ah.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function YW(t,e){ah.size||window.addEventListener("resize",X6),ah.set(t,e)}function QW(t){ah.delete(t),ah.size||window.removeEventListener("resize",X6)}function ZW(t,e,n){const i=t.canvas,s=i&&C2(i);if(!s)return;const a=v6((o,l)=>{const c=s.clientWidth;n(o,l),c<s.clientWidth&&n()},window),r=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||a(c,u)});return r.observe(s),YW(t,a),r}function Iw(t,e,n){n&&n.disconnect(),e==="resize"&&QW(t)}function ej(t,e,n){const i=t.canvas,s=v6(a=>{t.ctx!==null&&n(KW(a,t))},t,a=>{const r=a[0];return[r,r.offsetX,r.offsetY]});return UW(i,e,s),s}class tj extends q6{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(GW(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Mg])return!1;const i=n[Mg].initial;["height","width"].forEach(a=>{const r=i[a];ot(r)?n.removeAttribute(a):n.setAttribute(a,r)});const s=i.style||{};return Object.keys(s).forEach(a=>{n.style[a]=s[a]}),n.width=n.width,delete n[Mg],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),r={attach:XW,detach:JW,resize:ZW}[n]||ej;s[n]=r(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:Iw,detach:Iw,resize:Iw}[n]||qW)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return BV(e,n,i,s)}isAttached(e){const n=C2(e);return!!(n&&n.isConnected)}}function nj(t){return!L6()||typeof OffscreenCanvas!="undefined"&&t instanceof OffscreenCanvas?jW:tj}class na{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return th(this.x)&&th(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}}na.defaults={};na.defaultRoutes=void 0;const J6={values(t){return xt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,a=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),a=ij(t,n)}const r=hs(Math.abs(a)),o=Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Ih(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=t/Math.pow(10,Math.floor(hs(t)));return i===1||i===2||i===5?J6.numeric.call(this,t,e,n):""}};function ij(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var V0={formatters:J6};Ye.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:V0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});Ye.route("scale.ticks","color","","color");Ye.route("scale.grid","color","","borderColor");Ye.route("scale.grid","borderColor","","borderColor");Ye.route("scale.title","color","","color");Ye.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"});Ye.describe("scales",{_fallback:"scale"});Ye.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"});function sj(t,e){const n=t.options.ticks,i=n.maxTicksLimit||aj(t),s=n.major.enabled?oj(e):[],a=s.length,r=s[0],o=s[a-1],l=[];if(a>i)return lj(e,l,s,a/i),l;const c=rj(s,e,i);if(a>0){let u,d;const f=a>1?Math.round((o-r)/(a-1)):null;for(Km(e,l,c,ot(f)?0:r-f,r),u=0,d=a-1;u<d;u++)Km(e,l,c,s[u],s[u+1]);return Km(e,l,c,o,ot(f)?e.length:o+f),l}return Km(e,l,c),l}function aj(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function rj(t,e,n){const i=cj(t),s=e.length/n;if(!i)return Math.max(s,1);const a=D7(i);for(let r=0,o=a.length-1;r<o;r++){const l=a[r];if(l>s)return l}return Math.max(s,1)}function oj(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function lj(t,e,n,i){let s=0,a=n[0],r;for(i=Math.ceil(i),r=0;r<t.length;r++)r===a&&(e.push(t[r]),s++,a=n[s*i])}function Km(t,e,n,i,s){const a=Ve(i,0),r=Math.min(Ve(s,t.length),t.length);let o=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),u=a;u<0;)o++,u=Math.round(a+o*n);for(c=Math.max(a,0);c<r;c++)c===u&&(e.push(t[c]),o++,u=Math.round(a+o*n))}function cj(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const uj=t=>t==="left"?"right":t==="right"?"left":t,U4=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n;function q4(t,e){const n=[],i=t.length/e,s=t.length;let a=0;for(;a<s;a+=i)n.push(t[Math.floor(a)]);return n}function dj(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),a=t._startPixel,r=t._endPixel,o=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-a,r-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<a-o||l>r+o)))return l}function fj(t,e){rt(t,n=>{const i=n.gc,s=i.length/2;let a;if(s>e){for(a=0;a<s;++a)delete n.data[i[a]];i.splice(0,s)}})}function Yd(t){return t.drawTicks?t.tickLength:0}function K4(t,e){if(!t.display)return 0;const n=dn(t.font,e),i=Qn(t.padding);return(xt(t.text)?t.text.length:1)*n.lineHeight+i.height}function hj(t,e){return Co(t,{scale:e,type:"scale"})}function pj(t,e,n){return Co(t,{tick:n,index:e,type:"tick"})}function mj(t,e,n){let i=f2(t);return(n&&e!=="right"||!n&&e==="right")&&(i=uj(i)),i}function gj(t,e,n,i){const{top:s,left:a,bottom:r,right:o,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,h,p;const m=r-s,y=o-a;if(t.isHorizontal()){if(h=jn(i,a,o),st(n)){const g=Object.keys(n)[0],v=n[g];p=u[g].getPixelForValue(v)+m-e}else n==="center"?p=(c.bottom+c.top)/2+m-e:p=U4(t,n,e);f=o-a}else{if(st(n)){const g=Object.keys(n)[0],v=n[g];h=u[g].getPixelForValue(v)-y+e}else n==="center"?h=(c.left+c.right)/2-y+e:h=U4(t,n,e);p=jn(i,r,s),d=n==="left"?-Wt:Wt}return{titleX:h,titleY:p,maxWidth:f,rotation:d}}class zl extends na{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=ls(e,Number.POSITIVE_INFINITY),n=ls(n,Number.NEGATIVE_INFINITY),i=ls(i,Number.POSITIVE_INFINITY),s=ls(s,Number.NEGATIVE_INFINITY),{min:ls(e,i),max:ls(n,s),minDefined:Pn(e),maxDefined:Pn(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),r;if(s&&a)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)r=o[l].controller.getMinMax(this,e),s||(n=Math.min(n,r.min)),a||(i=Math.max(i,r.max));return n=a&&n>i?i:n,i=s&&n>i?n:i,{min:ls(n,ls(i,n)),max:ls(i,ls(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:a,ticks:r}=this.options,o=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=pV(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?q4(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=sj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pt(this.options.afterUpdate,[this])}beforeSetDimensions(){pt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),pt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,a;for(i=0,s=e.length;i<s;i++)a=e[i],a.label=pt(n.callback,[a.value,i,e],this)}afterTickToLabelConversion(){pt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=this.ticks.length,s=n.minRotation||0,a=n.maxRotation;let r=s,o,l,c;if(!this._isVisible()||!n.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,h=Jn(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/i:h/(i-1),d+6>o&&(o=h/(i-(e.offset?.5:1)),l=this.maxHeight-Yd(e.grid)-n.padding-K4(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),r=p2(Math.min(Math.asin(Jn((u.highest.height+6)/o,-1,1)),Math.asin(Jn(l/c,-1,1))-Math.asin(Jn(f/c,-1,1)))),r=Math.max(s,Math.min(a,r))),this.labelRotation=r}afterCalculateLabelRotation(){pt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:a}}=this,r=this._isVisible(),o=this.isHorizontal();if(r){const l=K4(s,n.options.font);if(o?(e.width=this.maxWidth,e.height=Yd(a)+l):(e.height=this.maxHeight,e.width=Yd(a)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),h=i.padding*2,p=Hs(this.labelRotation),m=Math.cos(p),y=Math.sin(p);if(o){const g=i.mirror?0:y*d.width+m*f.height;e.height=Math.min(this.maxHeight,e.height+g+h)}else{const g=i.mirror?0:m*d.width+y*f.height;e.width=Math.min(this.maxWidth,e.width+g+h)}this._calculatePadding(c,u,y,m)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:a,padding:r},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,h=0;l?c?(f=s*e.width,h=i*n.height):(f=i*e.height,h=s*n.width):a==="start"?h=n.width:a==="end"?f=e.width:a!=="inner"&&(f=e.width/2,h=n.width/2),this.paddingLeft=Math.max((f-u+r)*this.width/(this.width-u),0),this.paddingRight=Math.max((h-d+r)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;a==="start"?(u=0,d=e.height):a==="end"&&(u=n.height,d=0),this.paddingTop=u+r,this.paddingBottom=d+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)ot(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=q4(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length)}return e}_computeLabelSizes(e,n){const{ctx:i,_longestTextCache:s}=this,a=[],r=[];let o=0,l=0,c,u,d,f,h,p,m,y,g,v,b;for(c=0;c<n;++c){if(f=e[c].label,h=this._resolveTickFontOptions(c),i.font=p=h.string,m=s[p]=s[p]||{data:{},gc:[]},y=h.lineHeight,g=v=0,!ot(f)&&!xt(f))g=_1(i,m.data,m.gc,g,f),v=y;else if(xt(f))for(u=0,d=f.length;u<d;++u)b=f[u],!ot(b)&&!xt(b)&&(g=_1(i,m.data,m.gc,g,b),v+=y);a.push(g),r.push(v),o=Math.max(g,o),l=Math.max(v,l)}fj(s,n);const w=a.indexOf(o),k=r.indexOf(l),x=N=>({width:a[N]||0,height:r[N]||0});return{first:x(0),last:x(n-1),widest:x(w),highest:x(k),widths:a,heights:r}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return R7(this._alignToPixels?Lo(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=pj(this.getContext(),e,i))}return this.$context||(this.$context=hj(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Hs(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),a=this._getLabelSizes(),r=e.autoSkipPadding||0,o=a?a.widest.width+r:0,l=a?a.highest.height+r:0;return this.isHorizontal()?l*i>o*s?o/i:l/s:l*s<o*i?l/i:o/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:a,position:r}=s,o=a.offset,l=this.isHorizontal(),u=this.ticks.length+(o?1:0),d=Yd(a),f=[],h=a.setContext(this.getContext()),p=h.drawBorder?h.borderWidth:0,m=p/2,y=function(S){return Lo(i,S,p)};let g,v,b,w,k,x,N,I,D,R,L,O;if(r==="top")g=y(this.bottom),x=this.bottom-d,I=g-m,R=y(e.top)+m,O=e.bottom;else if(r==="bottom")g=y(this.top),R=e.top,O=y(e.bottom)-m,x=g+m,I=this.top+d;else if(r==="left")g=y(this.right),k=this.right-d,N=g-m,D=y(e.left)+m,L=e.right;else if(r==="right")g=y(this.left),D=e.left,L=y(e.right)-m,k=g+m,N=this.left+d;else if(n==="x"){if(r==="center")g=y((e.top+e.bottom)/2+.5);else if(st(r)){const S=Object.keys(r)[0],$=r[S];g=y(this.chart.scales[S].getPixelForValue($))}R=e.top,O=e.bottom,x=g+m,I=x+d}else if(n==="y"){if(r==="center")g=y((e.left+e.right)/2);else if(st(r)){const S=Object.keys(r)[0],$=r[S];g=y(this.chart.scales[S].getPixelForValue($))}k=g-m,N=k-d,D=e.left,L=e.right}const T=Ve(s.ticks.maxTicksLimit,u),A=Math.max(1,Math.ceil(u/T));for(v=0;v<u;v+=A){const S=a.setContext(this.getContext(v)),$=S.lineWidth,K=S.color,M=a.borderDash||[],U=S.borderDashOffset,Q=S.tickWidth,ee=S.tickColor,ie=S.tickBorderDash||[],se=S.tickBorderDashOffset;b=dj(this,v,o),b!==void 0&&(w=Lo(i,b,$),l?k=N=D=L=w:x=I=R=O=w,f.push({tx1:k,ty1:x,tx2:N,ty2:I,x1:D,y1:R,x2:L,y2:O,width:$,color:K,borderDash:M,borderDashOffset:U,tickWidth:Q,tickColor:ee,tickBorderDash:ie,tickBorderDashOffset:se}))}return this._ticksLength=u,this._borderValue=g,f}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:a}=i,r=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=a,f=Yd(i.grid),h=f+u,p=d?-u:h,m=-Hs(this.labelRotation),y=[];let g,v,b,w,k,x,N,I,D,R,L,O,T="middle";if(s==="top")x=this.bottom-p,N=this._getXAxisLabelAlignment();else if(s==="bottom")x=this.top+p,N=this._getXAxisLabelAlignment();else if(s==="left"){const S=this._getYAxisLabelAlignment(f);N=S.textAlign,k=S.x}else if(s==="right"){const S=this._getYAxisLabelAlignment(f);N=S.textAlign,k=S.x}else if(n==="x"){if(s==="center")x=(e.top+e.bottom)/2+h;else if(st(s)){const S=Object.keys(s)[0],$=s[S];x=this.chart.scales[S].getPixelForValue($)+h}N=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")k=(e.left+e.right)/2-h;else if(st(s)){const S=Object.keys(s)[0],$=s[S];k=this.chart.scales[S].getPixelForValue($)}N=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?T="top":l==="end"&&(T="bottom"));const A=this._getLabelSizes();for(g=0,v=o.length;g<v;++g){b=o[g],w=b.label;const S=a.setContext(this.getContext(g));I=this.getPixelForTick(g)+a.labelOffset,D=this._resolveTickFontOptions(g),R=D.lineHeight,L=xt(w)?w.length:1;const $=L/2,K=S.color,M=S.textStrokeColor,U=S.textStrokeWidth;let Q=N;r?(k=I,N==="inner"&&(g===v-1?Q=this.options.reverse?"left":"right":g===0?Q=this.options.reverse?"right":"left":Q="center"),s==="top"?c==="near"||m!==0?O=-L*R+R/2:c==="center"?O=-A.highest.height/2-$*R+R:O=-A.highest.height+R/2:c==="near"||m!==0?O=R/2:c==="center"?O=A.highest.height/2-$*R:O=A.highest.height-L*R,d&&(O*=-1)):(x=I,O=(1-L)*R/2);let ee;if(S.showLabelBackdrop){const ie=Qn(S.backdropPadding),se=A.heights[g],ce=A.widths[g];let le=x+O-ie.top,ue=k-ie.left;switch(T){case"middle":le-=se/2;break;case"bottom":le-=se;break}switch(N){case"center":ue-=ce/2;break;case"right":ue-=ce;break}ee={left:ue,top:le,width:ce+ie.width,height:se+ie.height,color:S.backdropColor}}y.push({rotation:m,label:w,font:D,color:K,strokeColor:M,strokeWidth:U,textOffset:O,textAlign:Q,textBaseline:T,translation:[k,x],backdrop:ee})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Hs(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,r=this._getLabelSizes(),o=e+a,l=r.widest.width;let c,u;return n==="left"?s?(u=this.right+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-o,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+o,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:a,height:r}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,a,r),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(a=>a.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,r;const o=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(a=0,r=s.length;a<r;++a){const l=s[a];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{grid:i}}=this,s=i.setContext(this.getContext()),a=i.drawBorder?s.borderWidth:0;if(!a)return;const r=i.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,u,d;this.isHorizontal()?(l=Lo(e,this.left,a)-a/2,c=Lo(e,this.right,r)+r/2,u=d=o):(u=Lo(e,this.top,a)-a/2,d=Lo(e,this.bottom,r)+r/2,l=c=o),n.save(),n.lineWidth=s.borderWidth,n.strokeStyle=s.borderColor,n.beginPath(),n.moveTo(l,u),n.lineTo(c,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&v2(i,s);const a=this._labelItems||(this._labelItems=this._computeLabelItems(e));let r,o;for(r=0,o=a.length;r<o;++r){const l=a[r],c=l.font,u=l.label;l.backdrop&&(i.fillStyle=l.backdrop.color,i.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height));let d=l.textOffset;wl(i,u,0,d,c,l)}s&&b2(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const a=dn(i.font),r=Qn(i.padding),o=i.align;let l=a.lineHeight/2;n==="bottom"||n==="center"||st(n)?(l+=r.bottom,xt(i.text)&&(l+=a.lineHeight*(i.text.length-1))):l+=r.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=gj(this,l,n,o);wl(e,i.text,0,0,a,{color:i.color,maxWidth:d,rotation:f,textAlign:mj(o,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Ve(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==zl.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,r;for(a=0,r=n.length;a<r;++a){const o=n[a];o[i]===this.id&&(!e||o.type===e)&&s.push(o)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return dn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Xm{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;bj(n)&&(i=this.register(n));const s=this.items,a=e.id,r=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in s||(s[a]=e,yj(e,r,i),this.override&&Ye.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in Ye[s]&&(delete Ye[s][i],this.override&&delete bl[i])}}function yj(t,e,n){const i=eh(Object.create(null),[n?Ye.get(n):{},Ye.get(e),t.defaults]);Ye.set(e,i),t.defaultRoutes&&vj(e,t.defaultRoutes),t.descriptors&&Ye.describe(e,t.descriptors)}function vj(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),a=[t].concat(i).join("."),r=e[n].split("."),o=r.pop(),l=r.join(".");Ye.route(a,s,l,o)})}function bj(t){return"id"in t&&"defaults"in t}class wj{constructor(){this.controllers=new Xm(Pa,"datasets",!0),this.elements=new Xm(na,"elements"),this.plugins=new Xm(Object,"plugins"),this.scales=new Xm(zl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(e,a,s):rt(s,r=>{const o=i||this._getRegistryForType(r);this._exec(e,o,r)})})}_exec(e,n,i){const s=h2(e);pt(i["before"+s],[],i),n[e](i),pt(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var er=new wj;class kj{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=s?this._descriptors(e).filter(s):this._descriptors(e),r=this._notify(a,e,n,i);return n==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,n,i,s){s=s||{};for(const a of e){const r=a.plugin,o=r[i],l=[n,s,a.options];if(pt(o,l,r)===!1&&s.cancelable)return!1}return!0}invalidate(){ot(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=Ve(i.options&&i.options.plugins,{}),a=_j(i);return s===!1&&!n?[]:Sj(e,a,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(a,r)=>a.filter(o=>!r.some(l=>o.plugin.id===l.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function _j(t){const e=[],n=Object.keys(er.plugins.items);for(let s=0;s<n.length;s++)e.push(er.getPlugin(n[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];e.indexOf(a)===-1&&e.push(a)}return e}function xj(t,e){return!e&&t===!1?null:t===!0?{}:t}function Sj(t,e,n,i){const s=[],a=t.getContext();for(let r=0;r<e.length;r++){const o=e[r],l=o.id,c=xj(n[l],i);c!==null&&s.push({plugin:o,options:Cj(t.config,o,c,a)})}return s}function Cj(t,e,n,i){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(n,s);return t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function s_(t,e){const n=Ye.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Nj(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Ij(t,e){return t===e?"_index_":"_value_"}function Tj(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function a_(t,e){return t==="x"||t==="y"?t:e.axis||Tj(e.position)||t.charAt(0).toLowerCase()}function $j(t,e){const n=bl[t.type]||{scales:{}},i=e.scales||{},s=s_(t.type,e),a=Object.create(null),r=Object.create(null);return Object.keys(i).forEach(o=>{const l=i[o];if(!st(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=a_(o,l),u=Ij(c,s),d=n.scales||{};a[c]=a[c]||o,r[o]=$f(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||s_(l,e),d=(bl[l]||{}).scales||{};Object.keys(d).forEach(f=>{const h=Nj(f,c),p=o[h+"AxisID"]||a[h]||h;r[p]=r[p]||Object.create(null),$f(r[p],[{axis:h},i[p],d[f]])})}),Object.keys(r).forEach(o=>{const l=r[o];$f(l,[Ye.scales[l.type],Ye.scale])}),r}function Y6(t){const e=t.options||(t.options={});e.plugins=Ve(e.plugins,{}),e.scales=$j(t,e)}function Q6(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Ej(t){return t=t||{},t.data=Q6(t.data),Y6(t),t}const X4=new Map,Z6=new Set;function Jm(t,e){let n=X4.get(t);return n||(n=e(),X4.set(t,n),Z6.add(n)),n}const Qd=(t,e,n)=>{const i=uo(e,n);i!==void 0&&t.add(i)};class Dj{constructor(e){this._config=Ej(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Q6(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Y6(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Jm(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Jm(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Jm(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Jm(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:a}=this,r=this._cachedScopes(e,i),o=r.get(n);if(o)return o;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Qd(l,e,d))),u.forEach(d=>Qd(l,s,d)),u.forEach(d=>Qd(l,bl[a]||{},d)),u.forEach(d=>Qd(l,Ye,d)),u.forEach(d=>Qd(l,n_,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Z6.has(n)&&r.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,bl[n]||{},Ye.datasets[n]||{},{type:n},Ye,n_]}resolveNamedOptions(e,n,i,s=[""]){const a={$shared:!0},{resolver:r,subPrefixes:o}=J4(this._resolverCache,e,s);let l=r;if(Fj(r,n)){a.$shared=!1,i=fo(i)?i():i;const c=this.createResolver(e,i,o);l=Hc(r,i,c)}for(const c of n)a[c]=l[c];return a}createResolver(e,n,i=[""],s){const{resolver:a}=J4(this._resolverCache,e,i);return st(n)?Hc(a,n,void 0,s):a}}function J4(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let a=i.get(s);return a||(a={resolver:_2(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},i.set(s,a)),a}const Aj=t=>st(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||fo(t[n]),!1);function Fj(t,e){const{isScriptable:n,isIndexable:i}=D6(t);for(const s of e){const a=n(s),r=i(s),o=(r||a)&&t[s];if(a&&(fo(o)||Aj(o))||r&&xt(o))return!0}return!1}var Rj="3.8.0";const Oj=["top","bottom","left","right","chartArea"];function Y4(t,e){return t==="top"||t==="bottom"||Oj.indexOf(t)===-1&&e==="x"}function Q4(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Z4(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),pt(n&&n.onComplete,[t],e)}function Pj(t){const e=t.chart,n=e.options.animation;pt(n&&n.onProgress,[t],e)}function eF(t){return L6()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const N1={},tF=t=>{const e=eF(t);return Object.values(N1).filter(n=>n.canvas===e).pop()};function Lj(t,e,n){const i=Object.keys(t);for(const s of i){const a=+s;if(a>=e){const r=t[s];delete t[s],(n>0||a>e)&&(t[a+n]=r)}}}function Mj(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}class Dh{constructor(e,n){const i=this.config=new Dj(n),s=eF(e),a=tF(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas can be reused.");const r=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||nj(s)),this.platform.updateConfig(i);const o=this.platform.acquireContext(s,r.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=_7(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kj,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=w7(d=>this.update(d),r.resizeDelay||0),this._dataChanges=[],N1[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Va.listen(this,"complete",Z4),Va.listen(this,"progress",Pj),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:a}=this;return ot(e)?n&&a?a:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():S4(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return w4(this.canvas,this.ctx),this}stop(){return Va.stop(this),this}resize(e,n){Va.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(s,e,n,a),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,S4(this,o,!0)&&(this.notifyPlugins("resize",{size:r}),pt(i.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};rt(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((r,o)=>(r[o]=!1,r),{});let a=[];n&&(a=a.concat(Object.keys(n).map(r=>{const o=n[r],l=a_(r,o),c=l==="r",u=l==="x";return{options:o,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),rt(a,r=>{const o=r.options,l=o.id,c=a_(l,o),u=Ve(o.type,r.dtype);(o.position===void 0||Y4(o.position,c)!==Y4(r.dposition))&&(o.position=r.dposition),s[l]=!0;let d=null;if(l in i&&i[l].type===u)d=i[l];else{const f=er.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(o,e)}),rt(s,(r,o)=>{r||delete i[o]}),rt(i,r=>{ms.configure(this,r,r.options),ms.addBox(this,r)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,a)=>s.index-a.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Q4("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const a=n[i];let r=this.getDatasetMeta(i);const o=a.type||this.config.type;if(r.type&&r.type!==o&&(this._destroyDatasetMeta(i),r=this.getDatasetMeta(i)),r.type=o,r.indexAxis=a.indexAxis||s_(o,this.options),r.order=a.order||0,r.index=i,r.label=""+a.label,r.visible=this.isDatasetVisible(i),r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{const l=er.getController(o),{datasetElementType:c,dataElementType:u}=Ye.datasets[o];Object.assign(l.prototype,{dataElementType:er.getElement(u),datasetElementType:c&&er.getElement(c)}),r.controller=new l(this,i),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){rt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!s&&a.indexOf(d)===-1;d.buildOrUpdateElements(f),r=Math.max(+d.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),s||rt(a,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Q4("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){rt(this.scales,e=>{ms.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!c4(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of n){const r=i==="_removeElements"?-a:a;Lj(e,s,r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=a=>new Set(e.filter(r=>r[0]===a).map((r,o)=>o+","+r.splice(1).join(","))),s=i(0);for(let a=1;a<n;a++)if(!c4(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ms.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],rt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,fo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Va.has(this)?this.attached&&!Va.running(this)&&Va.start(this):(this.draw(),Z4({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,a;for(s=0,a=n.length;s<a;++s){const r=n[s];(!e||r.visible)&&i.push(r)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,s=!i.disabled,a=this.chartArea,r={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&v2(n,{left:i.left===!1?0:a.left-i.left,right:i.right===!1?this.width:a.right+i.right,top:i.top===!1?0:a.top-i.top,bottom:i.bottom===!1?this.height:a.bottom+i.bottom}),e.controller.draw(),s&&b2(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return ih(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const a=OW.modes[n];return typeof a=="function"?a(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(a=>a&&a._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Co(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",a=this.getDatasetMeta(e),r=a.controller._resolveAnimations(void 0,s);Ss(n)?(a.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),r.update(a,{visible:i}),this.update(o=>o.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Va.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),w4(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete N1[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(a,r)=>{n.addEventListener(this,a,r),e[a]=r},s=(a,r,o)=>{a.offsetX=r,a.offsetY=o,this._eventHandler(a)};rt(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},a=(l,c)=>{this.canvas&&this.resize(l,c)};let r;const o=()=>{s("attach",o),this.attached=!0,this.resize(),i("resize",a),i("detach",r)};r=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",o)},n.isAttached(this.canvas)?o():r()}unbindEvents(){rt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},rt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let a,r,o,l;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){r=e[o];const c=r&&this.getDatasetMeta(r.datasetIndex).controller;c&&c[s+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:a,index:r})=>{const o=this.getDatasetMeta(a);if(!o)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:o.data[r],index:r}});!v1(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}_updateHoverStyles(e,n,i){const s=this.options.hover,a=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),r=a(n,e),o=i?e:a(e,n);r.length&&this.updateHoverStyle(r,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=r=>(r.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:a}=this,r=n,o=this._getActiveElements(e,s,i,r),l=T7(e),c=Mj(e,this._lastEvent,i,l);i&&(this._lastEvent=null,pt(a.onHover,[e,o,this],this),l&&pt(a.onClick,[e,o,this],this));const u=!v1(o,s);return(u||n)&&(this._active=o,this._updateHoverStyles(o,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}}const eT=()=>rt(Dh.instances,t=>t._plugins.invalidate()),Nr=!0;Object.defineProperties(Dh,{defaults:{enumerable:Nr,value:Ye},instances:{enumerable:Nr,value:N1},overrides:{enumerable:Nr,value:bl},registry:{enumerable:Nr,value:er},version:{enumerable:Nr,value:Rj},getChart:{enumerable:Nr,value:tF},register:{enumerable:Nr,value:(...t)=>{er.add(...t),eT()}},unregister:{enumerable:Nr,value:(...t)=>{er.remove(...t),eT()}}});function nF(t,e,n){const{startAngle:i,pixelMargin:s,x:a,y:r,outerRadius:o,innerRadius:l}=e;let c=s/o;t.beginPath(),t.arc(a,r,o,i-c,n+c),l>s?(c=s/l,t.arc(a,r,l,n+c,i-c,!0)):t.arc(a,r,s,n+Wt,i-Wt),t.closePath(),t.clip()}function Bj(t){return w2(t,["outerStart","outerEnd","innerStart","innerEnd"])}function zj(t,e,n,i){const s=Bj(t.options.borderRadius),a=(n-e)/2,r=Math.min(a,i*e/2),o=l=>{const c=(n-Math.min(a,l))*i/2;return Jn(l,0,Math.min(a,c))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:Jn(s.innerStart,0,r),innerEnd:Jn(s.innerEnd,0,r)}}function ic(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function r_(t,e,n,i,s){const{x:a,y:r,startAngle:o,pixelMargin:l,innerRadius:c}=e,u=Math.max(e.outerRadius+i+n-l,0),d=c>0?c+i+n+l:0;let f=0;const h=s-o;if(i){const $=c>0?c-i:0,K=u>0?u-i:0,M=($+K)/2,U=M!==0?h*M/(M+i):h;f=(h-U)/2}const p=Math.max(.001,h*u-n/At)/u,m=(h-p)/2,y=o+m+f,g=s-m-f,{outerStart:v,outerEnd:b,innerStart:w,innerEnd:k}=zj(e,d,u,g-y),x=u-v,N=u-b,I=y+v/x,D=g-b/N,R=d+w,L=d+k,O=y+w/R,T=g-k/L;if(t.beginPath(),t.arc(a,r,u,I,D),b>0){const $=ic(N,D,a,r);t.arc($.x,$.y,b,D,g+Wt)}const A=ic(L,g,a,r);if(t.lineTo(A.x,A.y),k>0){const $=ic(L,T,a,r);t.arc($.x,$.y,k,g+Wt,T+Math.PI)}if(t.arc(a,r,d,g-k/d,y+w/d,!0),w>0){const $=ic(R,O,a,r);t.arc($.x,$.y,w,O+Math.PI,y-Wt)}const S=ic(x,y,a,r);if(t.lineTo(S.x,S.y),v>0){const $=ic(x,I,a,r);t.arc($.x,$.y,v,y-Wt,I)}t.closePath()}function Vj(t,e,n,i){const{fullCircles:s,startAngle:a,circumference:r}=e;let o=e.endAngle;if(s){r_(t,e,n,i,a+yt);for(let l=0;l<s;++l)t.fill();isNaN(r)||(o=a+r%yt,r%yt===0&&(o+=yt))}return r_(t,e,n,i,o),t.fill(),o}function Wj(t,e,n){const{x:i,y:s,startAngle:a,pixelMargin:r,fullCircles:o}=e,l=Math.max(e.outerRadius-r,0),c=e.innerRadius+r;let u;for(n&&nF(t,e,a+yt),t.beginPath(),t.arc(i,s,c,a+yt,a,!0),u=0;u<o;++u)t.stroke();for(t.beginPath(),t.arc(i,s,l,a,a+yt),u=0;u<o;++u)t.stroke()}function jj(t,e,n,i,s){const{options:a}=e,{borderWidth:r,borderJoinStyle:o}=a,l=a.borderAlign==="inner";!r||(l?(t.lineWidth=r*2,t.lineJoin=o||"round"):(t.lineWidth=r,t.lineJoin=o||"bevel"),e.fullCircles&&Wj(t,e,l),l&&nF(t,e,s),r_(t,e,n,i,s),t.stroke())}class D2 extends na{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const s=this.getProps(["x","y"],i),{angle:a,distance:r}=_6(s,{x:e,y:n}),{startAngle:o,endAngle:l,innerRadius:c,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=this.options.spacing/2,p=Ve(d,l-o)>=yt||nh(a,o,l),m=Br(r,c+f,u+f);return p&&m}getCenterPoint(e){const{x:n,y:i,startAngle:s,endAngle:a,innerRadius:r,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:l,spacing:c}=this.options,u=(s+a)/2,d=(r+o+c+l)/2;return{x:n+Math.cos(u)*d,y:i+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,s=(n.offset||0)/2,a=(n.spacing||0)/2;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>yt?Math.floor(i/yt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let r=0;if(s){r=s/2;const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*r,Math.sin(l)*r),this.circumference>=At&&(r=s)}e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor;const o=Vj(e,this,r,a);jj(e,this,r,a,o),e.restore()}}D2.id="arc";D2.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};D2.defaultRoutes={backgroundColor:"backgroundColor"};function iF(t,e,n=e){t.lineCap=Ve(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ve(n.borderDash,e.borderDash)),t.lineDashOffset=Ve(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ve(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ve(n.borderWidth,e.borderWidth),t.strokeStyle=Ve(n.borderColor,e.borderColor)}function Hj(t,e,n){t.lineTo(n.x,n.y)}function Gj(t){return t.stepped?rV:t.tension||t.cubicInterpolationMode==="monotone"?oV:Hj}function sF(t,e,n={}){const i=t.length,{start:s=0,end:a=i-1}=n,{start:r,end:o}=e,l=Math.max(s,r),c=Math.min(a,o),u=s<r&&a<r||s>o&&a>o;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function Uj(t,e,n,i){const{points:s,options:a}=e,{count:r,start:o,loop:l,ilen:c}=sF(s,n,i),u=Gj(a);let{move:d=!0,reverse:f}=i||{},h,p,m;for(h=0;h<=c;++h)p=s[(o+(f?c-h:h))%r],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):u(t,m,p,f,a.stepped),m=p);return l&&(p=s[(o+(f?c:0))%r],u(t,m,p,f,a.stepped)),!!l}function qj(t,e,n,i){const s=e.points,{count:a,start:r,ilen:o}=sF(s,n,i),{move:l=!0,reverse:c}=i||{};let u=0,d=0,f,h,p,m,y,g;const v=w=>(r+(c?o-w:w))%a,b=()=>{m!==y&&(t.lineTo(u,y),t.lineTo(u,m),t.lineTo(u,g))};for(l&&(h=s[v(0)],t.moveTo(h.x,h.y)),f=0;f<=o;++f){if(h=s[v(f)],h.skip)continue;const w=h.x,k=h.y,x=w|0;x===p?(k<m?m=k:k>y&&(y=k),u=(d*u+w)/++d):(b(),t.lineTo(w,k),p=x,d=0,m=y=k),g=k}b()}function o_(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?qj:Uj}function Kj(t){return t.stepped?VV:t.tension||t.cubicInterpolationMode==="monotone"?WV:Go}function Xj(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),iF(t,e.options),t.stroke(s)}function Jj(t,e,n,i){const{segments:s,options:a}=e,r=o_(e);for(const o of s)iF(t,a,o.style),t.beginPath(),r(t,e,o,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const Yj=typeof Path2D=="function";function Qj(t,e,n,i){Yj&&!e.options.segment?Xj(t,e,n,i):Jj(t,e,n,i)}class Ah extends na{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;FV(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=YV(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],a=this.points,r=KV(this,{property:n,start:s,end:s});if(!r.length)return;const o=[],l=Kj(i);let c,u;for(c=0,u=r.length;c<u;++c){const{start:d,end:f}=r[c],h=a[d],p=a[f];if(h===p){o.push(h);continue}const m=Math.abs((s-h[n])/(p[n]-h[n])),y=l(h,p,m,i.stepped);y[n]=e[n],o.push(y)}return o.length===1?o[0]:o}pathSegment(e,n,i){return o_(this)(e,this,n,i)}path(e,n,i){const s=this.segments,a=o_(this);let r=this._loop;n=n||0,i=i||this.points.length-n;for(const o of s)r&=a(e,this,o,{start:n,end:n+i-1});return!!r}draw(e,n,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),Qj(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ah.id="line";Ah.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Ah.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Ah.descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};function tT(t,e,n,i){const s=t.options,{[n]:a}=t.getProps([n],i);return Math.abs(e-a)<s.radius+s.hitRadius}class W0 extends na{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const s=this.options,{x:a,y:r}=this.getProps(["x","y"],i);return Math.pow(e-a,2)+Math.pow(n-r,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return tT(this,e,"x",n)}inYRange(e,n){return tT(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!ih(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,x1(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}W0.id="point";W0.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};W0.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function aF(t,e){const{x:n,y:i,base:s,width:a,height:r}=t.getProps(["x","y","base","width","height"],e);let o,l,c,u,d;return t.horizontal?(d=r/2,o=Math.min(n,s),l=Math.max(n,s),c=i-d,u=i+d):(d=a/2,o=n-d,l=n+d,c=Math.min(i,s),u=Math.max(i,s)),{left:o,top:c,right:l,bottom:u}}function Vr(t,e,n,i){return t?0:Jn(e,n,i)}function Zj(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,a=T6(i);return{t:Vr(s.top,a.top,0,n),r:Vr(s.right,a.right,0,e),b:Vr(s.bottom,a.bottom,0,n),l:Vr(s.left,a.left,0,e)}}function eH(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,a=rl(s),r=Math.min(e,n),o=t.borderSkipped,l=i||st(s);return{topLeft:Vr(!l||o.top||o.left,a.topLeft,0,r),topRight:Vr(!l||o.top||o.right,a.topRight,0,r),bottomLeft:Vr(!l||o.bottom||o.left,a.bottomLeft,0,r),bottomRight:Vr(!l||o.bottom||o.right,a.bottomRight,0,r)}}function tH(t){const e=aF(t),n=e.right-e.left,i=e.bottom-e.top,s=Zj(t,n/2,i/2),a=eH(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:a},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Tw(t,e,n,i){const s=e===null,a=n===null,o=t&&!(s&&a)&&aF(t,i);return o&&(s||Br(e,o.left,o.right))&&(a||Br(n,o.top,o.bottom))}function nH(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function iH(t,e){t.rect(e.x,e.y,e.w,e.h)}function $w(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,a=(t.x+t.w!==n.x+n.w?e:0)-i,r=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+a,h:t.h+r,radius:t.radius}}class A2 extends na{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:a,outer:r}=tH(this),o=nH(r.radius)?sh:iH;e.save(),(r.w!==a.w||r.h!==a.h)&&(e.beginPath(),o(e,$w(r,n,a)),e.clip(),o(e,$w(a,-n,r)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),o(e,$w(a,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return Tw(this,e,n,i)}inXRange(e,n){return Tw(this,e,null,n)}inYRange(e,n){return Tw(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(n+s)/2:n,y:a?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}A2.id="bar";A2.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};A2.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};const nT=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},sH=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class iT extends na{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=pt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=dn(i.font),a=s.size,r=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=nT(i,a);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(r,a,o,l)+10):(u=this.maxHeight,c=this._fitCols(r,a,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:a,maxWidth:r,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+o;let d=e;a.textAlign="left",a.textBaseline="middle";let f=-1,h=-u;return this.legendItems.forEach((p,m)=>{const y=i+n/2+a.measureText(p.text).width;(m===0||c[c.length-1]+y+2*o>r)&&(d+=u,c[c.length-(m>0?0:1)]=0,h+=u,f++),l[m]={left:0,top:h,row:f,width:y,height:s},c[c.length-1]+=y+o}),d}_fitCols(e,n,i,s){const{ctx:a,maxHeight:r,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=r-e;let d=o,f=0,h=0,p=0,m=0;return this.legendItems.forEach((y,g)=>{const v=i+n/2+a.measureText(y.text).width;g>0&&h+s+2*o>u&&(d+=f+o,c.push({width:f,height:h}),p+=f+o,m++,f=h=0),l[g]={left:p,top:h,col:m,width:v,height:s},f=Math.max(f,v),h+=s+o}),d+=f,c.push({width:f,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:a}}=this,r=$c(a,this.left,this.width);if(this.isHorizontal()){let o=0,l=jn(i,this.left+s,this.right-this.lineWidths[o]);for(const c of n)o!==c.row&&(o=c.row,l=jn(i,this.left+s,this.right-this.lineWidths[o])),c.top+=this.top+e+s,c.left=r.leftForLtr(r.x(l),c.width),l+=c.width+s}else{let o=0,l=jn(i,this.top+e+s,this.bottom-this.columnSizes[o].height);for(const c of n)c.col!==o&&(o=c.col,l=jn(i,this.top+e+s,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+s,c.left=r.leftForLtr(r.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;v2(e,this),this._draw(),b2(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:a,labels:r}=e,o=Ye.color,l=$c(e.rtl,this.left,this.width),c=dn(r.font),{color:u,padding:d}=r,f=c.size,h=f/2;let p;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:m,boxHeight:y,itemHeight:g}=nT(r,f),v=function(N,I,D){if(isNaN(m)||m<=0||isNaN(y)||y<0)return;s.save();const R=Ve(D.lineWidth,1);if(s.fillStyle=Ve(D.fillStyle,o),s.lineCap=Ve(D.lineCap,"butt"),s.lineDashOffset=Ve(D.lineDashOffset,0),s.lineJoin=Ve(D.lineJoin,"miter"),s.lineWidth=R,s.strokeStyle=Ve(D.strokeStyle,o),s.setLineDash(Ve(D.lineDash,[])),r.usePointStyle){const L={radius:m*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:R},O=l.xPlus(N,m/2),T=I+h;x1(s,L,O,T)}else{const L=I+Math.max((f-y)/2,0),O=l.leftForLtr(N,m),T=rl(D.borderRadius);s.beginPath(),Object.values(T).some(A=>A!==0)?sh(s,{x:O,y:L,w:m,h:y,radius:T}):s.rect(O,L,m,y),s.fill(),R!==0&&s.stroke()}s.restore()},b=function(N,I,D){wl(s,D.text,N,I+g/2,c,{strikethrough:D.hidden,textAlign:l.textAlign(D.textAlign)})},w=this.isHorizontal(),k=this._computeTitleHeight();w?p={x:jn(a,this.left+d,this.right-i[0]),y:this.top+d+k,line:0}:p={x:this.left+d,y:jn(a,this.top+k+d,this.bottom-n[0].height),line:0},M6(this.ctx,e.textDirection);const x=g+d;this.legendItems.forEach((N,I)=>{s.strokeStyle=N.fontColor||u,s.fillStyle=N.fontColor||u;const D=s.measureText(N.text).width,R=l.textAlign(N.textAlign||(N.textAlign=r.textAlign)),L=m+h+D;let O=p.x,T=p.y;l.setWidth(this.width),w?I>0&&O+L+d>this.right&&(T=p.y+=x,p.line++,O=p.x=jn(a,this.left+d,this.right-i[p.line])):I>0&&T+x>this.bottom&&(O=p.x=O+n[p.line].width+d,p.line++,T=p.y=jn(a,this.top+k+d,this.bottom-n[p.line].height));const A=l.x(O);v(A,T,N),O=k7(R,O+m+h,w?O+L:this.right,e.rtl),b(l.x(O),T,N),w?p.x+=L+d:p.y+=x}),B6(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=dn(n.font),s=Qn(n.padding);if(!n.display)return;const a=$c(e.rtl,this.left,this.width),r=this.ctx,o=n.position,l=i.size/2,c=s.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=jn(e.align,d,this.right-f);else{const p=this.columnSizes.reduce((m,y)=>Math.max(m,y.height),0);u=c+jn(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const h=jn(o,d,d+f);r.textAlign=a.textAlign(f2(o)),r.textBaseline="middle",r.strokeStyle=n.color,r.fillStyle=n.color,r.font=i.string,wl(r,n.text,h,u,i)}_computeTitleHeight(){const e=this.options.title,n=dn(e.font),i=Qn(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,a;if(Br(e,this.left,this.right)&&Br(n,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],Br(e,s.left,s.left+s.width)&&Br(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!aH(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,a=sH(s,i);s&&!a&&pt(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!a&&pt(n.onHover,[e,i,this],this)}else i&&pt(n.onClick,[e,i,this],this)}}function aH(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var rH={id:"legend",_element:iT,start(t,e,n){const i=t.legend=new iT({ctx:t.ctx,options:n,chart:t});ms.configure(t,i,n),ms.addBox(t,i)},stop(t){ms.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;ms.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:a}}=t.legend.options;return t._getSortedDatasetMetas().map(r=>{const o=r.controller.getStyle(n?0:void 0),l=Qn(o.borderWidth);return{text:e[r.index].label,fillStyle:o.backgroundColor,fontColor:a,hidden:!r.visible,lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:o.borderColor,pointStyle:i||o.pointStyle,rotation:o.rotation,textAlign:s||o.textAlign,borderRadius:0,datasetIndex:r.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class rF extends na{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=xt(i.text)?i.text.length:1;this._padding=Qn(i.padding);const a=s*dn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:a,options:r}=this,o=r.align;let l=0,c,u,d;return this.isHorizontal()?(u=jn(o,i,a),d=n+e,c=a-i):(r.position==="left"?(u=i+e,d=jn(o,s,n),l=At*-.5):(u=a-e,d=jn(o,n,s),l=At*.5),c=s-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=dn(n.font),a=i.lineHeight/2+this._padding.top,{titleX:r,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(a);wl(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:f2(n.align),textBaseline:"middle",translation:[r,o]})}}function oH(t,e){const n=new rF({ctx:t.ctx,options:e,chart:t});ms.configure(t,n,e),ms.addBox(t,n),t.titleBlock=n}var lH={id:"title",_element:rF,start(t,e,n){oH(t,n)},stop(t){const e=t.titleBlock;ms.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;ms.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ff={average(t){if(!t.length)return!1;let e,n,i=0,s=0,a=0;for(e=0,n=t.length;e<n;++e){const r=t[e].element;if(r&&r.hasValue()){const o=r.tooltipPosition();i+=o.x,s+=o.y,++a}}return{x:i/a,y:s/a}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,a,r,o;for(a=0,r=t.length;a<r;++a){const l=t[a].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=e_(e,c);u<s&&(s=u,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function ua(t,e){return e&&(xt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Wa(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function cH(t,e){const{element:n,datasetIndex:i,index:s}=e,a=t.getDatasetMeta(i).controller,{label:r,value:o}=a.getLabelAndValue(s);return{chart:t,label:r,parsed:a.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:o,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function sT(t,e){const n=t.chart.ctx,{body:i,footer:s,title:a}=t,{boxWidth:r,boxHeight:o}=e,l=dn(e.bodyFont),c=dn(e.titleFont),u=dn(e.footerFont),d=a.length,f=s.length,h=i.length,p=Qn(e.padding);let m=p.height,y=0,g=i.reduce((w,k)=>w+k.before.length+k.lines.length+k.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),g){const w=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;m+=h*w+(g-h)*l.lineHeight+(g-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let v=0;const b=function(w){y=Math.max(y,n.measureText(w).width+v)};return n.save(),n.font=c.string,rt(t.title,b),n.font=l.string,rt(t.beforeBody.concat(t.afterBody),b),v=e.displayColors?r+2+e.boxPadding:0,rt(i,w=>{rt(w.before,b),rt(w.lines,b),rt(w.after,b)}),v=0,n.font=u.string,rt(t.footer,b),n.restore(),y+=p.width,{width:y,height:m}}function uH(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function dH(t,e,n,i){const{x:s,width:a}=i,r=n.caretSize+n.caretPadding;if(t==="left"&&s+a+r>e.width||t==="right"&&s-a-r<0)return!0}function fH(t,e,n,i){const{x:s,width:a}=n,{width:r,chartArea:{left:o,right:l}}=t;let c="center";return i==="center"?c=s<=(o+l)/2?"left":"right":s<=a/2?c="left":s>=r-a/2&&(c="right"),dH(c,t,e,n)&&(c="center"),c}function aT(t,e,n){const i=n.yAlign||e.yAlign||uH(t,n);return{xAlign:n.xAlign||e.xAlign||fH(t,e,n,i),yAlign:i}}function hH(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function pH(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function rT(t,e,n,i){const{caretSize:s,caretPadding:a,cornerRadius:r}=t,{xAlign:o,yAlign:l}=n,c=s+a,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:h}=rl(r);let p=hH(e,o);const m=pH(e,l,c);return l==="center"?o==="left"?p+=c:o==="right"&&(p-=c):o==="left"?p-=Math.max(u,f)+s:o==="right"&&(p+=Math.max(d,h)+s),{x:Jn(p,0,i.width-e.width),y:Jn(m,0,i.height-e.height)}}function Ym(t,e,n){const i=Qn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function oT(t){return ua([],Wa(t))}function mH(t,e,n){return Co(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function lT(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class l_ extends na{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,a=new V6(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=mH(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=i.beforeTitle.apply(this,[e]),a=i.title.apply(this,[e]),r=i.afterTitle.apply(this,[e]);let o=[];return o=ua(o,Wa(s)),o=ua(o,Wa(a)),o=ua(o,Wa(r)),o}getBeforeBody(e,n){return oT(n.callbacks.beforeBody.apply(this,[e]))}getBody(e,n){const{callbacks:i}=n,s=[];return rt(e,a=>{const r={before:[],lines:[],after:[]},o=lT(i,a);ua(r.before,Wa(o.beforeLabel.call(this,a))),ua(r.lines,o.label.call(this,a)),ua(r.after,Wa(o.afterLabel.call(this,a))),s.push(r)}),s}getAfterBody(e,n){return oT(n.callbacks.afterBody.apply(this,[e]))}getFooter(e,n){const{callbacks:i}=n,s=i.beforeFooter.apply(this,[e]),a=i.footer.apply(this,[e]),r=i.afterFooter.apply(this,[e]);let o=[];return o=ua(o,Wa(s)),o=ua(o,Wa(a)),o=ua(o,Wa(r)),o}_createItems(e){const n=this._active,i=this.chart.data,s=[],a=[],r=[];let o=[],l,c;for(l=0,c=n.length;l<c;++l)o.push(cH(this.chart,n[l]));return e.filter&&(o=o.filter((u,d,f)=>e.filter(u,d,f,i))),e.itemSort&&(o=o.sort((u,d)=>e.itemSort(u,d,i))),rt(o,u=>{const d=lT(e.callbacks,u);s.push(d.labelColor.call(this,u)),a.push(d.labelPointStyle.call(this,u)),r.push(d.labelTextColor.call(this,u))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=r,this.dataPoints=o,o}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let a,r=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const o=Ff[i.position].call(this,s,this._eventPosition);r=this._createItems(i),this.title=this.getTitle(r,i),this.beforeBody=this.getBeforeBody(r,i),this.body=this.getBody(r,i),this.afterBody=this.getAfterBody(r,i),this.footer=this.getFooter(r,i);const l=this._size=sT(this,i),c=Object.assign({},o,l),u=aT(this.chart,i,c),d=rT(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,a={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=r,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const a=this.getCaretPosition(e,i,s);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:a}=this,{caretSize:r,cornerRadius:o}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=rl(o),{x:f,y:h}=e,{width:p,height:m}=n;let y,g,v,b,w,k;return a==="center"?(w=h+m/2,s==="left"?(y=f,g=y-r,b=w+r,k=w-r):(y=f+p,g=y+r,b=w-r,k=w+r),v=y):(s==="left"?g=f+Math.max(l,u)+r:s==="right"?g=f+p-Math.max(c,d)-r:g=this.caretX,a==="top"?(b=h,w=b-r,y=g-r,v=g+r):(b=h+m,w=b+r,y=g+r,v=g-r),k=b),{x1:y,x2:g,x3:v,y1:b,y2:w,y3:k}}drawTitle(e,n,i){const s=this.title,a=s.length;let r,o,l;if(a){const c=$c(i.rtl,this.x,this.width);for(e.x=Ym(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",r=dn(i.titleFont),o=i.titleSpacing,n.fillStyle=i.titleColor,n.font=r.string,l=0;l<a;++l)n.fillText(s[l],c.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+o,l+1===a&&(e.y+=i.titleMarginBottom-o)}}_drawColorBox(e,n,i,s,a){const r=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:l,boxWidth:c,boxPadding:u}=a,d=dn(a.bodyFont),f=Ym(this,"left",a),h=s.x(f),p=l<d.lineHeight?(d.lineHeight-l)/2:0,m=n.y+p;if(a.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},g=s.leftForLtr(h,c)+c/2,v=m+l/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,x1(e,y,g,v),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,x1(e,y,g,v)}else{e.lineWidth=r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const y=s.leftForLtr(h,c-u),g=s.leftForLtr(s.xPlus(h,1),c-u-2),v=rl(r.borderRadius);Object.values(v).some(b=>b!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,sh(e,{x:y,y:m,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),sh(e,{x:g,y:m+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(y,m,c,l),e.strokeRect(y,m,c,l),e.fillStyle=r.backgroundColor,e.fillRect(g,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:a,bodyAlign:r,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:u}=i,d=dn(i.bodyFont);let f=d.lineHeight,h=0;const p=$c(i.rtl,this.x,this.width),m=function(I){n.fillText(I,p.x(e.x+h),e.y+f/2),e.y+=f+a},y=p.textAlign(r);let g,v,b,w,k,x,N;for(n.textAlign=r,n.textBaseline="middle",n.font=d.string,e.x=Ym(this,y,i),n.fillStyle=i.bodyColor,rt(this.beforeBody,m),h=o&&y!=="right"?r==="center"?c/2+u:c+2+u:0,w=0,x=s.length;w<x;++w){for(g=s[w],v=this.labelTextColors[w],n.fillStyle=v,rt(g.before,m),b=g.lines,o&&b.length&&(this._drawColorBox(n,e,w,p,i),f=Math.max(d.lineHeight,l)),k=0,N=b.length;k<N;++k)m(b[k]),f=d.lineHeight;rt(g.after,m)}h=0,f=d.lineHeight,rt(this.afterBody,m),e.y-=a}drawFooter(e,n,i){const s=this.footer,a=s.length;let r,o;if(a){const l=$c(i.rtl,this.x,this.width);for(e.x=Ym(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",r=dn(i.footerFont),n.fillStyle=i.footerColor,n.font=r.string,o=0;o<a;++o)n.fillText(s[o],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:a,yAlign:r}=this,{x:o,y:l}=e,{width:c,height:u}=i,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:p}=rl(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(o+d,l),r==="top"&&this.drawCaret(e,n,i,s),n.lineTo(o+c-f,l),n.quadraticCurveTo(o+c,l,o+c,l+f),r==="center"&&a==="right"&&this.drawCaret(e,n,i,s),n.lineTo(o+c,l+u-p),n.quadraticCurveTo(o+c,l+u,o+c-p,l+u),r==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(o+h,l+u),n.quadraticCurveTo(o,l+u,o,l+u-h),r==="center"&&a==="left"&&this.drawCaret(e,n,i,s),n.lineTo(o,l+d),n.quadraticCurveTo(o,l,o+d,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const r=Ff[e.position].call(this,this._active,this._eventPosition);if(!r)return;const o=this._size=sT(this,e),l=Object.assign({},r,this._size),c=aT(n,e,l),u=rT(e,l,c,n);(s._to!==u.x||a._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const r=Qn(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=i,this.drawBackground(a,e,s,n),M6(e,n.textDirection),a.y+=r.top,this.drawTitle(a,e,n),this.drawBody(a,e,n),this.drawFooter(a,e,n),B6(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),a=!v1(i,s),r=this._positionChanged(s,n);(a||r)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],r=this._getActiveElements(e,a,n,i),o=this._positionChanged(r,e),l=n||!v1(r,a)||o;return l&&(this._active=r,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,s){const a=this.options;if(e.type==="mouseout")return[];if(!s)return n;const r=this.chart.getElementsAtEventForMode(e,a.mode,a,i);return a.reverse&&r.reverse(),r}_positionChanged(e,n){const{caretX:i,caretY:s,options:a}=this,r=Ff[a.position].call(this,e,n);return r!==!1&&(i!==r.x||s!==r.y)}}l_.positioners=Ff;var gH={id:"tooltip",_element:l_,positioners:Ff,afterInit(t,e,n){n&&(t.tooltip=new l_({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",n)===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Ma,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Ma,beforeBody:Ma,beforeLabel:Ma,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ot(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ma,afterBody:Ma,beforeFooter:Ma,footer:Ma,afterFooter:Ma}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const yH=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function vH(t,e,n,i){const s=t.indexOf(e);if(s===-1)return yH(t,e,n,i);const a=t.lastIndexOf(e);return s!==a?n:s}const bH=(t,e)=>t===null?null:Jn(Math.round(t),0,e);class I1 extends zl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:a}of n)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ot(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:vH(i,e,Ve(n,e),this._addedLabels),bH(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let r=e;r<=n;r++)s.push({value:r});return s}getLabelForValue(e){const n=this.getLabels();return e>=0&&e<n.length?n[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}I1.id="category";I1.defaults={ticks:{callback:I1.prototype.getLabelForValue}};function wH(t,e){const n=[],{bounds:s,step:a,min:r,max:o,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,h=a||1,p=u-1,{min:m,max:y}=e,g=!ot(r),v=!ot(o),b=!ot(c),w=(y-m)/(d+1);let k=d4((y-m)/p/h)*h,x,N,I,D;if(k<1e-14&&!g&&!v)return[{value:m},{value:y}];D=Math.ceil(y/k)-Math.floor(m/k),D>p&&(k=d4(D*k/p/h)*h),ot(l)||(x=Math.pow(10,l),k=Math.ceil(k*x)/x),s==="ticks"?(N=Math.floor(m/k)*k,I=Math.ceil(y/k)*k):(N=m,I=y),g&&v&&a&&A7((o-r)/a,k/1e3)?(D=Math.round(Math.min((o-r)/k,u)),k=(o-r)/D,N=r,I=o):b?(N=g?r:N,I=v?o:I,D=c-1,k=(I-N)/D):(D=(I-N)/k,Ef(D,Math.round(D),k/1e3)?D=Math.round(D):D=Math.ceil(D));const R=Math.max(f4(k),f4(N));x=Math.pow(10,ot(l)?R:l),N=Math.round(N*x)/x,I=Math.round(I*x)/x;let L=0;for(g&&(f&&N!==r?(n.push({value:r}),N<r&&L++,Ef(Math.round((N+L*k)*x)/x,r,cT(r,w,t))&&L++):N<r&&L++);L<D;++L)n.push({value:Math.round((N+L*k)*x)/x});return v&&f&&I!==o?n.length&&Ef(n[n.length-1].value,o,cT(o,w,t))?n[n.length-1].value=o:n.push({value:o}):(!v||I===o)&&n.push({value:I}),n}function cT(t,e,{horizontal:n,minRotation:i}){const s=Hs(i),a=(n?Math.sin(s):Math.cos(s))||.001,r=.75*e*(""+t).length;return Math.min(e/a,r)}class T1 extends zl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ot(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const r=l=>s=n?s:l,o=l=>a=i?a:l;if(e){const l=Ca(s),c=Ca(a);l<0&&c<0?o(0):l>0&&c>0&&r(0)}if(s===a){let l=1;(a>=Number.MAX_SAFE_INTEGER||s<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(a*.05)),o(a+l),e||r(s-l)}this.min=s,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,r=wH(s,a);return e.bounds==="ticks"&&k6(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Ih(e,this.chart.options.locale,this.options.ticks.format)}}class F2 extends T1{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Pn(e)?e:0,this.max=Pn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Hs(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}F2.id="linear";F2.defaults={ticks:{callback:V0.formatters.numeric}};function uT(t){return t/Math.pow(10,Math.floor(hs(t)))===1}function kH(t,e){const n=Math.floor(hs(e.max)),i=Math.ceil(e.max/Math.pow(10,n)),s=[];let a=ls(t.min,Math.pow(10,Math.floor(hs(e.min)))),r=Math.floor(hs(a)),o=Math.floor(a/Math.pow(10,r)),l=r<0?Math.pow(10,Math.abs(r)):1;do s.push({value:a,major:uT(a)}),++o,o===10&&(o=1,++r,l=r>=0?1:l),a=Math.round(o*Math.pow(10,r)*l)/l;while(r<n||r===n&&o<i);const c=ls(t.max,a);return s.push({value:c,major:uT(a)}),s}class oF extends zl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=T1.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Pn(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Pn(e)?Math.max(0,e):null,this.max=Pn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const a=l=>i=e?i:l,r=l=>s=n?s:l,o=(l,c)=>Math.pow(10,Math.floor(hs(l))+c);i===s&&(i<=0?(a(1),r(10)):(a(o(i,-1)),r(o(s,1)))),i<=0&&a(o(s,-1)),s<=0&&r(o(i,1)),this._zero&&this.min!==this._suggestedMin&&i===o(this.min,0)&&a(o(i,-1)),this.min=i,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=kH(n,this);return e.bounds==="ticks"&&k6(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Ih(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=hs(e),this._valueRange=hs(this.max)-hs(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(hs(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}oF.id="logarithmic";oF.defaults={ticks:{callback:V0.formatters.logarithmic,major:{enabled:!0}}};function c_(t){const e=t.ticks;if(e.display&&t.display){const n=Qn(e.backdropPadding);return Ve(e.font&&e.font.size,Ye.font.size)+n.height}return 0}function _H(t,e,n){return n=xt(n)?n:[n],{w:aV(t,e.string,n),h:n.length*e.lineHeight}}function dT(t,e,n,i,s){return t===i||t===s?{start:e-n/2,end:e+n/2}:t<i||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function xH(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],s=[],a=t._pointLabels.length,r=t.options.pointLabels,o=r.centerPointLabels?At/a:0;for(let l=0;l<a;l++){const c=r.setContext(t.getPointLabelContext(l));s[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+s[l],o),d=dn(c.font),f=_H(t.ctx,d,t._pointLabels[l]);i[l]=f;const h=Bs(t.getIndexAngle(l)+o),p=Math.round(p2(h)),m=dT(p,u.x,f.w,0,180),y=dT(p,u.y,f.h,90,270);SH(n,e,h,m,y)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=CH(t,i,s)}function SH(t,e,n,i,s){const a=Math.abs(Math.sin(n)),r=Math.abs(Math.cos(n));let o=0,l=0;i.start<e.l?(o=(e.l-i.start)/a,t.l=Math.min(t.l,e.l-o)):i.end>e.r&&(o=(i.end-e.r)/a,t.r=Math.max(t.r,e.r+o)),s.start<e.t?(l=(e.t-s.start)/r,t.t=Math.min(t.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/r,t.b=Math.max(t.b,e.b+l))}function CH(t,e,n){const i=[],s=t._pointLabels.length,a=t.options,r=c_(a)/2,o=t.drawingArea,l=a.pointLabels.centerPointLabels?At/s:0;for(let c=0;c<s;c++){const u=t.getPointPosition(c,o+r+n[c],l),d=Math.round(p2(Bs(u.angle+Wt))),f=e[c],h=TH(u.y,f.h,d),p=NH(d),m=IH(u.x,f.w,p);i.push({x:u.x,y:h,textAlign:p,left:m,top:h,right:m+f.w,bottom:h+f.h})}return i}function NH(t){return t===0||t===180?"center":t<180?"left":"right"}function IH(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function TH(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function $H(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let s=e-1;s>=0;s--){const a=i.setContext(t.getPointLabelContext(s)),r=dn(a.font),{x:o,y:l,textAlign:c,left:u,top:d,right:f,bottom:h}=t._pointLabelItems[s],{backdropColor:p}=a;if(!ot(p)){const m=rl(a.borderRadius),y=Qn(a.backdropPadding);n.fillStyle=p;const g=u-y.left,v=d-y.top,b=f-u+y.width,w=h-d+y.height;Object.values(m).some(k=>k!==0)?(n.beginPath(),sh(n,{x:g,y:v,w:b,h:w,radius:m}),n.fill()):n.fillRect(g,v,b,w)}wl(n,t._pointLabels[s],o,l+r.lineHeight/2,r,{color:a.color,textAlign:c,textBaseline:"middle"})}}function lF(t,e,n,i){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,yt);else{let a=t.getPointPosition(0,e);s.moveTo(a.x,a.y);for(let r=1;r<i;r++)a=t.getPointPosition(r,e),s.lineTo(a.x,a.y)}}function EH(t,e,n,i){const s=t.ctx,a=e.circular,{color:r,lineWidth:o}=e;!a&&!i||!r||!o||n<0||(s.save(),s.strokeStyle=r,s.lineWidth=o,s.setLineDash(e.borderDash),s.lineDashOffset=e.borderDashOffset,s.beginPath(),lF(t,n,a,i),s.closePath(),s.stroke(),s.restore())}function DH(t,e,n){return Co(t,{label:n,index:e,type:"pointLabel"})}class j0 extends T1{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Qn(c_(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Pn(e)&&!isNaN(e)?e:0,this.max=Pn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/c_(this.options))}generateTickLabels(e){T1.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const s=pt(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?xH(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,s))}getIndexAngle(e){const n=yt/(this._pointLabels.length||1),i=this.options.startAngle||0;return Bs(e*n+Hs(i))}getDistanceFromCenterForValue(e){if(ot(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ot(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return DH(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const s=this.getIndexAngle(e)-Wt+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:s,bottom:a}=this._pointLabelItems[e];return{left:n,top:i,right:s,bottom:a}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),lF(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:s}=n,a=this._pointLabels.length;let r,o,l;if(n.pointLabels.display&&$H(this,a),s.display&&this.ticks.forEach((c,u)=>{if(u!==0){o=this.getDistanceFromCenterForValue(c.value);const d=s.setContext(this.getContext(u-1));EH(this,d,o,a)}}),i.display){for(e.save(),r=a-1;r>=0;r--){const c=i.setContext(this.getPointLabelContext(r)),{color:u,lineWidth:d}=c;!d||!u||(e.lineWidth=d,e.strokeStyle=u,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,o=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),l=this.getPointPosition(r,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let a,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=dn(c.font);if(a=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,r=e.measureText(o.label).width,e.fillStyle=c.backdropColor;const d=Qn(c.backdropPadding);e.fillRect(-r/2-d.left,-a-u.size/2-d.top,r+d.width,u.size+d.height)}wl(e,o.label,0,-a,u,{color:c.color})}),e.restore()}drawTitle(){}}j0.id="radialLinear";j0.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:V0.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};j0.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};j0.descriptors={angleLines:{_fallback:"grid"}};const H0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},wi=Object.keys(H0);function AH(t,e){return t-e}function fT(t,e){if(ot(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:a}=t._parseOpts;let r=e;return typeof i=="function"&&(r=i(r)),Pn(r)||(r=typeof i=="string"?n.parse(r,i):n.parse(r)),r===null?null:(s&&(r=s==="week"&&(th(a)||a===!0)?n.startOf(r,"isoWeek",a):n.startOf(r,s)),+r)}function hT(t,e,n,i){const s=wi.length;for(let a=wi.indexOf(t);a<s-1;++a){const r=H0[wi[a]],o=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((n-e)/(o*r.size))<=i)return wi[a]}return wi[s-1]}function FH(t,e,n,i,s){for(let a=wi.length-1;a>=wi.indexOf(n);a--){const r=wi[a];if(H0[r].common&&t._adapter.diff(s,i,r)>=e-1)return r}return wi[n?wi.indexOf(n):0]}function RH(t){for(let e=wi.indexOf(t)+1,n=wi.length;e<n;++e)if(H0[wi[e]].common)return wi[e]}function pT(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=k2(n,e),a=n[i]>=e?n[i]:n[s];t[a]=!0}}function OH(t,e,n,i){const s=t._adapter,a=+s.startOf(e[0].value,i),r=e[e.length-1].value;let o,l;for(o=a;o<=r;o=+s.add(o,1,i))l=n[o],l>=0&&(e[l].major=!0);return e}function mT(t,e,n){const i=[],s={},a=e.length;let r,o;for(r=0;r<a;++r)o=e[r],s[o]=r,i.push({value:o,major:!1});return a===0||!n?i:OH(t,i,s,n)}class G0 extends zl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n){const i=e.time||(e.time={}),s=this._adapter=new EW._date(e.adapters.date);$f(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:fT(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:a,minDefined:r,maxDefined:o}=this.getUserBounds();function l(c){!r&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!o&&!isNaN(c.max)&&(a=Math.max(a,c.max))}(!r||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Pn(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),a=Pn(a)&&!isNaN(a)?a:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,r=this.max,o=gV(s,a,r);return this._unit=n.unit||(i.autoSkip?hT(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):FH(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:RH(this._unit),this.initOffsets(s),e.reverse&&o.reverse(),mT(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let n=0,i=0,s,a;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;n=Jn(n,0,r),i=Jn(i,0,r),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,a=s.time,r=a.unit||hT(a.minUnit,n,i,this._getLabelCapacity(n)),o=Ve(a.stepSize,1),l=r==="week"?a.isoWeekday:!1,c=th(l)||l===!0,u={};let d=n,f,h;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":r),e.diff(i,n,r)>1e5*o)throw new Error(n+" and "+i+" are too far apart with stepSize of "+o+" "+r);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(f=d,h=0;f<i;f=+e.add(f,o,r),h++)pT(u,f,p);return(f===i||s.bounds==="ticks"||h===1)&&pT(u,f,p),Object.keys(u).sort((m,y)=>m-y).map(m=>+m)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}_tickFormatFunction(e,n,i,s){const a=this.options,r=a.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&r[o],u=l&&r[l],d=i[n],f=l&&u&&d&&d.major,h=this._adapter.format(e,s||(f?u:c)),p=a.ticks.callback;return p?pt(p,[h,n,i],this):h}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=Hs(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(s),r=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:i*a+o*r,h:i*r+o*a}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,a=this._tickFormatFunction(e,0,mT(this,[e],this._majorUnit),s),r=this._getLabelSize(a),o=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(fT(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return E6(e.sort(AH))}}G0.id="time";G0.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function Qm(t,e,n){let i=0,s=t.length-1,a,r,o,l;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=tl(t,"pos",e)),{pos:a,time:o}=t[i],{pos:r,time:l}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=tl(t,"time",e)),{time:a,pos:o}=t[i],{time:r,pos:l}=t[s]);const c=r-a;return c?o+(l-o)*(e-a)/c:o}class cF extends G0{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Qm(n,this.min),this._tableRange=Qm(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],a=[];let r,o,l,c,u;for(r=0,o=e.length;r<o;++r)c=e[r],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(r=0,o=s.length;r<o;++r)u=s[r+1],l=s[r-1],c=s[r],Math.round((u+l)/2)!==c&&a.push({time:c,pos:r/(o-1)});return a}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Qm(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Qm(this._table,i*this._tableRange+this._minPos,!0)}}cF.id="timeseries";cF.defaults=G0.defaults;const uF="label";function gT(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function PH(t,e){t.options={...e}}function dF(t,e){t.labels=e}function fF(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:uF;const i=[];t.datasets=e.map(s=>{const a=t.datasets.find(r=>r[n]===s[n]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function LH(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uF;const n={labels:[],datasets:[]};return dF(n,t.labels),fF(n,t.datasets,e),n}function MH(t,e){let{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:r,data:o,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t;const h=Z.exports.useRef(null),p=Z.exports.useRef(),m=()=>{!h.current||(p.current=new Dh(h.current,{type:r,data:LH(o,a),options:l,plugins:c}),gT(e,p.current))},y=()=>{gT(e,null),p.current&&(p.current.destroy(),p.current=null)};return Z.exports.useEffect(()=>{!s&&p.current&&l&&PH(p.current,l)},[s,l]),Z.exports.useEffect(()=>{!s&&p.current&&dF(p.current.config.data,o.labels)},[s,o.labels]),Z.exports.useEffect(()=>{!s&&p.current&&o.datasets&&fF(p.current.config.data,o.datasets,a)},[s,o.datasets]),Z.exports.useEffect(()=>{!p.current||(s?(y(),setTimeout(m)):p.current.update(d))},[s,l,o.labels,o.datasets,d]),Z.exports.useEffect(()=>(m(),()=>y()),[]),_("canvas",{...Object.assign({ref:h,role:"img",height:n,width:i},f),children:u})}const BH=Z.exports.forwardRef(MH);function zH(t,e){return Dh.register(e),Z.exports.forwardRef((n,i)=>_(BH,{...Object.assign({},n,{ref:i,type:t})}))}const VH=zH("line",$h);const R2=()=>_("div",{className:"spinner__container",children:_("div",{className:"spinner"})});const WH=({showModal:t})=>(Z.exports.useEffect(()=>{var e=document.getElementById("authModal");t?e.style.display="flex":e.style.display="none"},[t]),_("div",{id:"authModal",className:"modal",children:P("div",{className:"modal-content-auth",children:[_("span",{className:"header",children:"Authenticating Whatsapp Web"}),_("img",{src:y1,alt:""}),_(R2,{})]})}));const jH=({authToken:t,showFbModal:e,setShowFbModal:n,socket:i,user:s})=>{function a(r){var o=document.getElementById("snackbar");o.className.replace("show",""),o.className="show";var l=document.getElementById("messagebox");l.innerText=r,setTimeout(function(){o.className=o.className.replace("show","")},3e3)}return Z.exports.useEffect(()=>{var r=document.getElementById("instagramModal");e?r.style.display="flex":r.style.display="none"},[e]),window.onclick=function(r){var o=document.getElementById("instagramModal");r.target==o&&n(!1)},_("div",{id:"instagramModal",className:"g-modal",children:s._fbIntegration?P("div",{className:"g-modal-content",children:[P("div",{className:"g-modal-header",children:[_("span",{className:"close",onClick:()=>{n(!1)},children:"\xD7"}),_("img",{src:Zf,alt:""}),_("span",{children:"Facebook Integration"})]}),_("div",{className:"g-modal-body",children:_("div",{className:"g-modal-body-center",children:_("span",{children:"Only the super admins of the app can link a facebook page to your profile"})})})]}):P("div",{className:"g-modal-content",children:[P("div",{className:"g-modal-header",children:[_("span",{className:"close",onClick:()=>{n(!1)},children:"\xD7"}),_("img",{src:QA,alt:""}),_("span",{children:"Instagram Integration"})]}),_("div",{className:"g-modal-body",children:P("div",{className:"instruction",children:[_("img",{src:l2,alt:""}),_("span",{style:{marginTop:"10px"},children:"Only Super Admins Of the Idealidad Saleshub Crm can assign instagram campaigns to the other teams. Please request your super admins to assign you an instagram campaign."}),_("button",{onClick:()=>{setTimeout(()=>{a("Request send to super admin...")})},style:{width:"100%",marginTop:"20px"},children:"Send Request \u2192"})]})})]})})};const HH=({authToken:t,showFbModal:e,setShowFbModal:n,socket:i,user:s})=>{function a(r){var o=document.getElementById("snackbar");o.className.replace("show",""),o.className="show";var l=document.getElementById("messagebox");l.innerText=r,setTimeout(function(){o.className=o.className.replace("show","")},3e3)}return Z.exports.useEffect(()=>{var r=document.getElementById("messengerModal");e?r.style.display="flex":r.style.display="none"},[e]),window.onclick=function(r){var o=document.getElementById("messengerModal");r.target==o&&n(!1)},_("div",{id:"messengerModal",className:"g-modal",children:s._fbIntegration?P("div",{className:"g-modal-content",children:[P("div",{className:"g-modal-header",children:[_("span",{className:"close",onClick:()=>{n(!1)},children:"\xD7"}),_("img",{src:Zf,alt:""}),_("span",{children:"Facebook Integration"})]}),_("div",{className:"g-modal-body",children:_("div",{className:"g-modal-body-center",children:_("span",{children:"Only the super admins of the app can link a facebook page to your profile"})})})]}):P("div",{className:"g-modal-content",children:[P("div",{className:"g-modal-header",children:[_("span",{className:"close",onClick:()=>{n(!1)},children:"\xD7"}),_("img",{src:ZA,alt:""}),_("span",{children:"Messenger Integration"})]}),_("div",{className:"g-modal-body",children:P("div",{className:"instruction",children:[_("img",{src:t6,alt:""}),_("span",{style:{marginTop:"10px"},children:"Launching with the super admins feature in the app. As it has a data registory into the super admin dashoard. The Messenger integration will be launched with super admin."}),_("button",{onClick:()=>{setTimeout(()=>{a("Request send to super admin...")})},style:{width:"100%",marginTop:"20px"},children:"Join Early Access \u2192"})]})})]})})};Dh.register(lH,gH,Ah,rH,I1,F2,W0);const GH=({socket:t,setPermission:e,wpAuth:n,setWpAuth:i,gsAuth:s,setGsAuth:a})=>{const[r,o]=Z.exports.useState(!1),[l,c]=Z.exports.useState(!1),[u,d]=Z.exports.useState(!1),[f,h]=Z.exports.useState(!1),[p,m]=Z.exports.useState(!1),[y,g]=Z.exports.useState(!1),[v,b]=Z.exports.useState(!0),[w,k]=Z.exports.useState(!1),[x,N]=Z.exports.useState(!1),[I,D]=Z.exports.useState(!1),[R,L]=Z.exports.useState(!0),[O,T]=Z.exports.useState(!1),[A,S]=Z.exports.useState(!1),[$,K]=Z.exports.useState(!1),[M,U]=Z.exports.useState("neutral"),[Q,ee]=Z.exports.useState(""),[ie,se]=Z.exports.useState(""),[ce,le]=Z.exports.useState([0,0,0,0,0,0,0]),[ue,pe]=Z.exports.useState([0,0,0,0,0,0,0]);Z.exports.useState([0,0,0,0,0,0,0]),Z.exports.useState([0,0,0,0,0,0,0]);const we=new Date,[Se,$e]=Z.exports.useState(""),Ae=JSON.parse(window.localStorage.getItem("shulidtH9kNnMgaUtlL730ktnkB.saleshub.io")),[me,it]=Z.exports.useState({_id:"",_name:"User",_email:"",_teamId:"",_teamRole:"neutral",_gsIntegration:!1,_gsSessionData:"",_wpIntegration:!1,_wpSessionData:"",_fbIntegration:!1,_fbSessionData:"",_igIntegration:!1,_igSessionData:"",_totalMessagesSent:0,_totalLeadsGained:0,_totalMessagesSentThisWeek:[],_totalLeadsGainedThisWeek:[],_funnelsCount:0,_funnels:[],_teamChats:[],_ownChats:[],_assignedChats:[]}),[je,et]=Z.exports.useState({_id:"",_teamName:"Your team",_teamAdmin:"",_teamMembers:[],_totalMessagesSent:0,_totalLeadsGained:0,_totalMessagesSentThisWeek:[],_totalLeadsGainedThisWeek:[],_teamChats:[],_teamWpIntegration:!1});function ye(Y){var Ee=document.getElementById("snackbar");Ee.className.replace("show",""),Ee.className="show";var kt=document.getElementById("messagebox");kt.innerText=Y,setTimeout(function(){Ee.className=Ee.className.replace("show","")},3e3)}Z.exports.useEffect(()=>{if($e(we.toString()),n){if(n){var Y=document.getElementById("dashboard");Y.style.overflow="scroll"}}else{var Y=document.getElementById("dashboard");Y.style.overflow="hidden"}t.emit("get_user",{authToken:Ae,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io"},Bt=>{Bt&&ye(Bt)}),I?t.emit("get_user_team",{authToken:Ae,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",teamId:Q},Bt=>{Bt&&ye(Bt)}):D(!1),R?(()=>{if(console.log(n),!n||O){const Bt=window.localStorage.getItem("spfudFojOQJsh7djfvnfnvfvnvnSDBVad55gegy.saleshub.io");Bt!=="Authenticated"&&Bt!=="In-Progress"&&(g(!0),console.log(n),K(!0),t.emit("authenticate_whatsapp",{authToken:Ae,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io"},qt=>{qt&&(window.localStorage.setItem("spfudFojOQJsh7djfvnfnvfvnvnSDBVad55gegy.saleshub.io","Un-Authenticated"),g(!1),K(!1),i(!1),ye(qt))}),window.localStorage.setItem("spfudFojOQJsh7djfvnfnvfvnvnSDBVad55gegy.saleshub.io","In-Progress"))}})():g(!1),A?(()=>{s||window.localStorage.getItem("spfudFojOQJsh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io")!=="Authenticated"&&(k(!0),t.emit("authenticate_googlesheets",{authToken:Ae,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io"},qt=>{qt&&(window.localStorage.setItem("spfudFojOQJsh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io","Un-Authenticated"),a(!1),k(!1),ye(qt))}))})():k(!1)},[I,A,R]),Z.exports.useEffect(()=>{t.on("got_user",({user:Y,password:Ee})=>{Ee==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(ee(Y._teamId),U(Y._teamRole),se(Y._id),it({_id:Y._id,_name:Y._name,_email:Y._email,_teamId:Y._teamId,_teamRole:Y._teamRole,_gsIntegration:Y._gsIntegration,_gsSessionData:Y._gsSessionData,_wpIntegration:Y._wpIntegration,_wpSessionData:Y._wpSessionData,_fbIntegration:Y._fbIntegration,_fbSessionData:Y._fbSessionData,_igIntegration:Y._igIntegration,_igSessionData:Y._igSessionData,_totalMessagesSent:Y._totalMessagesSent,_totalLeadsGained:Y._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(Y._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(Y._totalLeadsGainedThisWeek),_funnelsCount:Y._funnelsCount,_funnels:Y._funnels,_teamChats:Y._teamChats,_ownChats:Y._ownChats,_assignedChats:Y._assignedChats}),le([JSON.parse(Y._totalMessagesSentThisWeek)[0].chats,JSON.parse(Y._totalMessagesSentThisWeek)[1].chats,JSON.parse(Y._totalMessagesSentThisWeek)[2].chats,JSON.parse(Y._totalMessagesSentThisWeek)[3].chats,JSON.parse(Y._totalMessagesSentThisWeek)[4].chats,JSON.parse(Y._totalMessagesSentThisWeek)[5].chats,JSON.parse(Y._totalMessagesSentThisWeek)[6].chats]),pe([JSON.parse(Y._totalLeadsGainedThisWeek)[0].leads,JSON.parse(Y._totalLeadsGainedThisWeek)[1].leads,JSON.parse(Y._totalLeadsGainedThisWeek)[2].leads,JSON.parse(Y._totalLeadsGainedThisWeek)[3].leads,JSON.parse(Y._totalLeadsGainedThisWeek)[4].leads,JSON.parse(Y._totalLeadsGainedThisWeek)[5].leads,JSON.parse(Y._totalLeadsGainedThisWeek)[6].leads]),Y._teamId!==""&&Y._teamRole!=="neutral"?D(!0):D(!1),Y._wpIntegration&&Y._wpSessionData!==""?R||L(!0):L(!1),Y._gsIntegration&&Y._gsSessionData!==""?S(!0):S(!1))}),t.on("got_user_team",({team:Y,password:Ee})=>{Ee==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(et({_id:Y._id,_teamAdmin:Y._teamAdmin,_teamMembers:Y._teamMembers,_teamName:Y._teamName,_totalMessagesSent:Y._totalMessagesSent,_totalLeadsGained:Y._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(Y._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(Y._totalLeadsGainedThisWeek),_teamChats:Y._teamChats,_teamWpIntegration:Y._teamWpIntegration}),Y._teamWpIntegration&&Y._teamAdmin!==me._id?R||(T(!0),L(!0)):(T(!1),L(!1)))}),t.on("joined_team",({password:Y,updatedTeam:Ee})=>{Y==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(ye("Team joined succesfully..."),et({_id:Ee._id,_teamAdmin:Ee._teamAdmin,_teamMembers:Ee._teamMembers,_teamName:Ee._teamName,_teamChats:Ee._teamChats,_teamWpIntegration:team._teamWpIntegration,_totalMessagesSent:Ee._totalMessagesSent,_totalLeadsGained:Ee._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(Ee._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(Ee._totalLeadsGainedThisWeek)}),team._teamWpIntegration&&team._teamAdmin!==me._id?R||(T(!0),L(!0)):(T(!1),L(!1)))}),t.on("team_updated",({password:Y,updatedTeam:Ee})=>{if(Y==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"){const kt=Bt=>Bt.id===ie;Ee._teamMembers.find(kt)&&(et({_id:Ee._id,_teamAdmin:Ee._teamAdmin,_teamWpIntegration:team._teamWpIntegration,_teamMembers:Ee._teamMembers,_teamName:Ee._teamName,_teamChats:Ee._teamChats,_totalMessagesSent:Ee._totalMessagesSent,_totalLeadsGained:Ee._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(Ee._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(Ee._totalLeadsGainedThisWeek)}),team._teamWpIntegration&&team._teamAdmin!==me._id?R||(T(!0),L(!0)):(T(!1),L(!1)))}}),t.on("member_added",({password:Y})=>{Y==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&ye("Member added to team...")}),t.on("sheets_integrated",({password:Y})=>{Y==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(window.localStorage.setItem("spfudFojOQJsh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io","Authenticated"),k(!1),b(!1),a(!0),ye("Google sheets integrated..."))}),t.on("sheets_authenticated",({password:Y})=>{Y==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(window.localStorage.setItem("spfudFojOQJsh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io","Authenticated"),k(!1),b(!1),a(!0),ye("Google sheets integrated..."))}),t.on("registered_user_team",({password:Y,newTeam:Ee})=>{Y==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(ye("Team created succesfully..."),et({_id:Ee._id,_teamAdmin:Ee._teamAdmin,_teamMembers:Ee._teamMembers,_teamWpIntegration:team._teamWpIntegration,_teamName:Ee._teamName,_teamChats:Ee._teamChats,_totalMessagesSent:Ee._totalMessagesSent,_totalLeadsGained:Ee._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(Ee._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(Ee._totalLeadsGainedThisWeek)}))}),t.on("left_team",({password:Y})=>{Y==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(ye("Team left succesfully..."),et({_id:"",_teamName:"Your team",_teamAdmin:"",_teamWpIntegration:!1,_teamMembers:[],_totalMessagesSent:0,_totalLeadsGained:0,_totalMessagesSentThisWeek:[],_totalLeadsGainedThisWeek:[],_teamChats:[]}))}),t.on("user_updated",({updatedUser:Y,password:Ee})=>{Ee==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(ee(Y._teamId),U(Y._teamRole),se(Y._id),it({_id:Y._id,_name:Y._name,_email:Y._email,_teamId:Y._teamId,_teamRole:Y._teamRole,_gsIntegration:Y._gsIntegration,_gsSessionData:Y._gsSessionData,_wpIntegration:Y._wpIntegration,_wpSessionData:Y._wpSessionData,_fbIntegration:Y._fbIntegration,_fbSessionData:Y._fbSessionData,_igIntegration:Y._igIntegration,_igSessionData:Y._igSessionData,_totalMessagesSent:Y._totalMessagesSent,_totalLeadsGained:Y._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(Y._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(Y._totalLeadsGainedThisWeek),_funnelsCount:Y._funnelsCount,_funnels:Y._funnels,_teamChats:Y._teamChats,_ownChats:Y._ownChats,_assignedChats:Y._assignedChats}),le([JSON.parse(Y._totalMessagesSentThisWeek)[0].chats,JSON.parse(Y._totalMessagesSentThisWeek)[1].chats,JSON.parse(Y._totalMessagesSentThisWeek)[2].chats,JSON.parse(Y._totalMessagesSentThisWeek)[3].chats,JSON.parse(Y._totalMessagesSentThisWeek)[4].chats,JSON.parse(Y._totalMessagesSentThisWeek)[5].chats,JSON.parse(Y._totalMessagesSentThisWeek)[6].chats]),pe([JSON.parse(Y._totalLeadsGainedThisWeek)[0].leads,JSON.parse(Y._totalLeadsGainedThisWeek)[1].leads,JSON.parse(Y._totalLeadsGainedThisWeek)[2].leads,JSON.parse(Y._totalLeadsGainedThisWeek)[3].leads,JSON.parse(Y._totalLeadsGainedThisWeek)[4].leads,JSON.parse(Y._totalLeadsGainedThisWeek)[5].leads,JSON.parse(Y._totalLeadsGainedThisWeek)[6].leads]),Y._teamId!==""&&Y._teamRole!=="neutral"?D(!0):D(!1),Y._wpIntegration&&Y._wpSessionData!==""?R||L(!0):L(!1),Y._gsIntegration&&Y._gsSessionData!==""?A||S(!0):S(!1))}),t.on("whatsapp_integrated",({password:Y})=>{Y==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(window.localStorage.setItem("spfudFojOQJsh7djfvnfnvfvnvnSDBVad55gegy.saleshub.io","Authenticated"),g(!1),e(!0),L(!1),i(!0),ye("Whatsapp integrated succesfully..."))}),t.on("whatsapp_authenticated",({password:Y})=>{Y==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(window.localStorage.setItem("spfudFojOQJsh7djfvnfnvfvnvnSDBVad55gegy.saleshub.io","Authenticated"),g(!1),e(!0),i(!0),K(!1),L(!1),ye("Whatsapp authenticated succesfully..."))})});const Fe=async()=>{!me._wpIntegration&&me._wpSessionData===""&&(g(!0),t.emit("integrate_whatsapp",{authToken:Ae,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io"},Y=>{g(!1),Y&&(i(!1),g(!1),ye(Y))}))};return P("div",{className:"app__dashboard",id:"dashboard",children:[P("div",{id:"snackbar",children:[_("img",{src:Bl,alt:""}),_("span",{id:"messagebox",children:"Hello"})]}),_(WH,{showModal:$}),_(SU,{showWpModal:r,setShowWpModal:o,socket:t,user:me}),_($U,{showFbModal:l,setShowFbModal:c,socket:t,user:me,authToken:Ae}),_(TU,{showGsModal:p,setShowGsModal:m,socket:t,authToken:Ae,user:me,userTeam:je}),_(jH,{showFbModal:u,setShowFbModal:d,socket:t,user:me,authToken:Ae}),_(HH,{showFbModal:f,setShowFbModal:h,socket:t,user:me,authToken:Ae}),_(CU,{showTeamModal:x,setShowTeamModal:N,userRole:M,userAuthToken:JSON.parse(window.localStorage.getItem("shulidtH9kNnMgaUtlL730ktnkB.saleshub.io")),teamId:Q,socket:t}),P("div",{className:"app__dashboard__header",children:[P("div",{className:"welcome__text__wrapper",children:[P("span",{className:"userName",children:["Hi ",me._name.substring(0,me._name.indexOf(" "))," \u{1F44B}"]}),_("span",{className:"welcome",children:"Welcome to Idealidad!"})]}),_("div",{className:"date__wrapper",children:_("span",{className:"date",children:Se})})]}),P("div",{className:"app__dashboard__body",children:[M!=="dead"?P("div",{className:"app__dashboard__body__flex",children:[P("div",{className:"sales__info__wrapper",id:"ml-0",children:[_("span",{className:"sales__header",children:"Messages sent by you"}),_("span",{className:"sales__count",children:me._totalMessagesSentThisWeek.length>0?me._totalMessagesSentThisWeek[7].total:"0"}),P("span",{className:"sales__header",children:["+",me._totalMessagesSentThisWeek.length>0?me._totalMessagesSentThisWeek[we.getDay()].chats:"0"," Today"]})]}),P("div",{className:"sales__info__wrapper mr-0",children:[_("span",{className:"sales__header",children:"Leads gained by you"}),_("span",{className:"sales__count",children:me._totalLeadsGainedThisWeek.length>0?me._totalLeadsGainedThisWeek[7].total:"0"}),P("span",{className:"sales__header",children:["+",me._totalLeadsGainedThisWeek.length>0?me._totalLeadsGainedThisWeek[we.getDay()].leads:"0"," Today"]})]})," "]}):ye("Resource corrupted..."),M!=="dead"?_("div",{className:"app__dashboard__body__chart",children:_(VH,{data:{labels:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],datasets:[{label:"Messages Sent By You This Week",data:ce,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:1},{label:"Leads Gained By You This Week",data:ue,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:1}]}})}):ye("Resource corrupted..."),P("div",{className:"app__dashboard__body__flex",children:[P("div",{className:"app__dashboard__containers small__flex",children:[P("span",{className:"app__dashboard__body__flex__header",children:["Integrations",_("img",{src:p8,alt:"",className:"extra__small mr-10"})]}),P("div",{className:"integration__wrapper",children:[P("div",{className:"integration",onClick:()=>{m(!0)},children:[_("img",{src:cf,alt:"",className:"small"})," Sheets",_("img",{src:w?QI:me._gsIntegration?ns:is,alt:"",className:`extra__small linked__icon ${w?"rotate":""}`,title:"Link Google Sheets"})]}),P("div",{className:"integration",onClick:()=>{Fe(),o(!0)},children:[_("img",{src:y1,alt:"",className:"small"})," Whatsapp",_("img",{src:y?QI:me._teamId!==""?je._teamWpIntegration?ns:is:me._wpIntegration?ns:is,alt:"",className:`extra__small linked__icon ${y?"rotate":""}`,title:"Link Whatsapp"})]}),P("div",{className:"integration",onClick:()=>{c(!0)},children:[_("img",{src:Zf,alt:"",className:"small"})," Facebook",_("img",{src:me._teamRole==="neutral"?me._teamId===""?me._fbIntegration?ns:is:ye("Resource corrupted..."):me._teamRole==="admin"?me._teamId!==""?je._fbIntegration?ns:is:ye("Resource corrupted..."):me._teamRole==="seller"&&me._teamId!==""?je._fbIntegration?ns:is:ye("Resource corrupted..."),alt:"",className:"extra__small linked__icon",title:"Link Facebook Messenger"})]}),P("div",{className:"integration",onClick:()=>{h(!0)},children:[_("img",{src:ZA,alt:"",className:"small"})," Messenger",_("img",{src:me._teamRole==="neutral"?me._teamId===""?me._igIntegration?ns:is:ye("Resource corrupted..."):me._teamRole==="admin"?me._teamId!==""?je._igIntegration?ns:is:ye("Resource corrupted..."):me._teamRole==="seller"&&me._teamId!==""?je._igIntegration?ns:is:ye("Resource corrupted..."),alt:"",className:"extra__small linked__icon",title:"Link Instagram"})]}),P("div",{className:"integration",onClick:()=>{d(!0)},children:[_("img",{src:QA,alt:"",className:"small"})," Instagram",_("img",{src:me._teamRole==="neutral"?me._teamId===""?me._igIntegration?ns:is:ye("Resource corrupted..."):me._teamRole==="admin"?me._teamId!==""?je._igIntegration?ns:is:ye("Resource corrupted..."):me._teamRole==="seller"&&me._teamId!==""?je._igIntegration?ns:is:ye("Resource corrupted..."),alt:"",className:"extra__small linked__icon",title:"Link Instagram"})]})]})]}),P("div",{className:"app__dashboard__containers",children:[P("span",{className:"app__dashboard__body__flex__header",children:[je._teamName,_("img",{src:m8,alt:"",className:"extra__small mr-10"}),M==="seller"?_("img",{src:e6,alt:"",className:"linked__icon w-20",title:"Add More Members To Your Team",onClick:()=>{N(!0)}}):_("img",{src:g8,alt:"",className:"linked__icon w-20",title:"Exit From Your Team",onClick:()=>{N(!0)}})]}),_("div",{className:"integration__wrapper",children:je._teamMembers.map(Y=>P("div",{className:"integration",id:Y.id,children:[_("img",{src:Fg,alt:"",className:"small"})," ",Y.name===me._name?"You":Y.name,_("span",{className:"role",children:Y.role.toUpperCase()})]},Y.id))})]})]})]}),_(Rh,{})]})};const UH=({showModal:t,setShowModal:e,permission:n,socket:i})=>{const s=JSON.parse(window.localStorage.getItem("shulidtH9kNnMgaUtlL730ktnkB.saleshub.io"));function a(o){var l=document.getElementById("snackbar");l.className.replace("show",""),l.className="show";var c=document.getElementById("messagebox");c.innerText=o,setTimeout(function(){l.className=l.className.replace("show","")},3e3)}return Z.exports.useEffect(()=>{var o=document.getElementById("funnelModal");t?o.style.display="flex":o.style.display="none",n||e(!1)},[t,n]),window.onclick=function(o){var l=document.getElementById("funnelModal");o.target==l&&e(!1)},_("div",{id:"funnelModal",className:"modal",children:P("div",{className:"modal-content",children:[_("div",{className:"close",onClick:()=>{e(!1)},children:_("span",{children:"\xD7"})}),_("span",{className:"header",children:"New Funnel"}),_("input",{className:"inputFields",type:"text",name:"",id:"name",placeholder:"Name"}),_("button",{onClick:()=>{console.log("Hello");var o=document.getElementById("name").value;o===""?a("Please provide funnel name..."):i.emit("add_funnel",{authToken:s,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",funnelName:o},l=>{l&&a(l)})},children:"Create"})]})})},Fh=t=>{const e=Z.exports.useRef(null),[n,i]=Z.exports.useState(t),s=a=>{console.log(e),e.current&&!e.current.contains(a.target)&&i(!1)};return Z.exports.useEffect(()=>(document.addEventListener("click",s,!0),()=>{document.removeEventListener("click",s,!0)}),[e]),{showEmoji:n,setShowEmoji:i,ref:e}},qH=[{id:"people",emojis:["grinning","smiley","smile","grin","laughing","sweat_smile","rolling_on_the_floor_laughing","joy","slightly_smiling_face","upside_down_face","melting_face","wink","blush","innocent","smiling_face_with_3_hearts","heart_eyes","star-struck","kissing_heart","kissing","relaxed","kissing_closed_eyes","kissing_smiling_eyes","smiling_face_with_tear","yum","stuck_out_tongue","stuck_out_tongue_winking_eye","zany_face","stuck_out_tongue_closed_eyes","money_mouth_face","hugging_face","face_with_hand_over_mouth","face_with_open_eyes_and_hand_over_mouth","face_with_peeking_eye","shushing_face","thinking_face","saluting_face","zipper_mouth_face","face_with_raised_eyebrow","neutral_face","expressionless","no_mouth","dotted_line_face","face_in_clouds","smirk","unamused","face_with_rolling_eyes","grimacing","face_exhaling","lying_face","relieved","pensive","sleepy","drooling_face","sleeping","mask","face_with_thermometer","face_with_head_bandage","nauseated_face","face_vomiting","sneezing_face","hot_face","cold_face","woozy_face","dizzy_face","face_with_spiral_eyes","exploding_head","face_with_cowboy_hat","partying_face","disguised_face","sunglasses","nerd_face","face_with_monocle","confused","face_with_diagonal_mouth","worried","slightly_frowning_face","white_frowning_face","open_mouth","hushed","astonished","flushed","pleading_face","face_holding_back_tears","frowning","anguished","fearful","cold_sweat","disappointed_relieved","cry","sob","scream","confounded","persevere","disappointed","sweat","weary","tired_face","yawning_face","triumph","rage","angry","face_with_symbols_on_mouth","smiling_imp","imp","skull","skull_and_crossbones","hankey","clown_face","japanese_ogre","japanese_goblin","ghost","alien","space_invader","robot_face","wave","raised_back_of_hand","raised_hand_with_fingers_splayed","hand","spock-hand","rightwards_hand","leftwards_hand","palm_down_hand","palm_up_hand","ok_hand","pinched_fingers","pinching_hand","v","crossed_fingers","hand_with_index_finger_and_thumb_crossed","i_love_you_hand_sign","the_horns","call_me_hand","point_left","point_right","point_up_2","middle_finger","point_down","point_up","index_pointing_at_the_viewer","+1","-1","fist","facepunch","left-facing_fist","right-facing_fist","clap","raised_hands","heart_hands","open_hands","palms_up_together","handshake","pray","writing_hand","nail_care","selfie","muscle","mechanical_arm","mechanical_leg","leg","foot","ear","ear_with_hearing_aid","nose","brain","anatomical_heart","lungs","tooth","bone","eyes","eye","tongue","lips","biting_lip","baby","child","boy","girl","adult","person_with_blond_hair","man","bearded_person","man_with_beard","woman_with_beard","red_haired_man","curly_haired_man","white_haired_man","bald_man","woman","red_haired_woman","red_haired_person","curly_haired_woman","curly_haired_person","white_haired_woman","white_haired_person","bald_woman","bald_person","blond-haired-woman","blond-haired-man","older_adult","older_man","older_woman","person_frowning","man-frowning","woman-frowning","person_with_pouting_face","man-pouting","woman-pouting","no_good","man-gesturing-no","woman-gesturing-no","ok_woman","man-gesturing-ok","woman-gesturing-ok","information_desk_person","man-tipping-hand","woman-tipping-hand","raising_hand","man-raising-hand","woman-raising-hand","deaf_person","deaf_man","deaf_woman","bow","man-bowing","woman-bowing","face_palm","man-facepalming","woman-facepalming","shrug","man-shrugging","woman-shrugging","health_worker","male-doctor","female-doctor","student","male-student","female-student","teacher","male-teacher","female-teacher","judge","male-judge","female-judge","farmer","male-farmer","female-farmer","cook","male-cook","female-cook","mechanic","male-mechanic","female-mechanic","factory_worker","male-factory-worker","female-factory-worker","office_worker","male-office-worker","female-office-worker","scientist","male-scientist","female-scientist","technologist","male-technologist","female-technologist","singer","male-singer","female-singer","artist","male-artist","female-artist","pilot","male-pilot","female-pilot","astronaut","male-astronaut","female-astronaut","firefighter","male-firefighter","female-firefighter","cop","male-police-officer","female-police-officer","sleuth_or_spy","male-detective","female-detective","guardsman","male-guard","female-guard","ninja","construction_worker","male-construction-worker","female-construction-worker","person_with_crown","prince","princess","man_with_turban","man-wearing-turban","woman-wearing-turban","man_with_gua_pi_mao","person_with_headscarf","person_in_tuxedo","man_in_tuxedo","woman_in_tuxedo","bride_with_veil","man_with_veil","woman_with_veil","pregnant_woman","pregnant_man","pregnant_person","breast-feeding","woman_feeding_baby","man_feeding_baby","person_feeding_baby","angel","santa","mrs_claus","mx_claus","superhero","male_superhero","female_superhero","supervillain","male_supervillain","female_supervillain","mage","male_mage","female_mage","fairy","male_fairy","female_fairy","vampire","male_vampire","female_vampire","merperson","merman","mermaid","elf","male_elf","female_elf","genie","male_genie","female_genie","zombie","male_zombie","female_zombie","troll","massage","man-getting-massage","woman-getting-massage","haircut","man-getting-haircut","woman-getting-haircut","walking","man-walking","woman-walking","standing_person","man_standing","woman_standing","kneeling_person","man_kneeling","woman_kneeling","person_with_probing_cane","man_with_probing_cane","woman_with_probing_cane","person_in_motorized_wheelchair","man_in_motorized_wheelchair","woman_in_motorized_wheelchair","person_in_manual_wheelchair","man_in_manual_wheelchair","woman_in_manual_wheelchair","runner","man-running","woman-running","dancer","man_dancing","man_in_business_suit_levitating","dancers","men-with-bunny-ears-partying","women-with-bunny-ears-partying","person_in_steamy_room","man_in_steamy_room","woman_in_steamy_room","person_climbing","man_climbing","woman_climbing","fencer","horse_racing","skier","snowboarder","golfer","man-golfing","woman-golfing","surfer","man-surfing","woman-surfing","rowboat","man-rowing-boat","woman-rowing-boat","swimmer","man-swimming","woman-swimming","person_with_ball","man-bouncing-ball","woman-bouncing-ball","weight_lifter","man-lifting-weights","woman-lifting-weights","bicyclist","man-biking","woman-biking","mountain_bicyclist","man-mountain-biking","woman-mountain-biking","person_doing_cartwheel","man-cartwheeling","woman-cartwheeling","wrestlers","man-wrestling","woman-wrestling","water_polo","man-playing-water-polo","woman-playing-water-polo","handball","man-playing-handball","woman-playing-handball","juggling","man-juggling","woman-juggling","person_in_lotus_position","man_in_lotus_position","woman_in_lotus_position","bath","sleeping_accommodation","people_holding_hands","two_women_holding_hands","man_and_woman_holding_hands","two_men_holding_hands","couplekiss","woman-kiss-man","man-kiss-man","woman-kiss-woman","couple_with_heart","woman-heart-man","man-heart-man","woman-heart-woman","family","man-woman-boy","man-woman-girl","man-woman-girl-boy","man-woman-boy-boy","man-woman-girl-girl","man-man-boy","man-man-girl","man-man-girl-boy","man-man-boy-boy","man-man-girl-girl","woman-woman-boy","woman-woman-girl","woman-woman-girl-boy","woman-woman-boy-boy","woman-woman-girl-girl","man-boy","man-boy-boy","man-girl","man-girl-boy","man-girl-girl","woman-boy","woman-boy-boy","woman-girl","woman-girl-boy","woman-girl-girl","speaking_head_in_silhouette","bust_in_silhouette","busts_in_silhouette","people_hugging","footprints","smiley_cat","smile_cat","joy_cat","heart_eyes_cat","smirk_cat","kissing_cat","scream_cat","crying_cat_face","pouting_cat","see_no_evil","hear_no_evil","speak_no_evil","kiss","love_letter","cupid","gift_heart","sparkling_heart","heartpulse","heartbeat","revolving_hearts","two_hearts","heart_decoration","heavy_heart_exclamation_mark_ornament","broken_heart","heart_on_fire","mending_heart","heart","orange_heart","yellow_heart","green_heart","blue_heart","purple_heart","brown_heart","black_heart","white_heart","100","anger","boom","dizzy","sweat_drops","dash","hole","bomb","speech_balloon","eye-in-speech-bubble","left_speech_bubble","right_anger_bubble","thought_balloon","zzz"]},{id:"nature",emojis:["monkey_face","monkey","gorilla","orangutan","dog","dog2","guide_dog","service_dog","poodle","wolf","fox_face","raccoon","cat","cat2","black_cat","lion_face","tiger","tiger2","leopard","horse","racehorse","unicorn_face","zebra_face","deer","bison","cow","ox","water_buffalo","cow2","pig","pig2","boar","pig_nose","ram","sheep","goat","dromedary_camel","camel","llama","giraffe_face","elephant","mammoth","rhinoceros","hippopotamus","mouse","mouse2","rat","hamster","rabbit","rabbit2","chipmunk","beaver","hedgehog","bat","bear","polar_bear","koala","panda_face","sloth","otter","skunk","kangaroo","badger","feet","turkey","chicken","rooster","hatching_chick","baby_chick","hatched_chick","bird","penguin","dove_of_peace","eagle","duck","swan","owl","dodo","feather","flamingo","peacock","parrot","frog","crocodile","turtle","lizard","snake","dragon_face","dragon","sauropod","t-rex","whale","whale2","dolphin","seal","fish","tropical_fish","blowfish","shark","octopus","shell","coral","snail","butterfly","bug","ant","bee","beetle","ladybug","cricket","cockroach","spider","spider_web","scorpion","mosquito","fly","worm","microbe","bouquet","cherry_blossom","white_flower","lotus","rosette","rose","wilted_flower","hibiscus","sunflower","blossom","tulip","seedling","potted_plant","evergreen_tree","deciduous_tree","palm_tree","cactus","ear_of_rice","herb","shamrock","four_leaf_clover","maple_leaf","fallen_leaf","leaves","empty_nest","nest_with_eggs"]},{id:"foods",emojis:["grapes","melon","watermelon","tangerine","lemon","banana","pineapple","mango","apple","green_apple","pear","peach","cherries","strawberry","blueberries","kiwifruit","tomato","olive","coconut","avocado","eggplant","potato","carrot","corn","hot_pepper","bell_pepper","cucumber","leafy_green","broccoli","garlic","onion","mushroom","peanuts","beans","chestnut","bread","croissant","baguette_bread","flatbread","pretzel","bagel","pancakes","waffle","cheese_wedge","meat_on_bone","poultry_leg","cut_of_meat","bacon","hamburger","fries","pizza","hotdog","sandwich","taco","burrito","tamale","stuffed_flatbread","falafel","egg","fried_egg","shallow_pan_of_food","stew","fondue","bowl_with_spoon","green_salad","popcorn","butter","salt","canned_food","bento","rice_cracker","rice_ball","rice","curry","ramen","spaghetti","sweet_potato","oden","sushi","fried_shrimp","fish_cake","moon_cake","dango","dumpling","fortune_cookie","takeout_box","crab","lobster","shrimp","squid","oyster","icecream","shaved_ice","ice_cream","doughnut","cookie","birthday","cake","cupcake","pie","chocolate_bar","candy","lollipop","custard","honey_pot","baby_bottle","glass_of_milk","coffee","teapot","tea","sake","champagne","wine_glass","cocktail","tropical_drink","beer","beers","clinking_glasses","tumbler_glass","pouring_liquid","cup_with_straw","bubble_tea","beverage_box","mate_drink","ice_cube","chopsticks","knife_fork_plate","fork_and_knife","spoon","hocho","jar","amphora"]},{id:"activity",emojis:["jack_o_lantern","christmas_tree","fireworks","sparkler","firecracker","sparkles","balloon","tada","confetti_ball","tanabata_tree","bamboo","dolls","flags","wind_chime","rice_scene","red_envelope","ribbon","gift","reminder_ribbon","admission_tickets","ticket","medal","trophy","sports_medal","first_place_medal","second_place_medal","third_place_medal","soccer","baseball","softball","basketball","volleyball","football","rugby_football","tennis","flying_disc","bowling","cricket_bat_and_ball","field_hockey_stick_and_ball","ice_hockey_stick_and_puck","lacrosse","table_tennis_paddle_and_ball","badminton_racquet_and_shuttlecock","boxing_glove","martial_arts_uniform","goal_net","golf","ice_skate","fishing_pole_and_fish","diving_mask","running_shirt_with_sash","ski","sled","curling_stone","dart","yo-yo","kite","8ball","crystal_ball","magic_wand","nazar_amulet","hamsa","video_game","joystick","slot_machine","game_die","jigsaw","teddy_bear","pinata","mirror_ball","nesting_dolls","spades","hearts","diamonds","clubs","chess_pawn","black_joker","mahjong","flower_playing_cards","performing_arts","frame_with_picture","art","thread","sewing_needle","yarn","knot"]},{id:"places",emojis:["earth_africa","earth_americas","earth_asia","globe_with_meridians","world_map","japan","compass","snow_capped_mountain","mountain","volcano","mount_fuji","camping","beach_with_umbrella","desert","desert_island","national_park","stadium","classical_building","building_construction","bricks","rock","wood","hut","house_buildings","derelict_house_building","house","house_with_garden","office","post_office","european_post_office","hospital","bank","hotel","love_hotel","convenience_store","school","department_store","factory","japanese_castle","european_castle","wedding","tokyo_tower","statue_of_liberty","church","mosque","hindu_temple","synagogue","shinto_shrine","kaaba","fountain","tent","foggy","night_with_stars","cityscape","sunrise_over_mountains","sunrise","city_sunset","city_sunrise","bridge_at_night","hotsprings","carousel_horse","playground_slide","ferris_wheel","roller_coaster","barber","circus_tent","steam_locomotive","railway_car","bullettrain_side","bullettrain_front","train2","metro","light_rail","station","tram","monorail","mountain_railway","train","bus","oncoming_bus","trolleybus","minibus","ambulance","fire_engine","police_car","oncoming_police_car","taxi","oncoming_taxi","car","oncoming_automobile","blue_car","pickup_truck","truck","articulated_lorry","tractor","racing_car","racing_motorcycle","motor_scooter","manual_wheelchair","motorized_wheelchair","auto_rickshaw","bike","scooter","skateboard","roller_skate","busstop","motorway","railway_track","oil_drum","fuelpump","wheel","rotating_light","traffic_light","vertical_traffic_light","octagonal_sign","construction","anchor","ring_buoy","boat","canoe","speedboat","passenger_ship","ferry","motor_boat","ship","airplane","small_airplane","airplane_departure","airplane_arriving","parachute","seat","helicopter","suspension_railway","mountain_cableway","aerial_tramway","satellite","rocket","flying_saucer","bellhop_bell","luggage","hourglass","hourglass_flowing_sand","watch","alarm_clock","stopwatch","timer_clock","mantelpiece_clock","clock12","clock1230","clock1","clock130","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","clock10","clock1030","clock11","clock1130","new_moon","waxing_crescent_moon","first_quarter_moon","moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","crescent_moon","new_moon_with_face","first_quarter_moon_with_face","last_quarter_moon_with_face","thermometer","sunny","full_moon_with_face","sun_with_face","ringed_planet","star","star2","stars","milky_way","cloud","partly_sunny","thunder_cloud_and_rain","mostly_sunny","barely_sunny","partly_sunny_rain","rain_cloud","snow_cloud","lightning","tornado","fog","wind_blowing_face","cyclone","rainbow","closed_umbrella","umbrella","umbrella_with_rain_drops","umbrella_on_ground","zap","snowflake","snowman","snowman_without_snow","comet","fire","droplet","ocean"]},{id:"objects",emojis:["eyeglasses","dark_sunglasses","goggles","lab_coat","safety_vest","necktie","shirt","jeans","scarf","gloves","coat","socks","dress","kimono","sari","one-piece_swimsuit","briefs","shorts","bikini","womans_clothes","purse","handbag","pouch","shopping_bags","school_satchel","thong_sandal","mans_shoe","athletic_shoe","hiking_boot","womans_flat_shoe","high_heel","sandal","ballet_shoes","boot","crown","womans_hat","tophat","mortar_board","billed_cap","military_helmet","helmet_with_white_cross","prayer_beads","lipstick","ring","gem","mute","speaker","sound","loud_sound","loudspeaker","mega","postal_horn","bell","no_bell","musical_score","musical_note","notes","studio_microphone","level_slider","control_knobs","microphone","headphones","radio","saxophone","accordion","guitar","musical_keyboard","trumpet","violin","banjo","drum_with_drumsticks","long_drum","iphone","calling","phone","telephone_receiver","pager","fax","battery","low_battery","electric_plug","computer","desktop_computer","printer","keyboard","three_button_mouse","trackball","minidisc","floppy_disk","cd","dvd","abacus","movie_camera","film_frames","film_projector","clapper","tv","camera","camera_with_flash","video_camera","vhs","mag","mag_right","candle","bulb","flashlight","izakaya_lantern","diya_lamp","notebook_with_decorative_cover","closed_book","book","green_book","blue_book","orange_book","books","notebook","ledger","page_with_curl","scroll","page_facing_up","newspaper","rolled_up_newspaper","bookmark_tabs","bookmark","label","moneybag","coin","yen","dollar","euro","pound","money_with_wings","credit_card","receipt","chart","email","e-mail","incoming_envelope","envelope_with_arrow","outbox_tray","inbox_tray","package","mailbox","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","postbox","ballot_box_with_ballot","pencil2","black_nib","lower_left_fountain_pen","lower_left_ballpoint_pen","lower_left_paintbrush","lower_left_crayon","memo","briefcase","file_folder","open_file_folder","card_index_dividers","date","calendar","spiral_note_pad","spiral_calendar_pad","card_index","chart_with_upwards_trend","chart_with_downwards_trend","bar_chart","clipboard","pushpin","round_pushpin","paperclip","linked_paperclips","straight_ruler","triangular_ruler","scissors","card_file_box","file_cabinet","wastebasket","lock","unlock","lock_with_ink_pen","closed_lock_with_key","key","old_key","hammer","axe","pick","hammer_and_pick","hammer_and_wrench","dagger_knife","crossed_swords","gun","boomerang","bow_and_arrow","shield","carpentry_saw","wrench","screwdriver","nut_and_bolt","gear","compression","scales","probing_cane","link","chains","hook","toolbox","magnet","ladder","alembic","test_tube","petri_dish","dna","microscope","telescope","satellite_antenna","syringe","drop_of_blood","pill","adhesive_bandage","crutch","stethoscope","x-ray","door","elevator","mirror","window","bed","couch_and_lamp","chair","toilet","plunger","shower","bathtub","mouse_trap","razor","lotion_bottle","safety_pin","broom","basket","roll_of_paper","bucket","soap","bubbles","toothbrush","sponge","fire_extinguisher","shopping_trolley","smoking","coffin","headstone","funeral_urn","moyai","placard","identification_card"]},{id:"symbols",emojis:["atm","put_litter_in_its_place","potable_water","wheelchair","mens","womens","restroom","baby_symbol","wc","passport_control","customs","baggage_claim","left_luggage","warning","children_crossing","no_entry","no_entry_sign","no_bicycles","no_smoking","do_not_litter","non-potable_water","no_pedestrians","no_mobile_phones","underage","radioactive_sign","biohazard_sign","arrow_up","arrow_upper_right","arrow_right","arrow_lower_right","arrow_down","arrow_lower_left","arrow_left","arrow_upper_left","arrow_up_down","left_right_arrow","leftwards_arrow_with_hook","arrow_right_hook","arrow_heading_up","arrow_heading_down","arrows_clockwise","arrows_counterclockwise","back","end","on","soon","top","place_of_worship","atom_symbol","om_symbol","star_of_david","wheel_of_dharma","yin_yang","latin_cross","orthodox_cross","star_and_crescent","peace_symbol","menorah_with_nine_branches","six_pointed_star","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","twisted_rightwards_arrows","repeat","repeat_one","arrow_forward","fast_forward","black_right_pointing_double_triangle_with_vertical_bar","black_right_pointing_triangle_with_double_vertical_bar","arrow_backward","rewind","black_left_pointing_double_triangle_with_vertical_bar","arrow_up_small","arrow_double_up","arrow_down_small","arrow_double_down","double_vertical_bar","black_square_for_stop","black_circle_for_record","eject","cinema","low_brightness","high_brightness","signal_strength","vibration_mode","mobile_phone_off","female_sign","male_sign","transgender_symbol","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","heavy_equals_sign","infinity","bangbang","interrobang","question","grey_question","grey_exclamation","exclamation","wavy_dash","currency_exchange","heavy_dollar_sign","medical_symbol","recycle","fleur_de_lis","trident","name_badge","beginner","o","white_check_mark","ballot_box_with_check","heavy_check_mark","x","negative_squared_cross_mark","curly_loop","loop","part_alternation_mark","eight_spoked_asterisk","eight_pointed_black_star","sparkle","copyright","registered","tm","hash","keycap_star","zero","one","two","three","four","five","six","seven","eight","nine","keycap_ten","capital_abcd","abcd","1234","symbols","abc","a","ab","b","cl","cool","free","information_source","id","m","new","ng","o2","ok","parking","sos","up","vs","koko","sa","u6708","u6709","u6307","ideograph_advantage","u5272","u7121","u7981","accept","u7533","u5408","u7a7a","congratulations","secret","u55b6","u6e80","red_circle","large_orange_circle","large_yellow_circle","large_green_circle","large_blue_circle","large_purple_circle","large_brown_circle","black_circle","white_circle","large_red_square","large_orange_square","large_yellow_square","large_green_square","large_blue_square","large_purple_square","large_brown_square","black_large_square","white_large_square","black_medium_square","white_medium_square","black_medium_small_square","white_medium_small_square","black_small_square","white_small_square","large_orange_diamond","large_blue_diamond","small_orange_diamond","small_blue_diamond","small_red_triangle","small_red_triangle_down","diamond_shape_with_a_dot_inside","radio_button","white_square_button","black_square_button"]},{id:"flags",emojis:["checkered_flag","cn","crossed_flags","de","es","flag-ac","flag-ad","flag-ae","flag-af","flag-ag","flag-ai","flag-al","flag-am","flag-ao","flag-aq","flag-ar","flag-as","flag-at","flag-au","flag-aw","flag-ax","flag-az","flag-ba","flag-bb","flag-bd","flag-be","flag-bf","flag-bg","flag-bh","flag-bi","flag-bj","flag-bl","flag-bm","flag-bn","flag-bo","flag-bq","flag-br","flag-bs","flag-bt","flag-bv","flag-bw","flag-by","flag-bz","flag-ca","flag-cc","flag-cd","flag-cf","flag-cg","flag-ch","flag-ci","flag-ck","flag-cl","flag-cm","flag-co","flag-cp","flag-cr","flag-cu","flag-cv","flag-cw","flag-cx","flag-cy","flag-cz","flag-dg","flag-dj","flag-dk","flag-dm","flag-do","flag-dz","flag-ea","flag-ec","flag-ee","flag-eg","flag-eh","flag-england","flag-er","flag-et","flag-eu","flag-fi","flag-fj","flag-fk","flag-fm","flag-fo","flag-ga","flag-gd","flag-ge","flag-gf","flag-gg","flag-gh","flag-gi","flag-gl","flag-gm","flag-gn","flag-gp","flag-gq","flag-gr","flag-gs","flag-gt","flag-gu","flag-gw","flag-gy","flag-hk","flag-hm","flag-hn","flag-hr","flag-ht","flag-hu","flag-ic","flag-id","flag-ie","flag-il","flag-im","flag-in","flag-io","flag-iq","flag-ir","flag-is","flag-je","flag-jm","flag-jo","flag-ke","flag-kg","flag-kh","flag-ki","flag-km","flag-kn","flag-kp","flag-kw","flag-ky","flag-kz","flag-la","flag-lb","flag-lc","flag-li","flag-lk","flag-lr","flag-ls","flag-lt","flag-lu","flag-lv","flag-ly","flag-ma","flag-mc","flag-md","flag-me","flag-mf","flag-mg","flag-mh","flag-mk","flag-ml","flag-mm","flag-mn","flag-mo","flag-mp","flag-mq","flag-mr","flag-ms","flag-mt","flag-mu","flag-mv","flag-mw","flag-mx","flag-my","flag-mz","flag-na","flag-nc","flag-ne","flag-nf","flag-ng","flag-ni","flag-nl","flag-no","flag-np","flag-nr","flag-nu","flag-nz","flag-om","flag-pa","flag-pe","flag-pf","flag-pg","flag-ph","flag-pk","flag-pl","flag-pm","flag-pn","flag-pr","flag-ps","flag-pt","flag-pw","flag-py","flag-qa","flag-re","flag-ro","flag-rs","flag-rw","flag-sa","flag-sb","flag-sc","flag-scotland","flag-sd","flag-se","flag-sg","flag-sh","flag-si","flag-sj","flag-sk","flag-sl","flag-sm","flag-sn","flag-so","flag-sr","flag-ss","flag-st","flag-sv","flag-sx","flag-sy","flag-sz","flag-ta","flag-tc","flag-td","flag-tf","flag-tg","flag-th","flag-tj","flag-tk","flag-tl","flag-tm","flag-tn","flag-to","flag-tr","flag-tt","flag-tv","flag-tw","flag-tz","flag-ua","flag-ug","flag-um","flag-un","flag-uy","flag-uz","flag-va","flag-vc","flag-ve","flag-vg","flag-vi","flag-vn","flag-vu","flag-wales","flag-wf","flag-ws","flag-xk","flag-ye","flag-yt","flag-za","flag-zm","flag-zw","fr","gb","it","jp","kr","pirate_flag","rainbow-flag","ru","transgender_flag","triangular_flag_on_post","us","waving_black_flag","waving_white_flag"]}],KH={100:{id:"100",name:"Hundred Points",keywords:["100","score","perfect","numbers","century","exam","quiz","test","pass"],skins:[{unified:"1f4af",native:"\u{1F4AF}"}],version:1},1234:{id:"1234",name:"Input Numbers",keywords:["1234","blue","square"],skins:[{unified:"1f522",native:"\u{1F522}"}],version:1},grinning:{id:"grinning",name:"Grinning Face",emoticons:[":D"],keywords:["smile","happy","joy",":D","grin"],skins:[{unified:"1f600",native:"\u{1F600}"}],version:1},smiley:{id:"smiley",name:"Grinning Face with Big Eyes",emoticons:[":)","=)","=-)"],keywords:["smiley","happy","joy","haha",":D",":)","smile","funny"],skins:[{unified:"1f603",native:"\u{1F603}"}],version:1},smile:{id:"smile",name:"Grinning Face with Smiling Eyes",emoticons:[":)","C:","c:",":D",":-D"],keywords:["smile","happy","joy","funny","haha","laugh","like",":D",":)"],skins:[{unified:"1f604",native:"\u{1F604}"}],version:1},grin:{id:"grin",name:"Beaming Face with Smiling Eyes",keywords:["grin","happy","smile","joy","kawaii"],skins:[{unified:"1f601",native:"\u{1F601}"}],version:1},laughing:{id:"laughing",name:"Grinning Squinting Face",emoticons:[":>",":->"],keywords:["laughing","satisfied","happy","joy","lol","haha","glad","XD","laugh"],skins:[{unified:"1f606",native:"\u{1F606}"}],version:1},sweat_smile:{id:"sweat_smile",name:"Grinning Face with Sweat",keywords:["smile","hot","happy","laugh","relief"],skins:[{unified:"1f605",native:"\u{1F605}"}],version:1},rolling_on_the_floor_laughing:{id:"rolling_on_the_floor_laughing",name:"Rolling on the Floor Laughing",keywords:["face","lol","haha","rofl"],skins:[{unified:"1f923",native:"\u{1F923}"}],version:3},joy:{id:"joy",name:"Face with Tears of Joy",keywords:["cry","weep","happy","happytears","haha"],skins:[{unified:"1f602",native:"\u{1F602}"}],version:1},slightly_smiling_face:{id:"slightly_smiling_face",name:"Slightly Smiling Face",emoticons:[":)","(:",":-)"],keywords:["smile"],skins:[{unified:"1f642",native:"\u{1F642}"}],version:1},upside_down_face:{id:"upside_down_face",name:"Upside-Down Face",keywords:["upside","down","flipped","silly","smile"],skins:[{unified:"1f643",native:"\u{1F643}"}],version:1},melting_face:{id:"melting_face",name:"Melting Face",keywords:["hot","heat"],skins:[{unified:"1fae0",native:"\u{1FAE0}"}],version:14},wink:{id:"wink",name:"Winking Face",emoticons:[";)",";-)"],keywords:["wink","happy","mischievous","secret",";)","smile","eye"],skins:[{unified:"1f609",native:"\u{1F609}"}],version:1},blush:{id:"blush",name:"Smiling Face with Smiling Eyes",emoticons:[":)"],keywords:["blush","smile","happy","flushed","crush","embarrassed","shy","joy"],skins:[{unified:"1f60a",native:"\u{1F60A}"}],version:1},innocent:{id:"innocent",name:"Smiling Face with Halo",keywords:["innocent","angel","heaven"],skins:[{unified:"1f607",native:"\u{1F607}"}],version:1},smiling_face_with_3_hearts:{id:"smiling_face_with_3_hearts",name:"Smiling Face with Hearts",keywords:["3","love","like","affection","valentines","infatuation","crush","adore"],skins:[{unified:"1f970",native:"\u{1F970}"}],version:11},heart_eyes:{id:"heart_eyes",name:"Smiling Face with Heart-Eyes",keywords:["heart","eyes","love","like","affection","valentines","infatuation","crush"],skins:[{unified:"1f60d",native:"\u{1F60D}"}],version:1},"star-struck":{id:"star-struck",name:"Star-Struck",keywords:["star","struck","grinning","face","with","eyes","smile","starry"],skins:[{unified:"1f929",native:"\u{1F929}"}],version:5},kissing_heart:{id:"kissing_heart",name:"Face Blowing a Kiss",emoticons:[":*",":-*"],keywords:["kissing","heart","love","like","affection","valentines","infatuation"],skins:[{unified:"1f618",native:"\u{1F618}"}],version:1},kissing:{id:"kissing",name:"Kissing Face",keywords:["love","like","3","valentines","infatuation","kiss"],skins:[{unified:"1f617",native:"\u{1F617}"}],version:1},relaxed:{id:"relaxed",name:"Smiling Face",keywords:["relaxed","blush","massage","happiness"],skins:[{unified:"263a-fe0f",native:"\u263A\uFE0F"}],version:1},kissing_closed_eyes:{id:"kissing_closed_eyes",name:"Kissing Face with Closed Eyes",keywords:["love","like","affection","valentines","infatuation","kiss"],skins:[{unified:"1f61a",native:"\u{1F61A}"}],version:1},kissing_smiling_eyes:{id:"kissing_smiling_eyes",name:"Kissing Face with Smiling Eyes",keywords:["affection","valentines","infatuation","kiss"],skins:[{unified:"1f619",native:"\u{1F619}"}],version:1},smiling_face_with_tear:{id:"smiling_face_with_tear",name:"Smiling Face with Tear",keywords:["sad","cry","pretend"],skins:[{unified:"1f972",native:"\u{1F972}"}],version:13},yum:{id:"yum",name:"Face Savoring Food",keywords:["yum","happy","joy","tongue","smile","silly","yummy","nom","delicious","savouring"],skins:[{unified:"1f60b",native:"\u{1F60B}"}],version:1},stuck_out_tongue:{id:"stuck_out_tongue",name:"Face with Tongue",emoticons:[":p",":-p",":P",":-P",":b",":-b"],keywords:["stuck","out","prank","childish","playful","mischievous","smile"],skins:[{unified:"1f61b",native:"\u{1F61B}"}],version:1},stuck_out_tongue_winking_eye:{id:"stuck_out_tongue_winking_eye",name:"Winking Face with Tongue",emoticons:[";p",";-p",";b",";-b",";P",";-P"],keywords:["stuck","out","eye","prank","childish","playful","mischievous","smile","wink"],skins:[{unified:"1f61c",native:"\u{1F61C}"}],version:1},zany_face:{id:"zany_face",name:"Zany Face",keywords:["grinning","with","one","large","and","small","eye","goofy","crazy"],skins:[{unified:"1f92a",native:"\u{1F92A}"}],version:5},stuck_out_tongue_closed_eyes:{id:"stuck_out_tongue_closed_eyes",name:"Squinting Face with Tongue",keywords:["stuck","out","closed","eyes","prank","playful","mischievous","smile"],skins:[{unified:"1f61d",native:"\u{1F61D}"}],version:1},money_mouth_face:{id:"money_mouth_face",name:"Money-Mouth Face",keywords:["money","mouth","rich","dollar"],skins:[{unified:"1f911",native:"\u{1F911}"}],version:1},hugging_face:{id:"hugging_face",name:"Hugging Face",keywords:["smile","hug"],skins:[{unified:"1f917",native:"\u{1F917}"}],version:1},face_with_hand_over_mouth:{id:"face_with_hand_over_mouth",name:"Face with Hand over Mouth",keywords:["smiling","eyes","and","covering","whoops","shock","surprise"],skins:[{unified:"1f92d",native:"\u{1F92D}"}],version:5},face_with_open_eyes_and_hand_over_mouth:{id:"face_with_open_eyes_and_hand_over_mouth",name:"Face with Open Eyes and Hand over Mouth",keywords:["silence","secret","shock","surprise"],skins:[{unified:"1fae2",native:"\u{1FAE2}"}],version:14},face_with_peeking_eye:{id:"face_with_peeking_eye",name:"Face with Peeking Eye",keywords:["scared","frightening","embarrassing"],skins:[{unified:"1fae3",native:"\u{1FAE3}"}],version:14},shushing_face:{id:"shushing_face",name:"Shushing Face",keywords:["with","finger","covering","closed","lips","quiet","shhh"],skins:[{unified:"1f92b",native:"\u{1F92B}"}],version:5},thinking_face:{id:"thinking_face",name:"Thinking Face",keywords:["hmmm","think","consider"],skins:[{unified:"1f914",native:"\u{1F914}"}],version:1},saluting_face:{id:"saluting_face",name:"Saluting Face",keywords:["respect","salute"],skins:[{unified:"1fae1",native:"\u{1FAE1}"}],version:14},zipper_mouth_face:{id:"zipper_mouth_face",name:"Zipper-Mouth Face",keywords:["zipper","mouth","sealed","secret"],skins:[{unified:"1f910",native:"\u{1F910}"}],version:1},face_with_raised_eyebrow:{id:"face_with_raised_eyebrow",name:"Face with Raised Eyebrow",keywords:["one","distrust","scepticism","disapproval","disbelief","surprise"],skins:[{unified:"1f928",native:"\u{1F928}"}],version:5},neutral_face:{id:"neutral_face",name:"Neutral Face",emoticons:[":|",":-|"],keywords:["indifference","meh",":",""],skins:[{unified:"1f610",native:"\u{1F610}"}],version:1},expressionless:{id:"expressionless",name:"Expressionless Face",emoticons:["-_-"],keywords:["indifferent","-","","meh","deadpan"],skins:[{unified:"1f611",native:"\u{1F611}"}],version:1},no_mouth:{id:"no_mouth",name:"Face Without Mouth",keywords:["no","hellokitty"],skins:[{unified:"1f636",native:"\u{1F636}"}],version:1},dotted_line_face:{id:"dotted_line_face",name:"Dotted Line Face",keywords:["invisible","lonely","isolation","depression"],skins:[{unified:"1fae5",native:"\u{1FAE5}"}],version:14},face_in_clouds:{id:"face_in_clouds",name:"Face in Clouds",keywords:["shower","steam","dream"],skins:[{unified:"1f636-200d-1f32b-fe0f",native:"\u{1F636}\u200D\u{1F32B}\uFE0F"}],version:13.1},smirk:{id:"smirk",name:"Smirking Face",keywords:["smirk","smile","mean","prank","smug","sarcasm"],skins:[{unified:"1f60f",native:"\u{1F60F}"}],version:1},unamused:{id:"unamused",name:"Unamused Face",emoticons:[":("],keywords:["indifference","bored","straight","serious","sarcasm","unimpressed","skeptical","dubious","side","eye"],skins:[{unified:"1f612",native:"\u{1F612}"}],version:1},face_with_rolling_eyes:{id:"face_with_rolling_eyes",name:"Face with Rolling Eyes",keywords:["eyeroll","frustrated"],skins:[{unified:"1f644",native:"\u{1F644}"}],version:1},grimacing:{id:"grimacing",name:"Grimacing Face",keywords:["grimace","teeth"],skins:[{unified:"1f62c",native:"\u{1F62C}"}],version:1},face_exhaling:{id:"face_exhaling",name:"Face Exhaling",keywords:["relieve","relief","tired","sigh"],skins:[{unified:"1f62e-200d-1f4a8",native:"\u{1F62E}\u200D\u{1F4A8}"}],version:13.1},lying_face:{id:"lying_face",name:"Lying Face",keywords:["lie","pinocchio"],skins:[{unified:"1f925",native:"\u{1F925}"}],version:3},relieved:{id:"relieved",name:"Relieved Face",keywords:["relaxed","phew","massage","happiness"],skins:[{unified:"1f60c",native:"\u{1F60C}"}],version:1},pensive:{id:"pensive",name:"Pensive Face",keywords:["sad","depressed","upset"],skins:[{unified:"1f614",native:"\u{1F614}"}],version:1},sleepy:{id:"sleepy",name:"Sleepy Face",keywords:["tired","rest","nap"],skins:[{unified:"1f62a",native:"\u{1F62A}"}],version:1},drooling_face:{id:"drooling_face",name:"Drooling Face",keywords:[],skins:[{unified:"1f924",native:"\u{1F924}"}],version:3},sleeping:{id:"sleeping",name:"Sleeping Face",keywords:["tired","sleepy","night","zzz"],skins:[{unified:"1f634",native:"\u{1F634}"}],version:1},mask:{id:"mask",name:"Face with Medical Mask",keywords:["sick","ill","disease"],skins:[{unified:"1f637",native:"\u{1F637}"}],version:1},face_with_thermometer:{id:"face_with_thermometer",name:"Face with Thermometer",keywords:["sick","temperature","cold","fever"],skins:[{unified:"1f912",native:"\u{1F912}"}],version:1},face_with_head_bandage:{id:"face_with_head_bandage",name:"Face with Head-Bandage",keywords:["head","bandage","injured","clumsy","hurt"],skins:[{unified:"1f915",native:"\u{1F915}"}],version:1},nauseated_face:{id:"nauseated_face",name:"Nauseated Face",keywords:["vomit","gross","green","sick","throw","up","ill"],skins:[{unified:"1f922",native:"\u{1F922}"}],version:3},face_vomiting:{id:"face_vomiting",name:"Face Vomiting",keywords:["with","open","mouth","sick"],skins:[{unified:"1f92e",native:"\u{1F92E}"}],version:5},sneezing_face:{id:"sneezing_face",name:"Sneezing Face",keywords:["gesundheit","sneeze","sick","allergy"],skins:[{unified:"1f927",native:"\u{1F927}"}],version:3},hot_face:{id:"hot_face",name:"Hot Face",keywords:["feverish","heat","red","sweating"],skins:[{unified:"1f975",native:"\u{1F975}"}],version:11},cold_face:{id:"cold_face",name:"Cold Face",keywords:["blue","freezing","frozen","frostbite","icicles"],skins:[{unified:"1f976",native:"\u{1F976}"}],version:11},woozy_face:{id:"woozy_face",name:"Woozy Face",keywords:["dizzy","intoxicated","tipsy","wavy"],skins:[{unified:"1f974",native:"\u{1F974}"}],version:11},dizzy_face:{id:"dizzy_face",name:"Dizzy Face",keywords:["spent","unconscious","xox"],skins:[{unified:"1f635",native:"\u{1F635}"}],version:1},face_with_spiral_eyes:{id:"face_with_spiral_eyes",name:"Face with Spiral Eyes",keywords:["sick","ill","confused","nauseous","nausea"],skins:[{unified:"1f635-200d-1f4ab",native:"\u{1F635}\u200D\u{1F4AB}"}],version:13.1},exploding_head:{id:"exploding_head",name:"Exploding Head",keywords:["shocked","face","with","mind","blown"],skins:[{unified:"1f92f",native:"\u{1F92F}"}],version:5},face_with_cowboy_hat:{id:"face_with_cowboy_hat",name:"Cowboy Hat Face",keywords:["with","cowgirl"],skins:[{unified:"1f920",native:"\u{1F920}"}],version:3},partying_face:{id:"partying_face",name:"Partying Face",keywords:["celebration","woohoo"],skins:[{unified:"1f973",native:"\u{1F973}"}],version:11},disguised_face:{id:"disguised_face",name:"Disguised Face",keywords:["pretent","brows","glasses","moustache"],skins:[{unified:"1f978",native:"\u{1F978}"}],version:13},sunglasses:{id:"sunglasses",name:"Smiling Face with Sunglasses",emoticons:["8)"],keywords:["cool","smile","summer","beach","sunglass"],skins:[{unified:"1f60e",native:"\u{1F60E}"}],version:1},nerd_face:{id:"nerd_face",name:"Nerd Face",keywords:["nerdy","geek","dork"],skins:[{unified:"1f913",native:"\u{1F913}"}],version:1},face_with_monocle:{id:"face_with_monocle",name:"Face with Monocle",keywords:["stuffy","wealthy"],skins:[{unified:"1f9d0",native:"\u{1F9D0}"}],version:5},confused:{id:"confused",name:"Confused Face",emoticons:[":\\",":-\\",":/",":-/"],keywords:["indifference","huh","weird","hmmm",":/"],skins:[{unified:"1f615",native:"\u{1F615}"}],version:1},face_with_diagonal_mouth:{id:"face_with_diagonal_mouth",name:"Face with Diagonal Mouth",keywords:["skeptic","confuse","frustrated","indifferent"],skins:[{unified:"1fae4",native:"\u{1FAE4}"}],version:14},worried:{id:"worried",name:"Worried Face",keywords:["concern","nervous",":("],skins:[{unified:"1f61f",native:"\u{1F61F}"}],version:1},slightly_frowning_face:{id:"slightly_frowning_face",name:"Slightly Frowning Face",keywords:["disappointed","sad","upset"],skins:[{unified:"1f641",native:"\u{1F641}"}],version:1},white_frowning_face:{id:"white_frowning_face",name:"Frowning Face",keywords:["white","sad","upset","frown"],skins:[{unified:"2639-fe0f",native:"\u2639\uFE0F"}],version:1},open_mouth:{id:"open_mouth",name:"Face with Open Mouth",emoticons:[":o",":-o",":O",":-O"],keywords:["surprise","impressed","wow","whoa",":O"],skins:[{unified:"1f62e",native:"\u{1F62E}"}],version:1},hushed:{id:"hushed",name:"Hushed Face",keywords:["woo","shh"],skins:[{unified:"1f62f",native:"\u{1F62F}"}],version:1},astonished:{id:"astonished",name:"Astonished Face",keywords:["xox","surprised","poisoned"],skins:[{unified:"1f632",native:"\u{1F632}"}],version:1},flushed:{id:"flushed",name:"Flushed Face",keywords:["blush","shy","flattered"],skins:[{unified:"1f633",native:"\u{1F633}"}],version:1},pleading_face:{id:"pleading_face",name:"Pleading Face",keywords:["begging","mercy"],skins:[{unified:"1f97a",native:"\u{1F97A}"}],version:11},face_holding_back_tears:{id:"face_holding_back_tears",name:"Face Holding Back Tears",keywords:["touched","gratitude"],skins:[{unified:"1f979",native:"\u{1F979}"}],version:14},frowning:{id:"frowning",name:"Frowning Face with Open Mouth",keywords:["aw","what"],skins:[{unified:"1f626",native:"\u{1F626}"}],version:1},anguished:{id:"anguished",name:"Anguished Face",emoticons:["D:"],keywords:["stunned","nervous"],skins:[{unified:"1f627",native:"\u{1F627}"}],version:1},fearful:{id:"fearful",name:"Fearful Face",keywords:["scared","terrified","nervous","oops","huh"],skins:[{unified:"1f628",native:"\u{1F628}"}],version:1},cold_sweat:{id:"cold_sweat",name:"Anxious Face with Sweat",keywords:["cold","nervous"],skins:[{unified:"1f630",native:"\u{1F630}"}],version:1},disappointed_relieved:{id:"disappointed_relieved",name:"Sad but Relieved Face",keywords:["disappointed","phew","sweat","nervous"],skins:[{unified:"1f625",native:"\u{1F625}"}],version:1},cry:{id:"cry",name:"Crying Face",emoticons:[":'("],keywords:["cry","tears","sad","depressed","upset",":'("],skins:[{unified:"1f622",native:"\u{1F622}"}],version:1},sob:{id:"sob",name:"Loudly Crying Face",emoticons:[":'("],keywords:["sob","cry","tears","sad","upset","depressed"],skins:[{unified:"1f62d",native:"\u{1F62D}"}],version:1},scream:{id:"scream",name:"Face Screaming in Fear",keywords:["scream","munch","scared","omg"],skins:[{unified:"1f631",native:"\u{1F631}"}],version:1},confounded:{id:"confounded",name:"Confounded Face",keywords:["confused","sick","unwell","oops",":S"],skins:[{unified:"1f616",native:"\u{1F616}"}],version:1},persevere:{id:"persevere",name:"Persevering Face",keywords:["persevere","sick","no","upset","oops"],skins:[{unified:"1f623",native:"\u{1F623}"}],version:1},disappointed:{id:"disappointed",name:"Disappointed Face",emoticons:["):",":(",":-("],keywords:["sad","upset","depressed",":("],skins:[{unified:"1f61e",native:"\u{1F61E}"}],version:1},sweat:{id:"sweat",name:"Face with Cold Sweat",keywords:["downcast","hot","sad","tired","exercise"],skins:[{unified:"1f613",native:"\u{1F613}"}],version:1},weary:{id:"weary",name:"Weary Face",keywords:["tired","sleepy","sad","frustrated","upset"],skins:[{unified:"1f629",native:"\u{1F629}"}],version:1},tired_face:{id:"tired_face",name:"Tired Face",keywords:["sick","whine","upset","frustrated"],skins:[{unified:"1f62b",native:"\u{1F62B}"}],version:1},yawning_face:{id:"yawning_face",name:"Yawning Face",keywords:["tired","sleepy"],skins:[{unified:"1f971",native:"\u{1F971}"}],version:12},triumph:{id:"triumph",name:"Face with Look of Triumph",keywords:["steam","from","nose","gas","phew","proud","pride"],skins:[{unified:"1f624",native:"\u{1F624}"}],version:1},rage:{id:"rage",name:"Pouting Face",keywords:["rage","angry","mad","hate","despise"],skins:[{unified:"1f621",native:"\u{1F621}"}],version:1},angry:{id:"angry",name:"Angry Face",emoticons:[">:(",">:-("],keywords:["mad","annoyed","frustrated"],skins:[{unified:"1f620",native:"\u{1F620}"}],version:1},face_with_symbols_on_mouth:{id:"face_with_symbols_on_mouth",name:"Face with Symbols on Mouth",keywords:["serious","covering","swearing","cursing","cussing","profanity","expletive"],skins:[{unified:"1f92c",native:"\u{1F92C}"}],version:5},smiling_imp:{id:"smiling_imp",name:"Smiling Face with Horns",keywords:["imp","devil"],skins:[{unified:"1f608",native:"\u{1F608}"}],version:1},imp:{id:"imp",name:"Imp",keywords:["angry","face","with","horns","devil"],skins:[{unified:"1f47f",native:"\u{1F47F}"}],version:1},skull:{id:"skull",name:"Skull",keywords:["dead","skeleton","creepy","death"],skins:[{unified:"1f480",native:"\u{1F480}"}],version:1},skull_and_crossbones:{id:"skull_and_crossbones",name:"Skull and Crossbones",keywords:["poison","danger","deadly","scary","death","pirate","evil"],skins:[{unified:"2620-fe0f",native:"\u2620\uFE0F"}],version:1},hankey:{id:"hankey",name:"Pile of Poo",keywords:["hankey","poop","shit","shitface","fail","turd"],skins:[{unified:"1f4a9",native:"\u{1F4A9}"}],version:1},clown_face:{id:"clown_face",name:"Clown Face",keywords:[],skins:[{unified:"1f921",native:"\u{1F921}"}],version:3},japanese_ogre:{id:"japanese_ogre",name:"Ogre",keywords:["japanese","monster","red","mask","halloween","scary","creepy","devil","demon"],skins:[{unified:"1f479",native:"\u{1F479}"}],version:1},japanese_goblin:{id:"japanese_goblin",name:"Goblin",keywords:["japanese","red","evil","mask","monster","scary","creepy"],skins:[{unified:"1f47a",native:"\u{1F47A}"}],version:1},ghost:{id:"ghost",name:"Ghost",keywords:["halloween","spooky","scary"],skins:[{unified:"1f47b",native:"\u{1F47B}"}],version:1},alien:{id:"alien",name:"Alien",keywords:["UFO","paul","weird","outer","space"],skins:[{unified:"1f47d",native:"\u{1F47D}"}],version:1},space_invader:{id:"space_invader",name:"Alien Monster",keywords:["space","invader","game","arcade","play"],skins:[{unified:"1f47e",native:"\u{1F47E}"}],version:1},robot_face:{id:"robot_face",name:"Robot",keywords:["face","computer","machine","bot"],skins:[{unified:"1f916",native:"\u{1F916}"}],version:1},smiley_cat:{id:"smiley_cat",name:"Grinning Cat",keywords:["smiley","animal","cats","happy","smile"],skins:[{unified:"1f63a",native:"\u{1F63A}"}],version:1},smile_cat:{id:"smile_cat",name:"Grinning Cat with Smiling Eyes",keywords:["smile","animal","cats"],skins:[{unified:"1f638",native:"\u{1F638}"}],version:1},joy_cat:{id:"joy_cat",name:"Cat with Tears of Joy",keywords:["animal","cats","haha","happy"],skins:[{unified:"1f639",native:"\u{1F639}"}],version:1},heart_eyes_cat:{id:"heart_eyes_cat",name:"Smiling Cat with Heart-Eyes",keywords:["heart","eyes","animal","love","like","affection","cats","valentines"],skins:[{unified:"1f63b",native:"\u{1F63B}"}],version:1},smirk_cat:{id:"smirk_cat",name:"Cat with Wry Smile",keywords:["smirk","animal","cats"],skins:[{unified:"1f63c",native:"\u{1F63C}"}],version:1},kissing_cat:{id:"kissing_cat",name:"Kissing Cat",keywords:["animal","cats","kiss"],skins:[{unified:"1f63d",native:"\u{1F63D}"}],version:1},scream_cat:{id:"scream_cat",name:"Weary Cat",keywords:["scream","animal","cats","munch","scared"],skins:[{unified:"1f640",native:"\u{1F640}"}],version:1},crying_cat_face:{id:"crying_cat_face",name:"Crying Cat",keywords:["face","animal","tears","weep","sad","cats","upset","cry"],skins:[{unified:"1f63f",native:"\u{1F63F}"}],version:1},pouting_cat:{id:"pouting_cat",name:"Pouting Cat",keywords:["animal","cats"],skins:[{unified:"1f63e",native:"\u{1F63E}"}],version:1},see_no_evil:{id:"see_no_evil",name:"See-No-Evil Monkey",keywords:["see","no","evil","animal","nature","haha"],skins:[{unified:"1f648",native:"\u{1F648}"}],version:1},hear_no_evil:{id:"hear_no_evil",name:"Hear-No-Evil Monkey",keywords:["hear","no","evil","animal","nature"],skins:[{unified:"1f649",native:"\u{1F649}"}],version:1},speak_no_evil:{id:"speak_no_evil",name:"Speak-No-Evil Monkey",keywords:["speak","no","evil","animal","nature","omg"],skins:[{unified:"1f64a",native:"\u{1F64A}"}],version:1},kiss:{id:"kiss",name:"Kiss Mark",keywords:["face","lips","love","like","affection","valentines"],skins:[{unified:"1f48b",native:"\u{1F48B}"}],version:1},love_letter:{id:"love_letter",name:"Love Letter",keywords:["email","like","affection","envelope","valentines"],skins:[{unified:"1f48c",native:"\u{1F48C}"}],version:1},cupid:{id:"cupid",name:"Heart with Arrow",keywords:["cupid","love","like","affection","valentines"],skins:[{unified:"1f498",native:"\u{1F498}"}],version:1},gift_heart:{id:"gift_heart",name:"Heart with Ribbon",keywords:["gift","love","valentines"],skins:[{unified:"1f49d",native:"\u{1F49D}"}],version:1},sparkling_heart:{id:"sparkling_heart",name:"Sparkling Heart",keywords:["love","like","affection","valentines"],skins:[{unified:"1f496",native:"\u{1F496}"}],version:1},heartpulse:{id:"heartpulse",name:"Growing Heart",keywords:["heartpulse","like","love","affection","valentines","pink"],skins:[{unified:"1f497",native:"\u{1F497}"}],version:1},heartbeat:{id:"heartbeat",name:"Beating Heart",keywords:["heartbeat","love","like","affection","valentines","pink"],skins:[{unified:"1f493",native:"\u{1F493}"}],version:1},revolving_hearts:{id:"revolving_hearts",name:"Revolving Hearts",keywords:["love","like","affection","valentines"],skins:[{unified:"1f49e",native:"\u{1F49E}"}],version:1},two_hearts:{id:"two_hearts",name:"Two Hearts",keywords:["love","like","affection","valentines","heart"],skins:[{unified:"1f495",native:"\u{1F495}"}],version:1},heart_decoration:{id:"heart_decoration",name:"Heart Decoration",keywords:["purple","square","love","like"],skins:[{unified:"1f49f",native:"\u{1F49F}"}],version:1},heavy_heart_exclamation_mark_ornament:{id:"heavy_heart_exclamation_mark_ornament",name:"Heart Exclamation",keywords:["heavy","mark","ornament","decoration","love"],skins:[{unified:"2763-fe0f",native:"\u2763\uFE0F"}],version:1},broken_heart:{id:"broken_heart",name:"Broken Heart",emoticons:["</3"],keywords:["sad","sorry","break","heartbreak"],skins:[{unified:"1f494",native:"\u{1F494}"}],version:1},heart_on_fire:{id:"heart_on_fire",name:"Heart on Fire",keywords:["passionate","enthusiastic"],skins:[{unified:"2764-fe0f-200d-1f525",native:"\u2764\uFE0F\u200D\u{1F525}"}],version:13.1},mending_heart:{id:"mending_heart",name:"Mending Heart",keywords:["broken","bandage","wounded"],skins:[{unified:"2764-fe0f-200d-1fa79",native:"\u2764\uFE0F\u200D\u{1FA79}"}],version:13.1},heart:{id:"heart",name:"Red Heart",emoticons:["<3"],keywords:["love","like","valentines"],skins:[{unified:"2764-fe0f",native:"\u2764\uFE0F"}],version:1},orange_heart:{id:"orange_heart",name:"Orange Heart",keywords:["love","like","affection","valentines"],skins:[{unified:"1f9e1",native:"\u{1F9E1}"}],version:5},yellow_heart:{id:"yellow_heart",name:"Yellow Heart",emoticons:["<3"],keywords:["love","like","affection","valentines"],skins:[{unified:"1f49b",native:"\u{1F49B}"}],version:1},green_heart:{id:"green_heart",name:"Green Heart",emoticons:["<3"],keywords:["love","like","affection","valentines"],skins:[{unified:"1f49a",native:"\u{1F49A}"}],version:1},blue_heart:{id:"blue_heart",name:"Blue Heart",emoticons:["<3"],keywords:["love","like","affection","valentines"],skins:[{unified:"1f499",native:"\u{1F499}"}],version:1},purple_heart:{id:"purple_heart",name:"Purple Heart",emoticons:["<3"],keywords:["love","like","affection","valentines"],skins:[{unified:"1f49c",native:"\u{1F49C}"}],version:1},brown_heart:{id:"brown_heart",name:"Brown Heart",keywords:["coffee"],skins:[{unified:"1f90e",native:"\u{1F90E}"}],version:12},black_heart:{id:"black_heart",name:"Black Heart",keywords:["evil"],skins:[{unified:"1f5a4",native:"\u{1F5A4}"}],version:3},white_heart:{id:"white_heart",name:"White Heart",keywords:["pure"],skins:[{unified:"1f90d",native:"\u{1F90D}"}],version:12},anger:{id:"anger",name:"Anger Symbol",keywords:["angry","mad"],skins:[{unified:"1f4a2",native:"\u{1F4A2}"}],version:1},boom:{id:"boom",name:"Collision",keywords:["boom","bomb","explode","explosion","blown"],skins:[{unified:"1f4a5",native:"\u{1F4A5}"}],version:1},dizzy:{id:"dizzy",name:"Dizzy",keywords:["star","sparkle","shoot","magic"],skins:[{unified:"1f4ab",native:"\u{1F4AB}"}],version:1},sweat_drops:{id:"sweat_drops",name:"Sweat Droplets",keywords:["drops","water","drip","oops"],skins:[{unified:"1f4a6",native:"\u{1F4A6}"}],version:1},dash:{id:"dash",name:"Dash Symbol",keywords:["dashing","away","wind","air","fast","shoo","fart","smoke","puff"],skins:[{unified:"1f4a8",native:"\u{1F4A8}"}],version:1},hole:{id:"hole",name:"Hole",keywords:["embarrassing"],skins:[{unified:"1f573-fe0f",native:"\u{1F573}\uFE0F"}],version:1},bomb:{id:"bomb",name:"Bomb",keywords:["boom","explode","explosion","terrorism"],skins:[{unified:"1f4a3",native:"\u{1F4A3}"}],version:1},speech_balloon:{id:"speech_balloon",name:"Speech Balloon",keywords:["bubble","words","message","talk","chatting"],skins:[{unified:"1f4ac",native:"\u{1F4AC}"}],version:1},"eye-in-speech-bubble":{id:"eye-in-speech-bubble",name:"Eye in Speech Bubble",keywords:["in-speech-bubble","info"],skins:[{unified:"1f441-fe0f-200d-1f5e8-fe0f",native:"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F"}],version:2},left_speech_bubble:{id:"left_speech_bubble",name:"Left Speech Bubble",keywords:["words","message","talk","chatting"],skins:[{unified:"1f5e8-fe0f",native:"\u{1F5E8}\uFE0F"}],version:2},right_anger_bubble:{id:"right_anger_bubble",name:"Right Anger Bubble",keywords:["caption","speech","thinking","mad"],skins:[{unified:"1f5ef-fe0f",native:"\u{1F5EF}\uFE0F"}],version:1},thought_balloon:{id:"thought_balloon",name:"Thought Balloon",keywords:["bubble","cloud","speech","thinking","dream"],skins:[{unified:"1f4ad",native:"\u{1F4AD}"}],version:1},zzz:{id:"zzz",name:"Zzz",keywords:["sleepy","tired","dream"],skins:[{unified:"1f4a4",native:"\u{1F4A4}"}],version:1},wave:{id:"wave",name:"Waving Hand",keywords:["wave","hands","gesture","goodbye","solong","farewell","hello","hi","palm"],skins:[{unified:"1f44b",native:"\u{1F44B}"},{unified:"1f44b-1f3fb",native:"\u{1F44B}\u{1F3FB}"},{unified:"1f44b-1f3fc",native:"\u{1F44B}\u{1F3FC}"},{unified:"1f44b-1f3fd",native:"\u{1F44B}\u{1F3FD}"},{unified:"1f44b-1f3fe",native:"\u{1F44B}\u{1F3FE}"},{unified:"1f44b-1f3ff",native:"\u{1F44B}\u{1F3FF}"}],version:1},raised_back_of_hand:{id:"raised_back_of_hand",name:"Raised Back of Hand",keywords:["fingers","backhand"],skins:[{unified:"1f91a",native:"\u{1F91A}"},{unified:"1f91a-1f3fb",native:"\u{1F91A}\u{1F3FB}"},{unified:"1f91a-1f3fc",native:"\u{1F91A}\u{1F3FC}"},{unified:"1f91a-1f3fd",native:"\u{1F91A}\u{1F3FD}"},{unified:"1f91a-1f3fe",native:"\u{1F91A}\u{1F3FE}"},{unified:"1f91a-1f3ff",native:"\u{1F91A}\u{1F3FF}"}],version:3},raised_hand_with_fingers_splayed:{id:"raised_hand_with_fingers_splayed",name:"Hand with Fingers Splayed",keywords:["raised","palm"],skins:[{unified:"1f590-fe0f",native:"\u{1F590}\uFE0F"},{unified:"1f590-1f3fb",native:"\u{1F590}\u{1F3FB}"},{unified:"1f590-1f3fc",native:"\u{1F590}\u{1F3FC}"},{unified:"1f590-1f3fd",native:"\u{1F590}\u{1F3FD}"},{unified:"1f590-1f3fe",native:"\u{1F590}\u{1F3FE}"},{unified:"1f590-1f3ff",native:"\u{1F590}\u{1F3FF}"}],version:1},hand:{id:"hand",name:"Raised Hand",keywords:["fingers","stop","highfive","high","five","palm","ban"],skins:[{unified:"270b",native:"\u270B"},{unified:"270b-1f3fb",native:"\u270B\u{1F3FB}"},{unified:"270b-1f3fc",native:"\u270B\u{1F3FC}"},{unified:"270b-1f3fd",native:"\u270B\u{1F3FD}"},{unified:"270b-1f3fe",native:"\u270B\u{1F3FE}"},{unified:"270b-1f3ff",native:"\u270B\u{1F3FF}"}],version:1},"spock-hand":{id:"spock-hand",name:"Vulcan Salute",keywords:["spock","hand","fingers","star","trek"],skins:[{unified:"1f596",native:"\u{1F596}"},{unified:"1f596-1f3fb",native:"\u{1F596}\u{1F3FB}"},{unified:"1f596-1f3fc",native:"\u{1F596}\u{1F3FC}"},{unified:"1f596-1f3fd",native:"\u{1F596}\u{1F3FD}"},{unified:"1f596-1f3fe",native:"\u{1F596}\u{1F3FE}"},{unified:"1f596-1f3ff",native:"\u{1F596}\u{1F3FF}"}],version:1},rightwards_hand:{id:"rightwards_hand",name:"Rightwards Hand",keywords:["palm","offer"],skins:[{unified:"1faf1",native:"\u{1FAF1}"},{unified:"1faf1-1f3fb",native:"\u{1FAF1}\u{1F3FB}"},{unified:"1faf1-1f3fc",native:"\u{1FAF1}\u{1F3FC}"},{unified:"1faf1-1f3fd",native:"\u{1FAF1}\u{1F3FD}"},{unified:"1faf1-1f3fe",native:"\u{1FAF1}\u{1F3FE}"},{unified:"1faf1-1f3ff",native:"\u{1FAF1}\u{1F3FF}"}],version:14},leftwards_hand:{id:"leftwards_hand",name:"Leftwards Hand",keywords:["palm","offer"],skins:[{unified:"1faf2",native:"\u{1FAF2}"},{unified:"1faf2-1f3fb",native:"\u{1FAF2}\u{1F3FB}"},{unified:"1faf2-1f3fc",native:"\u{1FAF2}\u{1F3FC}"},{unified:"1faf2-1f3fd",native:"\u{1FAF2}\u{1F3FD}"},{unified:"1faf2-1f3fe",native:"\u{1FAF2}\u{1F3FE}"},{unified:"1faf2-1f3ff",native:"\u{1FAF2}\u{1F3FF}"}],version:14},palm_down_hand:{id:"palm_down_hand",name:"Palm Down Hand",keywords:["drop"],skins:[{unified:"1faf3",native:"\u{1FAF3}"},{unified:"1faf3-1f3fb",native:"\u{1FAF3}\u{1F3FB}"},{unified:"1faf3-1f3fc",native:"\u{1FAF3}\u{1F3FC}"},{unified:"1faf3-1f3fd",native:"\u{1FAF3}\u{1F3FD}"},{unified:"1faf3-1f3fe",native:"\u{1FAF3}\u{1F3FE}"},{unified:"1faf3-1f3ff",native:"\u{1FAF3}\u{1F3FF}"}],version:14},palm_up_hand:{id:"palm_up_hand",name:"Palm Up Hand",keywords:["lift","offer","demand"],skins:[{unified:"1faf4",native:"\u{1FAF4}"},{unified:"1faf4-1f3fb",native:"\u{1FAF4}\u{1F3FB}"},{unified:"1faf4-1f3fc",native:"\u{1FAF4}\u{1F3FC}"},{unified:"1faf4-1f3fd",native:"\u{1FAF4}\u{1F3FD}"},{unified:"1faf4-1f3fe",native:"\u{1FAF4}\u{1F3FE}"},{unified:"1faf4-1f3ff",native:"\u{1FAF4}\u{1F3FF}"}],version:14},ok_hand:{id:"ok_hand",name:"Ok Hand",keywords:["fingers","limbs","perfect","okay"],skins:[{unified:"1f44c",native:"\u{1F44C}"},{unified:"1f44c-1f3fb",native:"\u{1F44C}\u{1F3FB}"},{unified:"1f44c-1f3fc",native:"\u{1F44C}\u{1F3FC}"},{unified:"1f44c-1f3fd",native:"\u{1F44C}\u{1F3FD}"},{unified:"1f44c-1f3fe",native:"\u{1F44C}\u{1F3FE}"},{unified:"1f44c-1f3ff",native:"\u{1F44C}\u{1F3FF}"}],version:1},pinched_fingers:{id:"pinched_fingers",name:"Pinched Fingers",keywords:["size","tiny","small"],skins:[{unified:"1f90c",native:"\u{1F90C}"},{unified:"1f90c-1f3fb",native:"\u{1F90C}\u{1F3FB}"},{unified:"1f90c-1f3fc",native:"\u{1F90C}\u{1F3FC}"},{unified:"1f90c-1f3fd",native:"\u{1F90C}\u{1F3FD}"},{unified:"1f90c-1f3fe",native:"\u{1F90C}\u{1F3FE}"},{unified:"1f90c-1f3ff",native:"\u{1F90C}\u{1F3FF}"}],version:13},pinching_hand:{id:"pinching_hand",name:"Pinching Hand",keywords:["tiny","small","size"],skins:[{unified:"1f90f",native:"\u{1F90F}"},{unified:"1f90f-1f3fb",native:"\u{1F90F}\u{1F3FB}"},{unified:"1f90f-1f3fc",native:"\u{1F90F}\u{1F3FC}"},{unified:"1f90f-1f3fd",native:"\u{1F90F}\u{1F3FD}"},{unified:"1f90f-1f3fe",native:"\u{1F90F}\u{1F3FE}"},{unified:"1f90f-1f3ff",native:"\u{1F90F}\u{1F3FF}"}],version:12},v:{id:"v",name:"Victory Hand",keywords:["v","fingers","ohyeah","peace","two"],skins:[{unified:"270c-fe0f",native:"\u270C\uFE0F"},{unified:"270c-1f3fb",native:"\u270C\u{1F3FB}"},{unified:"270c-1f3fc",native:"\u270C\u{1F3FC}"},{unified:"270c-1f3fd",native:"\u270C\u{1F3FD}"},{unified:"270c-1f3fe",native:"\u270C\u{1F3FE}"},{unified:"270c-1f3ff",native:"\u270C\u{1F3FF}"}],version:1},crossed_fingers:{id:"crossed_fingers",name:"Crossed Fingers",keywords:["hand","with","index","and","middle","good","lucky"],skins:[{unified:"1f91e",native:"\u{1F91E}"},{unified:"1f91e-1f3fb",native:"\u{1F91E}\u{1F3FB}"},{unified:"1f91e-1f3fc",native:"\u{1F91E}\u{1F3FC}"},{unified:"1f91e-1f3fd",native:"\u{1F91E}\u{1F3FD}"},{unified:"1f91e-1f3fe",native:"\u{1F91E}\u{1F3FE}"},{unified:"1f91e-1f3ff",native:"\u{1F91E}\u{1F3FF}"}],version:3},hand_with_index_finger_and_thumb_crossed:{id:"hand_with_index_finger_and_thumb_crossed",name:"Hand with Index Finger and Thumb Crossed",keywords:["heart","love","money","expensive"],skins:[{unified:"1faf0",native:"\u{1FAF0}"},{unified:"1faf0-1f3fb",native:"\u{1FAF0}\u{1F3FB}"},{unified:"1faf0-1f3fc",native:"\u{1FAF0}\u{1F3FC}"},{unified:"1faf0-1f3fd",native:"\u{1FAF0}\u{1F3FD}"},{unified:"1faf0-1f3fe",native:"\u{1FAF0}\u{1F3FE}"},{unified:"1faf0-1f3ff",native:"\u{1FAF0}\u{1F3FF}"}],version:14},i_love_you_hand_sign:{id:"i_love_you_hand_sign",name:"Love-You Gesture",keywords:["i","love","you","hand","sign","fingers"],skins:[{unified:"1f91f",native:"\u{1F91F}"},{unified:"1f91f-1f3fb",native:"\u{1F91F}\u{1F3FB}"},{unified:"1f91f-1f3fc",native:"\u{1F91F}\u{1F3FC}"},{unified:"1f91f-1f3fd",native:"\u{1F91F}\u{1F3FD}"},{unified:"1f91f-1f3fe",native:"\u{1F91F}\u{1F3FE}"},{unified:"1f91f-1f3ff",native:"\u{1F91F}\u{1F3FF}"}],version:5},the_horns:{id:"the_horns",name:"Sign of the Horns",keywords:["hand","fingers","evil","eye","rock","on"],skins:[{unified:"1f918",native:"\u{1F918}"},{unified:"1f918-1f3fb",native:"\u{1F918}\u{1F3FB}"},{unified:"1f918-1f3fc",native:"\u{1F918}\u{1F3FC}"},{unified:"1f918-1f3fd",native:"\u{1F918}\u{1F3FD}"},{unified:"1f918-1f3fe",native:"\u{1F918}\u{1F3FE}"},{unified:"1f918-1f3ff",native:"\u{1F918}\u{1F3FF}"}],version:1},call_me_hand:{id:"call_me_hand",name:"Call Me Hand",keywords:["hands","gesture","shaka"],skins:[{unified:"1f919",native:"\u{1F919}"},{unified:"1f919-1f3fb",native:"\u{1F919}\u{1F3FB}"},{unified:"1f919-1f3fc",native:"\u{1F919}\u{1F3FC}"},{unified:"1f919-1f3fd",native:"\u{1F919}\u{1F3FD}"},{unified:"1f919-1f3fe",native:"\u{1F919}\u{1F3FE}"},{unified:"1f919-1f3ff",native:"\u{1F919}\u{1F3FF}"}],version:3},point_left:{id:"point_left",name:"Backhand Index Pointing Left",keywords:["point","direction","fingers","hand"],skins:[{unified:"1f448",native:"\u{1F448}"},{unified:"1f448-1f3fb",native:"\u{1F448}\u{1F3FB}"},{unified:"1f448-1f3fc",native:"\u{1F448}\u{1F3FC}"},{unified:"1f448-1f3fd",native:"\u{1F448}\u{1F3FD}"},{unified:"1f448-1f3fe",native:"\u{1F448}\u{1F3FE}"},{unified:"1f448-1f3ff",native:"\u{1F448}\u{1F3FF}"}],version:1},point_right:{id:"point_right",name:"Backhand Index Pointing Right",keywords:["point","fingers","hand","direction"],skins:[{unified:"1f449",native:"\u{1F449}"},{unified:"1f449-1f3fb",native:"\u{1F449}\u{1F3FB}"},{unified:"1f449-1f3fc",native:"\u{1F449}\u{1F3FC}"},{unified:"1f449-1f3fd",native:"\u{1F449}\u{1F3FD}"},{unified:"1f449-1f3fe",native:"\u{1F449}\u{1F3FE}"},{unified:"1f449-1f3ff",native:"\u{1F449}\u{1F3FF}"}],version:1},point_up_2:{id:"point_up_2",name:"Backhand Index Pointing Up",keywords:["point","2","fingers","hand","direction"],skins:[{unified:"1f446",native:"\u{1F446}"},{unified:"1f446-1f3fb",native:"\u{1F446}\u{1F3FB}"},{unified:"1f446-1f3fc",native:"\u{1F446}\u{1F3FC}"},{unified:"1f446-1f3fd",native:"\u{1F446}\u{1F3FD}"},{unified:"1f446-1f3fe",native:"\u{1F446}\u{1F3FE}"},{unified:"1f446-1f3ff",native:"\u{1F446}\u{1F3FF}"}],version:1},middle_finger:{id:"middle_finger",name:"Middle Finger",keywords:["reversed","hand","with","extended","fingers","rude","flipping"],skins:[{unified:"1f595",native:"\u{1F595}"},{unified:"1f595-1f3fb",native:"\u{1F595}\u{1F3FB}"},{unified:"1f595-1f3fc",native:"\u{1F595}\u{1F3FC}"},{unified:"1f595-1f3fd",native:"\u{1F595}\u{1F3FD}"},{unified:"1f595-1f3fe",native:"\u{1F595}\u{1F3FE}"},{unified:"1f595-1f3ff",native:"\u{1F595}\u{1F3FF}"}],version:1},point_down:{id:"point_down",name:"Backhand Index Pointing Down",keywords:["point","fingers","hand","direction"],skins:[{unified:"1f447",native:"\u{1F447}"},{unified:"1f447-1f3fb",native:"\u{1F447}\u{1F3FB}"},{unified:"1f447-1f3fc",native:"\u{1F447}\u{1F3FC}"},{unified:"1f447-1f3fd",native:"\u{1F447}\u{1F3FD}"},{unified:"1f447-1f3fe",native:"\u{1F447}\u{1F3FE}"},{unified:"1f447-1f3ff",native:"\u{1F447}\u{1F3FF}"}],version:1},point_up:{id:"point_up",name:"Index Pointing Up",keywords:["point","hand","fingers","direction"],skins:[{unified:"261d-fe0f",native:"\u261D\uFE0F"},{unified:"261d-1f3fb",native:"\u261D\u{1F3FB}"},{unified:"261d-1f3fc",native:"\u261D\u{1F3FC}"},{unified:"261d-1f3fd",native:"\u261D\u{1F3FD}"},{unified:"261d-1f3fe",native:"\u261D\u{1F3FE}"},{unified:"261d-1f3ff",native:"\u261D\u{1F3FF}"}],version:1},index_pointing_at_the_viewer:{id:"index_pointing_at_the_viewer",name:"Index Pointing at the Viewer",keywords:["you","recruit"],skins:[{unified:"1faf5",native:"\u{1FAF5}"},{unified:"1faf5-1f3fb",native:"\u{1FAF5}\u{1F3FB}"},{unified:"1faf5-1f3fc",native:"\u{1FAF5}\u{1F3FC}"},{unified:"1faf5-1f3fd",native:"\u{1FAF5}\u{1F3FD}"},{unified:"1faf5-1f3fe",native:"\u{1FAF5}\u{1F3FE}"},{unified:"1faf5-1f3ff",native:"\u{1FAF5}\u{1F3FF}"}],version:14},"+1":{id:"+1",name:"Thumbs Up",keywords:["+1","thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],skins:[{unified:"1f44d",native:"\u{1F44D}"},{unified:"1f44d-1f3fb",native:"\u{1F44D}\u{1F3FB}"},{unified:"1f44d-1f3fc",native:"\u{1F44D}\u{1F3FC}"},{unified:"1f44d-1f3fd",native:"\u{1F44D}\u{1F3FD}"},{unified:"1f44d-1f3fe",native:"\u{1F44D}\u{1F3FE}"},{unified:"1f44d-1f3ff",native:"\u{1F44D}\u{1F3FF}"}],version:1},"-1":{id:"-1",name:"Thumbs Down",keywords:["-1","thumbsdown","no","dislike","hand"],skins:[{unified:"1f44e",native:"\u{1F44E}"},{unified:"1f44e-1f3fb",native:"\u{1F44E}\u{1F3FB}"},{unified:"1f44e-1f3fc",native:"\u{1F44E}\u{1F3FC}"},{unified:"1f44e-1f3fd",native:"\u{1F44E}\u{1F3FD}"},{unified:"1f44e-1f3fe",native:"\u{1F44E}\u{1F3FE}"},{unified:"1f44e-1f3ff",native:"\u{1F44E}\u{1F3FF}"}],version:1},fist:{id:"fist",name:"Raised Fist",keywords:["fingers","hand","grasp"],skins:[{unified:"270a",native:"\u270A"},{unified:"270a-1f3fb",native:"\u270A\u{1F3FB}"},{unified:"270a-1f3fc",native:"\u270A\u{1F3FC}"},{unified:"270a-1f3fd",native:"\u270A\u{1F3FD}"},{unified:"270a-1f3fe",native:"\u270A\u{1F3FE}"},{unified:"270a-1f3ff",native:"\u270A\u{1F3FF}"}],version:1},facepunch:{id:"facepunch",name:"Oncoming Fist",keywords:["facepunch","punch","angry","violence","hit","attack","hand"],skins:[{unified:"1f44a",native:"\u{1F44A}"},{unified:"1f44a-1f3fb",native:"\u{1F44A}\u{1F3FB}"},{unified:"1f44a-1f3fc",native:"\u{1F44A}\u{1F3FC}"},{unified:"1f44a-1f3fd",native:"\u{1F44A}\u{1F3FD}"},{unified:"1f44a-1f3fe",native:"\u{1F44A}\u{1F3FE}"},{unified:"1f44a-1f3ff",native:"\u{1F44A}\u{1F3FF}"}],version:1},"left-facing_fist":{id:"left-facing_fist",name:"Left-Facing Fist",keywords:["left","facing","hand","fistbump"],skins:[{unified:"1f91b",native:"\u{1F91B}"},{unified:"1f91b-1f3fb",native:"\u{1F91B}\u{1F3FB}"},{unified:"1f91b-1f3fc",native:"\u{1F91B}\u{1F3FC}"},{unified:"1f91b-1f3fd",native:"\u{1F91B}\u{1F3FD}"},{unified:"1f91b-1f3fe",native:"\u{1F91B}\u{1F3FE}"},{unified:"1f91b-1f3ff",native:"\u{1F91B}\u{1F3FF}"}],version:3},"right-facing_fist":{id:"right-facing_fist",name:"Right-Facing Fist",keywords:["right","facing","hand","fistbump"],skins:[{unified:"1f91c",native:"\u{1F91C}"},{unified:"1f91c-1f3fb",native:"\u{1F91C}\u{1F3FB}"},{unified:"1f91c-1f3fc",native:"\u{1F91C}\u{1F3FC}"},{unified:"1f91c-1f3fd",native:"\u{1F91C}\u{1F3FD}"},{unified:"1f91c-1f3fe",native:"\u{1F91C}\u{1F3FE}"},{unified:"1f91c-1f3ff",native:"\u{1F91C}\u{1F3FF}"}],version:3},clap:{id:"clap",name:"Clapping Hands",keywords:["clap","praise","applause","congrats","yay"],skins:[{unified:"1f44f",native:"\u{1F44F}"},{unified:"1f44f-1f3fb",native:"\u{1F44F}\u{1F3FB}"},{unified:"1f44f-1f3fc",native:"\u{1F44F}\u{1F3FC}"},{unified:"1f44f-1f3fd",native:"\u{1F44F}\u{1F3FD}"},{unified:"1f44f-1f3fe",native:"\u{1F44F}\u{1F3FE}"},{unified:"1f44f-1f3ff",native:"\u{1F44F}\u{1F3FF}"}],version:1},raised_hands:{id:"raised_hands",name:"Raising Hands",keywords:["raised","gesture","hooray","yea","celebration"],skins:[{unified:"1f64c",native:"\u{1F64C}"},{unified:"1f64c-1f3fb",native:"\u{1F64C}\u{1F3FB}"},{unified:"1f64c-1f3fc",native:"\u{1F64C}\u{1F3FC}"},{unified:"1f64c-1f3fd",native:"\u{1F64C}\u{1F3FD}"},{unified:"1f64c-1f3fe",native:"\u{1F64C}\u{1F3FE}"},{unified:"1f64c-1f3ff",native:"\u{1F64C}\u{1F3FF}"}],version:1},heart_hands:{id:"heart_hands",name:"Heart Hands",keywords:["love","appreciation","support"],skins:[{unified:"1faf6",native:"\u{1FAF6}"},{unified:"1faf6-1f3fb",native:"\u{1FAF6}\u{1F3FB}"},{unified:"1faf6-1f3fc",native:"\u{1FAF6}\u{1F3FC}"},{unified:"1faf6-1f3fd",native:"\u{1FAF6}\u{1F3FD}"},{unified:"1faf6-1f3fe",native:"\u{1FAF6}\u{1F3FE}"},{unified:"1faf6-1f3ff",native:"\u{1FAF6}\u{1F3FF}"}],version:14},open_hands:{id:"open_hands",name:"Open Hands",keywords:["fingers","butterfly"],skins:[{unified:"1f450",native:"\u{1F450}"},{unified:"1f450-1f3fb",native:"\u{1F450}\u{1F3FB}"},{unified:"1f450-1f3fc",native:"\u{1F450}\u{1F3FC}"},{unified:"1f450-1f3fd",native:"\u{1F450}\u{1F3FD}"},{unified:"1f450-1f3fe",native:"\u{1F450}\u{1F3FE}"},{unified:"1f450-1f3ff",native:"\u{1F450}\u{1F3FF}"}],version:1},palms_up_together:{id:"palms_up_together",name:"Palms Up Together",keywords:["hands","gesture","cupped","prayer"],skins:[{unified:"1f932",native:"\u{1F932}"},{unified:"1f932-1f3fb",native:"\u{1F932}\u{1F3FB}"},{unified:"1f932-1f3fc",native:"\u{1F932}\u{1F3FC}"},{unified:"1f932-1f3fd",native:"\u{1F932}\u{1F3FD}"},{unified:"1f932-1f3fe",native:"\u{1F932}\u{1F3FE}"},{unified:"1f932-1f3ff",native:"\u{1F932}\u{1F3FF}"}],version:5},handshake:{id:"handshake",name:"Handshake",keywords:["agreement","shake"],skins:[{unified:"1f91d",native:"\u{1F91D}"},{unified:"1f91d-1f3fb",native:"\u{1F91D}\u{1F3FB}"},{unified:"1f91d-1f3fc",native:"\u{1F91D}\u{1F3FC}"},{unified:"1f91d-1f3fd",native:"\u{1F91D}\u{1F3FD}"},{unified:"1f91d-1f3fe",native:"\u{1F91D}\u{1F3FE}"},{unified:"1f91d-1f3ff",native:"\u{1F91D}\u{1F3FF}"}],version:3},pray:{id:"pray",name:"Folded Hands",keywords:["pray","please","hope","wish","namaste","highfive","high","five"],skins:[{unified:"1f64f",native:"\u{1F64F}"},{unified:"1f64f-1f3fb",native:"\u{1F64F}\u{1F3FB}"},{unified:"1f64f-1f3fc",native:"\u{1F64F}\u{1F3FC}"},{unified:"1f64f-1f3fd",native:"\u{1F64F}\u{1F3FD}"},{unified:"1f64f-1f3fe",native:"\u{1F64F}\u{1F3FE}"},{unified:"1f64f-1f3ff",native:"\u{1F64F}\u{1F3FF}"}],version:1},writing_hand:{id:"writing_hand",name:"Writing Hand",keywords:["lower","left","ballpoint","pen","stationery","write","compose"],skins:[{unified:"270d-fe0f",native:"\u270D\uFE0F"},{unified:"270d-1f3fb",native:"\u270D\u{1F3FB}"},{unified:"270d-1f3fc",native:"\u270D\u{1F3FC}"},{unified:"270d-1f3fd",native:"\u270D\u{1F3FD}"},{unified:"270d-1f3fe",native:"\u270D\u{1F3FE}"},{unified:"270d-1f3ff",native:"\u270D\u{1F3FF}"}],version:1},nail_care:{id:"nail_care",name:"Nail Polish",keywords:["care","beauty","manicure","finger","fashion"],skins:[{unified:"1f485",native:"\u{1F485}"},{unified:"1f485-1f3fb",native:"\u{1F485}\u{1F3FB}"},{unified:"1f485-1f3fc",native:"\u{1F485}\u{1F3FC}"},{unified:"1f485-1f3fd",native:"\u{1F485}\u{1F3FD}"},{unified:"1f485-1f3fe",native:"\u{1F485}\u{1F3FE}"},{unified:"1f485-1f3ff",native:"\u{1F485}\u{1F3FF}"}],version:1},selfie:{id:"selfie",name:"Selfie",keywords:["camera","phone"],skins:[{unified:"1f933",native:"\u{1F933}"},{unified:"1f933-1f3fb",native:"\u{1F933}\u{1F3FB}"},{unified:"1f933-1f3fc",native:"\u{1F933}\u{1F3FC}"},{unified:"1f933-1f3fd",native:"\u{1F933}\u{1F3FD}"},{unified:"1f933-1f3fe",native:"\u{1F933}\u{1F3FE}"},{unified:"1f933-1f3ff",native:"\u{1F933}\u{1F3FF}"}],version:3},muscle:{id:"muscle",name:"Flexed Biceps",keywords:["muscle","arm","flex","hand","summer","strong"],skins:[{unified:"1f4aa",native:"\u{1F4AA}"},{unified:"1f4aa-1f3fb",native:"\u{1F4AA}\u{1F3FB}"},{unified:"1f4aa-1f3fc",native:"\u{1F4AA}\u{1F3FC}"},{unified:"1f4aa-1f3fd",native:"\u{1F4AA}\u{1F3FD}"},{unified:"1f4aa-1f3fe",native:"\u{1F4AA}\u{1F3FE}"},{unified:"1f4aa-1f3ff",native:"\u{1F4AA}\u{1F3FF}"}],version:1},mechanical_arm:{id:"mechanical_arm",name:"Mechanical Arm",keywords:["accessibility"],skins:[{unified:"1f9be",native:"\u{1F9BE}"}],version:12},mechanical_leg:{id:"mechanical_leg",name:"Mechanical Leg",keywords:["accessibility"],skins:[{unified:"1f9bf",native:"\u{1F9BF}"}],version:12},leg:{id:"leg",name:"Leg",keywords:["kick","limb"],skins:[{unified:"1f9b5",native:"\u{1F9B5}"},{unified:"1f9b5-1f3fb",native:"\u{1F9B5}\u{1F3FB}"},{unified:"1f9b5-1f3fc",native:"\u{1F9B5}\u{1F3FC}"},{unified:"1f9b5-1f3fd",native:"\u{1F9B5}\u{1F3FD}"},{unified:"1f9b5-1f3fe",native:"\u{1F9B5}\u{1F3FE}"},{unified:"1f9b5-1f3ff",native:"\u{1F9B5}\u{1F3FF}"}],version:11},foot:{id:"foot",name:"Foot",keywords:["kick","stomp"],skins:[{unified:"1f9b6",native:"\u{1F9B6}"},{unified:"1f9b6-1f3fb",native:"\u{1F9B6}\u{1F3FB}"},{unified:"1f9b6-1f3fc",native:"\u{1F9B6}\u{1F3FC}"},{unified:"1f9b6-1f3fd",native:"\u{1F9B6}\u{1F3FD}"},{unified:"1f9b6-1f3fe",native:"\u{1F9B6}\u{1F3FE}"},{unified:"1f9b6-1f3ff",native:"\u{1F9B6}\u{1F3FF}"}],version:11},ear:{id:"ear",name:"Ear",keywords:["face","hear","sound","listen"],skins:[{unified:"1f442",native:"\u{1F442}"},{unified:"1f442-1f3fb",native:"\u{1F442}\u{1F3FB}"},{unified:"1f442-1f3fc",native:"\u{1F442}\u{1F3FC}"},{unified:"1f442-1f3fd",native:"\u{1F442}\u{1F3FD}"},{unified:"1f442-1f3fe",native:"\u{1F442}\u{1F3FE}"},{unified:"1f442-1f3ff",native:"\u{1F442}\u{1F3FF}"}],version:1},ear_with_hearing_aid:{id:"ear_with_hearing_aid",name:"Ear with Hearing Aid",keywords:["accessibility"],skins:[{unified:"1f9bb",native:"\u{1F9BB}"},{unified:"1f9bb-1f3fb",native:"\u{1F9BB}\u{1F3FB}"},{unified:"1f9bb-1f3fc",native:"\u{1F9BB}\u{1F3FC}"},{unified:"1f9bb-1f3fd",native:"\u{1F9BB}\u{1F3FD}"},{unified:"1f9bb-1f3fe",native:"\u{1F9BB}\u{1F3FE}"},{unified:"1f9bb-1f3ff",native:"\u{1F9BB}\u{1F3FF}"}],version:12},nose:{id:"nose",name:"Nose",keywords:["smell","sniff"],skins:[{unified:"1f443",native:"\u{1F443}"},{unified:"1f443-1f3fb",native:"\u{1F443}\u{1F3FB}"},{unified:"1f443-1f3fc",native:"\u{1F443}\u{1F3FC}"},{unified:"1f443-1f3fd",native:"\u{1F443}\u{1F3FD}"},{unified:"1f443-1f3fe",native:"\u{1F443}\u{1F3FE}"},{unified:"1f443-1f3ff",native:"\u{1F443}\u{1F3FF}"}],version:1},brain:{id:"brain",name:"Brain",keywords:["smart","intelligent"],skins:[{unified:"1f9e0",native:"\u{1F9E0}"}],version:5},anatomical_heart:{id:"anatomical_heart",name:"Anatomical Heart",keywords:["health","heartbeat"],skins:[{unified:"1fac0",native:"\u{1FAC0}"}],version:13},lungs:{id:"lungs",name:"Lungs",keywords:["breathe"],skins:[{unified:"1fac1",native:"\u{1FAC1}"}],version:13},tooth:{id:"tooth",name:"Tooth",keywords:["teeth","dentist"],skins:[{unified:"1f9b7",native:"\u{1F9B7}"}],version:11},bone:{id:"bone",name:"Bone",keywords:["skeleton"],skins:[{unified:"1f9b4",native:"\u{1F9B4}"}],version:11},eyes:{id:"eyes",name:"Eyes",keywords:["look","watch","stalk","peek","see"],skins:[{unified:"1f440",native:"\u{1F440}"}],version:1},eye:{id:"eye",name:"Eye",keywords:["face","look","see","watch","stare"],skins:[{unified:"1f441-fe0f",native:"\u{1F441}\uFE0F"}],version:1},tongue:{id:"tongue",name:"Tongue",keywords:["mouth","playful"],skins:[{unified:"1f445",native:"\u{1F445}"}],version:1},lips:{id:"lips",name:"Mouth",keywords:["lips","kiss"],skins:[{unified:"1f444",native:"\u{1F444}"}],version:1},biting_lip:{id:"biting_lip",name:"Biting Lip",keywords:["flirt","sexy","pain","worry"],skins:[{unified:"1fae6",native:"\u{1FAE6}"}],version:14},baby:{id:"baby",name:"Baby",keywords:["child","boy","girl","toddler"],skins:[{unified:"1f476",native:"\u{1F476}"},{unified:"1f476-1f3fb",native:"\u{1F476}\u{1F3FB}"},{unified:"1f476-1f3fc",native:"\u{1F476}\u{1F3FC}"},{unified:"1f476-1f3fd",native:"\u{1F476}\u{1F3FD}"},{unified:"1f476-1f3fe",native:"\u{1F476}\u{1F3FE}"},{unified:"1f476-1f3ff",native:"\u{1F476}\u{1F3FF}"}],version:1},child:{id:"child",name:"Child",keywords:["gender","neutral","young"],skins:[{unified:"1f9d2",native:"\u{1F9D2}"},{unified:"1f9d2-1f3fb",native:"\u{1F9D2}\u{1F3FB}"},{unified:"1f9d2-1f3fc",native:"\u{1F9D2}\u{1F3FC}"},{unified:"1f9d2-1f3fd",native:"\u{1F9D2}\u{1F3FD}"},{unified:"1f9d2-1f3fe",native:"\u{1F9D2}\u{1F3FE}"},{unified:"1f9d2-1f3ff",native:"\u{1F9D2}\u{1F3FF}"}],version:5},boy:{id:"boy",name:"Boy",keywords:["man","male","guy","teenager"],skins:[{unified:"1f466",native:"\u{1F466}"},{unified:"1f466-1f3fb",native:"\u{1F466}\u{1F3FB}"},{unified:"1f466-1f3fc",native:"\u{1F466}\u{1F3FC}"},{unified:"1f466-1f3fd",native:"\u{1F466}\u{1F3FD}"},{unified:"1f466-1f3fe",native:"\u{1F466}\u{1F3FE}"},{unified:"1f466-1f3ff",native:"\u{1F466}\u{1F3FF}"}],version:1},girl:{id:"girl",name:"Girl",keywords:["female","woman","teenager"],skins:[{unified:"1f467",native:"\u{1F467}"},{unified:"1f467-1f3fb",native:"\u{1F467}\u{1F3FB}"},{unified:"1f467-1f3fc",native:"\u{1F467}\u{1F3FC}"},{unified:"1f467-1f3fd",native:"\u{1F467}\u{1F3FD}"},{unified:"1f467-1f3fe",native:"\u{1F467}\u{1F3FE}"},{unified:"1f467-1f3ff",native:"\u{1F467}\u{1F3FF}"}],version:1},adult:{id:"adult",name:"Adult",keywords:["person","gender","neutral"],skins:[{unified:"1f9d1",native:"\u{1F9D1}"},{unified:"1f9d1-1f3fb",native:"\u{1F9D1}\u{1F3FB}"},{unified:"1f9d1-1f3fc",native:"\u{1F9D1}\u{1F3FC}"},{unified:"1f9d1-1f3fd",native:"\u{1F9D1}\u{1F3FD}"},{unified:"1f9d1-1f3fe",native:"\u{1F9D1}\u{1F3FE}"},{unified:"1f9d1-1f3ff",native:"\u{1F9D1}\u{1F3FF}"}],version:5},person_with_blond_hair:{id:"person_with_blond_hair",name:"Person Blond Hair",keywords:["with","hairstyle"],skins:[{unified:"1f471",native:"\u{1F471}"},{unified:"1f471-1f3fb",native:"\u{1F471}\u{1F3FB}"},{unified:"1f471-1f3fc",native:"\u{1F471}\u{1F3FC}"},{unified:"1f471-1f3fd",native:"\u{1F471}\u{1F3FD}"},{unified:"1f471-1f3fe",native:"\u{1F471}\u{1F3FE}"},{unified:"1f471-1f3ff",native:"\u{1F471}\u{1F3FF}"}],version:1},man:{id:"man",name:"Man",keywords:["mustache","father","dad","guy","classy","sir","moustache"],skins:[{unified:"1f468",native:"\u{1F468}"},{unified:"1f468-1f3fb",native:"\u{1F468}\u{1F3FB}"},{unified:"1f468-1f3fc",native:"\u{1F468}\u{1F3FC}"},{unified:"1f468-1f3fd",native:"\u{1F468}\u{1F3FD}"},{unified:"1f468-1f3fe",native:"\u{1F468}\u{1F3FE}"},{unified:"1f468-1f3ff",native:"\u{1F468}\u{1F3FF}"}],version:1},bearded_person:{id:"bearded_person",name:"Person Beard",keywords:["bearded","man","bewhiskered"],skins:[{unified:"1f9d4",native:"\u{1F9D4}"},{unified:"1f9d4-1f3fb",native:"\u{1F9D4}\u{1F3FB}"},{unified:"1f9d4-1f3fc",native:"\u{1F9D4}\u{1F3FC}"},{unified:"1f9d4-1f3fd",native:"\u{1F9D4}\u{1F3FD}"},{unified:"1f9d4-1f3fe",native:"\u{1F9D4}\u{1F3FE}"},{unified:"1f9d4-1f3ff",native:"\u{1F9D4}\u{1F3FF}"}],version:5},man_with_beard:{id:"man_with_beard",name:"Man: Beard",keywords:["man","with","facial","hair"],skins:[{unified:"1f9d4-200d-2642-fe0f",native:"\u{1F9D4}\u200D\u2642\uFE0F"},{unified:"1f9d4-1f3fb-200d-2642-fe0f",native:"\u{1F9D4}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f9d4-1f3fc-200d-2642-fe0f",native:"\u{1F9D4}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f9d4-1f3fd-200d-2642-fe0f",native:"\u{1F9D4}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f9d4-1f3fe-200d-2642-fe0f",native:"\u{1F9D4}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f9d4-1f3ff-200d-2642-fe0f",native:"\u{1F9D4}\u{1F3FF}\u200D\u2642\uFE0F"}],version:13.1},woman_with_beard:{id:"woman_with_beard",name:"Woman: Beard",keywords:["woman","with","facial","hair"],skins:[{unified:"1f9d4-200d-2640-fe0f",native:"\u{1F9D4}\u200D\u2640\uFE0F"},{unified:"1f9d4-1f3fb-200d-2640-fe0f",native:"\u{1F9D4}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f9d4-1f3fc-200d-2640-fe0f",native:"\u{1F9D4}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f9d4-1f3fd-200d-2640-fe0f",native:"\u{1F9D4}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f9d4-1f3fe-200d-2640-fe0f",native:"\u{1F9D4}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f9d4-1f3ff-200d-2640-fe0f",native:"\u{1F9D4}\u{1F3FF}\u200D\u2640\uFE0F"}],version:13.1},red_haired_man:{id:"red_haired_man",name:"Man: Red Hair",keywords:["haired","man","hairstyle"],skins:[{unified:"1f468-200d-1f9b0",native:"\u{1F468}\u200D\u{1F9B0}"},{unified:"1f468-1f3fb-200d-1f9b0",native:"\u{1F468}\u{1F3FB}\u200D\u{1F9B0}"},{unified:"1f468-1f3fc-200d-1f9b0",native:"\u{1F468}\u{1F3FC}\u200D\u{1F9B0}"},{unified:"1f468-1f3fd-200d-1f9b0",native:"\u{1F468}\u{1F3FD}\u200D\u{1F9B0}"},{unified:"1f468-1f3fe-200d-1f9b0",native:"\u{1F468}\u{1F3FE}\u200D\u{1F9B0}"},{unified:"1f468-1f3ff-200d-1f9b0",native:"\u{1F468}\u{1F3FF}\u200D\u{1F9B0}"}],version:11},curly_haired_man:{id:"curly_haired_man",name:"Man: Curly Hair",keywords:["haired","man","hairstyle"],skins:[{unified:"1f468-200d-1f9b1",native:"\u{1F468}\u200D\u{1F9B1}"},{unified:"1f468-1f3fb-200d-1f9b1",native:"\u{1F468}\u{1F3FB}\u200D\u{1F9B1}"},{unified:"1f468-1f3fc-200d-1f9b1",native:"\u{1F468}\u{1F3FC}\u200D\u{1F9B1}"},{unified:"1f468-1f3fd-200d-1f9b1",native:"\u{1F468}\u{1F3FD}\u200D\u{1F9B1}"},{unified:"1f468-1f3fe-200d-1f9b1",native:"\u{1F468}\u{1F3FE}\u200D\u{1F9B1}"},{unified:"1f468-1f3ff-200d-1f9b1",native:"\u{1F468}\u{1F3FF}\u200D\u{1F9B1}"}],version:11},white_haired_man:{id:"white_haired_man",name:"Man: White Hair",keywords:["haired","man","old","elder"],skins:[{unified:"1f468-200d-1f9b3",native:"\u{1F468}\u200D\u{1F9B3}"},{unified:"1f468-1f3fb-200d-1f9b3",native:"\u{1F468}\u{1F3FB}\u200D\u{1F9B3}"},{unified:"1f468-1f3fc-200d-1f9b3",native:"\u{1F468}\u{1F3FC}\u200D\u{1F9B3}"},{unified:"1f468-1f3fd-200d-1f9b3",native:"\u{1F468}\u{1F3FD}\u200D\u{1F9B3}"},{unified:"1f468-1f3fe-200d-1f9b3",native:"\u{1F468}\u{1F3FE}\u200D\u{1F9B3}"},{unified:"1f468-1f3ff-200d-1f9b3",native:"\u{1F468}\u{1F3FF}\u200D\u{1F9B3}"}],version:11},bald_man:{id:"bald_man",name:"Man: Bald",keywords:["man","hairless"],skins:[{unified:"1f468-200d-1f9b2",native:"\u{1F468}\u200D\u{1F9B2}"},{unified:"1f468-1f3fb-200d-1f9b2",native:"\u{1F468}\u{1F3FB}\u200D\u{1F9B2}"},{unified:"1f468-1f3fc-200d-1f9b2",native:"\u{1F468}\u{1F3FC}\u200D\u{1F9B2}"},{unified:"1f468-1f3fd-200d-1f9b2",native:"\u{1F468}\u{1F3FD}\u200D\u{1F9B2}"},{unified:"1f468-1f3fe-200d-1f9b2",native:"\u{1F468}\u{1F3FE}\u200D\u{1F9B2}"},{unified:"1f468-1f3ff-200d-1f9b2",native:"\u{1F468}\u{1F3FF}\u200D\u{1F9B2}"}],version:11},woman:{id:"woman",name:"Woman",keywords:["female","girls","lady"],skins:[{unified:"1f469",native:"\u{1F469}"},{unified:"1f469-1f3fb",native:"\u{1F469}\u{1F3FB}"},{unified:"1f469-1f3fc",native:"\u{1F469}\u{1F3FC}"},{unified:"1f469-1f3fd",native:"\u{1F469}\u{1F3FD}"},{unified:"1f469-1f3fe",native:"\u{1F469}\u{1F3FE}"},{unified:"1f469-1f3ff",native:"\u{1F469}\u{1F3FF}"}],version:1},red_haired_woman:{id:"red_haired_woman",name:"Woman: Red Hair",keywords:["haired","woman","hairstyle"],skins:[{unified:"1f469-200d-1f9b0",native:"\u{1F469}\u200D\u{1F9B0}"},{unified:"1f469-1f3fb-200d-1f9b0",native:"\u{1F469}\u{1F3FB}\u200D\u{1F9B0}"},{unified:"1f469-1f3fc-200d-1f9b0",native:"\u{1F469}\u{1F3FC}\u200D\u{1F9B0}"},{unified:"1f469-1f3fd-200d-1f9b0",native:"\u{1F469}\u{1F3FD}\u200D\u{1F9B0}"},{unified:"1f469-1f3fe-200d-1f9b0",native:"\u{1F469}\u{1F3FE}\u200D\u{1F9B0}"},{unified:"1f469-1f3ff-200d-1f9b0",native:"\u{1F469}\u{1F3FF}\u200D\u{1F9B0}"}],version:11},red_haired_person:{id:"red_haired_person",name:"Person: Red Hair",keywords:["haired","person","hairstyle"],skins:[{unified:"1f9d1-200d-1f9b0",native:"\u{1F9D1}\u200D\u{1F9B0}"},{unified:"1f9d1-1f3fb-200d-1f9b0",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F9B0}"},{unified:"1f9d1-1f3fc-200d-1f9b0",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F9B0}"},{unified:"1f9d1-1f3fd-200d-1f9b0",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F9B0}"},{unified:"1f9d1-1f3fe-200d-1f9b0",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F9B0}"},{unified:"1f9d1-1f3ff-200d-1f9b0",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F9B0}"}],version:12.1},curly_haired_woman:{id:"curly_haired_woman",name:"Woman: Curly Hair",keywords:["haired","woman","hairstyle"],skins:[{unified:"1f469-200d-1f9b1",native:"\u{1F469}\u200D\u{1F9B1}"},{unified:"1f469-1f3fb-200d-1f9b1",native:"\u{1F469}\u{1F3FB}\u200D\u{1F9B1}"},{unified:"1f469-1f3fc-200d-1f9b1",native:"\u{1F469}\u{1F3FC}\u200D\u{1F9B1}"},{unified:"1f469-1f3fd-200d-1f9b1",native:"\u{1F469}\u{1F3FD}\u200D\u{1F9B1}"},{unified:"1f469-1f3fe-200d-1f9b1",native:"\u{1F469}\u{1F3FE}\u200D\u{1F9B1}"},{unified:"1f469-1f3ff-200d-1f9b1",native:"\u{1F469}\u{1F3FF}\u200D\u{1F9B1}"}],version:11},curly_haired_person:{id:"curly_haired_person",name:"Person: Curly Hair",keywords:["haired","person","hairstyle"],skins:[{unified:"1f9d1-200d-1f9b1",native:"\u{1F9D1}\u200D\u{1F9B1}"},{unified:"1f9d1-1f3fb-200d-1f9b1",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F9B1}"},{unified:"1f9d1-1f3fc-200d-1f9b1",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F9B1}"},{unified:"1f9d1-1f3fd-200d-1f9b1",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F9B1}"},{unified:"1f9d1-1f3fe-200d-1f9b1",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F9B1}"},{unified:"1f9d1-1f3ff-200d-1f9b1",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F9B1}"}],version:12.1},white_haired_woman:{id:"white_haired_woman",name:"Woman: White Hair",keywords:["haired","woman","old","elder"],skins:[{unified:"1f469-200d-1f9b3",native:"\u{1F469}\u200D\u{1F9B3}"},{unified:"1f469-1f3fb-200d-1f9b3",native:"\u{1F469}\u{1F3FB}\u200D\u{1F9B3}"},{unified:"1f469-1f3fc-200d-1f9b3",native:"\u{1F469}\u{1F3FC}\u200D\u{1F9B3}"},{unified:"1f469-1f3fd-200d-1f9b3",native:"\u{1F469}\u{1F3FD}\u200D\u{1F9B3}"},{unified:"1f469-1f3fe-200d-1f9b3",native:"\u{1F469}\u{1F3FE}\u200D\u{1F9B3}"},{unified:"1f469-1f3ff-200d-1f9b3",native:"\u{1F469}\u{1F3FF}\u200D\u{1F9B3}"}],version:11},white_haired_person:{id:"white_haired_person",name:"Person: White Hair",keywords:["haired","person","elder","old"],skins:[{unified:"1f9d1-200d-1f9b3",native:"\u{1F9D1}\u200D\u{1F9B3}"},{unified:"1f9d1-1f3fb-200d-1f9b3",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F9B3}"},{unified:"1f9d1-1f3fc-200d-1f9b3",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F9B3}"},{unified:"1f9d1-1f3fd-200d-1f9b3",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F9B3}"},{unified:"1f9d1-1f3fe-200d-1f9b3",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F9B3}"},{unified:"1f9d1-1f3ff-200d-1f9b3",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F9B3}"}],version:12.1},bald_woman:{id:"bald_woman",name:"Woman: Bald",keywords:["woman","hairless"],skins:[{unified:"1f469-200d-1f9b2",native:"\u{1F469}\u200D\u{1F9B2}"},{unified:"1f469-1f3fb-200d-1f9b2",native:"\u{1F469}\u{1F3FB}\u200D\u{1F9B2}"},{unified:"1f469-1f3fc-200d-1f9b2",native:"\u{1F469}\u{1F3FC}\u200D\u{1F9B2}"},{unified:"1f469-1f3fd-200d-1f9b2",native:"\u{1F469}\u{1F3FD}\u200D\u{1F9B2}"},{unified:"1f469-1f3fe-200d-1f9b2",native:"\u{1F469}\u{1F3FE}\u200D\u{1F9B2}"},{unified:"1f469-1f3ff-200d-1f9b2",native:"\u{1F469}\u{1F3FF}\u200D\u{1F9B2}"}],version:11},bald_person:{id:"bald_person",name:"Person: Bald",keywords:["person","hairless"],skins:[{unified:"1f9d1-200d-1f9b2",native:"\u{1F9D1}\u200D\u{1F9B2}"},{unified:"1f9d1-1f3fb-200d-1f9b2",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F9B2}"},{unified:"1f9d1-1f3fc-200d-1f9b2",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F9B2}"},{unified:"1f9d1-1f3fd-200d-1f9b2",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F9B2}"},{unified:"1f9d1-1f3fe-200d-1f9b2",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F9B2}"},{unified:"1f9d1-1f3ff-200d-1f9b2",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F9B2}"}],version:12.1},"blond-haired-woman":{id:"blond-haired-woman",name:"Woman: Blond Hair",keywords:["haired-woman","woman","female","girl","blonde","person"],skins:[{unified:"1f471-200d-2640-fe0f",native:"\u{1F471}\u200D\u2640\uFE0F"},{unified:"1f471-1f3fb-200d-2640-fe0f",native:"\u{1F471}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f471-1f3fc-200d-2640-fe0f",native:"\u{1F471}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f471-1f3fd-200d-2640-fe0f",native:"\u{1F471}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f471-1f3fe-200d-2640-fe0f",native:"\u{1F471}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f471-1f3ff-200d-2640-fe0f",native:"\u{1F471}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},"blond-haired-man":{id:"blond-haired-man",name:"Man: Blond Hair",keywords:["haired-man","man","male","boy","blonde","guy","person"],skins:[{unified:"1f471-200d-2642-fe0f",native:"\u{1F471}\u200D\u2642\uFE0F"},{unified:"1f471-1f3fb-200d-2642-fe0f",native:"\u{1F471}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f471-1f3fc-200d-2642-fe0f",native:"\u{1F471}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f471-1f3fd-200d-2642-fe0f",native:"\u{1F471}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f471-1f3fe-200d-2642-fe0f",native:"\u{1F471}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f471-1f3ff-200d-2642-fe0f",native:"\u{1F471}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},older_adult:{id:"older_adult",name:"Older Adult",keywords:["person","human","elder","senior","gender","neutral"],skins:[{unified:"1f9d3",native:"\u{1F9D3}"},{unified:"1f9d3-1f3fb",native:"\u{1F9D3}\u{1F3FB}"},{unified:"1f9d3-1f3fc",native:"\u{1F9D3}\u{1F3FC}"},{unified:"1f9d3-1f3fd",native:"\u{1F9D3}\u{1F3FD}"},{unified:"1f9d3-1f3fe",native:"\u{1F9D3}\u{1F3FE}"},{unified:"1f9d3-1f3ff",native:"\u{1F9D3}\u{1F3FF}"}],version:5},older_man:{id:"older_man",name:"Old Man",keywords:["older","human","male","men","elder","senior"],skins:[{unified:"1f474",native:"\u{1F474}"},{unified:"1f474-1f3fb",native:"\u{1F474}\u{1F3FB}"},{unified:"1f474-1f3fc",native:"\u{1F474}\u{1F3FC}"},{unified:"1f474-1f3fd",native:"\u{1F474}\u{1F3FD}"},{unified:"1f474-1f3fe",native:"\u{1F474}\u{1F3FE}"},{unified:"1f474-1f3ff",native:"\u{1F474}\u{1F3FF}"}],version:1},older_woman:{id:"older_woman",name:"Old Woman",keywords:["older","human","female","women","lady","elder","senior"],skins:[{unified:"1f475",native:"\u{1F475}"},{unified:"1f475-1f3fb",native:"\u{1F475}\u{1F3FB}"},{unified:"1f475-1f3fc",native:"\u{1F475}\u{1F3FC}"},{unified:"1f475-1f3fd",native:"\u{1F475}\u{1F3FD}"},{unified:"1f475-1f3fe",native:"\u{1F475}\u{1F3FE}"},{unified:"1f475-1f3ff",native:"\u{1F475}\u{1F3FF}"}],version:1},person_frowning:{id:"person_frowning",name:"Person Frowning",keywords:["worried"],skins:[{unified:"1f64d",native:"\u{1F64D}"},{unified:"1f64d-1f3fb",native:"\u{1F64D}\u{1F3FB}"},{unified:"1f64d-1f3fc",native:"\u{1F64D}\u{1F3FC}"},{unified:"1f64d-1f3fd",native:"\u{1F64D}\u{1F3FD}"},{unified:"1f64d-1f3fe",native:"\u{1F64D}\u{1F3FE}"},{unified:"1f64d-1f3ff",native:"\u{1F64D}\u{1F3FF}"}],version:1},"man-frowning":{id:"man-frowning",name:"Man Frowning",keywords:["male","boy","sad","depressed","discouraged","unhappy"],skins:[{unified:"1f64d-200d-2642-fe0f",native:"\u{1F64D}\u200D\u2642\uFE0F"},{unified:"1f64d-1f3fb-200d-2642-fe0f",native:"\u{1F64D}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f64d-1f3fc-200d-2642-fe0f",native:"\u{1F64D}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f64d-1f3fd-200d-2642-fe0f",native:"\u{1F64D}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f64d-1f3fe-200d-2642-fe0f",native:"\u{1F64D}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f64d-1f3ff-200d-2642-fe0f",native:"\u{1F64D}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-frowning":{id:"woman-frowning",name:"Woman Frowning",keywords:["female","girl","sad","depressed","discouraged","unhappy"],skins:[{unified:"1f64d-200d-2640-fe0f",native:"\u{1F64D}\u200D\u2640\uFE0F"},{unified:"1f64d-1f3fb-200d-2640-fe0f",native:"\u{1F64D}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f64d-1f3fc-200d-2640-fe0f",native:"\u{1F64D}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f64d-1f3fd-200d-2640-fe0f",native:"\u{1F64D}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f64d-1f3fe-200d-2640-fe0f",native:"\u{1F64D}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f64d-1f3ff-200d-2640-fe0f",native:"\u{1F64D}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},person_with_pouting_face:{id:"person_with_pouting_face",name:"Person Pouting",keywords:["with","face","upset"],skins:[{unified:"1f64e",native:"\u{1F64E}"},{unified:"1f64e-1f3fb",native:"\u{1F64E}\u{1F3FB}"},{unified:"1f64e-1f3fc",native:"\u{1F64E}\u{1F3FC}"},{unified:"1f64e-1f3fd",native:"\u{1F64E}\u{1F3FD}"},{unified:"1f64e-1f3fe",native:"\u{1F64E}\u{1F3FE}"},{unified:"1f64e-1f3ff",native:"\u{1F64E}\u{1F3FF}"}],version:1},"man-pouting":{id:"man-pouting",name:"Man Pouting",keywords:["male","boy"],skins:[{unified:"1f64e-200d-2642-fe0f",native:"\u{1F64E}\u200D\u2642\uFE0F"},{unified:"1f64e-1f3fb-200d-2642-fe0f",native:"\u{1F64E}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f64e-1f3fc-200d-2642-fe0f",native:"\u{1F64E}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f64e-1f3fd-200d-2642-fe0f",native:"\u{1F64E}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f64e-1f3fe-200d-2642-fe0f",native:"\u{1F64E}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f64e-1f3ff-200d-2642-fe0f",native:"\u{1F64E}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-pouting":{id:"woman-pouting",name:"Woman Pouting",keywords:["female","girl"],skins:[{unified:"1f64e-200d-2640-fe0f",native:"\u{1F64E}\u200D\u2640\uFE0F"},{unified:"1f64e-1f3fb-200d-2640-fe0f",native:"\u{1F64E}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f64e-1f3fc-200d-2640-fe0f",native:"\u{1F64E}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f64e-1f3fd-200d-2640-fe0f",native:"\u{1F64E}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f64e-1f3fe-200d-2640-fe0f",native:"\u{1F64E}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f64e-1f3ff-200d-2640-fe0f",native:"\u{1F64E}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},no_good:{id:"no_good",name:"Person Gesturing No",keywords:["good","decline"],skins:[{unified:"1f645",native:"\u{1F645}"},{unified:"1f645-1f3fb",native:"\u{1F645}\u{1F3FB}"},{unified:"1f645-1f3fc",native:"\u{1F645}\u{1F3FC}"},{unified:"1f645-1f3fd",native:"\u{1F645}\u{1F3FD}"},{unified:"1f645-1f3fe",native:"\u{1F645}\u{1F3FE}"},{unified:"1f645-1f3ff",native:"\u{1F645}\u{1F3FF}"}],version:1},"man-gesturing-no":{id:"man-gesturing-no",name:"Man Gesturing No",keywords:["gesturing-no","male","boy","nope"],skins:[{unified:"1f645-200d-2642-fe0f",native:"\u{1F645}\u200D\u2642\uFE0F"},{unified:"1f645-1f3fb-200d-2642-fe0f",native:"\u{1F645}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f645-1f3fc-200d-2642-fe0f",native:"\u{1F645}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f645-1f3fd-200d-2642-fe0f",native:"\u{1F645}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f645-1f3fe-200d-2642-fe0f",native:"\u{1F645}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f645-1f3ff-200d-2642-fe0f",native:"\u{1F645}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-gesturing-no":{id:"woman-gesturing-no",name:"Woman Gesturing No",keywords:["gesturing-no","female","girl","nope"],skins:[{unified:"1f645-200d-2640-fe0f",native:"\u{1F645}\u200D\u2640\uFE0F"},{unified:"1f645-1f3fb-200d-2640-fe0f",native:"\u{1F645}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f645-1f3fc-200d-2640-fe0f",native:"\u{1F645}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f645-1f3fd-200d-2640-fe0f",native:"\u{1F645}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f645-1f3fe-200d-2640-fe0f",native:"\u{1F645}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f645-1f3ff-200d-2640-fe0f",native:"\u{1F645}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},ok_woman:{id:"ok_woman",name:"Person Gesturing Ok",keywords:["woman","agree"],skins:[{unified:"1f646",native:"\u{1F646}"},{unified:"1f646-1f3fb",native:"\u{1F646}\u{1F3FB}"},{unified:"1f646-1f3fc",native:"\u{1F646}\u{1F3FC}"},{unified:"1f646-1f3fd",native:"\u{1F646}\u{1F3FD}"},{unified:"1f646-1f3fe",native:"\u{1F646}\u{1F3FE}"},{unified:"1f646-1f3ff",native:"\u{1F646}\u{1F3FF}"}],version:1},"man-gesturing-ok":{id:"man-gesturing-ok",name:"Man Gesturing Ok",keywords:["gesturing-ok","men","boy","male","blue","human"],skins:[{unified:"1f646-200d-2642-fe0f",native:"\u{1F646}\u200D\u2642\uFE0F"},{unified:"1f646-1f3fb-200d-2642-fe0f",native:"\u{1F646}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f646-1f3fc-200d-2642-fe0f",native:"\u{1F646}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f646-1f3fd-200d-2642-fe0f",native:"\u{1F646}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f646-1f3fe-200d-2642-fe0f",native:"\u{1F646}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f646-1f3ff-200d-2642-fe0f",native:"\u{1F646}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-gesturing-ok":{id:"woman-gesturing-ok",name:"Woman Gesturing Ok",keywords:["gesturing-ok","women","girl","female","pink","human"],skins:[{unified:"1f646-200d-2640-fe0f",native:"\u{1F646}\u200D\u2640\uFE0F"},{unified:"1f646-1f3fb-200d-2640-fe0f",native:"\u{1F646}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f646-1f3fc-200d-2640-fe0f",native:"\u{1F646}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f646-1f3fd-200d-2640-fe0f",native:"\u{1F646}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f646-1f3fe-200d-2640-fe0f",native:"\u{1F646}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f646-1f3ff-200d-2640-fe0f",native:"\u{1F646}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},information_desk_person:{id:"information_desk_person",name:"Person Tipping Hand",keywords:["information","desk"],skins:[{unified:"1f481",native:"\u{1F481}"},{unified:"1f481-1f3fb",native:"\u{1F481}\u{1F3FB}"},{unified:"1f481-1f3fc",native:"\u{1F481}\u{1F3FC}"},{unified:"1f481-1f3fd",native:"\u{1F481}\u{1F3FD}"},{unified:"1f481-1f3fe",native:"\u{1F481}\u{1F3FE}"},{unified:"1f481-1f3ff",native:"\u{1F481}\u{1F3FF}"}],version:1},"man-tipping-hand":{id:"man-tipping-hand",name:"Man Tipping Hand",keywords:["tipping-hand","male","boy","human","information"],skins:[{unified:"1f481-200d-2642-fe0f",native:"\u{1F481}\u200D\u2642\uFE0F"},{unified:"1f481-1f3fb-200d-2642-fe0f",native:"\u{1F481}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f481-1f3fc-200d-2642-fe0f",native:"\u{1F481}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f481-1f3fd-200d-2642-fe0f",native:"\u{1F481}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f481-1f3fe-200d-2642-fe0f",native:"\u{1F481}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f481-1f3ff-200d-2642-fe0f",native:"\u{1F481}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-tipping-hand":{id:"woman-tipping-hand",name:"Woman Tipping Hand",keywords:["tipping-hand","female","girl","human","information"],skins:[{unified:"1f481-200d-2640-fe0f",native:"\u{1F481}\u200D\u2640\uFE0F"},{unified:"1f481-1f3fb-200d-2640-fe0f",native:"\u{1F481}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f481-1f3fc-200d-2640-fe0f",native:"\u{1F481}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f481-1f3fd-200d-2640-fe0f",native:"\u{1F481}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f481-1f3fe-200d-2640-fe0f",native:"\u{1F481}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f481-1f3ff-200d-2640-fe0f",native:"\u{1F481}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},raising_hand:{id:"raising_hand",name:"Person Raising Hand",keywords:["question"],skins:[{unified:"1f64b",native:"\u{1F64B}"},{unified:"1f64b-1f3fb",native:"\u{1F64B}\u{1F3FB}"},{unified:"1f64b-1f3fc",native:"\u{1F64B}\u{1F3FC}"},{unified:"1f64b-1f3fd",native:"\u{1F64B}\u{1F3FD}"},{unified:"1f64b-1f3fe",native:"\u{1F64B}\u{1F3FE}"},{unified:"1f64b-1f3ff",native:"\u{1F64B}\u{1F3FF}"}],version:1},"man-raising-hand":{id:"man-raising-hand",name:"Man Raising Hand",keywords:["raising-hand","male","boy"],skins:[{unified:"1f64b-200d-2642-fe0f",native:"\u{1F64B}\u200D\u2642\uFE0F"},{unified:"1f64b-1f3fb-200d-2642-fe0f",native:"\u{1F64B}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f64b-1f3fc-200d-2642-fe0f",native:"\u{1F64B}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f64b-1f3fd-200d-2642-fe0f",native:"\u{1F64B}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f64b-1f3fe-200d-2642-fe0f",native:"\u{1F64B}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f64b-1f3ff-200d-2642-fe0f",native:"\u{1F64B}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-raising-hand":{id:"woman-raising-hand",name:"Woman Raising Hand",keywords:["raising-hand","female","girl"],skins:[{unified:"1f64b-200d-2640-fe0f",native:"\u{1F64B}\u200D\u2640\uFE0F"},{unified:"1f64b-1f3fb-200d-2640-fe0f",native:"\u{1F64B}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f64b-1f3fc-200d-2640-fe0f",native:"\u{1F64B}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f64b-1f3fd-200d-2640-fe0f",native:"\u{1F64B}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f64b-1f3fe-200d-2640-fe0f",native:"\u{1F64B}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f64b-1f3ff-200d-2640-fe0f",native:"\u{1F64B}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},deaf_person:{id:"deaf_person",name:"Deaf Person",keywords:["accessibility"],skins:[{unified:"1f9cf",native:"\u{1F9CF}"},{unified:"1f9cf-1f3fb",native:"\u{1F9CF}\u{1F3FB}"},{unified:"1f9cf-1f3fc",native:"\u{1F9CF}\u{1F3FC}"},{unified:"1f9cf-1f3fd",native:"\u{1F9CF}\u{1F3FD}"},{unified:"1f9cf-1f3fe",native:"\u{1F9CF}\u{1F3FE}"},{unified:"1f9cf-1f3ff",native:"\u{1F9CF}\u{1F3FF}"}],version:12},deaf_man:{id:"deaf_man",name:"Deaf Man",keywords:["accessibility"],skins:[{unified:"1f9cf-200d-2642-fe0f",native:"\u{1F9CF}\u200D\u2642\uFE0F"},{unified:"1f9cf-1f3fb-200d-2642-fe0f",native:"\u{1F9CF}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f9cf-1f3fc-200d-2642-fe0f",native:"\u{1F9CF}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f9cf-1f3fd-200d-2642-fe0f",native:"\u{1F9CF}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f9cf-1f3fe-200d-2642-fe0f",native:"\u{1F9CF}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f9cf-1f3ff-200d-2642-fe0f",native:"\u{1F9CF}\u{1F3FF}\u200D\u2642\uFE0F"}],version:12},deaf_woman:{id:"deaf_woman",name:"Deaf Woman",keywords:["accessibility"],skins:[{unified:"1f9cf-200d-2640-fe0f",native:"\u{1F9CF}\u200D\u2640\uFE0F"},{unified:"1f9cf-1f3fb-200d-2640-fe0f",native:"\u{1F9CF}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f9cf-1f3fc-200d-2640-fe0f",native:"\u{1F9CF}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f9cf-1f3fd-200d-2640-fe0f",native:"\u{1F9CF}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f9cf-1f3fe-200d-2640-fe0f",native:"\u{1F9CF}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f9cf-1f3ff-200d-2640-fe0f",native:"\u{1F9CF}\u{1F3FF}\u200D\u2640\uFE0F"}],version:12},bow:{id:"bow",name:"Person Bowing",keywords:["bow","respectiful"],skins:[{unified:"1f647",native:"\u{1F647}"},{unified:"1f647-1f3fb",native:"\u{1F647}\u{1F3FB}"},{unified:"1f647-1f3fc",native:"\u{1F647}\u{1F3FC}"},{unified:"1f647-1f3fd",native:"\u{1F647}\u{1F3FD}"},{unified:"1f647-1f3fe",native:"\u{1F647}\u{1F3FE}"},{unified:"1f647-1f3ff",native:"\u{1F647}\u{1F3FF}"}],version:1},"man-bowing":{id:"man-bowing",name:"Man Bowing",keywords:["male","boy"],skins:[{unified:"1f647-200d-2642-fe0f",native:"\u{1F647}\u200D\u2642\uFE0F"},{unified:"1f647-1f3fb-200d-2642-fe0f",native:"\u{1F647}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f647-1f3fc-200d-2642-fe0f",native:"\u{1F647}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f647-1f3fd-200d-2642-fe0f",native:"\u{1F647}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f647-1f3fe-200d-2642-fe0f",native:"\u{1F647}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f647-1f3ff-200d-2642-fe0f",native:"\u{1F647}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-bowing":{id:"woman-bowing",name:"Woman Bowing",keywords:["female","girl"],skins:[{unified:"1f647-200d-2640-fe0f",native:"\u{1F647}\u200D\u2640\uFE0F"},{unified:"1f647-1f3fb-200d-2640-fe0f",native:"\u{1F647}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f647-1f3fc-200d-2640-fe0f",native:"\u{1F647}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f647-1f3fd-200d-2640-fe0f",native:"\u{1F647}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f647-1f3fe-200d-2640-fe0f",native:"\u{1F647}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f647-1f3ff-200d-2640-fe0f",native:"\u{1F647}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},face_palm:{id:"face_palm",name:"Face Palm",keywords:["person","facepalming","disappointed"],skins:[{unified:"1f926",native:"\u{1F926}"},{unified:"1f926-1f3fb",native:"\u{1F926}\u{1F3FB}"},{unified:"1f926-1f3fc",native:"\u{1F926}\u{1F3FC}"},{unified:"1f926-1f3fd",native:"\u{1F926}\u{1F3FD}"},{unified:"1f926-1f3fe",native:"\u{1F926}\u{1F3FE}"},{unified:"1f926-1f3ff",native:"\u{1F926}\u{1F3FF}"}],version:3},"man-facepalming":{id:"man-facepalming",name:"Man Facepalming",keywords:["male","boy","disbelief"],skins:[{unified:"1f926-200d-2642-fe0f",native:"\u{1F926}\u200D\u2642\uFE0F"},{unified:"1f926-1f3fb-200d-2642-fe0f",native:"\u{1F926}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f926-1f3fc-200d-2642-fe0f",native:"\u{1F926}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f926-1f3fd-200d-2642-fe0f",native:"\u{1F926}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f926-1f3fe-200d-2642-fe0f",native:"\u{1F926}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f926-1f3ff-200d-2642-fe0f",native:"\u{1F926}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-facepalming":{id:"woman-facepalming",name:"Woman Facepalming",keywords:["female","girl","disbelief"],skins:[{unified:"1f926-200d-2640-fe0f",native:"\u{1F926}\u200D\u2640\uFE0F"},{unified:"1f926-1f3fb-200d-2640-fe0f",native:"\u{1F926}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f926-1f3fc-200d-2640-fe0f",native:"\u{1F926}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f926-1f3fd-200d-2640-fe0f",native:"\u{1F926}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f926-1f3fe-200d-2640-fe0f",native:"\u{1F926}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f926-1f3ff-200d-2640-fe0f",native:"\u{1F926}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},shrug:{id:"shrug",name:"Shrug",keywords:["person","shrugging","regardless"],skins:[{unified:"1f937",native:"\u{1F937}"},{unified:"1f937-1f3fb",native:"\u{1F937}\u{1F3FB}"},{unified:"1f937-1f3fc",native:"\u{1F937}\u{1F3FC}"},{unified:"1f937-1f3fd",native:"\u{1F937}\u{1F3FD}"},{unified:"1f937-1f3fe",native:"\u{1F937}\u{1F3FE}"},{unified:"1f937-1f3ff",native:"\u{1F937}\u{1F3FF}"}],version:3},"man-shrugging":{id:"man-shrugging",name:"Man Shrugging",keywords:["male","boy","confused","indifferent","doubt"],skins:[{unified:"1f937-200d-2642-fe0f",native:"\u{1F937}\u200D\u2642\uFE0F"},{unified:"1f937-1f3fb-200d-2642-fe0f",native:"\u{1F937}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f937-1f3fc-200d-2642-fe0f",native:"\u{1F937}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f937-1f3fd-200d-2642-fe0f",native:"\u{1F937}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f937-1f3fe-200d-2642-fe0f",native:"\u{1F937}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f937-1f3ff-200d-2642-fe0f",native:"\u{1F937}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-shrugging":{id:"woman-shrugging",name:"Woman Shrugging",keywords:["female","girl","confused","indifferent","doubt"],skins:[{unified:"1f937-200d-2640-fe0f",native:"\u{1F937}\u200D\u2640\uFE0F"},{unified:"1f937-1f3fb-200d-2640-fe0f",native:"\u{1F937}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f937-1f3fc-200d-2640-fe0f",native:"\u{1F937}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f937-1f3fd-200d-2640-fe0f",native:"\u{1F937}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f937-1f3fe-200d-2640-fe0f",native:"\u{1F937}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f937-1f3ff-200d-2640-fe0f",native:"\u{1F937}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},health_worker:{id:"health_worker",name:"Health Worker",keywords:["hospital"],skins:[{unified:"1f9d1-200d-2695-fe0f",native:"\u{1F9D1}\u200D\u2695\uFE0F"},{unified:"1f9d1-1f3fb-200d-2695-fe0f",native:"\u{1F9D1}\u{1F3FB}\u200D\u2695\uFE0F"},{unified:"1f9d1-1f3fc-200d-2695-fe0f",native:"\u{1F9D1}\u{1F3FC}\u200D\u2695\uFE0F"},{unified:"1f9d1-1f3fd-200d-2695-fe0f",native:"\u{1F9D1}\u{1F3FD}\u200D\u2695\uFE0F"},{unified:"1f9d1-1f3fe-200d-2695-fe0f",native:"\u{1F9D1}\u{1F3FE}\u200D\u2695\uFE0F"},{unified:"1f9d1-1f3ff-200d-2695-fe0f",native:"\u{1F9D1}\u{1F3FF}\u200D\u2695\uFE0F"}],version:12.1},"male-doctor":{id:"male-doctor",name:"Man Health Worker",keywords:["male","doctor","nurse","therapist","healthcare","human"],skins:[{unified:"1f468-200d-2695-fe0f",native:"\u{1F468}\u200D\u2695\uFE0F"},{unified:"1f468-1f3fb-200d-2695-fe0f",native:"\u{1F468}\u{1F3FB}\u200D\u2695\uFE0F"},{unified:"1f468-1f3fc-200d-2695-fe0f",native:"\u{1F468}\u{1F3FC}\u200D\u2695\uFE0F"},{unified:"1f468-1f3fd-200d-2695-fe0f",native:"\u{1F468}\u{1F3FD}\u200D\u2695\uFE0F"},{unified:"1f468-1f3fe-200d-2695-fe0f",native:"\u{1F468}\u{1F3FE}\u200D\u2695\uFE0F"},{unified:"1f468-1f3ff-200d-2695-fe0f",native:"\u{1F468}\u{1F3FF}\u200D\u2695\uFE0F"}],version:4},"female-doctor":{id:"female-doctor",name:"Woman Health Worker",keywords:["female","doctor","nurse","therapist","healthcare","human"],skins:[{unified:"1f469-200d-2695-fe0f",native:"\u{1F469}\u200D\u2695\uFE0F"},{unified:"1f469-1f3fb-200d-2695-fe0f",native:"\u{1F469}\u{1F3FB}\u200D\u2695\uFE0F"},{unified:"1f469-1f3fc-200d-2695-fe0f",native:"\u{1F469}\u{1F3FC}\u200D\u2695\uFE0F"},{unified:"1f469-1f3fd-200d-2695-fe0f",native:"\u{1F469}\u{1F3FD}\u200D\u2695\uFE0F"},{unified:"1f469-1f3fe-200d-2695-fe0f",native:"\u{1F469}\u{1F3FE}\u200D\u2695\uFE0F"},{unified:"1f469-1f3ff-200d-2695-fe0f",native:"\u{1F469}\u{1F3FF}\u200D\u2695\uFE0F"}],version:4},student:{id:"student",name:"Student",keywords:["learn"],skins:[{unified:"1f9d1-200d-1f393",native:"\u{1F9D1}\u200D\u{1F393}"},{unified:"1f9d1-1f3fb-200d-1f393",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F393}"},{unified:"1f9d1-1f3fc-200d-1f393",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F393}"},{unified:"1f9d1-1f3fd-200d-1f393",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F393}"},{unified:"1f9d1-1f3fe-200d-1f393",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F393}"},{unified:"1f9d1-1f3ff-200d-1f393",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F393}"}],version:12.1},"male-student":{id:"male-student",name:"Man Student",keywords:["male","graduate","human"],skins:[{unified:"1f468-200d-1f393",native:"\u{1F468}\u200D\u{1F393}"},{unified:"1f468-1f3fb-200d-1f393",native:"\u{1F468}\u{1F3FB}\u200D\u{1F393}"},{unified:"1f468-1f3fc-200d-1f393",native:"\u{1F468}\u{1F3FC}\u200D\u{1F393}"},{unified:"1f468-1f3fd-200d-1f393",native:"\u{1F468}\u{1F3FD}\u200D\u{1F393}"},{unified:"1f468-1f3fe-200d-1f393",native:"\u{1F468}\u{1F3FE}\u200D\u{1F393}"},{unified:"1f468-1f3ff-200d-1f393",native:"\u{1F468}\u{1F3FF}\u200D\u{1F393}"}],version:4},"female-student":{id:"female-student",name:"Woman Student",keywords:["female","graduate","human"],skins:[{unified:"1f469-200d-1f393",native:"\u{1F469}\u200D\u{1F393}"},{unified:"1f469-1f3fb-200d-1f393",native:"\u{1F469}\u{1F3FB}\u200D\u{1F393}"},{unified:"1f469-1f3fc-200d-1f393",native:"\u{1F469}\u{1F3FC}\u200D\u{1F393}"},{unified:"1f469-1f3fd-200d-1f393",native:"\u{1F469}\u{1F3FD}\u200D\u{1F393}"},{unified:"1f469-1f3fe-200d-1f393",native:"\u{1F469}\u{1F3FE}\u200D\u{1F393}"},{unified:"1f469-1f3ff-200d-1f393",native:"\u{1F469}\u{1F3FF}\u200D\u{1F393}"}],version:4},teacher:{id:"teacher",name:"Teacher",keywords:["professor"],skins:[{unified:"1f9d1-200d-1f3eb",native:"\u{1F9D1}\u200D\u{1F3EB}"},{unified:"1f9d1-1f3fb-200d-1f3eb",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F3EB}"},{unified:"1f9d1-1f3fc-200d-1f3eb",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F3EB}"},{unified:"1f9d1-1f3fd-200d-1f3eb",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F3EB}"},{unified:"1f9d1-1f3fe-200d-1f3eb",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F3EB}"},{unified:"1f9d1-1f3ff-200d-1f3eb",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F3EB}"}],version:12.1},"male-teacher":{id:"male-teacher",name:"Man Teacher",keywords:["male","instructor","professor","human"],skins:[{unified:"1f468-200d-1f3eb",native:"\u{1F468}\u200D\u{1F3EB}"},{unified:"1f468-1f3fb-200d-1f3eb",native:"\u{1F468}\u{1F3FB}\u200D\u{1F3EB}"},{unified:"1f468-1f3fc-200d-1f3eb",native:"\u{1F468}\u{1F3FC}\u200D\u{1F3EB}"},{unified:"1f468-1f3fd-200d-1f3eb",native:"\u{1F468}\u{1F3FD}\u200D\u{1F3EB}"},{unified:"1f468-1f3fe-200d-1f3eb",native:"\u{1F468}\u{1F3FE}\u200D\u{1F3EB}"},{unified:"1f468-1f3ff-200d-1f3eb",native:"\u{1F468}\u{1F3FF}\u200D\u{1F3EB}"}],version:4},"female-teacher":{id:"female-teacher",name:"Woman Teacher",keywords:["female","instructor","professor","human"],skins:[{unified:"1f469-200d-1f3eb",native:"\u{1F469}\u200D\u{1F3EB}"},{unified:"1f469-1f3fb-200d-1f3eb",native:"\u{1F469}\u{1F3FB}\u200D\u{1F3EB}"},{unified:"1f469-1f3fc-200d-1f3eb",native:"\u{1F469}\u{1F3FC}\u200D\u{1F3EB}"},{unified:"1f469-1f3fd-200d-1f3eb",native:"\u{1F469}\u{1F3FD}\u200D\u{1F3EB}"},{unified:"1f469-1f3fe-200d-1f3eb",native:"\u{1F469}\u{1F3FE}\u200D\u{1F3EB}"},{unified:"1f469-1f3ff-200d-1f3eb",native:"\u{1F469}\u{1F3FF}\u200D\u{1F3EB}"}],version:4},judge:{id:"judge",name:"Judge",keywords:["law"],skins:[{unified:"1f9d1-200d-2696-fe0f",native:"\u{1F9D1}\u200D\u2696\uFE0F"},{unified:"1f9d1-1f3fb-200d-2696-fe0f",native:"\u{1F9D1}\u{1F3FB}\u200D\u2696\uFE0F"},{unified:"1f9d1-1f3fc-200d-2696-fe0f",native:"\u{1F9D1}\u{1F3FC}\u200D\u2696\uFE0F"},{unified:"1f9d1-1f3fd-200d-2696-fe0f",native:"\u{1F9D1}\u{1F3FD}\u200D\u2696\uFE0F"},{unified:"1f9d1-1f3fe-200d-2696-fe0f",native:"\u{1F9D1}\u{1F3FE}\u200D\u2696\uFE0F"},{unified:"1f9d1-1f3ff-200d-2696-fe0f",native:"\u{1F9D1}\u{1F3FF}\u200D\u2696\uFE0F"}],version:12.1},"male-judge":{id:"male-judge",name:"Man Judge",keywords:["male","justice","court","human"],skins:[{unified:"1f468-200d-2696-fe0f",native:"\u{1F468}\u200D\u2696\uFE0F"},{unified:"1f468-1f3fb-200d-2696-fe0f",native:"\u{1F468}\u{1F3FB}\u200D\u2696\uFE0F"},{unified:"1f468-1f3fc-200d-2696-fe0f",native:"\u{1F468}\u{1F3FC}\u200D\u2696\uFE0F"},{unified:"1f468-1f3fd-200d-2696-fe0f",native:"\u{1F468}\u{1F3FD}\u200D\u2696\uFE0F"},{unified:"1f468-1f3fe-200d-2696-fe0f",native:"\u{1F468}\u{1F3FE}\u200D\u2696\uFE0F"},{unified:"1f468-1f3ff-200d-2696-fe0f",native:"\u{1F468}\u{1F3FF}\u200D\u2696\uFE0F"}],version:4},"female-judge":{id:"female-judge",name:"Woman Judge",keywords:["female","justice","court","human"],skins:[{unified:"1f469-200d-2696-fe0f",native:"\u{1F469}\u200D\u2696\uFE0F"},{unified:"1f469-1f3fb-200d-2696-fe0f",native:"\u{1F469}\u{1F3FB}\u200D\u2696\uFE0F"},{unified:"1f469-1f3fc-200d-2696-fe0f",native:"\u{1F469}\u{1F3FC}\u200D\u2696\uFE0F"},{unified:"1f469-1f3fd-200d-2696-fe0f",native:"\u{1F469}\u{1F3FD}\u200D\u2696\uFE0F"},{unified:"1f469-1f3fe-200d-2696-fe0f",native:"\u{1F469}\u{1F3FE}\u200D\u2696\uFE0F"},{unified:"1f469-1f3ff-200d-2696-fe0f",native:"\u{1F469}\u{1F3FF}\u200D\u2696\uFE0F"}],version:4},farmer:{id:"farmer",name:"Farmer",keywords:["crops"],skins:[{unified:"1f9d1-200d-1f33e",native:"\u{1F9D1}\u200D\u{1F33E}"},{unified:"1f9d1-1f3fb-200d-1f33e",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F33E}"},{unified:"1f9d1-1f3fc-200d-1f33e",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F33E}"},{unified:"1f9d1-1f3fd-200d-1f33e",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F33E}"},{unified:"1f9d1-1f3fe-200d-1f33e",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F33E}"},{unified:"1f9d1-1f3ff-200d-1f33e",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F33E}"}],version:12.1},"male-farmer":{id:"male-farmer",name:"Man Farmer",keywords:["male","rancher","gardener","human"],skins:[{unified:"1f468-200d-1f33e",native:"\u{1F468}\u200D\u{1F33E}"},{unified:"1f468-1f3fb-200d-1f33e",native:"\u{1F468}\u{1F3FB}\u200D\u{1F33E}"},{unified:"1f468-1f3fc-200d-1f33e",native:"\u{1F468}\u{1F3FC}\u200D\u{1F33E}"},{unified:"1f468-1f3fd-200d-1f33e",native:"\u{1F468}\u{1F3FD}\u200D\u{1F33E}"},{unified:"1f468-1f3fe-200d-1f33e",native:"\u{1F468}\u{1F3FE}\u200D\u{1F33E}"},{unified:"1f468-1f3ff-200d-1f33e",native:"\u{1F468}\u{1F3FF}\u200D\u{1F33E}"}],version:4},"female-farmer":{id:"female-farmer",name:"Woman Farmer",keywords:["female","rancher","gardener","human"],skins:[{unified:"1f469-200d-1f33e",native:"\u{1F469}\u200D\u{1F33E}"},{unified:"1f469-1f3fb-200d-1f33e",native:"\u{1F469}\u{1F3FB}\u200D\u{1F33E}"},{unified:"1f469-1f3fc-200d-1f33e",native:"\u{1F469}\u{1F3FC}\u200D\u{1F33E}"},{unified:"1f469-1f3fd-200d-1f33e",native:"\u{1F469}\u{1F3FD}\u200D\u{1F33E}"},{unified:"1f469-1f3fe-200d-1f33e",native:"\u{1F469}\u{1F3FE}\u200D\u{1F33E}"},{unified:"1f469-1f3ff-200d-1f33e",native:"\u{1F469}\u{1F3FF}\u200D\u{1F33E}"}],version:4},cook:{id:"cook",name:"Cook",keywords:["food","kitchen","culinary"],skins:[{unified:"1f9d1-200d-1f373",native:"\u{1F9D1}\u200D\u{1F373}"},{unified:"1f9d1-1f3fb-200d-1f373",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F373}"},{unified:"1f9d1-1f3fc-200d-1f373",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F373}"},{unified:"1f9d1-1f3fd-200d-1f373",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F373}"},{unified:"1f9d1-1f3fe-200d-1f373",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F373}"},{unified:"1f9d1-1f3ff-200d-1f373",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F373}"}],version:12.1},"male-cook":{id:"male-cook",name:"Man Cook",keywords:["male","chef","human"],skins:[{unified:"1f468-200d-1f373",native:"\u{1F468}\u200D\u{1F373}"},{unified:"1f468-1f3fb-200d-1f373",native:"\u{1F468}\u{1F3FB}\u200D\u{1F373}"},{unified:"1f468-1f3fc-200d-1f373",native:"\u{1F468}\u{1F3FC}\u200D\u{1F373}"},{unified:"1f468-1f3fd-200d-1f373",native:"\u{1F468}\u{1F3FD}\u200D\u{1F373}"},{unified:"1f468-1f3fe-200d-1f373",native:"\u{1F468}\u{1F3FE}\u200D\u{1F373}"},{unified:"1f468-1f3ff-200d-1f373",native:"\u{1F468}\u{1F3FF}\u200D\u{1F373}"}],version:4},"female-cook":{id:"female-cook",name:"Woman Cook",keywords:["female","chef","human"],skins:[{unified:"1f469-200d-1f373",native:"\u{1F469}\u200D\u{1F373}"},{unified:"1f469-1f3fb-200d-1f373",native:"\u{1F469}\u{1F3FB}\u200D\u{1F373}"},{unified:"1f469-1f3fc-200d-1f373",native:"\u{1F469}\u{1F3FC}\u200D\u{1F373}"},{unified:"1f469-1f3fd-200d-1f373",native:"\u{1F469}\u{1F3FD}\u200D\u{1F373}"},{unified:"1f469-1f3fe-200d-1f373",native:"\u{1F469}\u{1F3FE}\u200D\u{1F373}"},{unified:"1f469-1f3ff-200d-1f373",native:"\u{1F469}\u{1F3FF}\u200D\u{1F373}"}],version:4},mechanic:{id:"mechanic",name:"Mechanic",keywords:["worker","technician"],skins:[{unified:"1f9d1-200d-1f527",native:"\u{1F9D1}\u200D\u{1F527}"},{unified:"1f9d1-1f3fb-200d-1f527",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F527}"},{unified:"1f9d1-1f3fc-200d-1f527",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F527}"},{unified:"1f9d1-1f3fd-200d-1f527",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F527}"},{unified:"1f9d1-1f3fe-200d-1f527",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F527}"},{unified:"1f9d1-1f3ff-200d-1f527",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F527}"}],version:12.1},"male-mechanic":{id:"male-mechanic",name:"Man Mechanic",keywords:["male","plumber","human","wrench"],skins:[{unified:"1f468-200d-1f527",native:"\u{1F468}\u200D\u{1F527}"},{unified:"1f468-1f3fb-200d-1f527",native:"\u{1F468}\u{1F3FB}\u200D\u{1F527}"},{unified:"1f468-1f3fc-200d-1f527",native:"\u{1F468}\u{1F3FC}\u200D\u{1F527}"},{unified:"1f468-1f3fd-200d-1f527",native:"\u{1F468}\u{1F3FD}\u200D\u{1F527}"},{unified:"1f468-1f3fe-200d-1f527",native:"\u{1F468}\u{1F3FE}\u200D\u{1F527}"},{unified:"1f468-1f3ff-200d-1f527",native:"\u{1F468}\u{1F3FF}\u200D\u{1F527}"}],version:4},"female-mechanic":{id:"female-mechanic",name:"Woman Mechanic",keywords:["female","plumber","human","wrench"],skins:[{unified:"1f469-200d-1f527",native:"\u{1F469}\u200D\u{1F527}"},{unified:"1f469-1f3fb-200d-1f527",native:"\u{1F469}\u{1F3FB}\u200D\u{1F527}"},{unified:"1f469-1f3fc-200d-1f527",native:"\u{1F469}\u{1F3FC}\u200D\u{1F527}"},{unified:"1f469-1f3fd-200d-1f527",native:"\u{1F469}\u{1F3FD}\u200D\u{1F527}"},{unified:"1f469-1f3fe-200d-1f527",native:"\u{1F469}\u{1F3FE}\u200D\u{1F527}"},{unified:"1f469-1f3ff-200d-1f527",native:"\u{1F469}\u{1F3FF}\u200D\u{1F527}"}],version:4},factory_worker:{id:"factory_worker",name:"Factory Worker",keywords:["labor"],skins:[{unified:"1f9d1-200d-1f3ed",native:"\u{1F9D1}\u200D\u{1F3ED}"},{unified:"1f9d1-1f3fb-200d-1f3ed",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F3ED}"},{unified:"1f9d1-1f3fc-200d-1f3ed",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F3ED}"},{unified:"1f9d1-1f3fd-200d-1f3ed",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F3ED}"},{unified:"1f9d1-1f3fe-200d-1f3ed",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F3ED}"},{unified:"1f9d1-1f3ff-200d-1f3ed",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F3ED}"}],version:12.1},"male-factory-worker":{id:"male-factory-worker",name:"Man Factory Worker",keywords:["male","factory-worker","assembly","industrial","human"],skins:[{unified:"1f468-200d-1f3ed",native:"\u{1F468}\u200D\u{1F3ED}"},{unified:"1f468-1f3fb-200d-1f3ed",native:"\u{1F468}\u{1F3FB}\u200D\u{1F3ED}"},{unified:"1f468-1f3fc-200d-1f3ed",native:"\u{1F468}\u{1F3FC}\u200D\u{1F3ED}"},{unified:"1f468-1f3fd-200d-1f3ed",native:"\u{1F468}\u{1F3FD}\u200D\u{1F3ED}"},{unified:"1f468-1f3fe-200d-1f3ed",native:"\u{1F468}\u{1F3FE}\u200D\u{1F3ED}"},{unified:"1f468-1f3ff-200d-1f3ed",native:"\u{1F468}\u{1F3FF}\u200D\u{1F3ED}"}],version:4},"female-factory-worker":{id:"female-factory-worker",name:"Woman Factory Worker",keywords:["female","factory-worker","assembly","industrial","human"],skins:[{unified:"1f469-200d-1f3ed",native:"\u{1F469}\u200D\u{1F3ED}"},{unified:"1f469-1f3fb-200d-1f3ed",native:"\u{1F469}\u{1F3FB}\u200D\u{1F3ED}"},{unified:"1f469-1f3fc-200d-1f3ed",native:"\u{1F469}\u{1F3FC}\u200D\u{1F3ED}"},{unified:"1f469-1f3fd-200d-1f3ed",native:"\u{1F469}\u{1F3FD}\u200D\u{1F3ED}"},{unified:"1f469-1f3fe-200d-1f3ed",native:"\u{1F469}\u{1F3FE}\u200D\u{1F3ED}"},{unified:"1f469-1f3ff-200d-1f3ed",native:"\u{1F469}\u{1F3FF}\u200D\u{1F3ED}"}],version:4},office_worker:{id:"office_worker",name:"Office Worker",keywords:["business"],skins:[{unified:"1f9d1-200d-1f4bc",native:"\u{1F9D1}\u200D\u{1F4BC}"},{unified:"1f9d1-1f3fb-200d-1f4bc",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F4BC}"},{unified:"1f9d1-1f3fc-200d-1f4bc",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F4BC}"},{unified:"1f9d1-1f3fd-200d-1f4bc",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F4BC}"},{unified:"1f9d1-1f3fe-200d-1f4bc",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F4BC}"},{unified:"1f9d1-1f3ff-200d-1f4bc",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F4BC}"}],version:12.1},"male-office-worker":{id:"male-office-worker",name:"Man Office Worker",keywords:["male","office-worker","business","manager","human"],skins:[{unified:"1f468-200d-1f4bc",native:"\u{1F468}\u200D\u{1F4BC}"},{unified:"1f468-1f3fb-200d-1f4bc",native:"\u{1F468}\u{1F3FB}\u200D\u{1F4BC}"},{unified:"1f468-1f3fc-200d-1f4bc",native:"\u{1F468}\u{1F3FC}\u200D\u{1F4BC}"},{unified:"1f468-1f3fd-200d-1f4bc",native:"\u{1F468}\u{1F3FD}\u200D\u{1F4BC}"},{unified:"1f468-1f3fe-200d-1f4bc",native:"\u{1F468}\u{1F3FE}\u200D\u{1F4BC}"},{unified:"1f468-1f3ff-200d-1f4bc",native:"\u{1F468}\u{1F3FF}\u200D\u{1F4BC}"}],version:4},"female-office-worker":{id:"female-office-worker",name:"Woman Office Worker",keywords:["female","office-worker","business","manager","human"],skins:[{unified:"1f469-200d-1f4bc",native:"\u{1F469}\u200D\u{1F4BC}"},{unified:"1f469-1f3fb-200d-1f4bc",native:"\u{1F469}\u{1F3FB}\u200D\u{1F4BC}"},{unified:"1f469-1f3fc-200d-1f4bc",native:"\u{1F469}\u{1F3FC}\u200D\u{1F4BC}"},{unified:"1f469-1f3fd-200d-1f4bc",native:"\u{1F469}\u{1F3FD}\u200D\u{1F4BC}"},{unified:"1f469-1f3fe-200d-1f4bc",native:"\u{1F469}\u{1F3FE}\u200D\u{1F4BC}"},{unified:"1f469-1f3ff-200d-1f4bc",native:"\u{1F469}\u{1F3FF}\u200D\u{1F4BC}"}],version:4},scientist:{id:"scientist",name:"Scientist",keywords:["chemistry"],skins:[{unified:"1f9d1-200d-1f52c",native:"\u{1F9D1}\u200D\u{1F52C}"},{unified:"1f9d1-1f3fb-200d-1f52c",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F52C}"},{unified:"1f9d1-1f3fc-200d-1f52c",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F52C}"},{unified:"1f9d1-1f3fd-200d-1f52c",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F52C}"},{unified:"1f9d1-1f3fe-200d-1f52c",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F52C}"},{unified:"1f9d1-1f3ff-200d-1f52c",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F52C}"}],version:12.1},"male-scientist":{id:"male-scientist",name:"Man Scientist",keywords:["male","biologist","chemist","engineer","physicist","human"],skins:[{unified:"1f468-200d-1f52c",native:"\u{1F468}\u200D\u{1F52C}"},{unified:"1f468-1f3fb-200d-1f52c",native:"\u{1F468}\u{1F3FB}\u200D\u{1F52C}"},{unified:"1f468-1f3fc-200d-1f52c",native:"\u{1F468}\u{1F3FC}\u200D\u{1F52C}"},{unified:"1f468-1f3fd-200d-1f52c",native:"\u{1F468}\u{1F3FD}\u200D\u{1F52C}"},{unified:"1f468-1f3fe-200d-1f52c",native:"\u{1F468}\u{1F3FE}\u200D\u{1F52C}"},{unified:"1f468-1f3ff-200d-1f52c",native:"\u{1F468}\u{1F3FF}\u200D\u{1F52C}"}],version:4},"female-scientist":{id:"female-scientist",name:"Woman Scientist",keywords:["female","biologist","chemist","engineer","physicist","human"],skins:[{unified:"1f469-200d-1f52c",native:"\u{1F469}\u200D\u{1F52C}"},{unified:"1f469-1f3fb-200d-1f52c",native:"\u{1F469}\u{1F3FB}\u200D\u{1F52C}"},{unified:"1f469-1f3fc-200d-1f52c",native:"\u{1F469}\u{1F3FC}\u200D\u{1F52C}"},{unified:"1f469-1f3fd-200d-1f52c",native:"\u{1F469}\u{1F3FD}\u200D\u{1F52C}"},{unified:"1f469-1f3fe-200d-1f52c",native:"\u{1F469}\u{1F3FE}\u200D\u{1F52C}"},{unified:"1f469-1f3ff-200d-1f52c",native:"\u{1F469}\u{1F3FF}\u200D\u{1F52C}"}],version:4},technologist:{id:"technologist",name:"Technologist",keywords:["computer"],skins:[{unified:"1f9d1-200d-1f4bb",native:"\u{1F9D1}\u200D\u{1F4BB}"},{unified:"1f9d1-1f3fb-200d-1f4bb",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F4BB}"},{unified:"1f9d1-1f3fc-200d-1f4bb",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F4BB}"},{unified:"1f9d1-1f3fd-200d-1f4bb",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F4BB}"},{unified:"1f9d1-1f3fe-200d-1f4bb",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F4BB}"},{unified:"1f9d1-1f3ff-200d-1f4bb",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F4BB}"}],version:12.1},"male-technologist":{id:"male-technologist",name:"Man Technologist",keywords:["male","coder","developer","engineer","programmer","software","human","laptop","computer"],skins:[{unified:"1f468-200d-1f4bb",native:"\u{1F468}\u200D\u{1F4BB}"},{unified:"1f468-1f3fb-200d-1f4bb",native:"\u{1F468}\u{1F3FB}\u200D\u{1F4BB}"},{unified:"1f468-1f3fc-200d-1f4bb",native:"\u{1F468}\u{1F3FC}\u200D\u{1F4BB}"},{unified:"1f468-1f3fd-200d-1f4bb",native:"\u{1F468}\u{1F3FD}\u200D\u{1F4BB}"},{unified:"1f468-1f3fe-200d-1f4bb",native:"\u{1F468}\u{1F3FE}\u200D\u{1F4BB}"},{unified:"1f468-1f3ff-200d-1f4bb",native:"\u{1F468}\u{1F3FF}\u200D\u{1F4BB}"}],version:4},"female-technologist":{id:"female-technologist",name:"Woman Technologist",keywords:["female","coder","developer","engineer","programmer","software","human","laptop","computer"],skins:[{unified:"1f469-200d-1f4bb",native:"\u{1F469}\u200D\u{1F4BB}"},{unified:"1f469-1f3fb-200d-1f4bb",native:"\u{1F469}\u{1F3FB}\u200D\u{1F4BB}"},{unified:"1f469-1f3fc-200d-1f4bb",native:"\u{1F469}\u{1F3FC}\u200D\u{1F4BB}"},{unified:"1f469-1f3fd-200d-1f4bb",native:"\u{1F469}\u{1F3FD}\u200D\u{1F4BB}"},{unified:"1f469-1f3fe-200d-1f4bb",native:"\u{1F469}\u{1F3FE}\u200D\u{1F4BB}"},{unified:"1f469-1f3ff-200d-1f4bb",native:"\u{1F469}\u{1F3FF}\u200D\u{1F4BB}"}],version:4},singer:{id:"singer",name:"Singer",keywords:["song","artist","performer"],skins:[{unified:"1f9d1-200d-1f3a4",native:"\u{1F9D1}\u200D\u{1F3A4}"},{unified:"1f9d1-1f3fb-200d-1f3a4",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F3A4}"},{unified:"1f9d1-1f3fc-200d-1f3a4",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F3A4}"},{unified:"1f9d1-1f3fd-200d-1f3a4",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F3A4}"},{unified:"1f9d1-1f3fe-200d-1f3a4",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F3A4}"},{unified:"1f9d1-1f3ff-200d-1f3a4",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F3A4}"}],version:12.1},"male-singer":{id:"male-singer",name:"Man Singer",keywords:["male","rockstar","entertainer","human"],skins:[{unified:"1f468-200d-1f3a4",native:"\u{1F468}\u200D\u{1F3A4}"},{unified:"1f468-1f3fb-200d-1f3a4",native:"\u{1F468}\u{1F3FB}\u200D\u{1F3A4}"},{unified:"1f468-1f3fc-200d-1f3a4",native:"\u{1F468}\u{1F3FC}\u200D\u{1F3A4}"},{unified:"1f468-1f3fd-200d-1f3a4",native:"\u{1F468}\u{1F3FD}\u200D\u{1F3A4}"},{unified:"1f468-1f3fe-200d-1f3a4",native:"\u{1F468}\u{1F3FE}\u200D\u{1F3A4}"},{unified:"1f468-1f3ff-200d-1f3a4",native:"\u{1F468}\u{1F3FF}\u200D\u{1F3A4}"}],version:4},"female-singer":{id:"female-singer",name:"Woman Singer",keywords:["female","rockstar","entertainer","human"],skins:[{unified:"1f469-200d-1f3a4",native:"\u{1F469}\u200D\u{1F3A4}"},{unified:"1f469-1f3fb-200d-1f3a4",native:"\u{1F469}\u{1F3FB}\u200D\u{1F3A4}"},{unified:"1f469-1f3fc-200d-1f3a4",native:"\u{1F469}\u{1F3FC}\u200D\u{1F3A4}"},{unified:"1f469-1f3fd-200d-1f3a4",native:"\u{1F469}\u{1F3FD}\u200D\u{1F3A4}"},{unified:"1f469-1f3fe-200d-1f3a4",native:"\u{1F469}\u{1F3FE}\u200D\u{1F3A4}"},{unified:"1f469-1f3ff-200d-1f3a4",native:"\u{1F469}\u{1F3FF}\u200D\u{1F3A4}"}],version:4},artist:{id:"artist",name:"Artist",keywords:["painting","draw","creativity"],skins:[{unified:"1f9d1-200d-1f3a8",native:"\u{1F9D1}\u200D\u{1F3A8}"},{unified:"1f9d1-1f3fb-200d-1f3a8",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F3A8}"},{unified:"1f9d1-1f3fc-200d-1f3a8",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F3A8}"},{unified:"1f9d1-1f3fd-200d-1f3a8",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F3A8}"},{unified:"1f9d1-1f3fe-200d-1f3a8",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F3A8}"},{unified:"1f9d1-1f3ff-200d-1f3a8",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F3A8}"}],version:12.1},"male-artist":{id:"male-artist",name:"Man Artist",keywords:["male","painter","human"],skins:[{unified:"1f468-200d-1f3a8",native:"\u{1F468}\u200D\u{1F3A8}"},{unified:"1f468-1f3fb-200d-1f3a8",native:"\u{1F468}\u{1F3FB}\u200D\u{1F3A8}"},{unified:"1f468-1f3fc-200d-1f3a8",native:"\u{1F468}\u{1F3FC}\u200D\u{1F3A8}"},{unified:"1f468-1f3fd-200d-1f3a8",native:"\u{1F468}\u{1F3FD}\u200D\u{1F3A8}"},{unified:"1f468-1f3fe-200d-1f3a8",native:"\u{1F468}\u{1F3FE}\u200D\u{1F3A8}"},{unified:"1f468-1f3ff-200d-1f3a8",native:"\u{1F468}\u{1F3FF}\u200D\u{1F3A8}"}],version:4},"female-artist":{id:"female-artist",name:"Woman Artist",keywords:["female","painter","human"],skins:[{unified:"1f469-200d-1f3a8",native:"\u{1F469}\u200D\u{1F3A8}"},{unified:"1f469-1f3fb-200d-1f3a8",native:"\u{1F469}\u{1F3FB}\u200D\u{1F3A8}"},{unified:"1f469-1f3fc-200d-1f3a8",native:"\u{1F469}\u{1F3FC}\u200D\u{1F3A8}"},{unified:"1f469-1f3fd-200d-1f3a8",native:"\u{1F469}\u{1F3FD}\u200D\u{1F3A8}"},{unified:"1f469-1f3fe-200d-1f3a8",native:"\u{1F469}\u{1F3FE}\u200D\u{1F3A8}"},{unified:"1f469-1f3ff-200d-1f3a8",native:"\u{1F469}\u{1F3FF}\u200D\u{1F3A8}"}],version:4},pilot:{id:"pilot",name:"Pilot",keywords:["fly","plane","airplane"],skins:[{unified:"1f9d1-200d-2708-fe0f",native:"\u{1F9D1}\u200D\u2708\uFE0F"},{unified:"1f9d1-1f3fb-200d-2708-fe0f",native:"\u{1F9D1}\u{1F3FB}\u200D\u2708\uFE0F"},{unified:"1f9d1-1f3fc-200d-2708-fe0f",native:"\u{1F9D1}\u{1F3FC}\u200D\u2708\uFE0F"},{unified:"1f9d1-1f3fd-200d-2708-fe0f",native:"\u{1F9D1}\u{1F3FD}\u200D\u2708\uFE0F"},{unified:"1f9d1-1f3fe-200d-2708-fe0f",native:"\u{1F9D1}\u{1F3FE}\u200D\u2708\uFE0F"},{unified:"1f9d1-1f3ff-200d-2708-fe0f",native:"\u{1F9D1}\u{1F3FF}\u200D\u2708\uFE0F"}],version:12.1},"male-pilot":{id:"male-pilot",name:"Man Pilot",keywords:["male","aviator","plane","human"],skins:[{unified:"1f468-200d-2708-fe0f",native:"\u{1F468}\u200D\u2708\uFE0F"},{unified:"1f468-1f3fb-200d-2708-fe0f",native:"\u{1F468}\u{1F3FB}\u200D\u2708\uFE0F"},{unified:"1f468-1f3fc-200d-2708-fe0f",native:"\u{1F468}\u{1F3FC}\u200D\u2708\uFE0F"},{unified:"1f468-1f3fd-200d-2708-fe0f",native:"\u{1F468}\u{1F3FD}\u200D\u2708\uFE0F"},{unified:"1f468-1f3fe-200d-2708-fe0f",native:"\u{1F468}\u{1F3FE}\u200D\u2708\uFE0F"},{unified:"1f468-1f3ff-200d-2708-fe0f",native:"\u{1F468}\u{1F3FF}\u200D\u2708\uFE0F"}],version:4},"female-pilot":{id:"female-pilot",name:"Woman Pilot",keywords:["female","aviator","plane","human"],skins:[{unified:"1f469-200d-2708-fe0f",native:"\u{1F469}\u200D\u2708\uFE0F"},{unified:"1f469-1f3fb-200d-2708-fe0f",native:"\u{1F469}\u{1F3FB}\u200D\u2708\uFE0F"},{unified:"1f469-1f3fc-200d-2708-fe0f",native:"\u{1F469}\u{1F3FC}\u200D\u2708\uFE0F"},{unified:"1f469-1f3fd-200d-2708-fe0f",native:"\u{1F469}\u{1F3FD}\u200D\u2708\uFE0F"},{unified:"1f469-1f3fe-200d-2708-fe0f",native:"\u{1F469}\u{1F3FE}\u200D\u2708\uFE0F"},{unified:"1f469-1f3ff-200d-2708-fe0f",native:"\u{1F469}\u{1F3FF}\u200D\u2708\uFE0F"}],version:4},astronaut:{id:"astronaut",name:"Astronaut",keywords:["outerspace"],skins:[{unified:"1f9d1-200d-1f680",native:"\u{1F9D1}\u200D\u{1F680}"},{unified:"1f9d1-1f3fb-200d-1f680",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F680}"},{unified:"1f9d1-1f3fc-200d-1f680",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F680}"},{unified:"1f9d1-1f3fd-200d-1f680",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F680}"},{unified:"1f9d1-1f3fe-200d-1f680",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F680}"},{unified:"1f9d1-1f3ff-200d-1f680",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F680}"}],version:12.1},"male-astronaut":{id:"male-astronaut",name:"Man Astronaut",keywords:["male","space","rocket","human"],skins:[{unified:"1f468-200d-1f680",native:"\u{1F468}\u200D\u{1F680}"},{unified:"1f468-1f3fb-200d-1f680",native:"\u{1F468}\u{1F3FB}\u200D\u{1F680}"},{unified:"1f468-1f3fc-200d-1f680",native:"\u{1F468}\u{1F3FC}\u200D\u{1F680}"},{unified:"1f468-1f3fd-200d-1f680",native:"\u{1F468}\u{1F3FD}\u200D\u{1F680}"},{unified:"1f468-1f3fe-200d-1f680",native:"\u{1F468}\u{1F3FE}\u200D\u{1F680}"},{unified:"1f468-1f3ff-200d-1f680",native:"\u{1F468}\u{1F3FF}\u200D\u{1F680}"}],version:4},"female-astronaut":{id:"female-astronaut",name:"Woman Astronaut",keywords:["female","space","rocket","human"],skins:[{unified:"1f469-200d-1f680",native:"\u{1F469}\u200D\u{1F680}"},{unified:"1f469-1f3fb-200d-1f680",native:"\u{1F469}\u{1F3FB}\u200D\u{1F680}"},{unified:"1f469-1f3fc-200d-1f680",native:"\u{1F469}\u{1F3FC}\u200D\u{1F680}"},{unified:"1f469-1f3fd-200d-1f680",native:"\u{1F469}\u{1F3FD}\u200D\u{1F680}"},{unified:"1f469-1f3fe-200d-1f680",native:"\u{1F469}\u{1F3FE}\u200D\u{1F680}"},{unified:"1f469-1f3ff-200d-1f680",native:"\u{1F469}\u{1F3FF}\u200D\u{1F680}"}],version:4},firefighter:{id:"firefighter",name:"Firefighter",keywords:["fire"],skins:[{unified:"1f9d1-200d-1f692",native:"\u{1F9D1}\u200D\u{1F692}"},{unified:"1f9d1-1f3fb-200d-1f692",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F692}"},{unified:"1f9d1-1f3fc-200d-1f692",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F692}"},{unified:"1f9d1-1f3fd-200d-1f692",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F692}"},{unified:"1f9d1-1f3fe-200d-1f692",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F692}"},{unified:"1f9d1-1f3ff-200d-1f692",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F692}"}],version:12.1},"male-firefighter":{id:"male-firefighter",name:"Man Firefighter",keywords:["male","fireman","human"],skins:[{unified:"1f468-200d-1f692",native:"\u{1F468}\u200D\u{1F692}"},{unified:"1f468-1f3fb-200d-1f692",native:"\u{1F468}\u{1F3FB}\u200D\u{1F692}"},{unified:"1f468-1f3fc-200d-1f692",native:"\u{1F468}\u{1F3FC}\u200D\u{1F692}"},{unified:"1f468-1f3fd-200d-1f692",native:"\u{1F468}\u{1F3FD}\u200D\u{1F692}"},{unified:"1f468-1f3fe-200d-1f692",native:"\u{1F468}\u{1F3FE}\u200D\u{1F692}"},{unified:"1f468-1f3ff-200d-1f692",native:"\u{1F468}\u{1F3FF}\u200D\u{1F692}"}],version:4},"female-firefighter":{id:"female-firefighter",name:"Woman Firefighter",keywords:["female","fireman","human"],skins:[{unified:"1f469-200d-1f692",native:"\u{1F469}\u200D\u{1F692}"},{unified:"1f469-1f3fb-200d-1f692",native:"\u{1F469}\u{1F3FB}\u200D\u{1F692}"},{unified:"1f469-1f3fc-200d-1f692",native:"\u{1F469}\u{1F3FC}\u200D\u{1F692}"},{unified:"1f469-1f3fd-200d-1f692",native:"\u{1F469}\u{1F3FD}\u200D\u{1F692}"},{unified:"1f469-1f3fe-200d-1f692",native:"\u{1F469}\u{1F3FE}\u200D\u{1F692}"},{unified:"1f469-1f3ff-200d-1f692",native:"\u{1F469}\u{1F3FF}\u200D\u{1F692}"}],version:4},cop:{id:"cop",name:"Police Officer",keywords:["cop"],skins:[{unified:"1f46e",native:"\u{1F46E}"},{unified:"1f46e-1f3fb",native:"\u{1F46E}\u{1F3FB}"},{unified:"1f46e-1f3fc",native:"\u{1F46E}\u{1F3FC}"},{unified:"1f46e-1f3fd",native:"\u{1F46E}\u{1F3FD}"},{unified:"1f46e-1f3fe",native:"\u{1F46E}\u{1F3FE}"},{unified:"1f46e-1f3ff",native:"\u{1F46E}\u{1F3FF}"}],version:1},"male-police-officer":{id:"male-police-officer",name:"Man Police Officer",keywords:["male","police-officer","law","legal","enforcement","arrest","911"],skins:[{unified:"1f46e-200d-2642-fe0f",native:"\u{1F46E}\u200D\u2642\uFE0F"},{unified:"1f46e-1f3fb-200d-2642-fe0f",native:"\u{1F46E}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f46e-1f3fc-200d-2642-fe0f",native:"\u{1F46E}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f46e-1f3fd-200d-2642-fe0f",native:"\u{1F46E}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f46e-1f3fe-200d-2642-fe0f",native:"\u{1F46E}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f46e-1f3ff-200d-2642-fe0f",native:"\u{1F46E}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"female-police-officer":{id:"female-police-officer",name:"Woman Police Officer",keywords:["female","police-officer","law","legal","enforcement","arrest","911"],skins:[{unified:"1f46e-200d-2640-fe0f",native:"\u{1F46E}\u200D\u2640\uFE0F"},{unified:"1f46e-1f3fb-200d-2640-fe0f",native:"\u{1F46E}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f46e-1f3fc-200d-2640-fe0f",native:"\u{1F46E}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f46e-1f3fd-200d-2640-fe0f",native:"\u{1F46E}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f46e-1f3fe-200d-2640-fe0f",native:"\u{1F46E}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f46e-1f3ff-200d-2640-fe0f",native:"\u{1F46E}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},sleuth_or_spy:{id:"sleuth_or_spy",name:"Detective",keywords:["sleuth","or","spy","human"],skins:[{unified:"1f575-fe0f",native:"\u{1F575}\uFE0F"},{unified:"1f575-1f3fb",native:"\u{1F575}\u{1F3FB}"},{unified:"1f575-1f3fc",native:"\u{1F575}\u{1F3FC}"},{unified:"1f575-1f3fd",native:"\u{1F575}\u{1F3FD}"},{unified:"1f575-1f3fe",native:"\u{1F575}\u{1F3FE}"},{unified:"1f575-1f3ff",native:"\u{1F575}\u{1F3FF}"}],version:1},"male-detective":{id:"male-detective",name:"Man Detective",keywords:["male","crime"],skins:[{unified:"1f575-fe0f-200d-2642-fe0f",native:"\u{1F575}\uFE0F\u200D\u2642\uFE0F"},{unified:"1f575-1f3fb-200d-2642-fe0f",native:"\u{1F575}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f575-1f3fc-200d-2642-fe0f",native:"\u{1F575}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f575-1f3fd-200d-2642-fe0f",native:"\u{1F575}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f575-1f3fe-200d-2642-fe0f",native:"\u{1F575}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f575-1f3ff-200d-2642-fe0f",native:"\u{1F575}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"female-detective":{id:"female-detective",name:"Woman Detective",keywords:["female","human","spy"],skins:[{unified:"1f575-fe0f-200d-2640-fe0f",native:"\u{1F575}\uFE0F\u200D\u2640\uFE0F"},{unified:"1f575-1f3fb-200d-2640-fe0f",native:"\u{1F575}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f575-1f3fc-200d-2640-fe0f",native:"\u{1F575}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f575-1f3fd-200d-2640-fe0f",native:"\u{1F575}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f575-1f3fe-200d-2640-fe0f",native:"\u{1F575}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f575-1f3ff-200d-2640-fe0f",native:"\u{1F575}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},guardsman:{id:"guardsman",name:"Guard",keywords:["guardsman","protect"],skins:[{unified:"1f482",native:"\u{1F482}"},{unified:"1f482-1f3fb",native:"\u{1F482}\u{1F3FB}"},{unified:"1f482-1f3fc",native:"\u{1F482}\u{1F3FC}"},{unified:"1f482-1f3fd",native:"\u{1F482}\u{1F3FD}"},{unified:"1f482-1f3fe",native:"\u{1F482}\u{1F3FE}"},{unified:"1f482-1f3ff",native:"\u{1F482}\u{1F3FF}"}],version:1},"male-guard":{id:"male-guard",name:"Man Guard",keywords:["male","uk","gb","british","guy","royal"],skins:[{unified:"1f482-200d-2642-fe0f",native:"\u{1F482}\u200D\u2642\uFE0F"},{unified:"1f482-1f3fb-200d-2642-fe0f",native:"\u{1F482}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f482-1f3fc-200d-2642-fe0f",native:"\u{1F482}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f482-1f3fd-200d-2642-fe0f",native:"\u{1F482}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f482-1f3fe-200d-2642-fe0f",native:"\u{1F482}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f482-1f3ff-200d-2642-fe0f",native:"\u{1F482}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"female-guard":{id:"female-guard",name:"Woman Guard",keywords:["female","uk","gb","british","royal"],skins:[{unified:"1f482-200d-2640-fe0f",native:"\u{1F482}\u200D\u2640\uFE0F"},{unified:"1f482-1f3fb-200d-2640-fe0f",native:"\u{1F482}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f482-1f3fc-200d-2640-fe0f",native:"\u{1F482}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f482-1f3fd-200d-2640-fe0f",native:"\u{1F482}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f482-1f3fe-200d-2640-fe0f",native:"\u{1F482}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f482-1f3ff-200d-2640-fe0f",native:"\u{1F482}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},ninja:{id:"ninja",name:"Ninja",keywords:["ninjutsu","skills","japanese"],skins:[{unified:"1f977",native:"\u{1F977}"},{unified:"1f977-1f3fb",native:"\u{1F977}\u{1F3FB}"},{unified:"1f977-1f3fc",native:"\u{1F977}\u{1F3FC}"},{unified:"1f977-1f3fd",native:"\u{1F977}\u{1F3FD}"},{unified:"1f977-1f3fe",native:"\u{1F977}\u{1F3FE}"},{unified:"1f977-1f3ff",native:"\u{1F977}\u{1F3FF}"}],version:13},construction_worker:{id:"construction_worker",name:"Construction Worker",keywords:["labor","build"],skins:[{unified:"1f477",native:"\u{1F477}"},{unified:"1f477-1f3fb",native:"\u{1F477}\u{1F3FB}"},{unified:"1f477-1f3fc",native:"\u{1F477}\u{1F3FC}"},{unified:"1f477-1f3fd",native:"\u{1F477}\u{1F3FD}"},{unified:"1f477-1f3fe",native:"\u{1F477}\u{1F3FE}"},{unified:"1f477-1f3ff",native:"\u{1F477}\u{1F3FF}"}],version:1},"male-construction-worker":{id:"male-construction-worker",name:"Man Construction Worker",keywords:["male","construction-worker","human","wip","guy","build","labor"],skins:[{unified:"1f477-200d-2642-fe0f",native:"\u{1F477}\u200D\u2642\uFE0F"},{unified:"1f477-1f3fb-200d-2642-fe0f",native:"\u{1F477}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f477-1f3fc-200d-2642-fe0f",native:"\u{1F477}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f477-1f3fd-200d-2642-fe0f",native:"\u{1F477}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f477-1f3fe-200d-2642-fe0f",native:"\u{1F477}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f477-1f3ff-200d-2642-fe0f",native:"\u{1F477}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"female-construction-worker":{id:"female-construction-worker",name:"Woman Construction Worker",keywords:["female","construction-worker","human","wip","build","labor"],skins:[{unified:"1f477-200d-2640-fe0f",native:"\u{1F477}\u200D\u2640\uFE0F"},{unified:"1f477-1f3fb-200d-2640-fe0f",native:"\u{1F477}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f477-1f3fc-200d-2640-fe0f",native:"\u{1F477}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f477-1f3fd-200d-2640-fe0f",native:"\u{1F477}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f477-1f3fe-200d-2640-fe0f",native:"\u{1F477}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f477-1f3ff-200d-2640-fe0f",native:"\u{1F477}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},person_with_crown:{id:"person_with_crown",name:"Person with Crown",keywords:["royalty","power"],skins:[{unified:"1fac5",native:"\u{1FAC5}"},{unified:"1fac5-1f3fb",native:"\u{1FAC5}\u{1F3FB}"},{unified:"1fac5-1f3fc",native:"\u{1FAC5}\u{1F3FC}"},{unified:"1fac5-1f3fd",native:"\u{1FAC5}\u{1F3FD}"},{unified:"1fac5-1f3fe",native:"\u{1FAC5}\u{1F3FE}"},{unified:"1fac5-1f3ff",native:"\u{1FAC5}\u{1F3FF}"}],version:14},prince:{id:"prince",name:"Prince",keywords:["boy","man","male","crown","royal","king"],skins:[{unified:"1f934",native:"\u{1F934}"},{unified:"1f934-1f3fb",native:"\u{1F934}\u{1F3FB}"},{unified:"1f934-1f3fc",native:"\u{1F934}\u{1F3FC}"},{unified:"1f934-1f3fd",native:"\u{1F934}\u{1F3FD}"},{unified:"1f934-1f3fe",native:"\u{1F934}\u{1F3FE}"},{unified:"1f934-1f3ff",native:"\u{1F934}\u{1F3FF}"}],version:3},princess:{id:"princess",name:"Princess",keywords:["girl","woman","female","blond","crown","royal","queen"],skins:[{unified:"1f478",native:"\u{1F478}"},{unified:"1f478-1f3fb",native:"\u{1F478}\u{1F3FB}"},{unified:"1f478-1f3fc",native:"\u{1F478}\u{1F3FC}"},{unified:"1f478-1f3fd",native:"\u{1F478}\u{1F3FD}"},{unified:"1f478-1f3fe",native:"\u{1F478}\u{1F3FE}"},{unified:"1f478-1f3ff",native:"\u{1F478}\u{1F3FF}"}],version:1},man_with_turban:{id:"man_with_turban",name:"Man with Turban",keywords:["person","wearing","headdress"],skins:[{unified:"1f473",native:"\u{1F473}"},{unified:"1f473-1f3fb",native:"\u{1F473}\u{1F3FB}"},{unified:"1f473-1f3fc",native:"\u{1F473}\u{1F3FC}"},{unified:"1f473-1f3fd",native:"\u{1F473}\u{1F3FD}"},{unified:"1f473-1f3fe",native:"\u{1F473}\u{1F3FE}"},{unified:"1f473-1f3ff",native:"\u{1F473}\u{1F3FF}"}],version:1},"man-wearing-turban":{id:"man-wearing-turban",name:"Man Wearing Turban",keywords:["wearing-turban","male","indian","hinduism","arabs"],skins:[{unified:"1f473-200d-2642-fe0f",native:"\u{1F473}\u200D\u2642\uFE0F"},{unified:"1f473-1f3fb-200d-2642-fe0f",native:"\u{1F473}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f473-1f3fc-200d-2642-fe0f",native:"\u{1F473}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f473-1f3fd-200d-2642-fe0f",native:"\u{1F473}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f473-1f3fe-200d-2642-fe0f",native:"\u{1F473}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f473-1f3ff-200d-2642-fe0f",native:"\u{1F473}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-wearing-turban":{id:"woman-wearing-turban",name:"Woman Wearing Turban",keywords:["wearing-turban","female","indian","hinduism","arabs"],skins:[{unified:"1f473-200d-2640-fe0f",native:"\u{1F473}\u200D\u2640\uFE0F"},{unified:"1f473-1f3fb-200d-2640-fe0f",native:"\u{1F473}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f473-1f3fc-200d-2640-fe0f",native:"\u{1F473}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f473-1f3fd-200d-2640-fe0f",native:"\u{1F473}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f473-1f3fe-200d-2640-fe0f",native:"\u{1F473}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f473-1f3ff-200d-2640-fe0f",native:"\u{1F473}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},man_with_gua_pi_mao:{id:"man_with_gua_pi_mao",name:"Man with Gua Pi Mao",keywords:["skullcap","male","boy","chinese"],skins:[{unified:"1f472",native:"\u{1F472}"},{unified:"1f472-1f3fb",native:"\u{1F472}\u{1F3FB}"},{unified:"1f472-1f3fc",native:"\u{1F472}\u{1F3FC}"},{unified:"1f472-1f3fd",native:"\u{1F472}\u{1F3FD}"},{unified:"1f472-1f3fe",native:"\u{1F472}\u{1F3FE}"},{unified:"1f472-1f3ff",native:"\u{1F472}\u{1F3FF}"}],version:1},person_with_headscarf:{id:"person_with_headscarf",name:"Woman with Headscarf",keywords:["person","female","hijab","mantilla","tichel"],skins:[{unified:"1f9d5",native:"\u{1F9D5}"},{unified:"1f9d5-1f3fb",native:"\u{1F9D5}\u{1F3FB}"},{unified:"1f9d5-1f3fc",native:"\u{1F9D5}\u{1F3FC}"},{unified:"1f9d5-1f3fd",native:"\u{1F9D5}\u{1F3FD}"},{unified:"1f9d5-1f3fe",native:"\u{1F9D5}\u{1F3FE}"},{unified:"1f9d5-1f3ff",native:"\u{1F9D5}\u{1F3FF}"}],version:5},person_in_tuxedo:{id:"person_in_tuxedo",name:"Man in Tuxedo",keywords:["person","couple","marriage","wedding","groom"],skins:[{unified:"1f935",native:"\u{1F935}"},{unified:"1f935-1f3fb",native:"\u{1F935}\u{1F3FB}"},{unified:"1f935-1f3fc",native:"\u{1F935}\u{1F3FC}"},{unified:"1f935-1f3fd",native:"\u{1F935}\u{1F3FD}"},{unified:"1f935-1f3fe",native:"\u{1F935}\u{1F3FE}"},{unified:"1f935-1f3ff",native:"\u{1F935}\u{1F3FF}"}],version:3},man_in_tuxedo:{id:"man_in_tuxedo",name:"Man in Tuxedo",keywords:["formal","fashion"],skins:[{unified:"1f935-200d-2642-fe0f",native:"\u{1F935}\u200D\u2642\uFE0F"},{unified:"1f935-1f3fb-200d-2642-fe0f",native:"\u{1F935}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f935-1f3fc-200d-2642-fe0f",native:"\u{1F935}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f935-1f3fd-200d-2642-fe0f",native:"\u{1F935}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f935-1f3fe-200d-2642-fe0f",native:"\u{1F935}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f935-1f3ff-200d-2642-fe0f",native:"\u{1F935}\u{1F3FF}\u200D\u2642\uFE0F"}],version:13},woman_in_tuxedo:{id:"woman_in_tuxedo",name:"Woman in Tuxedo",keywords:["formal","fashion"],skins:[{unified:"1f935-200d-2640-fe0f",native:"\u{1F935}\u200D\u2640\uFE0F"},{unified:"1f935-1f3fb-200d-2640-fe0f",native:"\u{1F935}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f935-1f3fc-200d-2640-fe0f",native:"\u{1F935}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f935-1f3fd-200d-2640-fe0f",native:"\u{1F935}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f935-1f3fe-200d-2640-fe0f",native:"\u{1F935}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f935-1f3ff-200d-2640-fe0f",native:"\u{1F935}\u{1F3FF}\u200D\u2640\uFE0F"}],version:13},bride_with_veil:{id:"bride_with_veil",name:"Bride with Veil",keywords:["couple","marriage","wedding","woman"],skins:[{unified:"1f470",native:"\u{1F470}"},{unified:"1f470-1f3fb",native:"\u{1F470}\u{1F3FB}"},{unified:"1f470-1f3fc",native:"\u{1F470}\u{1F3FC}"},{unified:"1f470-1f3fd",native:"\u{1F470}\u{1F3FD}"},{unified:"1f470-1f3fe",native:"\u{1F470}\u{1F3FE}"},{unified:"1f470-1f3ff",native:"\u{1F470}\u{1F3FF}"}],version:1},man_with_veil:{id:"man_with_veil",name:"Man with Veil",keywords:["wedding","marriage"],skins:[{unified:"1f470-200d-2642-fe0f",native:"\u{1F470}\u200D\u2642\uFE0F"},{unified:"1f470-1f3fb-200d-2642-fe0f",native:"\u{1F470}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f470-1f3fc-200d-2642-fe0f",native:"\u{1F470}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f470-1f3fd-200d-2642-fe0f",native:"\u{1F470}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f470-1f3fe-200d-2642-fe0f",native:"\u{1F470}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f470-1f3ff-200d-2642-fe0f",native:"\u{1F470}\u{1F3FF}\u200D\u2642\uFE0F"}],version:13},woman_with_veil:{id:"woman_with_veil",name:"Woman with Veil",keywords:["wedding","marriage"],skins:[{unified:"1f470-200d-2640-fe0f",native:"\u{1F470}\u200D\u2640\uFE0F"},{unified:"1f470-1f3fb-200d-2640-fe0f",native:"\u{1F470}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f470-1f3fc-200d-2640-fe0f",native:"\u{1F470}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f470-1f3fd-200d-2640-fe0f",native:"\u{1F470}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f470-1f3fe-200d-2640-fe0f",native:"\u{1F470}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f470-1f3ff-200d-2640-fe0f",native:"\u{1F470}\u{1F3FF}\u200D\u2640\uFE0F"}],version:13},pregnant_woman:{id:"pregnant_woman",name:"Pregnant Woman",keywords:["baby"],skins:[{unified:"1f930",native:"\u{1F930}"},{unified:"1f930-1f3fb",native:"\u{1F930}\u{1F3FB}"},{unified:"1f930-1f3fc",native:"\u{1F930}\u{1F3FC}"},{unified:"1f930-1f3fd",native:"\u{1F930}\u{1F3FD}"},{unified:"1f930-1f3fe",native:"\u{1F930}\u{1F3FE}"},{unified:"1f930-1f3ff",native:"\u{1F930}\u{1F3FF}"}],version:3},pregnant_man:{id:"pregnant_man",name:"Pregnant Man",keywords:["baby","belly"],skins:[{unified:"1fac3",native:"\u{1FAC3}"},{unified:"1fac3-1f3fb",native:"\u{1FAC3}\u{1F3FB}"},{unified:"1fac3-1f3fc",native:"\u{1FAC3}\u{1F3FC}"},{unified:"1fac3-1f3fd",native:"\u{1FAC3}\u{1F3FD}"},{unified:"1fac3-1f3fe",native:"\u{1FAC3}\u{1F3FE}"},{unified:"1fac3-1f3ff",native:"\u{1FAC3}\u{1F3FF}"}],version:14},pregnant_person:{id:"pregnant_person",name:"Pregnant Person",keywords:["baby","belly"],skins:[{unified:"1fac4",native:"\u{1FAC4}"},{unified:"1fac4-1f3fb",native:"\u{1FAC4}\u{1F3FB}"},{unified:"1fac4-1f3fc",native:"\u{1FAC4}\u{1F3FC}"},{unified:"1fac4-1f3fd",native:"\u{1FAC4}\u{1F3FD}"},{unified:"1fac4-1f3fe",native:"\u{1FAC4}\u{1F3FE}"},{unified:"1fac4-1f3ff",native:"\u{1FAC4}\u{1F3FF}"}],version:14},"breast-feeding":{id:"breast-feeding",name:"Breast-Feeding",keywords:["breast","feeding","nursing","baby"],skins:[{unified:"1f931",native:"\u{1F931}"},{unified:"1f931-1f3fb",native:"\u{1F931}\u{1F3FB}"},{unified:"1f931-1f3fc",native:"\u{1F931}\u{1F3FC}"},{unified:"1f931-1f3fd",native:"\u{1F931}\u{1F3FD}"},{unified:"1f931-1f3fe",native:"\u{1F931}\u{1F3FE}"},{unified:"1f931-1f3ff",native:"\u{1F931}\u{1F3FF}"}],version:5},woman_feeding_baby:{id:"woman_feeding_baby",name:"Woman Feeding Baby",keywords:["birth","food"],skins:[{unified:"1f469-200d-1f37c",native:"\u{1F469}\u200D\u{1F37C}"},{unified:"1f469-1f3fb-200d-1f37c",native:"\u{1F469}\u{1F3FB}\u200D\u{1F37C}"},{unified:"1f469-1f3fc-200d-1f37c",native:"\u{1F469}\u{1F3FC}\u200D\u{1F37C}"},{unified:"1f469-1f3fd-200d-1f37c",native:"\u{1F469}\u{1F3FD}\u200D\u{1F37C}"},{unified:"1f469-1f3fe-200d-1f37c",native:"\u{1F469}\u{1F3FE}\u200D\u{1F37C}"},{unified:"1f469-1f3ff-200d-1f37c",native:"\u{1F469}\u{1F3FF}\u200D\u{1F37C}"}],version:13},man_feeding_baby:{id:"man_feeding_baby",name:"Man Feeding Baby",keywords:["birth","food"],skins:[{unified:"1f468-200d-1f37c",native:"\u{1F468}\u200D\u{1F37C}"},{unified:"1f468-1f3fb-200d-1f37c",native:"\u{1F468}\u{1F3FB}\u200D\u{1F37C}"},{unified:"1f468-1f3fc-200d-1f37c",native:"\u{1F468}\u{1F3FC}\u200D\u{1F37C}"},{unified:"1f468-1f3fd-200d-1f37c",native:"\u{1F468}\u{1F3FD}\u200D\u{1F37C}"},{unified:"1f468-1f3fe-200d-1f37c",native:"\u{1F468}\u{1F3FE}\u200D\u{1F37C}"},{unified:"1f468-1f3ff-200d-1f37c",native:"\u{1F468}\u{1F3FF}\u200D\u{1F37C}"}],version:13},person_feeding_baby:{id:"person_feeding_baby",name:"Person Feeding Baby",keywords:["birth","food"],skins:[{unified:"1f9d1-200d-1f37c",native:"\u{1F9D1}\u200D\u{1F37C}"},{unified:"1f9d1-1f3fb-200d-1f37c",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F37C}"},{unified:"1f9d1-1f3fc-200d-1f37c",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F37C}"},{unified:"1f9d1-1f3fd-200d-1f37c",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F37C}"},{unified:"1f9d1-1f3fe-200d-1f37c",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F37C}"},{unified:"1f9d1-1f3ff-200d-1f37c",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F37C}"}],version:13},angel:{id:"angel",name:"Baby Angel",keywords:["heaven","wings","halo"],skins:[{unified:"1f47c",native:"\u{1F47C}"},{unified:"1f47c-1f3fb",native:"\u{1F47C}\u{1F3FB}"},{unified:"1f47c-1f3fc",native:"\u{1F47C}\u{1F3FC}"},{unified:"1f47c-1f3fd",native:"\u{1F47C}\u{1F3FD}"},{unified:"1f47c-1f3fe",native:"\u{1F47C}\u{1F3FE}"},{unified:"1f47c-1f3ff",native:"\u{1F47C}\u{1F3FF}"}],version:1},santa:{id:"santa",name:"Santa Claus",keywords:["festival","man","male","xmas","father","christmas"],skins:[{unified:"1f385",native:"\u{1F385}"},{unified:"1f385-1f3fb",native:"\u{1F385}\u{1F3FB}"},{unified:"1f385-1f3fc",native:"\u{1F385}\u{1F3FC}"},{unified:"1f385-1f3fd",native:"\u{1F385}\u{1F3FD}"},{unified:"1f385-1f3fe",native:"\u{1F385}\u{1F3FE}"},{unified:"1f385-1f3ff",native:"\u{1F385}\u{1F3FF}"}],version:1},mrs_claus:{id:"mrs_claus",name:"Mrs. Claus",keywords:["mrs","mother","christmas","woman","female","xmas"],skins:[{unified:"1f936",native:"\u{1F936}"},{unified:"1f936-1f3fb",native:"\u{1F936}\u{1F3FB}"},{unified:"1f936-1f3fc",native:"\u{1F936}\u{1F3FC}"},{unified:"1f936-1f3fd",native:"\u{1F936}\u{1F3FD}"},{unified:"1f936-1f3fe",native:"\u{1F936}\u{1F3FE}"},{unified:"1f936-1f3ff",native:"\u{1F936}\u{1F3FF}"}],version:3},mx_claus:{id:"mx_claus",name:"Mx Claus",keywords:["christmas"],skins:[{unified:"1f9d1-200d-1f384",native:"\u{1F9D1}\u200D\u{1F384}"},{unified:"1f9d1-1f3fb-200d-1f384",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F384}"},{unified:"1f9d1-1f3fc-200d-1f384",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F384}"},{unified:"1f9d1-1f3fd-200d-1f384",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F384}"},{unified:"1f9d1-1f3fe-200d-1f384",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F384}"},{unified:"1f9d1-1f3ff-200d-1f384",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F384}"}],version:13},superhero:{id:"superhero",name:"Superhero",keywords:["marvel"],skins:[{unified:"1f9b8",native:"\u{1F9B8}"},{unified:"1f9b8-1f3fb",native:"\u{1F9B8}\u{1F3FB}"},{unified:"1f9b8-1f3fc",native:"\u{1F9B8}\u{1F3FC}"},{unified:"1f9b8-1f3fd",native:"\u{1F9B8}\u{1F3FD}"},{unified:"1f9b8-1f3fe",native:"\u{1F9B8}\u{1F3FE}"},{unified:"1f9b8-1f3ff",native:"\u{1F9B8}\u{1F3FF}"}],version:11},male_superhero:{id:"male_superhero",name:"Man Superhero",keywords:["male","good","hero","superpowers"],skins:[{unified:"1f9b8-200d-2642-fe0f",native:"\u{1F9B8}\u200D\u2642\uFE0F"},{unified:"1f9b8-1f3fb-200d-2642-fe0f",native:"\u{1F9B8}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f9b8-1f3fc-200d-2642-fe0f",native:"\u{1F9B8}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f9b8-1f3fd-200d-2642-fe0f",native:"\u{1F9B8}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f9b8-1f3fe-200d-2642-fe0f",native:"\u{1F9B8}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f9b8-1f3ff-200d-2642-fe0f",native:"\u{1F9B8}\u{1F3FF}\u200D\u2642\uFE0F"}],version:11},female_superhero:{id:"female_superhero",name:"Woman Superhero",keywords:["female","good","heroine","superpowers"],skins:[{unified:"1f9b8-200d-2640-fe0f",native:"\u{1F9B8}\u200D\u2640\uFE0F"},{unified:"1f9b8-1f3fb-200d-2640-fe0f",native:"\u{1F9B8}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f9b8-1f3fc-200d-2640-fe0f",native:"\u{1F9B8}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f9b8-1f3fd-200d-2640-fe0f",native:"\u{1F9B8}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f9b8-1f3fe-200d-2640-fe0f",native:"\u{1F9B8}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f9b8-1f3ff-200d-2640-fe0f",native:"\u{1F9B8}\u{1F3FF}\u200D\u2640\uFE0F"}],version:11},supervillain:{id:"supervillain",name:"Supervillain",keywords:["marvel"],skins:[{unified:"1f9b9",native:"\u{1F9B9}"},{unified:"1f9b9-1f3fb",native:"\u{1F9B9}\u{1F3FB}"},{unified:"1f9b9-1f3fc",native:"\u{1F9B9}\u{1F3FC}"},{unified:"1f9b9-1f3fd",native:"\u{1F9B9}\u{1F3FD}"},{unified:"1f9b9-1f3fe",native:"\u{1F9B9}\u{1F3FE}"},{unified:"1f9b9-1f3ff",native:"\u{1F9B9}\u{1F3FF}"}],version:11},male_supervillain:{id:"male_supervillain",name:"Man Supervillain",keywords:["male","evil","bad","criminal","hero","superpowers"],skins:[{unified:"1f9b9-200d-2642-fe0f",native:"\u{1F9B9}\u200D\u2642\uFE0F"},{unified:"1f9b9-1f3fb-200d-2642-fe0f",native:"\u{1F9B9}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f9b9-1f3fc-200d-2642-fe0f",native:"\u{1F9B9}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f9b9-1f3fd-200d-2642-fe0f",native:"\u{1F9B9}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f9b9-1f3fe-200d-2642-fe0f",native:"\u{1F9B9}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f9b9-1f3ff-200d-2642-fe0f",native:"\u{1F9B9}\u{1F3FF}\u200D\u2642\uFE0F"}],version:11},female_supervillain:{id:"female_supervillain",name:"Woman Supervillain",keywords:["female","evil","bad","criminal","heroine","superpowers"],skins:[{unified:"1f9b9-200d-2640-fe0f",native:"\u{1F9B9}\u200D\u2640\uFE0F"},{unified:"1f9b9-1f3fb-200d-2640-fe0f",native:"\u{1F9B9}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f9b9-1f3fc-200d-2640-fe0f",native:"\u{1F9B9}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f9b9-1f3fd-200d-2640-fe0f",native:"\u{1F9B9}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f9b9-1f3fe-200d-2640-fe0f",native:"\u{1F9B9}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f9b9-1f3ff-200d-2640-fe0f",native:"\u{1F9B9}\u{1F3FF}\u200D\u2640\uFE0F"}],version:11},mage:{id:"mage",name:"Mage",keywords:["magic"],skins:[{unified:"1f9d9",native:"\u{1F9D9}"},{unified:"1f9d9-1f3fb",native:"\u{1F9D9}\u{1F3FB}"},{unified:"1f9d9-1f3fc",native:"\u{1F9D9}\u{1F3FC}"},{unified:"1f9d9-1f3fd",native:"\u{1F9D9}\u{1F3FD}"},{unified:"1f9d9-1f3fe",native:"\u{1F9D9}\u{1F3FE}"},{unified:"1f9d9-1f3ff",native:"\u{1F9D9}\u{1F3FF}"}],version:5},male_mage:{id:"male_mage",name:"Man Mage",keywords:["male","sorcerer"],skins:[{unified:"1f9d9-200d-2642-fe0f",native:"\u{1F9D9}\u200D\u2642\uFE0F"},{unified:"1f9d9-1f3fb-200d-2642-fe0f",native:"\u{1F9D9}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f9d9-1f3fc-200d-2642-fe0f",native:"\u{1F9D9}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f9d9-1f3fd-200d-2642-fe0f",native:"\u{1F9D9}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f9d9-1f3fe-200d-2642-fe0f",native:"\u{1F9D9}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f9d9-1f3ff-200d-2642-fe0f",native:"\u{1F9D9}\u{1F3FF}\u200D\u2642\uFE0F"}],version:5},female_mage:{id:"female_mage",name:"Woman Mage",keywords:["female","witch"],skins:[{unified:"1f9d9-200d-2640-fe0f",native:"\u{1F9D9}\u200D\u2640\uFE0F"},{unified:"1f9d9-1f3fb-200d-2640-fe0f",native:"\u{1F9D9}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f9d9-1f3fc-200d-2640-fe0f",native:"\u{1F9D9}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f9d9-1f3fd-200d-2640-fe0f",native:"\u{1F9D9}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f9d9-1f3fe-200d-2640-fe0f",native:"\u{1F9D9}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f9d9-1f3ff-200d-2640-fe0f",native:"\u{1F9D9}\u{1F3FF}\u200D\u2640\uFE0F"}],version:5},fairy:{id:"fairy",name:"Fairy",keywords:["wings","magical"],skins:[{unified:"1f9da",native:"\u{1F9DA}"},{unified:"1f9da-1f3fb",native:"\u{1F9DA}\u{1F3FB}"},{unified:"1f9da-1f3fc",native:"\u{1F9DA}\u{1F3FC}"},{unified:"1f9da-1f3fd",native:"\u{1F9DA}\u{1F3FD}"},{unified:"1f9da-1f3fe",native:"\u{1F9DA}\u{1F3FE}"},{unified:"1f9da-1f3ff",native:"\u{1F9DA}\u{1F3FF}"}],version:5},male_fairy:{id:"male_fairy",name:"Man Fairy",keywords:["male"],skins:[{unified:"1f9da-200d-2642-fe0f",native:"\u{1F9DA}\u200D\u2642\uFE0F"},{unified:"1f9da-1f3fb-200d-2642-fe0f",native:"\u{1F9DA}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f9da-1f3fc-200d-2642-fe0f",native:"\u{1F9DA}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f9da-1f3fd-200d-2642-fe0f",native:"\u{1F9DA}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f9da-1f3fe-200d-2642-fe0f",native:"\u{1F9DA}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f9da-1f3ff-200d-2642-fe0f",native:"\u{1F9DA}\u{1F3FF}\u200D\u2642\uFE0F"}],version:5},female_fairy:{id:"female_fairy",name:"Woman Fairy",keywords:["female"],skins:[{unified:"1f9da-200d-2640-fe0f",native:"\u{1F9DA}\u200D\u2640\uFE0F"},{unified:"1f9da-1f3fb-200d-2640-fe0f",native:"\u{1F9DA}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f9da-1f3fc-200d-2640-fe0f",native:"\u{1F9DA}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f9da-1f3fd-200d-2640-fe0f",native:"\u{1F9DA}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f9da-1f3fe-200d-2640-fe0f",native:"\u{1F9DA}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f9da-1f3ff-200d-2640-fe0f",native:"\u{1F9DA}\u{1F3FF}\u200D\u2640\uFE0F"}],version:5},vampire:{id:"vampire",name:"Vampire",keywords:["blood","twilight"],skins:[{unified:"1f9db",native:"\u{1F9DB}"},{unified:"1f9db-1f3fb",native:"\u{1F9DB}\u{1F3FB}"},{unified:"1f9db-1f3fc",native:"\u{1F9DB}\u{1F3FC}"},{unified:"1f9db-1f3fd",native:"\u{1F9DB}\u{1F3FD}"},{unified:"1f9db-1f3fe",native:"\u{1F9DB}\u{1F3FE}"},{unified:"1f9db-1f3ff",native:"\u{1F9DB}\u{1F3FF}"}],version:5},male_vampire:{id:"male_vampire",name:"Man Vampire",keywords:["male","dracula"],skins:[{unified:"1f9db-200d-2642-fe0f",native:"\u{1F9DB}\u200D\u2642\uFE0F"},{unified:"1f9db-1f3fb-200d-2642-fe0f",native:"\u{1F9DB}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f9db-1f3fc-200d-2642-fe0f",native:"\u{1F9DB}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f9db-1f3fd-200d-2642-fe0f",native:"\u{1F9DB}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f9db-1f3fe-200d-2642-fe0f",native:"\u{1F9DB}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f9db-1f3ff-200d-2642-fe0f",native:"\u{1F9DB}\u{1F3FF}\u200D\u2642\uFE0F"}],version:5},female_vampire:{id:"female_vampire",name:"Woman Vampire",keywords:["female"],skins:[{unified:"1f9db-200d-2640-fe0f",native:"\u{1F9DB}\u200D\u2640\uFE0F"},{unified:"1f9db-1f3fb-200d-2640-fe0f",native:"\u{1F9DB}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f9db-1f3fc-200d-2640-fe0f",native:"\u{1F9DB}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f9db-1f3fd-200d-2640-fe0f",native:"\u{1F9DB}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f9db-1f3fe-200d-2640-fe0f",native:"\u{1F9DB}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f9db-1f3ff-200d-2640-fe0f",native:"\u{1F9DB}\u{1F3FF}\u200D\u2640\uFE0F"}],version:5},merperson:{id:"merperson",name:"Merperson",keywords:["sea"],skins:[{unified:"1f9dc",native:"\u{1F9DC}"},{unified:"1f9dc-1f3fb",native:"\u{1F9DC}\u{1F3FB}"},{unified:"1f9dc-1f3fc",native:"\u{1F9DC}\u{1F3FC}"},{unified:"1f9dc-1f3fd",native:"\u{1F9DC}\u{1F3FD}"},{unified:"1f9dc-1f3fe",native:"\u{1F9DC}\u{1F3FE}"},{unified:"1f9dc-1f3ff",native:"\u{1F9DC}\u{1F3FF}"}],version:5},merman:{id:"merman",name:"Merman",keywords:["man","male","triton"],skins:[{unified:"1f9dc-200d-2642-fe0f",native:"\u{1F9DC}\u200D\u2642\uFE0F"},{unified:"1f9dc-1f3fb-200d-2642-fe0f",native:"\u{1F9DC}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f9dc-1f3fc-200d-2642-fe0f",native:"\u{1F9DC}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f9dc-1f3fd-200d-2642-fe0f",native:"\u{1F9DC}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f9dc-1f3fe-200d-2642-fe0f",native:"\u{1F9DC}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f9dc-1f3ff-200d-2642-fe0f",native:"\u{1F9DC}\u{1F3FF}\u200D\u2642\uFE0F"}],version:5},mermaid:{id:"mermaid",name:"Mermaid",keywords:["woman","female","merwoman","ariel"],skins:[{unified:"1f9dc-200d-2640-fe0f",native:"\u{1F9DC}\u200D\u2640\uFE0F"},{unified:"1f9dc-1f3fb-200d-2640-fe0f",native:"\u{1F9DC}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f9dc-1f3fc-200d-2640-fe0f",native:"\u{1F9DC}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f9dc-1f3fd-200d-2640-fe0f",native:"\u{1F9DC}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f9dc-1f3fe-200d-2640-fe0f",native:"\u{1F9DC}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f9dc-1f3ff-200d-2640-fe0f",native:"\u{1F9DC}\u{1F3FF}\u200D\u2640\uFE0F"}],version:5},elf:{id:"elf",name:"Elf",keywords:["magical"],skins:[{unified:"1f9dd",native:"\u{1F9DD}"},{unified:"1f9dd-1f3fb",native:"\u{1F9DD}\u{1F3FB}"},{unified:"1f9dd-1f3fc",native:"\u{1F9DD}\u{1F3FC}"},{unified:"1f9dd-1f3fd",native:"\u{1F9DD}\u{1F3FD}"},{unified:"1f9dd-1f3fe",native:"\u{1F9DD}\u{1F3FE}"},{unified:"1f9dd-1f3ff",native:"\u{1F9DD}\u{1F3FF}"}],version:5},male_elf:{id:"male_elf",name:"Man Elf",keywords:["male"],skins:[{unified:"1f9dd-200d-2642-fe0f",native:"\u{1F9DD}\u200D\u2642\uFE0F"},{unified:"1f9dd-1f3fb-200d-2642-fe0f",native:"\u{1F9DD}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f9dd-1f3fc-200d-2642-fe0f",native:"\u{1F9DD}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f9dd-1f3fd-200d-2642-fe0f",native:"\u{1F9DD}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f9dd-1f3fe-200d-2642-fe0f",native:"\u{1F9DD}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f9dd-1f3ff-200d-2642-fe0f",native:"\u{1F9DD}\u{1F3FF}\u200D\u2642\uFE0F"}],version:5},female_elf:{id:"female_elf",name:"Woman Elf",keywords:["female"],skins:[{unified:"1f9dd-200d-2640-fe0f",native:"\u{1F9DD}\u200D\u2640\uFE0F"},{unified:"1f9dd-1f3fb-200d-2640-fe0f",native:"\u{1F9DD}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f9dd-1f3fc-200d-2640-fe0f",native:"\u{1F9DD}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f9dd-1f3fd-200d-2640-fe0f",native:"\u{1F9DD}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f9dd-1f3fe-200d-2640-fe0f",native:"\u{1F9DD}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f9dd-1f3ff-200d-2640-fe0f",native:"\u{1F9DD}\u{1F3FF}\u200D\u2640\uFE0F"}],version:5},genie:{id:"genie",name:"Genie",keywords:["magical","wishes"],skins:[{unified:"1f9de",native:"\u{1F9DE}"}],version:5},male_genie:{id:"male_genie",name:"Man Genie",keywords:["male"],skins:[{unified:"1f9de-200d-2642-fe0f",native:"\u{1F9DE}\u200D\u2642\uFE0F"}],version:5},female_genie:{id:"female_genie",name:"Woman Genie",keywords:["female"],skins:[{unified:"1f9de-200d-2640-fe0f",native:"\u{1F9DE}\u200D\u2640\uFE0F"}],version:5},zombie:{id:"zombie",name:"Zombie",keywords:["dead"],skins:[{unified:"1f9df",native:"\u{1F9DF}"}],version:5},male_zombie:{id:"male_zombie",name:"Man Zombie",keywords:["male","dracula","undead","walking","dead"],skins:[{unified:"1f9df-200d-2642-fe0f",native:"\u{1F9DF}\u200D\u2642\uFE0F"}],version:5},female_zombie:{id:"female_zombie",name:"Woman Zombie",keywords:["female","undead","walking","dead"],skins:[{unified:"1f9df-200d-2640-fe0f",native:"\u{1F9DF}\u200D\u2640\uFE0F"}],version:5},troll:{id:"troll",name:"Troll",keywords:["mystical","monster"],skins:[{unified:"1f9cc",native:"\u{1F9CC}"}],version:14},massage:{id:"massage",name:"Face Massage",keywords:["person","getting","relax"],skins:[{unified:"1f486",native:"\u{1F486}"},{unified:"1f486-1f3fb",native:"\u{1F486}\u{1F3FB}"},{unified:"1f486-1f3fc",native:"\u{1F486}\u{1F3FC}"},{unified:"1f486-1f3fd",native:"\u{1F486}\u{1F3FD}"},{unified:"1f486-1f3fe",native:"\u{1F486}\u{1F3FE}"},{unified:"1f486-1f3ff",native:"\u{1F486}\u{1F3FF}"}],version:1},"man-getting-massage":{id:"man-getting-massage",name:"Man Getting Massage",keywords:["getting-massage","male","boy","head"],skins:[{unified:"1f486-200d-2642-fe0f",native:"\u{1F486}\u200D\u2642\uFE0F"},{unified:"1f486-1f3fb-200d-2642-fe0f",native:"\u{1F486}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f486-1f3fc-200d-2642-fe0f",native:"\u{1F486}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f486-1f3fd-200d-2642-fe0f",native:"\u{1F486}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f486-1f3fe-200d-2642-fe0f",native:"\u{1F486}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f486-1f3ff-200d-2642-fe0f",native:"\u{1F486}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-getting-massage":{id:"woman-getting-massage",name:"Woman Getting Massage",keywords:["getting-massage","female","girl","head"],skins:[{unified:"1f486-200d-2640-fe0f",native:"\u{1F486}\u200D\u2640\uFE0F"},{unified:"1f486-1f3fb-200d-2640-fe0f",native:"\u{1F486}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f486-1f3fc-200d-2640-fe0f",native:"\u{1F486}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f486-1f3fd-200d-2640-fe0f",native:"\u{1F486}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f486-1f3fe-200d-2640-fe0f",native:"\u{1F486}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f486-1f3ff-200d-2640-fe0f",native:"\u{1F486}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},haircut:{id:"haircut",name:"Haircut",keywords:["person","getting","hairstyle"],skins:[{unified:"1f487",native:"\u{1F487}"},{unified:"1f487-1f3fb",native:"\u{1F487}\u{1F3FB}"},{unified:"1f487-1f3fc",native:"\u{1F487}\u{1F3FC}"},{unified:"1f487-1f3fd",native:"\u{1F487}\u{1F3FD}"},{unified:"1f487-1f3fe",native:"\u{1F487}\u{1F3FE}"},{unified:"1f487-1f3ff",native:"\u{1F487}\u{1F3FF}"}],version:1},"man-getting-haircut":{id:"man-getting-haircut",name:"Man Getting Haircut",keywords:["getting-haircut","male","boy"],skins:[{unified:"1f487-200d-2642-fe0f",native:"\u{1F487}\u200D\u2642\uFE0F"},{unified:"1f487-1f3fb-200d-2642-fe0f",native:"\u{1F487}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f487-1f3fc-200d-2642-fe0f",native:"\u{1F487}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f487-1f3fd-200d-2642-fe0f",native:"\u{1F487}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f487-1f3fe-200d-2642-fe0f",native:"\u{1F487}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f487-1f3ff-200d-2642-fe0f",native:"\u{1F487}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-getting-haircut":{id:"woman-getting-haircut",name:"Woman Getting Haircut",keywords:["getting-haircut","female","girl"],skins:[{unified:"1f487-200d-2640-fe0f",native:"\u{1F487}\u200D\u2640\uFE0F"},{unified:"1f487-1f3fb-200d-2640-fe0f",native:"\u{1F487}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f487-1f3fc-200d-2640-fe0f",native:"\u{1F487}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f487-1f3fd-200d-2640-fe0f",native:"\u{1F487}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f487-1f3fe-200d-2640-fe0f",native:"\u{1F487}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f487-1f3ff-200d-2640-fe0f",native:"\u{1F487}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},walking:{id:"walking",name:"Pedestrian",keywords:["walking","person","move"],skins:[{unified:"1f6b6",native:"\u{1F6B6}"},{unified:"1f6b6-1f3fb",native:"\u{1F6B6}\u{1F3FB}"},{unified:"1f6b6-1f3fc",native:"\u{1F6B6}\u{1F3FC}"},{unified:"1f6b6-1f3fd",native:"\u{1F6B6}\u{1F3FD}"},{unified:"1f6b6-1f3fe",native:"\u{1F6B6}\u{1F3FE}"},{unified:"1f6b6-1f3ff",native:"\u{1F6B6}\u{1F3FF}"}],version:1},"man-walking":{id:"man-walking",name:"Man Walking",keywords:["human","feet","steps"],skins:[{unified:"1f6b6-200d-2642-fe0f",native:"\u{1F6B6}\u200D\u2642\uFE0F"},{unified:"1f6b6-1f3fb-200d-2642-fe0f",native:"\u{1F6B6}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f6b6-1f3fc-200d-2642-fe0f",native:"\u{1F6B6}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f6b6-1f3fd-200d-2642-fe0f",native:"\u{1F6B6}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f6b6-1f3fe-200d-2642-fe0f",native:"\u{1F6B6}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f6b6-1f3ff-200d-2642-fe0f",native:"\u{1F6B6}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-walking":{id:"woman-walking",name:"Woman Walking",keywords:["human","feet","steps","female"],skins:[{unified:"1f6b6-200d-2640-fe0f",native:"\u{1F6B6}\u200D\u2640\uFE0F"},{unified:"1f6b6-1f3fb-200d-2640-fe0f",native:"\u{1F6B6}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f6b6-1f3fc-200d-2640-fe0f",native:"\u{1F6B6}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f6b6-1f3fd-200d-2640-fe0f",native:"\u{1F6B6}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f6b6-1f3fe-200d-2640-fe0f",native:"\u{1F6B6}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f6b6-1f3ff-200d-2640-fe0f",native:"\u{1F6B6}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},standing_person:{id:"standing_person",name:"Standing Person",keywords:["still"],skins:[{unified:"1f9cd",native:"\u{1F9CD}"},{unified:"1f9cd-1f3fb",native:"\u{1F9CD}\u{1F3FB}"},{unified:"1f9cd-1f3fc",native:"\u{1F9CD}\u{1F3FC}"},{unified:"1f9cd-1f3fd",native:"\u{1F9CD}\u{1F3FD}"},{unified:"1f9cd-1f3fe",native:"\u{1F9CD}\u{1F3FE}"},{unified:"1f9cd-1f3ff",native:"\u{1F9CD}\u{1F3FF}"}],version:12},man_standing:{id:"man_standing",name:"Man Standing",keywords:["still"],skins:[{unified:"1f9cd-200d-2642-fe0f",native:"\u{1F9CD}\u200D\u2642\uFE0F"},{unified:"1f9cd-1f3fb-200d-2642-fe0f",native:"\u{1F9CD}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f9cd-1f3fc-200d-2642-fe0f",native:"\u{1F9CD}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f9cd-1f3fd-200d-2642-fe0f",native:"\u{1F9CD}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f9cd-1f3fe-200d-2642-fe0f",native:"\u{1F9CD}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f9cd-1f3ff-200d-2642-fe0f",native:"\u{1F9CD}\u{1F3FF}\u200D\u2642\uFE0F"}],version:12},woman_standing:{id:"woman_standing",name:"Woman Standing",keywords:["still"],skins:[{unified:"1f9cd-200d-2640-fe0f",native:"\u{1F9CD}\u200D\u2640\uFE0F"},{unified:"1f9cd-1f3fb-200d-2640-fe0f",native:"\u{1F9CD}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f9cd-1f3fc-200d-2640-fe0f",native:"\u{1F9CD}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f9cd-1f3fd-200d-2640-fe0f",native:"\u{1F9CD}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f9cd-1f3fe-200d-2640-fe0f",native:"\u{1F9CD}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f9cd-1f3ff-200d-2640-fe0f",native:"\u{1F9CD}\u{1F3FF}\u200D\u2640\uFE0F"}],version:12},kneeling_person:{id:"kneeling_person",name:"Kneeling Person",keywords:["pray","respectful"],skins:[{unified:"1f9ce",native:"\u{1F9CE}"},{unified:"1f9ce-1f3fb",native:"\u{1F9CE}\u{1F3FB}"},{unified:"1f9ce-1f3fc",native:"\u{1F9CE}\u{1F3FC}"},{unified:"1f9ce-1f3fd",native:"\u{1F9CE}\u{1F3FD}"},{unified:"1f9ce-1f3fe",native:"\u{1F9CE}\u{1F3FE}"},{unified:"1f9ce-1f3ff",native:"\u{1F9CE}\u{1F3FF}"}],version:12},man_kneeling:{id:"man_kneeling",name:"Man Kneeling",keywords:["pray","respectful"],skins:[{unified:"1f9ce-200d-2642-fe0f",native:"\u{1F9CE}\u200D\u2642\uFE0F"},{unified:"1f9ce-1f3fb-200d-2642-fe0f",native:"\u{1F9CE}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f9ce-1f3fc-200d-2642-fe0f",native:"\u{1F9CE}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f9ce-1f3fd-200d-2642-fe0f",native:"\u{1F9CE}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f9ce-1f3fe-200d-2642-fe0f",native:"\u{1F9CE}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f9ce-1f3ff-200d-2642-fe0f",native:"\u{1F9CE}\u{1F3FF}\u200D\u2642\uFE0F"}],version:12},woman_kneeling:{id:"woman_kneeling",name:"Woman Kneeling",keywords:["respectful","pray"],skins:[{unified:"1f9ce-200d-2640-fe0f",native:"\u{1F9CE}\u200D\u2640\uFE0F"},{unified:"1f9ce-1f3fb-200d-2640-fe0f",native:"\u{1F9CE}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f9ce-1f3fc-200d-2640-fe0f",native:"\u{1F9CE}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f9ce-1f3fd-200d-2640-fe0f",native:"\u{1F9CE}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f9ce-1f3fe-200d-2640-fe0f",native:"\u{1F9CE}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f9ce-1f3ff-200d-2640-fe0f",native:"\u{1F9CE}\u{1F3FF}\u200D\u2640\uFE0F"}],version:12},person_with_probing_cane:{id:"person_with_probing_cane",name:"Person with White Cane",keywords:["probing","blind"],skins:[{unified:"1f9d1-200d-1f9af",native:"\u{1F9D1}\u200D\u{1F9AF}"},{unified:"1f9d1-1f3fb-200d-1f9af",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F9AF}"},{unified:"1f9d1-1f3fc-200d-1f9af",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F9AF}"},{unified:"1f9d1-1f3fd-200d-1f9af",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F9AF}"},{unified:"1f9d1-1f3fe-200d-1f9af",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F9AF}"},{unified:"1f9d1-1f3ff-200d-1f9af",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F9AF}"}],version:12.1},man_with_probing_cane:{id:"man_with_probing_cane",name:"Man with White Cane",keywords:["probing","blind"],skins:[{unified:"1f468-200d-1f9af",native:"\u{1F468}\u200D\u{1F9AF}"},{unified:"1f468-1f3fb-200d-1f9af",native:"\u{1F468}\u{1F3FB}\u200D\u{1F9AF}"},{unified:"1f468-1f3fc-200d-1f9af",native:"\u{1F468}\u{1F3FC}\u200D\u{1F9AF}"},{unified:"1f468-1f3fd-200d-1f9af",native:"\u{1F468}\u{1F3FD}\u200D\u{1F9AF}"},{unified:"1f468-1f3fe-200d-1f9af",native:"\u{1F468}\u{1F3FE}\u200D\u{1F9AF}"},{unified:"1f468-1f3ff-200d-1f9af",native:"\u{1F468}\u{1F3FF}\u200D\u{1F9AF}"}],version:12},woman_with_probing_cane:{id:"woman_with_probing_cane",name:"Woman with White Cane",keywords:["probing","blind"],skins:[{unified:"1f469-200d-1f9af",native:"\u{1F469}\u200D\u{1F9AF}"},{unified:"1f469-1f3fb-200d-1f9af",native:"\u{1F469}\u{1F3FB}\u200D\u{1F9AF}"},{unified:"1f469-1f3fc-200d-1f9af",native:"\u{1F469}\u{1F3FC}\u200D\u{1F9AF}"},{unified:"1f469-1f3fd-200d-1f9af",native:"\u{1F469}\u{1F3FD}\u200D\u{1F9AF}"},{unified:"1f469-1f3fe-200d-1f9af",native:"\u{1F469}\u{1F3FE}\u200D\u{1F9AF}"},{unified:"1f469-1f3ff-200d-1f9af",native:"\u{1F469}\u{1F3FF}\u200D\u{1F9AF}"}],version:12},person_in_motorized_wheelchair:{id:"person_in_motorized_wheelchair",name:"Person in Motorized Wheelchair",keywords:["disability","accessibility"],skins:[{unified:"1f9d1-200d-1f9bc",native:"\u{1F9D1}\u200D\u{1F9BC}"},{unified:"1f9d1-1f3fb-200d-1f9bc",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F9BC}"},{unified:"1f9d1-1f3fc-200d-1f9bc",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F9BC}"},{unified:"1f9d1-1f3fd-200d-1f9bc",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F9BC}"},{unified:"1f9d1-1f3fe-200d-1f9bc",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F9BC}"},{unified:"1f9d1-1f3ff-200d-1f9bc",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F9BC}"}],version:12.1},man_in_motorized_wheelchair:{id:"man_in_motorized_wheelchair",name:"Man in Motorized Wheelchair",keywords:["disability","accessibility"],skins:[{unified:"1f468-200d-1f9bc",native:"\u{1F468}\u200D\u{1F9BC}"},{unified:"1f468-1f3fb-200d-1f9bc",native:"\u{1F468}\u{1F3FB}\u200D\u{1F9BC}"},{unified:"1f468-1f3fc-200d-1f9bc",native:"\u{1F468}\u{1F3FC}\u200D\u{1F9BC}"},{unified:"1f468-1f3fd-200d-1f9bc",native:"\u{1F468}\u{1F3FD}\u200D\u{1F9BC}"},{unified:"1f468-1f3fe-200d-1f9bc",native:"\u{1F468}\u{1F3FE}\u200D\u{1F9BC}"},{unified:"1f468-1f3ff-200d-1f9bc",native:"\u{1F468}\u{1F3FF}\u200D\u{1F9BC}"}],version:12},woman_in_motorized_wheelchair:{id:"woman_in_motorized_wheelchair",name:"Woman in Motorized Wheelchair",keywords:["disability","accessibility"],skins:[{unified:"1f469-200d-1f9bc",native:"\u{1F469}\u200D\u{1F9BC}"},{unified:"1f469-1f3fb-200d-1f9bc",native:"\u{1F469}\u{1F3FB}\u200D\u{1F9BC}"},{unified:"1f469-1f3fc-200d-1f9bc",native:"\u{1F469}\u{1F3FC}\u200D\u{1F9BC}"},{unified:"1f469-1f3fd-200d-1f9bc",native:"\u{1F469}\u{1F3FD}\u200D\u{1F9BC}"},{unified:"1f469-1f3fe-200d-1f9bc",native:"\u{1F469}\u{1F3FE}\u200D\u{1F9BC}"},{unified:"1f469-1f3ff-200d-1f9bc",native:"\u{1F469}\u{1F3FF}\u200D\u{1F9BC}"}],version:12},person_in_manual_wheelchair:{id:"person_in_manual_wheelchair",name:"Person in Manual Wheelchair",keywords:["disability","accessibility"],skins:[{unified:"1f9d1-200d-1f9bd",native:"\u{1F9D1}\u200D\u{1F9BD}"},{unified:"1f9d1-1f3fb-200d-1f9bd",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F9BD}"},{unified:"1f9d1-1f3fc-200d-1f9bd",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F9BD}"},{unified:"1f9d1-1f3fd-200d-1f9bd",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F9BD}"},{unified:"1f9d1-1f3fe-200d-1f9bd",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F9BD}"},{unified:"1f9d1-1f3ff-200d-1f9bd",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F9BD}"}],version:12.1},man_in_manual_wheelchair:{id:"man_in_manual_wheelchair",name:"Man in Manual Wheelchair",keywords:["disability","accessibility"],skins:[{unified:"1f468-200d-1f9bd",native:"\u{1F468}\u200D\u{1F9BD}"},{unified:"1f468-1f3fb-200d-1f9bd",native:"\u{1F468}\u{1F3FB}\u200D\u{1F9BD}"},{unified:"1f468-1f3fc-200d-1f9bd",native:"\u{1F468}\u{1F3FC}\u200D\u{1F9BD}"},{unified:"1f468-1f3fd-200d-1f9bd",native:"\u{1F468}\u{1F3FD}\u200D\u{1F9BD}"},{unified:"1f468-1f3fe-200d-1f9bd",native:"\u{1F468}\u{1F3FE}\u200D\u{1F9BD}"},{unified:"1f468-1f3ff-200d-1f9bd",native:"\u{1F468}\u{1F3FF}\u200D\u{1F9BD}"}],version:12},woman_in_manual_wheelchair:{id:"woman_in_manual_wheelchair",name:"Woman in Manual Wheelchair",keywords:["disability","accessibility"],skins:[{unified:"1f469-200d-1f9bd",native:"\u{1F469}\u200D\u{1F9BD}"},{unified:"1f469-1f3fb-200d-1f9bd",native:"\u{1F469}\u{1F3FB}\u200D\u{1F9BD}"},{unified:"1f469-1f3fc-200d-1f9bd",native:"\u{1F469}\u{1F3FC}\u200D\u{1F9BD}"},{unified:"1f469-1f3fd-200d-1f9bd",native:"\u{1F469}\u{1F3FD}\u200D\u{1F9BD}"},{unified:"1f469-1f3fe-200d-1f9bd",native:"\u{1F469}\u{1F3FE}\u200D\u{1F9BD}"},{unified:"1f469-1f3ff-200d-1f9bd",native:"\u{1F469}\u{1F3FF}\u200D\u{1F9BD}"}],version:12},runner:{id:"runner",name:"Runner",keywords:["running","person","move"],skins:[{unified:"1f3c3",native:"\u{1F3C3}"},{unified:"1f3c3-1f3fb",native:"\u{1F3C3}\u{1F3FB}"},{unified:"1f3c3-1f3fc",native:"\u{1F3C3}\u{1F3FC}"},{unified:"1f3c3-1f3fd",native:"\u{1F3C3}\u{1F3FD}"},{unified:"1f3c3-1f3fe",native:"\u{1F3C3}\u{1F3FE}"},{unified:"1f3c3-1f3ff",native:"\u{1F3C3}\u{1F3FF}"}],version:1},"man-running":{id:"man-running",name:"Man Running",keywords:["walking","exercise","race"],skins:[{unified:"1f3c3-200d-2642-fe0f",native:"\u{1F3C3}\u200D\u2642\uFE0F"},{unified:"1f3c3-1f3fb-200d-2642-fe0f",native:"\u{1F3C3}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f3c3-1f3fc-200d-2642-fe0f",native:"\u{1F3C3}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f3c3-1f3fd-200d-2642-fe0f",native:"\u{1F3C3}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f3c3-1f3fe-200d-2642-fe0f",native:"\u{1F3C3}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f3c3-1f3ff-200d-2642-fe0f",native:"\u{1F3C3}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-running":{id:"woman-running",name:"Woman Running",keywords:["walking","exercise","race","female"],skins:[{unified:"1f3c3-200d-2640-fe0f",native:"\u{1F3C3}\u200D\u2640\uFE0F"},{unified:"1f3c3-1f3fb-200d-2640-fe0f",native:"\u{1F3C3}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f3c3-1f3fc-200d-2640-fe0f",native:"\u{1F3C3}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f3c3-1f3fd-200d-2640-fe0f",native:"\u{1F3C3}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f3c3-1f3fe-200d-2640-fe0f",native:"\u{1F3C3}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f3c3-1f3ff-200d-2640-fe0f",native:"\u{1F3C3}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},dancer:{id:"dancer",name:"Dancer",keywords:["woman","dancing","female","girl","fun"],skins:[{unified:"1f483",native:"\u{1F483}"},{unified:"1f483-1f3fb",native:"\u{1F483}\u{1F3FB}"},{unified:"1f483-1f3fc",native:"\u{1F483}\u{1F3FC}"},{unified:"1f483-1f3fd",native:"\u{1F483}\u{1F3FD}"},{unified:"1f483-1f3fe",native:"\u{1F483}\u{1F3FE}"},{unified:"1f483-1f3ff",native:"\u{1F483}\u{1F3FF}"}],version:1},man_dancing:{id:"man_dancing",name:"Man Dancing",keywords:["male","boy","fun","dancer"],skins:[{unified:"1f57a",native:"\u{1F57A}"},{unified:"1f57a-1f3fb",native:"\u{1F57A}\u{1F3FB}"},{unified:"1f57a-1f3fc",native:"\u{1F57A}\u{1F3FC}"},{unified:"1f57a-1f3fd",native:"\u{1F57A}\u{1F3FD}"},{unified:"1f57a-1f3fe",native:"\u{1F57A}\u{1F3FE}"},{unified:"1f57a-1f3ff",native:"\u{1F57A}\u{1F3FF}"}],version:3},man_in_business_suit_levitating:{id:"man_in_business_suit_levitating",name:"Person in Suit Levitating",keywords:["man","business","levitate","hover","jump"],skins:[{unified:"1f574-fe0f",native:"\u{1F574}\uFE0F"},{unified:"1f574-1f3fb",native:"\u{1F574}\u{1F3FB}"},{unified:"1f574-1f3fc",native:"\u{1F574}\u{1F3FC}"},{unified:"1f574-1f3fd",native:"\u{1F574}\u{1F3FD}"},{unified:"1f574-1f3fe",native:"\u{1F574}\u{1F3FE}"},{unified:"1f574-1f3ff",native:"\u{1F574}\u{1F3FF}"}],version:1},dancers:{id:"dancers",name:"Woman with Bunny Ears",keywords:["dancers","people","perform","costume"],skins:[{unified:"1f46f",native:"\u{1F46F}"}],version:1},"men-with-bunny-ears-partying":{id:"men-with-bunny-ears-partying",name:"Men with Bunny Ears",keywords:["with-bunny-ears-partying","man","male","boys"],skins:[{unified:"1f46f-200d-2642-fe0f",native:"\u{1F46F}\u200D\u2642\uFE0F"}],version:4},"women-with-bunny-ears-partying":{id:"women-with-bunny-ears-partying",name:"Women with Bunny Ears",keywords:["with-bunny-ears-partying","woman","female","girls"],skins:[{unified:"1f46f-200d-2640-fe0f",native:"\u{1F46F}\u200D\u2640\uFE0F"}],version:4},person_in_steamy_room:{id:"person_in_steamy_room",name:"Person in Steamy Room",keywords:["relax","spa"],skins:[{unified:"1f9d6",native:"\u{1F9D6}"},{unified:"1f9d6-1f3fb",native:"\u{1F9D6}\u{1F3FB}"},{unified:"1f9d6-1f3fc",native:"\u{1F9D6}\u{1F3FC}"},{unified:"1f9d6-1f3fd",native:"\u{1F9D6}\u{1F3FD}"},{unified:"1f9d6-1f3fe",native:"\u{1F9D6}\u{1F3FE}"},{unified:"1f9d6-1f3ff",native:"\u{1F9D6}\u{1F3FF}"}],version:5},man_in_steamy_room:{id:"man_in_steamy_room",name:"Man in Steamy Room",keywords:["male","spa","steamroom","sauna"],skins:[{unified:"1f9d6-200d-2642-fe0f",native:"\u{1F9D6}\u200D\u2642\uFE0F"},{unified:"1f9d6-1f3fb-200d-2642-fe0f",native:"\u{1F9D6}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f9d6-1f3fc-200d-2642-fe0f",native:"\u{1F9D6}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f9d6-1f3fd-200d-2642-fe0f",native:"\u{1F9D6}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f9d6-1f3fe-200d-2642-fe0f",native:"\u{1F9D6}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f9d6-1f3ff-200d-2642-fe0f",native:"\u{1F9D6}\u{1F3FF}\u200D\u2642\uFE0F"}],version:5},woman_in_steamy_room:{id:"woman_in_steamy_room",name:"Woman in Steamy Room",keywords:["female","spa","steamroom","sauna"],skins:[{unified:"1f9d6-200d-2640-fe0f",native:"\u{1F9D6}\u200D\u2640\uFE0F"},{unified:"1f9d6-1f3fb-200d-2640-fe0f",native:"\u{1F9D6}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f9d6-1f3fc-200d-2640-fe0f",native:"\u{1F9D6}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f9d6-1f3fd-200d-2640-fe0f",native:"\u{1F9D6}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f9d6-1f3fe-200d-2640-fe0f",native:"\u{1F9D6}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f9d6-1f3ff-200d-2640-fe0f",native:"\u{1F9D6}\u{1F3FF}\u200D\u2640\uFE0F"}],version:5},person_climbing:{id:"person_climbing",name:"Person Climbing",keywords:["sport"],skins:[{unified:"1f9d7",native:"\u{1F9D7}"},{unified:"1f9d7-1f3fb",native:"\u{1F9D7}\u{1F3FB}"},{unified:"1f9d7-1f3fc",native:"\u{1F9D7}\u{1F3FC}"},{unified:"1f9d7-1f3fd",native:"\u{1F9D7}\u{1F3FD}"},{unified:"1f9d7-1f3fe",native:"\u{1F9D7}\u{1F3FE}"},{unified:"1f9d7-1f3ff",native:"\u{1F9D7}\u{1F3FF}"}],version:5},man_climbing:{id:"man_climbing",name:"Man Climbing",keywords:["sports","hobby","male","rock"],skins:[{unified:"1f9d7-200d-2642-fe0f",native:"\u{1F9D7}\u200D\u2642\uFE0F"},{unified:"1f9d7-1f3fb-200d-2642-fe0f",native:"\u{1F9D7}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f9d7-1f3fc-200d-2642-fe0f",native:"\u{1F9D7}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f9d7-1f3fd-200d-2642-fe0f",native:"\u{1F9D7}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f9d7-1f3fe-200d-2642-fe0f",native:"\u{1F9D7}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f9d7-1f3ff-200d-2642-fe0f",native:"\u{1F9D7}\u{1F3FF}\u200D\u2642\uFE0F"}],version:5},woman_climbing:{id:"woman_climbing",name:"Woman Climbing",keywords:["sports","hobby","female","rock"],skins:[{unified:"1f9d7-200d-2640-fe0f",native:"\u{1F9D7}\u200D\u2640\uFE0F"},{unified:"1f9d7-1f3fb-200d-2640-fe0f",native:"\u{1F9D7}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f9d7-1f3fc-200d-2640-fe0f",native:"\u{1F9D7}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f9d7-1f3fd-200d-2640-fe0f",native:"\u{1F9D7}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f9d7-1f3fe-200d-2640-fe0f",native:"\u{1F9D7}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f9d7-1f3ff-200d-2640-fe0f",native:"\u{1F9D7}\u{1F3FF}\u200D\u2640\uFE0F"}],version:5},fencer:{id:"fencer",name:"Fencer",keywords:["person","fencing","sports","sword"],skins:[{unified:"1f93a",native:"\u{1F93A}"}],version:3},horse_racing:{id:"horse_racing",name:"Horse Racing",keywords:["animal","betting","competition","gambling","luck"],skins:[{unified:"1f3c7",native:"\u{1F3C7}"},{unified:"1f3c7-1f3fb",native:"\u{1F3C7}\u{1F3FB}"},{unified:"1f3c7-1f3fc",native:"\u{1F3C7}\u{1F3FC}"},{unified:"1f3c7-1f3fd",native:"\u{1F3C7}\u{1F3FD}"},{unified:"1f3c7-1f3fe",native:"\u{1F3C7}\u{1F3FE}"},{unified:"1f3c7-1f3ff",native:"\u{1F3C7}\u{1F3FF}"}],version:1},skier:{id:"skier",name:"Skier",keywords:["sports","winter","snow"],skins:[{unified:"26f7-fe0f",native:"\u26F7\uFE0F"}],version:1},snowboarder:{id:"snowboarder",name:"Snowboarder",keywords:["sports","winter"],skins:[{unified:"1f3c2",native:"\u{1F3C2}"},{unified:"1f3c2-1f3fb",native:"\u{1F3C2}\u{1F3FB}"},{unified:"1f3c2-1f3fc",native:"\u{1F3C2}\u{1F3FC}"},{unified:"1f3c2-1f3fd",native:"\u{1F3C2}\u{1F3FD}"},{unified:"1f3c2-1f3fe",native:"\u{1F3C2}\u{1F3FE}"},{unified:"1f3c2-1f3ff",native:"\u{1F3C2}\u{1F3FF}"}],version:1},golfer:{id:"golfer",name:"Person Golfing",keywords:["golfer","sports","business"],skins:[{unified:"1f3cc-fe0f",native:"\u{1F3CC}\uFE0F"},{unified:"1f3cc-1f3fb",native:"\u{1F3CC}\u{1F3FB}"},{unified:"1f3cc-1f3fc",native:"\u{1F3CC}\u{1F3FC}"},{unified:"1f3cc-1f3fd",native:"\u{1F3CC}\u{1F3FD}"},{unified:"1f3cc-1f3fe",native:"\u{1F3CC}\u{1F3FE}"},{unified:"1f3cc-1f3ff",native:"\u{1F3CC}\u{1F3FF}"}],version:1},"man-golfing":{id:"man-golfing",name:"Man Golfing",keywords:["sport"],skins:[{unified:"1f3cc-fe0f-200d-2642-fe0f",native:"\u{1F3CC}\uFE0F\u200D\u2642\uFE0F"},{unified:"1f3cc-1f3fb-200d-2642-fe0f",native:"\u{1F3CC}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f3cc-1f3fc-200d-2642-fe0f",native:"\u{1F3CC}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f3cc-1f3fd-200d-2642-fe0f",native:"\u{1F3CC}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f3cc-1f3fe-200d-2642-fe0f",native:"\u{1F3CC}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f3cc-1f3ff-200d-2642-fe0f",native:"\u{1F3CC}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-golfing":{id:"woman-golfing",name:"Woman Golfing",keywords:["sports","business","female"],skins:[{unified:"1f3cc-fe0f-200d-2640-fe0f",native:"\u{1F3CC}\uFE0F\u200D\u2640\uFE0F"},{unified:"1f3cc-1f3fb-200d-2640-fe0f",native:"\u{1F3CC}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f3cc-1f3fc-200d-2640-fe0f",native:"\u{1F3CC}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f3cc-1f3fd-200d-2640-fe0f",native:"\u{1F3CC}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f3cc-1f3fe-200d-2640-fe0f",native:"\u{1F3CC}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f3cc-1f3ff-200d-2640-fe0f",native:"\u{1F3CC}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},surfer:{id:"surfer",name:"Surfer",keywords:["person","surfing","sport","sea"],skins:[{unified:"1f3c4",native:"\u{1F3C4}"},{unified:"1f3c4-1f3fb",native:"\u{1F3C4}\u{1F3FB}"},{unified:"1f3c4-1f3fc",native:"\u{1F3C4}\u{1F3FC}"},{unified:"1f3c4-1f3fd",native:"\u{1F3C4}\u{1F3FD}"},{unified:"1f3c4-1f3fe",native:"\u{1F3C4}\u{1F3FE}"},{unified:"1f3c4-1f3ff",native:"\u{1F3C4}\u{1F3FF}"}],version:1},"man-surfing":{id:"man-surfing",name:"Man Surfing",keywords:["sports","ocean","sea","summer","beach"],skins:[{unified:"1f3c4-200d-2642-fe0f",native:"\u{1F3C4}\u200D\u2642\uFE0F"},{unified:"1f3c4-1f3fb-200d-2642-fe0f",native:"\u{1F3C4}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f3c4-1f3fc-200d-2642-fe0f",native:"\u{1F3C4}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f3c4-1f3fd-200d-2642-fe0f",native:"\u{1F3C4}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f3c4-1f3fe-200d-2642-fe0f",native:"\u{1F3C4}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f3c4-1f3ff-200d-2642-fe0f",native:"\u{1F3C4}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-surfing":{id:"woman-surfing",name:"Woman Surfing",keywords:["sports","ocean","sea","summer","beach","female"],skins:[{unified:"1f3c4-200d-2640-fe0f",native:"\u{1F3C4}\u200D\u2640\uFE0F"},{unified:"1f3c4-1f3fb-200d-2640-fe0f",native:"\u{1F3C4}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f3c4-1f3fc-200d-2640-fe0f",native:"\u{1F3C4}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f3c4-1f3fd-200d-2640-fe0f",native:"\u{1F3C4}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f3c4-1f3fe-200d-2640-fe0f",native:"\u{1F3C4}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f3c4-1f3ff-200d-2640-fe0f",native:"\u{1F3C4}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},rowboat:{id:"rowboat",name:"Rowboat",keywords:["person","rowing","boat","sport","move"],skins:[{unified:"1f6a3",native:"\u{1F6A3}"},{unified:"1f6a3-1f3fb",native:"\u{1F6A3}\u{1F3FB}"},{unified:"1f6a3-1f3fc",native:"\u{1F6A3}\u{1F3FC}"},{unified:"1f6a3-1f3fd",native:"\u{1F6A3}\u{1F3FD}"},{unified:"1f6a3-1f3fe",native:"\u{1F6A3}\u{1F3FE}"},{unified:"1f6a3-1f3ff",native:"\u{1F6A3}\u{1F3FF}"}],version:1},"man-rowing-boat":{id:"man-rowing-boat",name:"Man Rowing Boat",keywords:["rowing-boat","sports","hobby","water","ship"],skins:[{unified:"1f6a3-200d-2642-fe0f",native:"\u{1F6A3}\u200D\u2642\uFE0F"},{unified:"1f6a3-1f3fb-200d-2642-fe0f",native:"\u{1F6A3}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f6a3-1f3fc-200d-2642-fe0f",native:"\u{1F6A3}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f6a3-1f3fd-200d-2642-fe0f",native:"\u{1F6A3}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f6a3-1f3fe-200d-2642-fe0f",native:"\u{1F6A3}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f6a3-1f3ff-200d-2642-fe0f",native:"\u{1F6A3}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-rowing-boat":{id:"woman-rowing-boat",name:"Woman Rowing Boat",keywords:["rowing-boat","sports","hobby","water","ship","female"],skins:[{unified:"1f6a3-200d-2640-fe0f",native:"\u{1F6A3}\u200D\u2640\uFE0F"},{unified:"1f6a3-1f3fb-200d-2640-fe0f",native:"\u{1F6A3}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f6a3-1f3fc-200d-2640-fe0f",native:"\u{1F6A3}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f6a3-1f3fd-200d-2640-fe0f",native:"\u{1F6A3}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f6a3-1f3fe-200d-2640-fe0f",native:"\u{1F6A3}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f6a3-1f3ff-200d-2640-fe0f",native:"\u{1F6A3}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},swimmer:{id:"swimmer",name:"Swimmer",keywords:["person","swimming","sport","pool"],skins:[{unified:"1f3ca",native:"\u{1F3CA}"},{unified:"1f3ca-1f3fb",native:"\u{1F3CA}\u{1F3FB}"},{unified:"1f3ca-1f3fc",native:"\u{1F3CA}\u{1F3FC}"},{unified:"1f3ca-1f3fd",native:"\u{1F3CA}\u{1F3FD}"},{unified:"1f3ca-1f3fe",native:"\u{1F3CA}\u{1F3FE}"},{unified:"1f3ca-1f3ff",native:"\u{1F3CA}\u{1F3FF}"}],version:1},"man-swimming":{id:"man-swimming",name:"Man Swimming",keywords:["sports","exercise","human","athlete","water","summer"],skins:[{unified:"1f3ca-200d-2642-fe0f",native:"\u{1F3CA}\u200D\u2642\uFE0F"},{unified:"1f3ca-1f3fb-200d-2642-fe0f",native:"\u{1F3CA}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f3ca-1f3fc-200d-2642-fe0f",native:"\u{1F3CA}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f3ca-1f3fd-200d-2642-fe0f",native:"\u{1F3CA}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f3ca-1f3fe-200d-2642-fe0f",native:"\u{1F3CA}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f3ca-1f3ff-200d-2642-fe0f",native:"\u{1F3CA}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-swimming":{id:"woman-swimming",name:"Woman Swimming",keywords:["sports","exercise","human","athlete","water","summer","female"],skins:[{unified:"1f3ca-200d-2640-fe0f",native:"\u{1F3CA}\u200D\u2640\uFE0F"},{unified:"1f3ca-1f3fb-200d-2640-fe0f",native:"\u{1F3CA}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f3ca-1f3fc-200d-2640-fe0f",native:"\u{1F3CA}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f3ca-1f3fd-200d-2640-fe0f",native:"\u{1F3CA}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f3ca-1f3fe-200d-2640-fe0f",native:"\u{1F3CA}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f3ca-1f3ff-200d-2640-fe0f",native:"\u{1F3CA}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},person_with_ball:{id:"person_with_ball",name:"Person Bouncing Ball",keywords:["with","sports","human"],skins:[{unified:"26f9-fe0f",native:"\u26F9\uFE0F"},{unified:"26f9-1f3fb",native:"\u26F9\u{1F3FB}"},{unified:"26f9-1f3fc",native:"\u26F9\u{1F3FC}"},{unified:"26f9-1f3fd",native:"\u26F9\u{1F3FD}"},{unified:"26f9-1f3fe",native:"\u26F9\u{1F3FE}"},{unified:"26f9-1f3ff",native:"\u26F9\u{1F3FF}"}],version:1},"man-bouncing-ball":{id:"man-bouncing-ball",name:"Man Bouncing Ball",keywords:["bouncing-ball","sport"],skins:[{unified:"26f9-fe0f-200d-2642-fe0f",native:"\u26F9\uFE0F\u200D\u2642\uFE0F"},{unified:"26f9-1f3fb-200d-2642-fe0f",native:"\u26F9\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"26f9-1f3fc-200d-2642-fe0f",native:"\u26F9\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"26f9-1f3fd-200d-2642-fe0f",native:"\u26F9\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"26f9-1f3fe-200d-2642-fe0f",native:"\u26F9\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"26f9-1f3ff-200d-2642-fe0f",native:"\u26F9\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-bouncing-ball":{id:"woman-bouncing-ball",name:"Woman Bouncing Ball",keywords:["bouncing-ball","sports","human","female"],skins:[{unified:"26f9-fe0f-200d-2640-fe0f",native:"\u26F9\uFE0F\u200D\u2640\uFE0F"},{unified:"26f9-1f3fb-200d-2640-fe0f",native:"\u26F9\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"26f9-1f3fc-200d-2640-fe0f",native:"\u26F9\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"26f9-1f3fd-200d-2640-fe0f",native:"\u26F9\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"26f9-1f3fe-200d-2640-fe0f",native:"\u26F9\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"26f9-1f3ff-200d-2640-fe0f",native:"\u26F9\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},weight_lifter:{id:"weight_lifter",name:"Person Lifting Weights",keywords:["weight","lifter","sports","training","exercise"],skins:[{unified:"1f3cb-fe0f",native:"\u{1F3CB}\uFE0F"},{unified:"1f3cb-1f3fb",native:"\u{1F3CB}\u{1F3FB}"},{unified:"1f3cb-1f3fc",native:"\u{1F3CB}\u{1F3FC}"},{unified:"1f3cb-1f3fd",native:"\u{1F3CB}\u{1F3FD}"},{unified:"1f3cb-1f3fe",native:"\u{1F3CB}\u{1F3FE}"},{unified:"1f3cb-1f3ff",native:"\u{1F3CB}\u{1F3FF}"}],version:1},"man-lifting-weights":{id:"man-lifting-weights",name:"Man Lifting Weights",keywords:["lifting-weights","sport"],skins:[{unified:"1f3cb-fe0f-200d-2642-fe0f",native:"\u{1F3CB}\uFE0F\u200D\u2642\uFE0F"},{unified:"1f3cb-1f3fb-200d-2642-fe0f",native:"\u{1F3CB}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f3cb-1f3fc-200d-2642-fe0f",native:"\u{1F3CB}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f3cb-1f3fd-200d-2642-fe0f",native:"\u{1F3CB}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f3cb-1f3fe-200d-2642-fe0f",native:"\u{1F3CB}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f3cb-1f3ff-200d-2642-fe0f",native:"\u{1F3CB}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-lifting-weights":{id:"woman-lifting-weights",name:"Woman Lifting Weights",keywords:["lifting-weights","sports","training","exercise","female"],skins:[{unified:"1f3cb-fe0f-200d-2640-fe0f",native:"\u{1F3CB}\uFE0F\u200D\u2640\uFE0F"},{unified:"1f3cb-1f3fb-200d-2640-fe0f",native:"\u{1F3CB}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f3cb-1f3fc-200d-2640-fe0f",native:"\u{1F3CB}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f3cb-1f3fd-200d-2640-fe0f",native:"\u{1F3CB}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f3cb-1f3fe-200d-2640-fe0f",native:"\u{1F3CB}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f3cb-1f3ff-200d-2640-fe0f",native:"\u{1F3CB}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},bicyclist:{id:"bicyclist",name:"Bicyclist",keywords:["person","biking","sport","move"],skins:[{unified:"1f6b4",native:"\u{1F6B4}"},{unified:"1f6b4-1f3fb",native:"\u{1F6B4}\u{1F3FB}"},{unified:"1f6b4-1f3fc",native:"\u{1F6B4}\u{1F3FC}"},{unified:"1f6b4-1f3fd",native:"\u{1F6B4}\u{1F3FD}"},{unified:"1f6b4-1f3fe",native:"\u{1F6B4}\u{1F3FE}"},{unified:"1f6b4-1f3ff",native:"\u{1F6B4}\u{1F3FF}"}],version:1},"man-biking":{id:"man-biking",name:"Man Biking",keywords:["sports","bike","exercise","hipster"],skins:[{unified:"1f6b4-200d-2642-fe0f",native:"\u{1F6B4}\u200D\u2642\uFE0F"},{unified:"1f6b4-1f3fb-200d-2642-fe0f",native:"\u{1F6B4}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f6b4-1f3fc-200d-2642-fe0f",native:"\u{1F6B4}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f6b4-1f3fd-200d-2642-fe0f",native:"\u{1F6B4}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f6b4-1f3fe-200d-2642-fe0f",native:"\u{1F6B4}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f6b4-1f3ff-200d-2642-fe0f",native:"\u{1F6B4}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-biking":{id:"woman-biking",name:"Woman Biking",keywords:["sports","bike","exercise","hipster","female"],skins:[{unified:"1f6b4-200d-2640-fe0f",native:"\u{1F6B4}\u200D\u2640\uFE0F"},{unified:"1f6b4-1f3fb-200d-2640-fe0f",native:"\u{1F6B4}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f6b4-1f3fc-200d-2640-fe0f",native:"\u{1F6B4}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f6b4-1f3fd-200d-2640-fe0f",native:"\u{1F6B4}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f6b4-1f3fe-200d-2640-fe0f",native:"\u{1F6B4}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f6b4-1f3ff-200d-2640-fe0f",native:"\u{1F6B4}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},mountain_bicyclist:{id:"mountain_bicyclist",name:"Mountain Bicyclist",keywords:["person","biking","sport","move"],skins:[{unified:"1f6b5",native:"\u{1F6B5}"},{unified:"1f6b5-1f3fb",native:"\u{1F6B5}\u{1F3FB}"},{unified:"1f6b5-1f3fc",native:"\u{1F6B5}\u{1F3FC}"},{unified:"1f6b5-1f3fd",native:"\u{1F6B5}\u{1F3FD}"},{unified:"1f6b5-1f3fe",native:"\u{1F6B5}\u{1F3FE}"},{unified:"1f6b5-1f3ff",native:"\u{1F6B5}\u{1F3FF}"}],version:1},"man-mountain-biking":{id:"man-mountain-biking",name:"Man Mountain Biking",keywords:["mountain-biking","transportation","sports","human","race","bike"],skins:[{unified:"1f6b5-200d-2642-fe0f",native:"\u{1F6B5}\u200D\u2642\uFE0F"},{unified:"1f6b5-1f3fb-200d-2642-fe0f",native:"\u{1F6B5}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f6b5-1f3fc-200d-2642-fe0f",native:"\u{1F6B5}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f6b5-1f3fd-200d-2642-fe0f",native:"\u{1F6B5}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f6b5-1f3fe-200d-2642-fe0f",native:"\u{1F6B5}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f6b5-1f3ff-200d-2642-fe0f",native:"\u{1F6B5}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-mountain-biking":{id:"woman-mountain-biking",name:"Woman Mountain Biking",keywords:["mountain-biking","transportation","sports","human","race","bike","female"],skins:[{unified:"1f6b5-200d-2640-fe0f",native:"\u{1F6B5}\u200D\u2640\uFE0F"},{unified:"1f6b5-1f3fb-200d-2640-fe0f",native:"\u{1F6B5}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f6b5-1f3fc-200d-2640-fe0f",native:"\u{1F6B5}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f6b5-1f3fd-200d-2640-fe0f",native:"\u{1F6B5}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f6b5-1f3fe-200d-2640-fe0f",native:"\u{1F6B5}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f6b5-1f3ff-200d-2640-fe0f",native:"\u{1F6B5}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},person_doing_cartwheel:{id:"person_doing_cartwheel",name:"Person Cartwheeling",keywords:["doing","cartwheel","sport","gymnastic"],skins:[{unified:"1f938",native:"\u{1F938}"},{unified:"1f938-1f3fb",native:"\u{1F938}\u{1F3FB}"},{unified:"1f938-1f3fc",native:"\u{1F938}\u{1F3FC}"},{unified:"1f938-1f3fd",native:"\u{1F938}\u{1F3FD}"},{unified:"1f938-1f3fe",native:"\u{1F938}\u{1F3FE}"},{unified:"1f938-1f3ff",native:"\u{1F938}\u{1F3FF}"}],version:3},"man-cartwheeling":{id:"man-cartwheeling",name:"Man Cartwheeling",keywords:["gymnastics"],skins:[{unified:"1f938-200d-2642-fe0f",native:"\u{1F938}\u200D\u2642\uFE0F"},{unified:"1f938-1f3fb-200d-2642-fe0f",native:"\u{1F938}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f938-1f3fc-200d-2642-fe0f",native:"\u{1F938}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f938-1f3fd-200d-2642-fe0f",native:"\u{1F938}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f938-1f3fe-200d-2642-fe0f",native:"\u{1F938}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f938-1f3ff-200d-2642-fe0f",native:"\u{1F938}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-cartwheeling":{id:"woman-cartwheeling",name:"Woman Cartwheeling",keywords:["gymnastics"],skins:[{unified:"1f938-200d-2640-fe0f",native:"\u{1F938}\u200D\u2640\uFE0F"},{unified:"1f938-1f3fb-200d-2640-fe0f",native:"\u{1F938}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f938-1f3fc-200d-2640-fe0f",native:"\u{1F938}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f938-1f3fd-200d-2640-fe0f",native:"\u{1F938}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f938-1f3fe-200d-2640-fe0f",native:"\u{1F938}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f938-1f3ff-200d-2640-fe0f",native:"\u{1F938}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},wrestlers:{id:"wrestlers",name:"Wrestlers",keywords:["people","wrestling","sport"],skins:[{unified:"1f93c",native:"\u{1F93C}"}],version:3},"man-wrestling":{id:"man-wrestling",name:"Men Wrestling",keywords:["man","sports","wrestlers"],skins:[{unified:"1f93c-200d-2642-fe0f",native:"\u{1F93C}\u200D\u2642\uFE0F"}],version:4},"woman-wrestling":{id:"woman-wrestling",name:"Women Wrestling",keywords:["woman","sports","wrestlers"],skins:[{unified:"1f93c-200d-2640-fe0f",native:"\u{1F93C}\u200D\u2640\uFE0F"}],version:4},water_polo:{id:"water_polo",name:"Water Polo",keywords:["person","playing","sport"],skins:[{unified:"1f93d",native:"\u{1F93D}"},{unified:"1f93d-1f3fb",native:"\u{1F93D}\u{1F3FB}"},{unified:"1f93d-1f3fc",native:"\u{1F93D}\u{1F3FC}"},{unified:"1f93d-1f3fd",native:"\u{1F93D}\u{1F3FD}"},{unified:"1f93d-1f3fe",native:"\u{1F93D}\u{1F3FE}"},{unified:"1f93d-1f3ff",native:"\u{1F93D}\u{1F3FF}"}],version:3},"man-playing-water-polo":{id:"man-playing-water-polo",name:"Man Playing Water Polo",keywords:["playing-water-polo","sports","pool"],skins:[{unified:"1f93d-200d-2642-fe0f",native:"\u{1F93D}\u200D\u2642\uFE0F"},{unified:"1f93d-1f3fb-200d-2642-fe0f",native:"\u{1F93D}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f93d-1f3fc-200d-2642-fe0f",native:"\u{1F93D}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f93d-1f3fd-200d-2642-fe0f",native:"\u{1F93D}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f93d-1f3fe-200d-2642-fe0f",native:"\u{1F93D}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f93d-1f3ff-200d-2642-fe0f",native:"\u{1F93D}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-playing-water-polo":{id:"woman-playing-water-polo",name:"Woman Playing Water Polo",keywords:["playing-water-polo","sports","pool"],skins:[{unified:"1f93d-200d-2640-fe0f",native:"\u{1F93D}\u200D\u2640\uFE0F"},{unified:"1f93d-1f3fb-200d-2640-fe0f",native:"\u{1F93D}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f93d-1f3fc-200d-2640-fe0f",native:"\u{1F93D}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f93d-1f3fd-200d-2640-fe0f",native:"\u{1F93D}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f93d-1f3fe-200d-2640-fe0f",native:"\u{1F93D}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f93d-1f3ff-200d-2640-fe0f",native:"\u{1F93D}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},handball:{id:"handball",name:"Handball",keywords:["person","playing","sport"],skins:[{unified:"1f93e",native:"\u{1F93E}"},{unified:"1f93e-1f3fb",native:"\u{1F93E}\u{1F3FB}"},{unified:"1f93e-1f3fc",native:"\u{1F93E}\u{1F3FC}"},{unified:"1f93e-1f3fd",native:"\u{1F93E}\u{1F3FD}"},{unified:"1f93e-1f3fe",native:"\u{1F93E}\u{1F3FE}"},{unified:"1f93e-1f3ff",native:"\u{1F93E}\u{1F3FF}"}],version:3},"man-playing-handball":{id:"man-playing-handball",name:"Man Playing Handball",keywords:["playing-handball","sports"],skins:[{unified:"1f93e-200d-2642-fe0f",native:"\u{1F93E}\u200D\u2642\uFE0F"},{unified:"1f93e-1f3fb-200d-2642-fe0f",native:"\u{1F93E}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f93e-1f3fc-200d-2642-fe0f",native:"\u{1F93E}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f93e-1f3fd-200d-2642-fe0f",native:"\u{1F93E}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f93e-1f3fe-200d-2642-fe0f",native:"\u{1F93E}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f93e-1f3ff-200d-2642-fe0f",native:"\u{1F93E}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-playing-handball":{id:"woman-playing-handball",name:"Woman Playing Handball",keywords:["playing-handball","sports"],skins:[{unified:"1f93e-200d-2640-fe0f",native:"\u{1F93E}\u200D\u2640\uFE0F"},{unified:"1f93e-1f3fb-200d-2640-fe0f",native:"\u{1F93E}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f93e-1f3fc-200d-2640-fe0f",native:"\u{1F93E}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f93e-1f3fd-200d-2640-fe0f",native:"\u{1F93E}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f93e-1f3fe-200d-2640-fe0f",native:"\u{1F93E}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f93e-1f3ff-200d-2640-fe0f",native:"\u{1F93E}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},juggling:{id:"juggling",name:"Juggling",keywords:["person","performance","balance"],skins:[{unified:"1f939",native:"\u{1F939}"},{unified:"1f939-1f3fb",native:"\u{1F939}\u{1F3FB}"},{unified:"1f939-1f3fc",native:"\u{1F939}\u{1F3FC}"},{unified:"1f939-1f3fd",native:"\u{1F939}\u{1F3FD}"},{unified:"1f939-1f3fe",native:"\u{1F939}\u{1F3FE}"},{unified:"1f939-1f3ff",native:"\u{1F939}\u{1F3FF}"}],version:3},"man-juggling":{id:"man-juggling",name:"Man Juggling",keywords:["juggle","balance","skill","multitask"],skins:[{unified:"1f939-200d-2642-fe0f",native:"\u{1F939}\u200D\u2642\uFE0F"},{unified:"1f939-1f3fb-200d-2642-fe0f",native:"\u{1F939}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f939-1f3fc-200d-2642-fe0f",native:"\u{1F939}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f939-1f3fd-200d-2642-fe0f",native:"\u{1F939}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f939-1f3fe-200d-2642-fe0f",native:"\u{1F939}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f939-1f3ff-200d-2642-fe0f",native:"\u{1F939}\u{1F3FF}\u200D\u2642\uFE0F"}],version:4},"woman-juggling":{id:"woman-juggling",name:"Woman Juggling",keywords:["juggle","balance","skill","multitask"],skins:[{unified:"1f939-200d-2640-fe0f",native:"\u{1F939}\u200D\u2640\uFE0F"},{unified:"1f939-1f3fb-200d-2640-fe0f",native:"\u{1F939}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f939-1f3fc-200d-2640-fe0f",native:"\u{1F939}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f939-1f3fd-200d-2640-fe0f",native:"\u{1F939}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f939-1f3fe-200d-2640-fe0f",native:"\u{1F939}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f939-1f3ff-200d-2640-fe0f",native:"\u{1F939}\u{1F3FF}\u200D\u2640\uFE0F"}],version:4},person_in_lotus_position:{id:"person_in_lotus_position",name:"Person in Lotus Position",keywords:["meditate"],skins:[{unified:"1f9d8",native:"\u{1F9D8}"},{unified:"1f9d8-1f3fb",native:"\u{1F9D8}\u{1F3FB}"},{unified:"1f9d8-1f3fc",native:"\u{1F9D8}\u{1F3FC}"},{unified:"1f9d8-1f3fd",native:"\u{1F9D8}\u{1F3FD}"},{unified:"1f9d8-1f3fe",native:"\u{1F9D8}\u{1F3FE}"},{unified:"1f9d8-1f3ff",native:"\u{1F9D8}\u{1F3FF}"}],version:5},man_in_lotus_position:{id:"man_in_lotus_position",name:"Man in Lotus Position",keywords:["male","meditation","yoga","serenity","zen","mindfulness"],skins:[{unified:"1f9d8-200d-2642-fe0f",native:"\u{1F9D8}\u200D\u2642\uFE0F"},{unified:"1f9d8-1f3fb-200d-2642-fe0f",native:"\u{1F9D8}\u{1F3FB}\u200D\u2642\uFE0F"},{unified:"1f9d8-1f3fc-200d-2642-fe0f",native:"\u{1F9D8}\u{1F3FC}\u200D\u2642\uFE0F"},{unified:"1f9d8-1f3fd-200d-2642-fe0f",native:"\u{1F9D8}\u{1F3FD}\u200D\u2642\uFE0F"},{unified:"1f9d8-1f3fe-200d-2642-fe0f",native:"\u{1F9D8}\u{1F3FE}\u200D\u2642\uFE0F"},{unified:"1f9d8-1f3ff-200d-2642-fe0f",native:"\u{1F9D8}\u{1F3FF}\u200D\u2642\uFE0F"}],version:5},woman_in_lotus_position:{id:"woman_in_lotus_position",name:"Woman in Lotus Position",keywords:["female","meditation","yoga","serenity","zen","mindfulness"],skins:[{unified:"1f9d8-200d-2640-fe0f",native:"\u{1F9D8}\u200D\u2640\uFE0F"},{unified:"1f9d8-1f3fb-200d-2640-fe0f",native:"\u{1F9D8}\u{1F3FB}\u200D\u2640\uFE0F"},{unified:"1f9d8-1f3fc-200d-2640-fe0f",native:"\u{1F9D8}\u{1F3FC}\u200D\u2640\uFE0F"},{unified:"1f9d8-1f3fd-200d-2640-fe0f",native:"\u{1F9D8}\u{1F3FD}\u200D\u2640\uFE0F"},{unified:"1f9d8-1f3fe-200d-2640-fe0f",native:"\u{1F9D8}\u{1F3FE}\u200D\u2640\uFE0F"},{unified:"1f9d8-1f3ff-200d-2640-fe0f",native:"\u{1F9D8}\u{1F3FF}\u200D\u2640\uFE0F"}],version:5},bath:{id:"bath",name:"Bath",keywords:["person","taking","clean","shower","bathroom"],skins:[{unified:"1f6c0",native:"\u{1F6C0}"},{unified:"1f6c0-1f3fb",native:"\u{1F6C0}\u{1F3FB}"},{unified:"1f6c0-1f3fc",native:"\u{1F6C0}\u{1F3FC}"},{unified:"1f6c0-1f3fd",native:"\u{1F6C0}\u{1F3FD}"},{unified:"1f6c0-1f3fe",native:"\u{1F6C0}\u{1F3FE}"},{unified:"1f6c0-1f3ff",native:"\u{1F6C0}\u{1F3FF}"}],version:1},sleeping_accommodation:{id:"sleeping_accommodation",name:"Person in Bed",keywords:["sleeping","accommodation","rest"],skins:[{unified:"1f6cc",native:"\u{1F6CC}"},{unified:"1f6cc-1f3fb",native:"\u{1F6CC}\u{1F3FB}"},{unified:"1f6cc-1f3fc",native:"\u{1F6CC}\u{1F3FC}"},{unified:"1f6cc-1f3fd",native:"\u{1F6CC}\u{1F3FD}"},{unified:"1f6cc-1f3fe",native:"\u{1F6CC}\u{1F3FE}"},{unified:"1f6cc-1f3ff",native:"\u{1F6CC}\u{1F3FF}"}],version:1},people_holding_hands:{id:"people_holding_hands",name:"People Holding Hands",keywords:["friendship"],skins:[{unified:"1f9d1-200d-1f91d-200d-1f9d1",native:"\u{1F9D1}\u200D\u{1F91D}\u200D\u{1F9D1}"},{unified:"1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fb",native:"\u{1F9D1}\u{1F3FB}\u200D\u{1F91D}\u200D\u{1F9D1}\u{1F3FB}"},{unified:"1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fc",native:"\u{1F9D1}\u{1F3FC}\u200D\u{1F91D}\u200D\u{1F9D1}\u{1F3FC}"},{unified:"1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fd",native:"\u{1F9D1}\u{1F3FD}\u200D\u{1F91D}\u200D\u{1F9D1}\u{1F3FD}"},{unified:"1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fe",native:"\u{1F9D1}\u{1F3FE}\u200D\u{1F91D}\u200D\u{1F9D1}\u{1F3FE}"},{unified:"1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3ff",native:"\u{1F9D1}\u{1F3FF}\u200D\u{1F91D}\u200D\u{1F9D1}\u{1F3FF}"}],version:12},two_women_holding_hands:{id:"two_women_holding_hands",name:"Women Holding Hands",keywords:["two","pair","friendship","couple","love","like","female","people","human"],skins:[{unified:"1f46d",native:"\u{1F46D}"},{unified:"1f46d-1f3fb",native:"\u{1F46D}\u{1F3FB}"},{unified:"1f46d-1f3fc",native:"\u{1F46D}\u{1F3FC}"},{unified:"1f46d-1f3fd",native:"\u{1F46D}\u{1F3FD}"},{unified:"1f46d-1f3fe",native:"\u{1F46D}\u{1F3FE}"},{unified:"1f46d-1f3ff",native:"\u{1F46D}\u{1F3FF}"}],version:1},man_and_woman_holding_hands:{id:"man_and_woman_holding_hands",name:"Man and Woman Holding Hands",keywords:["couple","pair","people","human","love","date","dating","like","affection","valentines","marriage"],skins:[{unified:"1f46b",native:"\u{1F46B}"},{unified:"1f46b-1f3fb",native:"\u{1F46B}\u{1F3FB}"},{unified:"1f46b-1f3fc",native:"\u{1F46B}\u{1F3FC}"},{unified:"1f46b-1f3fd",native:"\u{1F46B}\u{1F3FD}"},{unified:"1f46b-1f3fe",native:"\u{1F46B}\u{1F3FE}"},{unified:"1f46b-1f3ff",native:"\u{1F46B}\u{1F3FF}"}],version:1},two_men_holding_hands:{id:"two_men_holding_hands",name:"Men Holding Hands",keywords:["two","pair","couple","love","like","bromance","friendship","people","human"],skins:[{unified:"1f46c",native:"\u{1F46C}"},{unified:"1f46c-1f3fb",native:"\u{1F46C}\u{1F3FB}"},{unified:"1f46c-1f3fc",native:"\u{1F46C}\u{1F3FC}"},{unified:"1f46c-1f3fd",native:"\u{1F46C}\u{1F3FD}"},{unified:"1f46c-1f3fe",native:"\u{1F46C}\u{1F3FE}"},{unified:"1f46c-1f3ff",native:"\u{1F46C}\u{1F3FF}"}],version:1},couplekiss:{id:"couplekiss",name:"Kiss",keywords:["couplekiss","pair","valentines","love","like","dating","marriage"],skins:[{unified:"1f48f",native:"\u{1F48F}"},{unified:"1f48f-1f3fb",native:"\u{1F48F}\u{1F3FB}"},{unified:"1f48f-1f3fc",native:"\u{1F48F}\u{1F3FC}"},{unified:"1f48f-1f3fd",native:"\u{1F48F}\u{1F3FD}"},{unified:"1f48f-1f3fe",native:"\u{1F48F}\u{1F3FE}"},{unified:"1f48f-1f3ff",native:"\u{1F48F}\u{1F3FF}"}],version:1},"woman-kiss-man":{id:"woman-kiss-man",name:"Kiss: Woman, Man",keywords:["woman","kiss-man","kiss","love"],skins:[{unified:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468",native:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}"},{unified:"1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb",native:"\u{1F469}\u{1F3FB}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FB}"},{unified:"1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc",native:"\u{1F469}\u{1F3FC}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FC}"},{unified:"1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd",native:"\u{1F469}\u{1F3FD}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FD}"},{unified:"1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe",native:"\u{1F469}\u{1F3FE}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FE}"},{unified:"1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff",native:"\u{1F469}\u{1F3FF}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FF}"}],version:2},"man-kiss-man":{id:"man-kiss-man",name:"Kiss: Man, Man",keywords:["kiss-man","kiss","pair","valentines","love","like","dating","marriage"],skins:[{unified:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468",native:"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}"},{unified:"1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb",native:"\u{1F468}\u{1F3FB}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FB}"},{unified:"1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc",native:"\u{1F468}\u{1F3FC}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FC}"},{unified:"1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd",native:"\u{1F468}\u{1F3FD}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FD}"},{unified:"1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe",native:"\u{1F468}\u{1F3FE}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FE}"},{unified:"1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff",native:"\u{1F468}\u{1F3FF}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}\u{1F3FF}"}],version:2},"woman-kiss-woman":{id:"woman-kiss-woman",name:"Kiss: Woman, Woman",keywords:["kiss-woman","kiss","pair","valentines","love","like","dating","marriage"],skins:[{unified:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469",native:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}"},{unified:"1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb",native:"\u{1F469}\u{1F3FB}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}\u{1F3FB}"},{unified:"1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc",native:"\u{1F469}\u{1F3FC}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}\u{1F3FC}"},{unified:"1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd",native:"\u{1F469}\u{1F3FD}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}\u{1F3FD}"},{unified:"1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe",native:"\u{1F469}\u{1F3FE}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}\u{1F3FE}"},{unified:"1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff",native:"\u{1F469}\u{1F3FF}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}\u{1F3FF}"}],version:2},couple_with_heart:{id:"couple_with_heart",name:"Couple with Heart",keywords:["pair","love","like","affection","human","dating","valentines","marriage"],skins:[{unified:"1f491",native:"\u{1F491}"},{unified:"1f491-1f3fb",native:"\u{1F491}\u{1F3FB}"},{unified:"1f491-1f3fc",native:"\u{1F491}\u{1F3FC}"},{unified:"1f491-1f3fd",native:"\u{1F491}\u{1F3FD}"},{unified:"1f491-1f3fe",native:"\u{1F491}\u{1F3FE}"},{unified:"1f491-1f3ff",native:"\u{1F491}\u{1F3FF}"}],version:1},"woman-heart-man":{id:"woman-heart-man",name:"Couple with Heart: Woman, Man",keywords:["woman","heart-man","heart","love"],skins:[{unified:"1f469-200d-2764-fe0f-200d-1f468",native:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F468}"},{unified:"1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb",native:"\u{1F469}\u{1F3FB}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FB}"},{unified:"1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc",native:"\u{1F469}\u{1F3FC}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FC}"},{unified:"1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd",native:"\u{1F469}\u{1F3FD}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FD}"},{unified:"1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe",native:"\u{1F469}\u{1F3FE}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FE}"},{unified:"1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff",native:"\u{1F469}\u{1F3FF}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FF}"}],version:2},"man-heart-man":{id:"man-heart-man",name:"Couple with Heart: Man, Man",keywords:["heart-man","heart","pair","love","like","affection","human","dating","valentines","marriage"],skins:[{unified:"1f468-200d-2764-fe0f-200d-1f468",native:"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F468}"},{unified:"1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb",native:"\u{1F468}\u{1F3FB}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FB}"},{unified:"1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc",native:"\u{1F468}\u{1F3FC}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FC}"},{unified:"1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd",native:"\u{1F468}\u{1F3FD}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FD}"},{unified:"1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe",native:"\u{1F468}\u{1F3FE}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FE}"},{unified:"1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff",native:"\u{1F468}\u{1F3FF}\u200D\u2764\uFE0F\u200D\u{1F468}\u{1F3FF}"}],version:2},"woman-heart-woman":{id:"woman-heart-woman",name:"Couple with Heart: Woman, Woman",keywords:["heart-woman","heart","pair","love","like","affection","human","dating","valentines","marriage"],skins:[{unified:"1f469-200d-2764-fe0f-200d-1f469",native:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F469}"},{unified:"1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fb",native:"\u{1F469}\u{1F3FB}\u200D\u2764\uFE0F\u200D\u{1F469}\u{1F3FB}"},{unified:"1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fc",native:"\u{1F469}\u{1F3FC}\u200D\u2764\uFE0F\u200D\u{1F469}\u{1F3FC}"},{unified:"1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fd",native:"\u{1F469}\u{1F3FD}\u200D\u2764\uFE0F\u200D\u{1F469}\u{1F3FD}"},{unified:"1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fe",native:"\u{1F469}\u{1F3FE}\u200D\u2764\uFE0F\u200D\u{1F469}\u{1F3FE}"},{unified:"1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3ff",native:"\u{1F469}\u{1F3FF}\u200D\u2764\uFE0F\u200D\u{1F469}\u{1F3FF}"}],version:2},family:{id:"family",name:"Family",keywords:["home","parents","child","mom","dad","father","mother","people","human"],skins:[{unified:"1f46a",native:"\u{1F46A}"}],version:1},"man-woman-boy":{id:"man-woman-boy",name:"Family: Man, Woman, Boy",keywords:["man","woman-boy","family","woman","love"],skins:[{unified:"1f468-200d-1f469-200d-1f466",native:"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}"}],version:2},"man-woman-girl":{id:"man-woman-girl",name:"Family: Man, Woman, Girl",keywords:["man","woman-girl","family","woman","home","parents","people","human","child"],skins:[{unified:"1f468-200d-1f469-200d-1f467",native:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}"}],version:2},"man-woman-girl-boy":{id:"man-woman-girl-boy",name:"Family: Man, Woman, Girl, Boy",keywords:["man","woman-girl-boy","family","woman","girl","home","parents","people","human","children"],skins:[{unified:"1f468-200d-1f469-200d-1f467-200d-1f466",native:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}"}],version:2},"man-woman-boy-boy":{id:"man-woman-boy-boy",name:"Family: Man, Woman, Boy, Boy",keywords:["man","woman-boy-boy","family","woman","home","parents","people","human","children"],skins:[{unified:"1f468-200d-1f469-200d-1f466-200d-1f466",native:"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}"}],version:2},"man-woman-girl-girl":{id:"man-woman-girl-girl",name:"Family: Man, Woman, Girl, Girl",keywords:["man","woman-girl-girl","family","woman","home","parents","people","human","children"],skins:[{unified:"1f468-200d-1f469-200d-1f467-200d-1f467",native:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}"}],version:2},"man-man-boy":{id:"man-man-boy",name:"Family: Man, Man, Boy",keywords:["man","man-boy","family","home","parents","people","human","children"],skins:[{unified:"1f468-200d-1f468-200d-1f466",native:"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}"}],version:2},"man-man-girl":{id:"man-man-girl",name:"Family: Man, Man, Girl",keywords:["man","man-girl","family","home","parents","people","human","children"],skins:[{unified:"1f468-200d-1f468-200d-1f467",native:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}"}],version:2},"man-man-girl-boy":{id:"man-man-girl-boy",name:"Family: Man, Man, Girl, Boy",keywords:["man","man-girl-boy","family","girl","home","parents","people","human","children"],skins:[{unified:"1f468-200d-1f468-200d-1f467-200d-1f466",native:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F466}"}],version:2},"man-man-boy-boy":{id:"man-man-boy-boy",name:"Family: Man, Man, Boy, Boy",keywords:["man","man-boy-boy","family","home","parents","people","human","children"],skins:[{unified:"1f468-200d-1f468-200d-1f466-200d-1f466",native:"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}\u200D\u{1F466}"}],version:2},"man-man-girl-girl":{id:"man-man-girl-girl",name:"Family: Man, Man, Girl, Girl",keywords:["man","man-girl-girl","family","home","parents","people","human","children"],skins:[{unified:"1f468-200d-1f468-200d-1f467-200d-1f467",native:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F467}"}],version:2},"woman-woman-boy":{id:"woman-woman-boy",name:"Family: Woman, Woman, Boy",keywords:["woman","woman-boy","family","home","parents","people","human","children"],skins:[{unified:"1f469-200d-1f469-200d-1f466",native:"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}"}],version:2},"woman-woman-girl":{id:"woman-woman-girl",name:"Family: Woman, Woman, Girl",keywords:["woman","woman-girl","family","home","parents","people","human","children"],skins:[{unified:"1f469-200d-1f469-200d-1f467",native:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}"}],version:2},"woman-woman-girl-boy":{id:"woman-woman-girl-boy",name:"Family: Woman, Woman, Girl, Boy",keywords:["woman","woman-girl-boy","family","girl","home","parents","people","human","children"],skins:[{unified:"1f469-200d-1f469-200d-1f467-200d-1f466",native:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}"}],version:2},"woman-woman-boy-boy":{id:"woman-woman-boy-boy",name:"Family: Woman, Woman, Boy, Boy",keywords:["woman","woman-boy-boy","family","home","parents","people","human","children"],skins:[{unified:"1f469-200d-1f469-200d-1f466-200d-1f466",native:"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}"}],version:2},"woman-woman-girl-girl":{id:"woman-woman-girl-girl",name:"Family: Woman, Woman, Girl, Girl",keywords:["woman","woman-girl-girl","family","home","parents","people","human","children"],skins:[{unified:"1f469-200d-1f469-200d-1f467-200d-1f467",native:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}"}],version:2},"man-boy":{id:"man-boy",name:"Family: Man, Boy",keywords:["man","family","home","parent","people","human","child"],skins:[{unified:"1f468-200d-1f466",native:"\u{1F468}\u200D\u{1F466}"}],version:4},"man-boy-boy":{id:"man-boy-boy",name:"Family: Man, Boy, Boy",keywords:["man","boy-boy","family","home","parent","people","human","children"],skins:[{unified:"1f468-200d-1f466-200d-1f466",native:"\u{1F468}\u200D\u{1F466}\u200D\u{1F466}"}],version:4},"man-girl":{id:"man-girl",name:"Family: Man, Girl",keywords:["man","family","home","parent","people","human","child"],skins:[{unified:"1f468-200d-1f467",native:"\u{1F468}\u200D\u{1F467}"}],version:4},"man-girl-boy":{id:"man-girl-boy",name:"Family: Man, Girl, Boy",keywords:["man","girl-boy","family","girl","home","parent","people","human","children"],skins:[{unified:"1f468-200d-1f467-200d-1f466",native:"\u{1F468}\u200D\u{1F467}\u200D\u{1F466}"}],version:4},"man-girl-girl":{id:"man-girl-girl",name:"Family: Man, Girl, Girl",keywords:["man","girl-girl","family","home","parent","people","human","children"],skins:[{unified:"1f468-200d-1f467-200d-1f467",native:"\u{1F468}\u200D\u{1F467}\u200D\u{1F467}"}],version:4},"woman-boy":{id:"woman-boy",name:"Family: Woman, Boy",keywords:["woman","family","home","parent","people","human","child"],skins:[{unified:"1f469-200d-1f466",native:"\u{1F469}\u200D\u{1F466}"}],version:4},"woman-boy-boy":{id:"woman-boy-boy",name:"Family: Woman, Boy, Boy",keywords:["woman","boy-boy","family","home","parent","people","human","children"],skins:[{unified:"1f469-200d-1f466-200d-1f466",native:"\u{1F469}\u200D\u{1F466}\u200D\u{1F466}"}],version:4},"woman-girl":{id:"woman-girl",name:"Family: Woman, Girl",keywords:["woman","family","home","parent","people","human","child"],skins:[{unified:"1f469-200d-1f467",native:"\u{1F469}\u200D\u{1F467}"}],version:4},"woman-girl-boy":{id:"woman-girl-boy",name:"Family: Woman, Girl, Boy",keywords:["woman","girl-boy","family","girl","home","parent","people","human","children"],skins:[{unified:"1f469-200d-1f467-200d-1f466",native:"\u{1F469}\u200D\u{1F467}\u200D\u{1F466}"}],version:4},"woman-girl-girl":{id:"woman-girl-girl",name:"Family: Woman, Girl, Girl",keywords:["woman","girl-girl","family","home","parent","people","human","children"],skins:[{unified:"1f469-200d-1f467-200d-1f467",native:"\u{1F469}\u200D\u{1F467}\u200D\u{1F467}"}],version:4},speaking_head_in_silhouette:{id:"speaking_head_in_silhouette",name:"Speaking Head",keywords:["in","silhouette","user","person","human","sing","say","talk"],skins:[{unified:"1f5e3-fe0f",native:"\u{1F5E3}\uFE0F"}],version:1},bust_in_silhouette:{id:"bust_in_silhouette",name:"Bust in Silhouette",keywords:["user","person","human"],skins:[{unified:"1f464",native:"\u{1F464}"}],version:1},busts_in_silhouette:{id:"busts_in_silhouette",name:"Busts in Silhouette",keywords:["user","person","human","group","team"],skins:[{unified:"1f465",native:"\u{1F465}"}],version:1},people_hugging:{id:"people_hugging",name:"People Hugging",keywords:["care"],skins:[{unified:"1fac2",native:"\u{1FAC2}"}],version:13},footprints:{id:"footprints",name:"Footprints",keywords:["feet","tracking","walking","beach"],skins:[{unified:"1f463",native:"\u{1F463}"}],version:1},monkey_face:{id:"monkey_face",name:"Monkey Face",emoticons:[":o)"],keywords:["animal","nature","circus"],skins:[{unified:"1f435",native:"\u{1F435}"}],version:1},monkey:{id:"monkey",name:"Monkey",keywords:["animal","nature","banana","circus"],skins:[{unified:"1f412",native:"\u{1F412}"}],version:1},gorilla:{id:"gorilla",name:"Gorilla",keywords:["animal","nature","circus"],skins:[{unified:"1f98d",native:"\u{1F98D}"}],version:3},orangutan:{id:"orangutan",name:"Orangutan",keywords:["animal"],skins:[{unified:"1f9a7",native:"\u{1F9A7}"}],version:12},dog:{id:"dog",name:"Dog Face",keywords:["animal","friend","nature","woof","puppy","pet","faithful"],skins:[{unified:"1f436",native:"\u{1F436}"}],version:1},dog2:{id:"dog2",name:"Dog",keywords:["dog2","animal","nature","friend","doge","pet","faithful"],skins:[{unified:"1f415",native:"\u{1F415}"}],version:1},guide_dog:{id:"guide_dog",name:"Guide Dog",keywords:["animal","blind"],skins:[{unified:"1f9ae",native:"\u{1F9AE}"}],version:12},service_dog:{id:"service_dog",name:"Service Dog",keywords:["blind","animal"],skins:[{unified:"1f415-200d-1f9ba",native:"\u{1F415}\u200D\u{1F9BA}"}],version:12},poodle:{id:"poodle",name:"Poodle",keywords:["dog","animal","101","nature","pet"],skins:[{unified:"1f429",native:"\u{1F429}"}],version:1},wolf:{id:"wolf",name:"Wolf",keywords:["animal","nature","wild"],skins:[{unified:"1f43a",native:"\u{1F43A}"}],version:1},fox_face:{id:"fox_face",name:"Fox",keywords:["face","animal","nature"],skins:[{unified:"1f98a",native:"\u{1F98A}"}],version:3},raccoon:{id:"raccoon",name:"Raccoon",keywords:["animal","nature"],skins:[{unified:"1f99d",native:"\u{1F99D}"}],version:11},cat:{id:"cat",name:"Cat Face",keywords:["animal","meow","nature","pet","kitten"],skins:[{unified:"1f431",native:"\u{1F431}"}],version:1},cat2:{id:"cat2",name:"Cat",keywords:["cat2","animal","meow","pet","cats"],skins:[{unified:"1f408",native:"\u{1F408}"}],version:1},black_cat:{id:"black_cat",name:"Black Cat",keywords:["superstition","luck"],skins:[{unified:"1f408-200d-2b1b",native:"\u{1F408}\u200D\u2B1B"}],version:13},lion_face:{id:"lion_face",name:"Lion",keywords:["face","animal","nature"],skins:[{unified:"1f981",native:"\u{1F981}"}],version:1},tiger:{id:"tiger",name:"Tiger Face",keywords:["animal","cat","danger","wild","nature","roar"],skins:[{unified:"1f42f",native:"\u{1F42F}"}],version:1},tiger2:{id:"tiger2",name:"Tiger",keywords:["tiger2","animal","nature","roar"],skins:[{unified:"1f405",native:"\u{1F405}"}],version:1},leopard:{id:"leopard",name:"Leopard",keywords:["animal","nature"],skins:[{unified:"1f406",native:"\u{1F406}"}],version:1},horse:{id:"horse",name:"Horse Face",keywords:["animal","brown","nature"],skins:[{unified:"1f434",native:"\u{1F434}"}],version:1},racehorse:{id:"racehorse",name:"Horse",keywords:["racehorse","animal","gamble","luck"],skins:[{unified:"1f40e",native:"\u{1F40E}"}],version:1},unicorn_face:{id:"unicorn_face",name:"Unicorn",keywords:["face","animal","nature","mystical"],skins:[{unified:"1f984",native:"\u{1F984}"}],version:1},zebra_face:{id:"zebra_face",name:"Zebra",keywords:["face","animal","nature","stripes","safari"],skins:[{unified:"1f993",native:"\u{1F993}"}],version:5},deer:{id:"deer",name:"Deer",keywords:["animal","nature","horns","venison"],skins:[{unified:"1f98c",native:"\u{1F98C}"}],version:3},bison:{id:"bison",name:"Bison",keywords:["ox"],skins:[{unified:"1f9ac",native:"\u{1F9AC}"}],version:13},cow:{id:"cow",name:"Cow Face",keywords:["beef","ox","animal","nature","moo","milk"],skins:[{unified:"1f42e",native:"\u{1F42E}"}],version:1},ox:{id:"ox",name:"Ox",keywords:["animal","cow","beef"],skins:[{unified:"1f402",native:"\u{1F402}"}],version:1},water_buffalo:{id:"water_buffalo",name:"Water Buffalo",keywords:["animal","nature","ox","cow"],skins:[{unified:"1f403",native:"\u{1F403}"}],version:1},cow2:{id:"cow2",name:"Cow",keywords:["cow2","beef","ox","animal","nature","moo","milk"],skins:[{unified:"1f404",native:"\u{1F404}"}],version:1},pig:{id:"pig",name:"Pig Face",keywords:["animal","oink","nature"],skins:[{unified:"1f437",native:"\u{1F437}"}],version:1},pig2:{id:"pig2",name:"Pig",keywords:["pig2","animal","nature"],skins:[{unified:"1f416",native:"\u{1F416}"}],version:1},boar:{id:"boar",name:"Boar",keywords:["animal","nature"],skins:[{unified:"1f417",native:"\u{1F417}"}],version:1},pig_nose:{id:"pig_nose",name:"Pig Nose",keywords:["animal","oink"],skins:[{unified:"1f43d",native:"\u{1F43D}"}],version:1},ram:{id:"ram",name:"Ram",keywords:["animal","sheep","nature"],skins:[{unified:"1f40f",native:"\u{1F40F}"}],version:1},sheep:{id:"sheep",name:"Ewe",keywords:["sheep","animal","nature","wool","shipit"],skins:[{unified:"1f411",native:"\u{1F411}"}],version:1},goat:{id:"goat",name:"Goat",keywords:["animal","nature"],skins:[{unified:"1f410",native:"\u{1F410}"}],version:1},dromedary_camel:{id:"dromedary_camel",name:"Camel",keywords:["dromedary","animal","hot","desert","hump"],skins:[{unified:"1f42a",native:"\u{1F42A}"}],version:1},camel:{id:"camel",name:"Bactrian Camel",keywords:["two","hump","animal","nature","hot","desert"],skins:[{unified:"1f42b",native:"\u{1F42B}"}],version:1},llama:{id:"llama",name:"Llama",keywords:["animal","nature","alpaca"],skins:[{unified:"1f999",native:"\u{1F999}"}],version:11},giraffe_face:{id:"giraffe_face",name:"Giraffe",keywords:["face","animal","nature","spots","safari"],skins:[{unified:"1f992",native:"\u{1F992}"}],version:5},elephant:{id:"elephant",name:"Elephant",keywords:["animal","nature","nose","th","circus"],skins:[{unified:"1f418",native:"\u{1F418}"}],version:1},mammoth:{id:"mammoth",name:"Mammoth",keywords:["elephant","tusks"],skins:[{unified:"1f9a3",native:"\u{1F9A3}"}],version:13},rhinoceros:{id:"rhinoceros",name:"Rhinoceros",keywords:["animal","nature","horn"],skins:[{unified:"1f98f",native:"\u{1F98F}"}],version:3},hippopotamus:{id:"hippopotamus",name:"Hippopotamus",keywords:["animal","nature"],skins:[{unified:"1f99b",native:"\u{1F99B}"}],version:11},mouse:{id:"mouse",name:"Mouse Face",keywords:["animal","nature","cheese","wedge","rodent"],skins:[{unified:"1f42d",native:"\u{1F42D}"}],version:1},mouse2:{id:"mouse2",name:"Mouse",keywords:["mouse2","animal","nature","rodent"],skins:[{unified:"1f401",native:"\u{1F401}"}],version:1},rat:{id:"rat",name:"Rat",keywords:["animal","mouse","rodent"],skins:[{unified:"1f400",native:"\u{1F400}"}],version:1},hamster:{id:"hamster",name:"Hamster",keywords:["animal","nature"],skins:[{unified:"1f439",native:"\u{1F439}"}],version:1},rabbit:{id:"rabbit",name:"Rabbit Face",keywords:["animal","nature","pet","spring","magic","bunny"],skins:[{unified:"1f430",native:"\u{1F430}"}],version:1},rabbit2:{id:"rabbit2",name:"Rabbit",keywords:["rabbit2","animal","nature","pet","magic","spring"],skins:[{unified:"1f407",native:"\u{1F407}"}],version:1},chipmunk:{id:"chipmunk",name:"Chipmunk",keywords:["animal","nature","rodent","squirrel"],skins:[{unified:"1f43f-fe0f",native:"\u{1F43F}\uFE0F"}],version:1},beaver:{id:"beaver",name:"Beaver",keywords:["animal","rodent"],skins:[{unified:"1f9ab",native:"\u{1F9AB}"}],version:13},hedgehog:{id:"hedgehog",name:"Hedgehog",keywords:["animal","nature","spiny"],skins:[{unified:"1f994",native:"\u{1F994}"}],version:5},bat:{id:"bat",name:"Bat",keywords:["animal","nature","blind","vampire"],skins:[{unified:"1f987",native:"\u{1F987}"}],version:3},bear:{id:"bear",name:"Bear",keywords:["animal","nature","wild"],skins:[{unified:"1f43b",native:"\u{1F43B}"}],version:1},polar_bear:{id:"polar_bear",name:"Polar Bear",keywords:["animal","arctic"],skins:[{unified:"1f43b-200d-2744-fe0f",native:"\u{1F43B}\u200D\u2744\uFE0F"}],version:13},koala:{id:"koala",name:"Koala",keywords:["animal","nature"],skins:[{unified:"1f428",native:"\u{1F428}"}],version:1},panda_face:{id:"panda_face",name:"Panda",keywords:["face","animal","nature"],skins:[{unified:"1f43c",native:"\u{1F43C}"}],version:1},sloth:{id:"sloth",name:"Sloth",keywords:["animal"],skins:[{unified:"1f9a5",native:"\u{1F9A5}"}],version:12},otter:{id:"otter",name:"Otter",keywords:["animal"],skins:[{unified:"1f9a6",native:"\u{1F9A6}"}],version:12},skunk:{id:"skunk",name:"Skunk",keywords:["animal"],skins:[{unified:"1f9a8",native:"\u{1F9A8}"}],version:12},kangaroo:{id:"kangaroo",name:"Kangaroo",keywords:["animal","nature","australia","joey","hop","marsupial"],skins:[{unified:"1f998",native:"\u{1F998}"}],version:11},badger:{id:"badger",name:"Badger",keywords:["animal","nature","honey"],skins:[{unified:"1f9a1",native:"\u{1F9A1}"}],version:11},feet:{id:"feet",name:"Paw Prints",keywords:["feet","animal","tracking","footprints","dog","cat","pet"],skins:[{unified:"1f43e",native:"\u{1F43E}"}],version:1},turkey:{id:"turkey",name:"Turkey",keywords:["animal","bird"],skins:[{unified:"1f983",native:"\u{1F983}"}],version:1},chicken:{id:"chicken",name:"Chicken",keywords:["animal","cluck","nature","bird"],skins:[{unified:"1f414",native:"\u{1F414}"}],version:1},rooster:{id:"rooster",name:"Rooster",keywords:["animal","nature","chicken"],skins:[{unified:"1f413",native:"\u{1F413}"}],version:1},hatching_chick:{id:"hatching_chick",name:"Hatching Chick",keywords:["animal","chicken","egg","born","baby","bird"],skins:[{unified:"1f423",native:"\u{1F423}"}],version:1},baby_chick:{id:"baby_chick",name:"Baby Chick",keywords:["animal","chicken","bird"],skins:[{unified:"1f424",native:"\u{1F424}"}],version:1},hatched_chick:{id:"hatched_chick",name:"Front-Facing Baby Chick",keywords:["hatched","front","facing","animal","chicken","bird"],skins:[{unified:"1f425",native:"\u{1F425}"}],version:1},bird:{id:"bird",name:"Bird",keywords:["animal","nature","fly","tweet","spring"],skins:[{unified:"1f426",native:"\u{1F426}"}],version:1},penguin:{id:"penguin",name:"Penguin",keywords:["animal","nature"],skins:[{unified:"1f427",native:"\u{1F427}"}],version:1},dove_of_peace:{id:"dove_of_peace",name:"Dove",keywords:["of","peace","animal","bird"],skins:[{unified:"1f54a-fe0f",native:"\u{1F54A}\uFE0F"}],version:1},eagle:{id:"eagle",name:"Eagle",keywords:["animal","nature","bird"],skins:[{unified:"1f985",native:"\u{1F985}"}],version:3},duck:{id:"duck",name:"Duck",keywords:["animal","nature","bird","mallard"],skins:[{unified:"1f986",native:"\u{1F986}"}],version:3},swan:{id:"swan",name:"Swan",keywords:["animal","nature","bird"],skins:[{unified:"1f9a2",native:"\u{1F9A2}"}],version:11},owl:{id:"owl",name:"Owl",keywords:["animal","nature","bird","hoot"],skins:[{unified:"1f989",native:"\u{1F989}"}],version:3},dodo:{id:"dodo",name:"Dodo",keywords:["animal","bird"],skins:[{unified:"1f9a4",native:"\u{1F9A4}"}],version:13},feather:{id:"feather",name:"Feather",keywords:["bird","fly"],skins:[{unified:"1fab6",native:"\u{1FAB6}"}],version:13},flamingo:{id:"flamingo",name:"Flamingo",keywords:["animal"],skins:[{unified:"1f9a9",native:"\u{1F9A9}"}],version:12},peacock:{id:"peacock",name:"Peacock",keywords:["animal","nature","peahen","bird"],skins:[{unified:"1f99a",native:"\u{1F99A}"}],version:11},parrot:{id:"parrot",name:"Parrot",keywords:["animal","nature","bird","pirate","talk"],skins:[{unified:"1f99c",native:"\u{1F99C}"}],version:11},frog:{id:"frog",name:"Frog",keywords:["animal","nature","croak","toad"],skins:[{unified:"1f438",native:"\u{1F438}"}],version:1},crocodile:{id:"crocodile",name:"Crocodile",keywords:["animal","nature","reptile","lizard","alligator"],skins:[{unified:"1f40a",native:"\u{1F40A}"}],version:1},turtle:{id:"turtle",name:"Turtle",keywords:["animal","slow","nature","tortoise"],skins:[{unified:"1f422",native:"\u{1F422}"}],version:1},lizard:{id:"lizard",name:"Lizard",keywords:["animal","nature","reptile"],skins:[{unified:"1f98e",native:"\u{1F98E}"}],version:3},snake:{id:"snake",name:"Snake",keywords:["animal","evil","nature","hiss","python"],skins:[{unified:"1f40d",native:"\u{1F40D}"}],version:1},dragon_face:{id:"dragon_face",name:"Dragon Face",keywords:["animal","myth","nature","chinese","green"],skins:[{unified:"1f432",native:"\u{1F432}"}],version:1},dragon:{id:"dragon",name:"Dragon",keywords:["animal","myth","nature","chinese","green"],skins:[{unified:"1f409",native:"\u{1F409}"}],version:1},sauropod:{id:"sauropod",name:"Sauropod",keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],skins:[{unified:"1f995",native:"\u{1F995}"}],version:5},"t-rex":{id:"t-rex",name:"T-Rex",keywords:["t","rex","animal","nature","dinosaur","tyrannosaurus","extinct"],skins:[{unified:"1f996",native:"\u{1F996}"}],version:5},whale:{id:"whale",name:"Spouting Whale",keywords:["animal","nature","sea","ocean"],skins:[{unified:"1f433",native:"\u{1F433}"}],version:1},whale2:{id:"whale2",name:"Whale",keywords:["whale2","animal","nature","sea","ocean"],skins:[{unified:"1f40b",native:"\u{1F40B}"}],version:1},dolphin:{id:"dolphin",name:"Dolphin",keywords:["flipper","animal","nature","fish","sea","ocean","fins","beach"],skins:[{unified:"1f42c",native:"\u{1F42C}"}],version:1},seal:{id:"seal",name:"Seal",keywords:["animal","creature","sea"],skins:[{unified:"1f9ad",native:"\u{1F9AD}"}],version:13},fish:{id:"fish",name:"Fish",keywords:["animal","food","nature"],skins:[{unified:"1f41f",native:"\u{1F41F}"}],version:1},tropical_fish:{id:"tropical_fish",name:"Tropical Fish",keywords:["animal","swim","ocean","beach","nemo"],skins:[{unified:"1f420",native:"\u{1F420}"}],version:1},blowfish:{id:"blowfish",name:"Blowfish",keywords:["animal","nature","food","sea","ocean"],skins:[{unified:"1f421",native:"\u{1F421}"}],version:1},shark:{id:"shark",name:"Shark",keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],skins:[{unified:"1f988",native:"\u{1F988}"}],version:3},octopus:{id:"octopus",name:"Octopus",keywords:["animal","creature","ocean","sea","nature","beach"],skins:[{unified:"1f419",native:"\u{1F419}"}],version:1},shell:{id:"shell",name:"Spiral Shell",keywords:["nature","sea","beach"],skins:[{unified:"1f41a",native:"\u{1F41A}"}],version:1},coral:{id:"coral",name:"Coral",keywords:["ocean","sea","reef"],skins:[{unified:"1fab8",native:"\u{1FAB8}"}],version:14},snail:{id:"snail",name:"Snail",keywords:["slow","animal","shell"],skins:[{unified:"1f40c",native:"\u{1F40C}"}],version:1},butterfly:{id:"butterfly",name:"Butterfly",keywords:["animal","insect","nature","caterpillar"],skins:[{unified:"1f98b",native:"\u{1F98B}"}],version:3},bug:{id:"bug",name:"Bug",keywords:["animal","insect","nature","worm"],skins:[{unified:"1f41b",native:"\u{1F41B}"}],version:1},ant:{id:"ant",name:"Ant",keywords:["animal","insect","nature","bug"],skins:[{unified:"1f41c",native:"\u{1F41C}"}],version:1},bee:{id:"bee",name:"Honeybee",keywords:["bee","animal","insect","nature","bug","spring","honey"],skins:[{unified:"1f41d",native:"\u{1F41D}"}],version:1},beetle:{id:"beetle",name:"Beetle",keywords:["insect"],skins:[{unified:"1fab2",native:"\u{1FAB2}"}],version:13},ladybug:{id:"ladybug",name:"Lady Beetle",keywords:["ladybug","animal","insect","nature"],skins:[{unified:"1f41e",native:"\u{1F41E}"}],version:1},cricket:{id:"cricket",name:"Cricket",keywords:["animal","chirp"],skins:[{unified:"1f997",native:"\u{1F997}"}],version:5},cockroach:{id:"cockroach",name:"Cockroach",keywords:["insect","pests"],skins:[{unified:"1fab3",native:"\u{1FAB3}"}],version:13},spider:{id:"spider",name:"Spider",keywords:["animal","arachnid"],skins:[{unified:"1f577-fe0f",native:"\u{1F577}\uFE0F"}],version:1},spider_web:{id:"spider_web",name:"Spider Web",keywords:["animal","insect","arachnid","silk"],skins:[{unified:"1f578-fe0f",native:"\u{1F578}\uFE0F"}],version:1},scorpion:{id:"scorpion",name:"Scorpion",keywords:["animal","arachnid"],skins:[{unified:"1f982",native:"\u{1F982}"}],version:1},mosquito:{id:"mosquito",name:"Mosquito",keywords:["animal","nature","insect","malaria"],skins:[{unified:"1f99f",native:"\u{1F99F}"}],version:11},fly:{id:"fly",name:"Fly",keywords:["insect"],skins:[{unified:"1fab0",native:"\u{1FAB0}"}],version:13},worm:{id:"worm",name:"Worm",keywords:["animal"],skins:[{unified:"1fab1",native:"\u{1FAB1}"}],version:13},microbe:{id:"microbe",name:"Microbe",keywords:["amoeba","bacteria","germs","virus"],skins:[{unified:"1f9a0",native:"\u{1F9A0}"}],version:11},bouquet:{id:"bouquet",name:"Bouquet",keywords:["flowers","nature","spring"],skins:[{unified:"1f490",native:"\u{1F490}"}],version:1},cherry_blossom:{id:"cherry_blossom",name:"Cherry Blossom",keywords:["nature","plant","spring","flower"],skins:[{unified:"1f338",native:"\u{1F338}"}],version:1},white_flower:{id:"white_flower",name:"White Flower",keywords:["japanese","spring"],skins:[{unified:"1f4ae",native:"\u{1F4AE}"}],version:1},lotus:{id:"lotus",name:"Lotus",keywords:["flower","calm","meditation"],skins:[{unified:"1fab7",native:"\u{1FAB7}"}],version:14},rosette:{id:"rosette",name:"Rosette",keywords:["flower","decoration","military"],skins:[{unified:"1f3f5-fe0f",native:"\u{1F3F5}\uFE0F"}],version:1},rose:{id:"rose",name:"Rose",keywords:["flowers","valentines","love","spring"],skins:[{unified:"1f339",native:"\u{1F339}"}],version:1},wilted_flower:{id:"wilted_flower",name:"Wilted Flower",keywords:["plant","nature"],skins:[{unified:"1f940",native:"\u{1F940}"}],version:3},hibiscus:{id:"hibiscus",name:"Hibiscus",keywords:["plant","vegetable","flowers","beach"],skins:[{unified:"1f33a",native:"\u{1F33A}"}],version:1},sunflower:{id:"sunflower",name:"Sunflower",keywords:["nature","plant","fall"],skins:[{unified:"1f33b",native:"\u{1F33B}"}],version:1},blossom:{id:"blossom",name:"Blossom",keywords:["nature","flowers","yellow"],skins:[{unified:"1f33c",native:"\u{1F33C}"}],version:1},tulip:{id:"tulip",name:"Tulip",keywords:["flowers","plant","nature","summer","spring"],skins:[{unified:"1f337",native:"\u{1F337}"}],version:1},seedling:{id:"seedling",name:"Seedling",keywords:["plant","nature","grass","lawn","spring"],skins:[{unified:"1f331",native:"\u{1F331}"}],version:1},potted_plant:{id:"potted_plant",name:"Potted Plant",keywords:["greenery","house"],skins:[{unified:"1fab4",native:"\u{1FAB4}"}],version:13},evergreen_tree:{id:"evergreen_tree",name:"Evergreen Tree",keywords:["plant","nature"],skins:[{unified:"1f332",native:"\u{1F332}"}],version:1},deciduous_tree:{id:"deciduous_tree",name:"Deciduous Tree",keywords:["plant","nature"],skins:[{unified:"1f333",native:"\u{1F333}"}],version:1},palm_tree:{id:"palm_tree",name:"Palm Tree",keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],skins:[{unified:"1f334",native:"\u{1F334}"}],version:1},cactus:{id:"cactus",name:"Cactus",keywords:["vegetable","plant","nature"],skins:[{unified:"1f335",native:"\u{1F335}"}],version:1},ear_of_rice:{id:"ear_of_rice",name:"Ear of Rice",keywords:["sheaf","nature","plant"],skins:[{unified:"1f33e",native:"\u{1F33E}"}],version:1},herb:{id:"herb",name:"Herb",keywords:["vegetable","plant","medicine","weed","grass","lawn"],skins:[{unified:"1f33f",native:"\u{1F33F}"}],version:1},shamrock:{id:"shamrock",name:"Shamrock",keywords:["vegetable","plant","nature","irish","clover"],skins:[{unified:"2618-fe0f",native:"\u2618\uFE0F"}],version:1},four_leaf_clover:{id:"four_leaf_clover",name:"Four Leaf Clover",keywords:["vegetable","plant","nature","lucky","irish"],skins:[{unified:"1f340",native:"\u{1F340}"}],version:1},maple_leaf:{id:"maple_leaf",name:"Maple Leaf",keywords:["nature","plant","vegetable","ca","fall"],skins:[{unified:"1f341",native:"\u{1F341}"}],version:1},fallen_leaf:{id:"fallen_leaf",name:"Fallen Leaf",keywords:["nature","plant","vegetable","leaves"],skins:[{unified:"1f342",native:"\u{1F342}"}],version:1},leaves:{id:"leaves",name:"Leaf Fluttering in Wind",keywords:["leaves","nature","plant","tree","vegetable","grass","lawn","spring"],skins:[{unified:"1f343",native:"\u{1F343}"}],version:1},empty_nest:{id:"empty_nest",name:"Empty Nest",keywords:["bird"],skins:[{unified:"1fab9",native:"\u{1FAB9}"}],version:14},nest_with_eggs:{id:"nest_with_eggs",name:"Nest with Eggs",keywords:["bird"],skins:[{unified:"1faba",native:"\u{1FABA}"}],version:14},grapes:{id:"grapes",name:"Grapes",keywords:["fruit","food","wine"],skins:[{unified:"1f347",native:"\u{1F347}"}],version:1},melon:{id:"melon",name:"Melon",keywords:["fruit","nature","food"],skins:[{unified:"1f348",native:"\u{1F348}"}],version:1},watermelon:{id:"watermelon",name:"Watermelon",keywords:["fruit","food","picnic","summer"],skins:[{unified:"1f349",native:"\u{1F349}"}],version:1},tangerine:{id:"tangerine",name:"Tangerine",keywords:["food","fruit","nature","orange"],skins:[{unified:"1f34a",native:"\u{1F34A}"}],version:1},lemon:{id:"lemon",name:"Lemon",keywords:["fruit","nature"],skins:[{unified:"1f34b",native:"\u{1F34B}"}],version:1},banana:{id:"banana",name:"Banana",keywords:["fruit","food","monkey"],skins:[{unified:"1f34c",native:"\u{1F34C}"}],version:1},pineapple:{id:"pineapple",name:"Pineapple",keywords:["fruit","nature","food"],skins:[{unified:"1f34d",native:"\u{1F34D}"}],version:1},mango:{id:"mango",name:"Mango",keywords:["fruit","food","tropical"],skins:[{unified:"1f96d",native:"\u{1F96D}"}],version:11},apple:{id:"apple",name:"Red Apple",keywords:["fruit","mac","school"],skins:[{unified:"1f34e",native:"\u{1F34E}"}],version:1},green_apple:{id:"green_apple",name:"Green Apple",keywords:["fruit","nature"],skins:[{unified:"1f34f",native:"\u{1F34F}"}],version:1},pear:{id:"pear",name:"Pear",keywords:["fruit","nature","food"],skins:[{unified:"1f350",native:"\u{1F350}"}],version:1},peach:{id:"peach",name:"Peach",keywords:["fruit","nature","food"],skins:[{unified:"1f351",native:"\u{1F351}"}],version:1},cherries:{id:"cherries",name:"Cherries",keywords:["food","fruit"],skins:[{unified:"1f352",native:"\u{1F352}"}],version:1},strawberry:{id:"strawberry",name:"Strawberry",keywords:["fruit","food","nature"],skins:[{unified:"1f353",native:"\u{1F353}"}],version:1},blueberries:{id:"blueberries",name:"Blueberries",keywords:["fruit"],skins:[{unified:"1fad0",native:"\u{1FAD0}"}],version:13},kiwifruit:{id:"kiwifruit",name:"Kiwifruit",keywords:["kiwi","fruit","food"],skins:[{unified:"1f95d",native:"\u{1F95D}"}],version:3},tomato:{id:"tomato",name:"Tomato",keywords:["fruit","vegetable","nature","food"],skins:[{unified:"1f345",native:"\u{1F345}"}],version:1},olive:{id:"olive",name:"Olive",keywords:["fruit"],skins:[{unified:"1fad2",native:"\u{1FAD2}"}],version:13},coconut:{id:"coconut",name:"Coconut",keywords:["fruit","nature","food","palm"],skins:[{unified:"1f965",native:"\u{1F965}"}],version:5},avocado:{id:"avocado",name:"Avocado",keywords:["fruit","food"],skins:[{unified:"1f951",native:"\u{1F951}"}],version:3},eggplant:{id:"eggplant",name:"Eggplant",keywords:["vegetable","nature","food","aubergine"],skins:[{unified:"1f346",native:"\u{1F346}"}],version:1},potato:{id:"potato",name:"Potato",keywords:["food","tuber","vegatable","starch"],skins:[{unified:"1f954",native:"\u{1F954}"}],version:3},carrot:{id:"carrot",name:"Carrot",keywords:["vegetable","food","orange"],skins:[{unified:"1f955",native:"\u{1F955}"}],version:3},corn:{id:"corn",name:"Ear of Corn",keywords:["food","vegetable","plant"],skins:[{unified:"1f33d",native:"\u{1F33D}"}],version:1},hot_pepper:{id:"hot_pepper",name:"Hot Pepper",keywords:["food","spicy","chilli","chili"],skins:[{unified:"1f336-fe0f",native:"\u{1F336}\uFE0F"}],version:1},bell_pepper:{id:"bell_pepper",name:"Bell Pepper",keywords:["fruit","plant"],skins:[{unified:"1fad1",native:"\u{1FAD1}"}],version:13},cucumber:{id:"cucumber",name:"Cucumber",keywords:["fruit","food","pickle"],skins:[{unified:"1f952",native:"\u{1F952}"}],version:3},leafy_green:{id:"leafy_green",name:"Leafy Green",keywords:["food","vegetable","plant","bok","choy","cabbage","kale","lettuce"],skins:[{unified:"1f96c",native:"\u{1F96C}"}],version:11},broccoli:{id:"broccoli",name:"Broccoli",keywords:["fruit","food","vegetable"],skins:[{unified:"1f966",native:"\u{1F966}"}],version:5},garlic:{id:"garlic",name:"Garlic",keywords:["food","spice","cook"],skins:[{unified:"1f9c4",native:"\u{1F9C4}"}],version:12},onion:{id:"onion",name:"Onion",keywords:["cook","food","spice"],skins:[{unified:"1f9c5",native:"\u{1F9C5}"}],version:12},mushroom:{id:"mushroom",name:"Mushroom",keywords:["plant","vegetable"],skins:[{unified:"1f344",native:"\u{1F344}"}],version:1},peanuts:{id:"peanuts",name:"Peanuts",keywords:["food","nut"],skins:[{unified:"1f95c",native:"\u{1F95C}"}],version:3},beans:{id:"beans",name:"Beans",keywords:["food"],skins:[{unified:"1fad8",native:"\u{1FAD8}"}],version:14},chestnut:{id:"chestnut",name:"Chestnut",keywords:["food","squirrel"],skins:[{unified:"1f330",native:"\u{1F330}"}],version:1},bread:{id:"bread",name:"Bread",keywords:["food","wheat","breakfast","toast"],skins:[{unified:"1f35e",native:"\u{1F35E}"}],version:1},croissant:{id:"croissant",name:"Croissant",keywords:["food","bread","french"],skins:[{unified:"1f950",native:"\u{1F950}"}],version:3},baguette_bread:{id:"baguette_bread",name:"Baguette Bread",keywords:["food","french"],skins:[{unified:"1f956",native:"\u{1F956}"}],version:3},flatbread:{id:"flatbread",name:"Flatbread",keywords:["flour","food"],skins:[{unified:"1fad3",native:"\u{1FAD3}"}],version:13},pretzel:{id:"pretzel",name:"Pretzel",keywords:["food","bread","twisted"],skins:[{unified:"1f968",native:"\u{1F968}"}],version:5},bagel:{id:"bagel",name:"Bagel",keywords:["food","bread","bakery","schmear"],skins:[{unified:"1f96f",native:"\u{1F96F}"}],version:11},pancakes:{id:"pancakes",name:"Pancakes",keywords:["food","breakfast","flapjacks","hotcakes"],skins:[{unified:"1f95e",native:"\u{1F95E}"}],version:3},waffle:{id:"waffle",name:"Waffle",keywords:["food","breakfast"],skins:[{unified:"1f9c7",native:"\u{1F9C7}"}],version:12},cheese_wedge:{id:"cheese_wedge",name:"Cheese Wedge",keywords:["food","chadder"],skins:[{unified:"1f9c0",native:"\u{1F9C0}"}],version:1},meat_on_bone:{id:"meat_on_bone",name:"Meat on Bone",keywords:["good","food","drumstick"],skins:[{unified:"1f356",native:"\u{1F356}"}],version:1},poultry_leg:{id:"poultry_leg",name:"Poultry Leg",keywords:["food","meat","drumstick","bird","chicken","turkey"],skins:[{unified:"1f357",native:"\u{1F357}"}],version:1},cut_of_meat:{id:"cut_of_meat",name:"Cut of Meat",keywords:["food","cow","chop","lambchop","porkchop"],skins:[{unified:"1f969",native:"\u{1F969}"}],version:5},bacon:{id:"bacon",name:"Bacon",keywords:["food","breakfast","pork","pig","meat"],skins:[{unified:"1f953",native:"\u{1F953}"}],version:3},hamburger:{id:"hamburger",name:"Hamburger",keywords:["meat","fast","food","beef","cheeseburger","mcdonalds","burger","king"],skins:[{unified:"1f354",native:"\u{1F354}"}],version:1},fries:{id:"fries",name:"French Fries",keywords:["chips","snack","fast","food"],skins:[{unified:"1f35f",native:"\u{1F35F}"}],version:1},pizza:{id:"pizza",name:"Pizza",keywords:["food","party"],skins:[{unified:"1f355",native:"\u{1F355}"}],version:1},hotdog:{id:"hotdog",name:"Hot Dog",keywords:["hotdog","food","frankfurter"],skins:[{unified:"1f32d",native:"\u{1F32D}"}],version:1},sandwich:{id:"sandwich",name:"Sandwich",keywords:["food","lunch","bread"],skins:[{unified:"1f96a",native:"\u{1F96A}"}],version:5},taco:{id:"taco",name:"Taco",keywords:["food","mexican"],skins:[{unified:"1f32e",native:"\u{1F32E}"}],version:1},burrito:{id:"burrito",name:"Burrito",keywords:["food","mexican"],skins:[{unified:"1f32f",native:"\u{1F32F}"}],version:1},tamale:{id:"tamale",name:"Tamale",keywords:["food","masa"],skins:[{unified:"1fad4",native:"\u{1FAD4}"}],version:13},stuffed_flatbread:{id:"stuffed_flatbread",name:"Stuffed Flatbread",keywords:["food","gyro"],skins:[{unified:"1f959",native:"\u{1F959}"}],version:3},falafel:{id:"falafel",name:"Falafel",keywords:["food"],skins:[{unified:"1f9c6",native:"\u{1F9C6}"}],version:12},egg:{id:"egg",name:"Egg",keywords:["food","chicken","breakfast"],skins:[{unified:"1f95a",native:"\u{1F95A}"}],version:3},fried_egg:{id:"fried_egg",name:"Cooking",keywords:["fried","egg","food","breakfast","kitchen"],skins:[{unified:"1f373",native:"\u{1F373}"}],version:1},shallow_pan_of_food:{id:"shallow_pan_of_food",name:"Shallow Pan of Food",keywords:["cooking","casserole","paella"],skins:[{unified:"1f958",native:"\u{1F958}"}],version:3},stew:{id:"stew",name:"Pot of Food",keywords:["stew","meat","soup"],skins:[{unified:"1f372",native:"\u{1F372}"}],version:1},fondue:{id:"fondue",name:"Fondue",keywords:["cheese","pot","food"],skins:[{unified:"1fad5",native:"\u{1FAD5}"}],version:13},bowl_with_spoon:{id:"bowl_with_spoon",name:"Bowl with Spoon",keywords:["food","breakfast","cereal","oatmeal","porridge"],skins:[{unified:"1f963",native:"\u{1F963}"}],version:5},green_salad:{id:"green_salad",name:"Green Salad",keywords:["food","healthy","lettuce"],skins:[{unified:"1f957",native:"\u{1F957}"}],version:3},popcorn:{id:"popcorn",name:"Popcorn",keywords:["food","movie","theater","films","snack"],skins:[{unified:"1f37f",native:"\u{1F37F}"}],version:1},butter:{id:"butter",name:"Butter",keywords:["food","cook"],skins:[{unified:"1f9c8",native:"\u{1F9C8}"}],version:12},salt:{id:"salt",name:"Salt",keywords:["condiment","shaker"],skins:[{unified:"1f9c2",native:"\u{1F9C2}"}],version:11},canned_food:{id:"canned_food",name:"Canned Food",keywords:["soup"],skins:[{unified:"1f96b",native:"\u{1F96B}"}],version:5},bento:{id:"bento",name:"Bento Box",keywords:["food","japanese"],skins:[{unified:"1f371",native:"\u{1F371}"}],version:1},rice_cracker:{id:"rice_cracker",name:"Rice Cracker",keywords:["food","japanese"],skins:[{unified:"1f358",native:"\u{1F358}"}],version:1},rice_ball:{id:"rice_ball",name:"Rice Ball",keywords:["food","japanese"],skins:[{unified:"1f359",native:"\u{1F359}"}],version:1},rice:{id:"rice",name:"Cooked Rice",keywords:["food","china","asian"],skins:[{unified:"1f35a",native:"\u{1F35A}"}],version:1},curry:{id:"curry",name:"Curry Rice",keywords:["food","spicy","hot","indian"],skins:[{unified:"1f35b",native:"\u{1F35B}"}],version:1},ramen:{id:"ramen",name:"Steaming Bowl",keywords:["ramen","food","japanese","noodle","chopsticks"],skins:[{unified:"1f35c",native:"\u{1F35C}"}],version:1},spaghetti:{id:"spaghetti",name:"Spaghetti",keywords:["food","italian","noodle"],skins:[{unified:"1f35d",native:"\u{1F35D}"}],version:1},sweet_potato:{id:"sweet_potato",name:"Roasted Sweet Potato",keywords:["food","nature"],skins:[{unified:"1f360",native:"\u{1F360}"}],version:1},oden:{id:"oden",name:"Oden",keywords:["food","japanese"],skins:[{unified:"1f362",native:"\u{1F362}"}],version:1},sushi:{id:"sushi",name:"Sushi",keywords:["food","fish","japanese","rice"],skins:[{unified:"1f363",native:"\u{1F363}"}],version:1},fried_shrimp:{id:"fried_shrimp",name:"Fried Shrimp",keywords:["food","animal","appetizer","summer"],skins:[{unified:"1f364",native:"\u{1F364}"}],version:1},fish_cake:{id:"fish_cake",name:"Fish Cake with Swirl",keywords:["food","japan","sea","beach","narutomaki","pink","kamaboko","surimi","ramen"],skins:[{unified:"1f365",native:"\u{1F365}"}],version:1},moon_cake:{id:"moon_cake",name:"Moon Cake",keywords:["food","autumn"],skins:[{unified:"1f96e",native:"\u{1F96E}"}],version:11},dango:{id:"dango",name:"Dango",keywords:["food","dessert","sweet","japanese","barbecue","meat"],skins:[{unified:"1f361",native:"\u{1F361}"}],version:1},dumpling:{id:"dumpling",name:"Dumpling",keywords:["food","empanada","pierogi","potsticker"],skins:[{unified:"1f95f",native:"\u{1F95F}"}],version:5},fortune_cookie:{id:"fortune_cookie",name:"Fortune Cookie",keywords:["food","prophecy"],skins:[{unified:"1f960",native:"\u{1F960}"}],version:5},takeout_box:{id:"takeout_box",name:"Takeout Box",keywords:["food","leftovers"],skins:[{unified:"1f961",native:"\u{1F961}"}],version:5},crab:{id:"crab",name:"Crab",keywords:["animal","crustacean"],skins:[{unified:"1f980",native:"\u{1F980}"}],version:1},lobster:{id:"lobster",name:"Lobster",keywords:["animal","nature","bisque","claws","seafood"],skins:[{unified:"1f99e",native:"\u{1F99E}"}],version:11},shrimp:{id:"shrimp",name:"Shrimp",keywords:["animal","ocean","nature","seafood"],skins:[{unified:"1f990",native:"\u{1F990}"}],version:3},squid:{id:"squid",name:"Squid",keywords:["animal","nature","ocean","sea"],skins:[{unified:"1f991",native:"\u{1F991}"}],version:3},oyster:{id:"oyster",name:"Oyster",keywords:["food"],skins:[{unified:"1f9aa",native:"\u{1F9AA}"}],version:12},icecream:{id:"icecream",name:"Soft Ice Cream",keywords:["icecream","food","hot","dessert","summer"],skins:[{unified:"1f366",native:"\u{1F366}"}],version:1},shaved_ice:{id:"shaved_ice",name:"Shaved Ice",keywords:["hot","dessert","summer"],skins:[{unified:"1f367",native:"\u{1F367}"}],version:1},ice_cream:{id:"ice_cream",name:"Ice Cream",keywords:["food","hot","dessert"],skins:[{unified:"1f368",native:"\u{1F368}"}],version:1},doughnut:{id:"doughnut",name:"Doughnut",keywords:["food","dessert","snack","sweet","donut"],skins:[{unified:"1f369",native:"\u{1F369}"}],version:1},cookie:{id:"cookie",name:"Cookie",keywords:["food","snack","oreo","chocolate","sweet","dessert"],skins:[{unified:"1f36a",native:"\u{1F36A}"}],version:1},birthday:{id:"birthday",name:"Birthday Cake",keywords:["food","dessert"],skins:[{unified:"1f382",native:"\u{1F382}"}],version:1},cake:{id:"cake",name:"Shortcake",keywords:["cake","food","dessert"],skins:[{unified:"1f370",native:"\u{1F370}"}],version:1},cupcake:{id:"cupcake",name:"Cupcake",keywords:["food","dessert","bakery","sweet"],skins:[{unified:"1f9c1",native:"\u{1F9C1}"}],version:11},pie:{id:"pie",name:"Pie",keywords:["food","dessert","pastry"],skins:[{unified:"1f967",native:"\u{1F967}"}],version:5},chocolate_bar:{id:"chocolate_bar",name:"Chocolate Bar",keywords:["food","snack","dessert","sweet"],skins:[{unified:"1f36b",native:"\u{1F36B}"}],version:1},candy:{id:"candy",name:"Candy",keywords:["snack","dessert","sweet","lolly"],skins:[{unified:"1f36c",native:"\u{1F36C}"}],version:1},lollipop:{id:"lollipop",name:"Lollipop",keywords:["food","snack","candy","sweet"],skins:[{unified:"1f36d",native:"\u{1F36D}"}],version:1},custard:{id:"custard",name:"Custard",keywords:["dessert","food"],skins:[{unified:"1f36e",native:"\u{1F36E}"}],version:1},honey_pot:{id:"honey_pot",name:"Honey Pot",keywords:["bees","sweet","kitchen"],skins:[{unified:"1f36f",native:"\u{1F36F}"}],version:1},baby_bottle:{id:"baby_bottle",name:"Baby Bottle",keywords:["food","container","milk"],skins:[{unified:"1f37c",native:"\u{1F37C}"}],version:1},glass_of_milk:{id:"glass_of_milk",name:"Glass of Milk",keywords:["beverage","drink","cow"],skins:[{unified:"1f95b",native:"\u{1F95B}"}],version:3},coffee:{id:"coffee",name:"Hot Beverage",keywords:["coffee","caffeine","latte","espresso"],skins:[{unified:"2615",native:"\u2615"}],version:1},teapot:{id:"teapot",name:"Teapot",keywords:["drink","hot"],skins:[{unified:"1fad6",native:"\u{1FAD6}"}],version:13},tea:{id:"tea",name:"Teacup Without Handle",keywords:["tea","drink","bowl","breakfast","green","british"],skins:[{unified:"1f375",native:"\u{1F375}"}],version:1},sake:{id:"sake",name:"Sake",keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],skins:[{unified:"1f376",native:"\u{1F376}"}],version:1},champagne:{id:"champagne",name:"Bottle with Popping Cork",keywords:["champagne","drink","wine","celebration"],skins:[{unified:"1f37e",native:"\u{1F37E}"}],version:1},wine_glass:{id:"wine_glass",name:"Wine Glass",keywords:["drink","beverage","drunk","alcohol","booze"],skins:[{unified:"1f377",native:"\u{1F377}"}],version:1},cocktail:{id:"cocktail",name:"Cocktail Glass",keywords:["drink","drunk","alcohol","beverage","booze","mojito"],skins:[{unified:"1f378",native:"\u{1F378}"}],version:1},tropical_drink:{id:"tropical_drink",name:"Tropical Drink",keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],skins:[{unified:"1f379",native:"\u{1F379}"}],version:1},beer:{id:"beer",name:"Beer Mug",keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],skins:[{unified:"1f37a",native:"\u{1F37A}"}],version:1},beers:{id:"beers",name:"Clinking Beer Mugs",keywords:["beers","relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],skins:[{unified:"1f37b",native:"\u{1F37B}"}],version:1},clinking_glasses:{id:"clinking_glasses",name:"Clinking Glasses",keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],skins:[{unified:"1f942",native:"\u{1F942}"}],version:3},tumbler_glass:{id:"tumbler_glass",name:"Tumbler Glass",keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","shot"],skins:[{unified:"1f943",native:"\u{1F943}"}],version:3},pouring_liquid:{id:"pouring_liquid",name:"Pouring Liquid",keywords:["cup","water"],skins:[{unified:"1fad7",native:"\u{1FAD7}"}],version:14},cup_with_straw:{id:"cup_with_straw",name:"Cup with Straw",keywords:["drink","soda"],skins:[{unified:"1f964",native:"\u{1F964}"}],version:5},bubble_tea:{id:"bubble_tea",name:"Bubble Tea",keywords:["taiwan","boba","milk","straw"],skins:[{unified:"1f9cb",native:"\u{1F9CB}"}],version:13},beverage_box:{id:"beverage_box",name:"Beverage Box",keywords:["drink"],skins:[{unified:"1f9c3",native:"\u{1F9C3}"}],version:12},mate_drink:{id:"mate_drink",name:"Mate",keywords:["drink","tea","beverage"],skins:[{unified:"1f9c9",native:"\u{1F9C9}"}],version:12},ice_cube:{id:"ice_cube",name:"Ice",keywords:["cube","water","cold"],skins:[{unified:"1f9ca",native:"\u{1F9CA}"}],version:12},chopsticks:{id:"chopsticks",name:"Chopsticks",keywords:["food"],skins:[{unified:"1f962",native:"\u{1F962}"}],version:5},knife_fork_plate:{id:"knife_fork_plate",name:"Fork and Knife with Plate",keywords:["food","eat","meal","lunch","dinner","restaurant"],skins:[{unified:"1f37d-fe0f",native:"\u{1F37D}\uFE0F"}],version:1},fork_and_knife:{id:"fork_and_knife",name:"Fork and Knife",keywords:["cutlery","kitchen"],skins:[{unified:"1f374",native:"\u{1F374}"}],version:1},spoon:{id:"spoon",name:"Spoon",keywords:["cutlery","kitchen","tableware"],skins:[{unified:"1f944",native:"\u{1F944}"}],version:3},hocho:{id:"hocho",name:"Hocho",keywords:["knife","kitchen","blade","cutlery","weapon"],skins:[{unified:"1f52a",native:"\u{1F52A}"}],version:1},jar:{id:"jar",name:"Jar",keywords:["container","sauce"],skins:[{unified:"1fad9",native:"\u{1FAD9}"}],version:14},amphora:{id:"amphora",name:"Amphora",keywords:["vase","jar"],skins:[{unified:"1f3fa",native:"\u{1F3FA}"}],version:1},earth_africa:{id:"earth_africa",name:"Earth Globe Europe-Africa",keywords:["africa","showing","europe","world","international"],skins:[{unified:"1f30d",native:"\u{1F30D}"}],version:1},earth_americas:{id:"earth_americas",name:"Earth Globe Americas",keywords:["showing","world","USA","international"],skins:[{unified:"1f30e",native:"\u{1F30E}"}],version:1},earth_asia:{id:"earth_asia",name:"Earth Globe Asia-Australia",keywords:["asia","showing","australia","world","east","international"],skins:[{unified:"1f30f",native:"\u{1F30F}"}],version:1},globe_with_meridians:{id:"globe_with_meridians",name:"Globe with Meridians",keywords:["earth","international","world","internet","interweb","i18n"],skins:[{unified:"1f310",native:"\u{1F310}"}],version:1},world_map:{id:"world_map",name:"World Map",keywords:["location","direction"],skins:[{unified:"1f5fa-fe0f",native:"\u{1F5FA}\uFE0F"}],version:1},japan:{id:"japan",name:"Map of Japan",keywords:["nation","country","japanese","asia"],skins:[{unified:"1f5fe",native:"\u{1F5FE}"}],version:1},compass:{id:"compass",name:"Compass",keywords:["magnetic","navigation","orienteering"],skins:[{unified:"1f9ed",native:"\u{1F9ED}"}],version:11},snow_capped_mountain:{id:"snow_capped_mountain",name:"Snow-Capped Mountain",keywords:["snow","capped","photo","nature","environment","winter","cold"],skins:[{unified:"1f3d4-fe0f",native:"\u{1F3D4}\uFE0F"}],version:1},mountain:{id:"mountain",name:"Mountain",keywords:["photo","nature","environment"],skins:[{unified:"26f0-fe0f",native:"\u26F0\uFE0F"}],version:1},volcano:{id:"volcano",name:"Volcano",keywords:["photo","nature","disaster"],skins:[{unified:"1f30b",native:"\u{1F30B}"}],version:1},mount_fuji:{id:"mount_fuji",name:"Mount Fuji",keywords:["photo","mountain","nature","japanese"],skins:[{unified:"1f5fb",native:"\u{1F5FB}"}],version:1},camping:{id:"camping",name:"Camping",keywords:["photo","outdoors","tent"],skins:[{unified:"1f3d5-fe0f",native:"\u{1F3D5}\uFE0F"}],version:1},beach_with_umbrella:{id:"beach_with_umbrella",name:"Beach with Umbrella",keywords:["weather","summer","sunny","sand","mojito"],skins:[{unified:"1f3d6-fe0f",native:"\u{1F3D6}\uFE0F"}],version:1},desert:{id:"desert",name:"Desert",keywords:["photo","warm","saharah"],skins:[{unified:"1f3dc-fe0f",native:"\u{1F3DC}\uFE0F"}],version:1},desert_island:{id:"desert_island",name:"Desert Island",keywords:["photo","tropical","mojito"],skins:[{unified:"1f3dd-fe0f",native:"\u{1F3DD}\uFE0F"}],version:1},national_park:{id:"national_park",name:"National Park",keywords:["photo","environment","nature"],skins:[{unified:"1f3de-fe0f",native:"\u{1F3DE}\uFE0F"}],version:1},stadium:{id:"stadium",name:"Stadium",keywords:["photo","place","sports","concert","venue"],skins:[{unified:"1f3df-fe0f",native:"\u{1F3DF}\uFE0F"}],version:1},classical_building:{id:"classical_building",name:"Classical Building",keywords:["art","culture","history"],skins:[{unified:"1f3db-fe0f",native:"\u{1F3DB}\uFE0F"}],version:1},building_construction:{id:"building_construction",name:"Building Construction",keywords:["wip","working","progress"],skins:[{unified:"1f3d7-fe0f",native:"\u{1F3D7}\uFE0F"}],version:1},bricks:{id:"bricks",name:"Brick",keywords:["bricks"],skins:[{unified:"1f9f1",native:"\u{1F9F1}"}],version:11},rock:{id:"rock",name:"Rock",keywords:["stone"],skins:[{unified:"1faa8",native:"\u{1FAA8}"}],version:13},wood:{id:"wood",name:"Wood",keywords:["nature","timber","trunk"],skins:[{unified:"1fab5",native:"\u{1FAB5}"}],version:13},hut:{id:"hut",name:"Hut",keywords:["house","structure"],skins:[{unified:"1f6d6",native:"\u{1F6D6}"}],version:13},house_buildings:{id:"house_buildings",name:"Houses",keywords:["house","buildings","photo"],skins:[{unified:"1f3d8-fe0f",native:"\u{1F3D8}\uFE0F"}],version:1},derelict_house_building:{id:"derelict_house_building",name:"Derelict House",keywords:["building","abandon","evict","broken"],skins:[{unified:"1f3da-fe0f",native:"\u{1F3DA}\uFE0F"}],version:1},house:{id:"house",name:"House",keywords:["building","home"],skins:[{unified:"1f3e0",native:"\u{1F3E0}"}],version:1},house_with_garden:{id:"house_with_garden",name:"House with Garden",keywords:["home","plant","nature"],skins:[{unified:"1f3e1",native:"\u{1F3E1}"}],version:1},office:{id:"office",name:"Office Building",keywords:["bureau","work"],skins:[{unified:"1f3e2",native:"\u{1F3E2}"}],version:1},post_office:{id:"post_office",name:"Japanese Post Office",keywords:["building","envelope","communication"],skins:[{unified:"1f3e3",native:"\u{1F3E3}"}],version:1},european_post_office:{id:"european_post_office",name:"Post Office",keywords:["european","building","email"],skins:[{unified:"1f3e4",native:"\u{1F3E4}"}],version:1},hospital:{id:"hospital",name:"Hospital",keywords:["building","health","surgery","doctor"],skins:[{unified:"1f3e5",native:"\u{1F3E5}"}],version:1},bank:{id:"bank",name:"Bank",keywords:["building","money","sales","cash","business","enterprise"],skins:[{unified:"1f3e6",native:"\u{1F3E6}"}],version:1},hotel:{id:"hotel",name:"Hotel",keywords:["building","accomodation","checkin"],skins:[{unified:"1f3e8",native:"\u{1F3E8}"}],version:1},love_hotel:{id:"love_hotel",name:"Love Hotel",keywords:["like","affection","dating"],skins:[{unified:"1f3e9",native:"\u{1F3E9}"}],version:1},convenience_store:{id:"convenience_store",name:"Convenience Store",keywords:["building","shopping","groceries"],skins:[{unified:"1f3ea",native:"\u{1F3EA}"}],version:1},school:{id:"school",name:"School",keywords:["building","student","education","learn","teach"],skins:[{unified:"1f3eb",native:"\u{1F3EB}"}],version:1},department_store:{id:"department_store",name:"Department Store",keywords:["building","shopping","mall"],skins:[{unified:"1f3ec",native:"\u{1F3EC}"}],version:1},factory:{id:"factory",name:"Factory",keywords:["building","industry","pollution","smoke"],skins:[{unified:"1f3ed",native:"\u{1F3ED}"}],version:1},japanese_castle:{id:"japanese_castle",name:"Japanese Castle",keywords:["photo","building"],skins:[{unified:"1f3ef",native:"\u{1F3EF}"}],version:1},european_castle:{id:"european_castle",name:"Castle",keywords:["european","building","royalty","history"],skins:[{unified:"1f3f0",native:"\u{1F3F0}"}],version:1},wedding:{id:"wedding",name:"Wedding",keywords:["love","like","affection","couple","marriage","bride","groom"],skins:[{unified:"1f492",native:"\u{1F492}"}],version:1},tokyo_tower:{id:"tokyo_tower",name:"Tokyo Tower",keywords:["photo","japanese"],skins:[{unified:"1f5fc",native:"\u{1F5FC}"}],version:1},statue_of_liberty:{id:"statue_of_liberty",name:"Statue of Liberty",keywords:["american","newyork"],skins:[{unified:"1f5fd",native:"\u{1F5FD}"}],version:1},church:{id:"church",name:"Church",keywords:["building","religion","christ"],skins:[{unified:"26ea",native:"\u26EA"}],version:1},mosque:{id:"mosque",name:"Mosque",keywords:["islam","worship","minaret"],skins:[{unified:"1f54c",native:"\u{1F54C}"}],version:1},hindu_temple:{id:"hindu_temple",name:"Hindu Temple",keywords:["religion"],skins:[{unified:"1f6d5",native:"\u{1F6D5}"}],version:12},synagogue:{id:"synagogue",name:"Synagogue",keywords:["judaism","worship","temple","jewish"],skins:[{unified:"1f54d",native:"\u{1F54D}"}],version:1},shinto_shrine:{id:"shinto_shrine",name:"Shinto Shrine",keywords:["temple","japan","kyoto"],skins:[{unified:"26e9-fe0f",native:"\u26E9\uFE0F"}],version:1},kaaba:{id:"kaaba",name:"Kaaba",keywords:["mecca","mosque","islam"],skins:[{unified:"1f54b",native:"\u{1F54B}"}],version:1},fountain:{id:"fountain",name:"Fountain",keywords:["photo","summer","water","fresh"],skins:[{unified:"26f2",native:"\u26F2"}],version:1},tent:{id:"tent",name:"Tent",keywords:["photo","camping","outdoors"],skins:[{unified:"26fa",native:"\u26FA"}],version:1},foggy:{id:"foggy",name:"Foggy",keywords:["photo","mountain"],skins:[{unified:"1f301",native:"\u{1F301}"}],version:1},night_with_stars:{id:"night_with_stars",name:"Night with Stars",keywords:["evening","city","downtown"],skins:[{unified:"1f303",native:"\u{1F303}"}],version:1},cityscape:{id:"cityscape",name:"Cityscape",keywords:["photo","night","life","urban"],skins:[{unified:"1f3d9-fe0f",native:"\u{1F3D9}\uFE0F"}],version:1},sunrise_over_mountains:{id:"sunrise_over_mountains",name:"Sunrise over Mountains",keywords:["view","vacation","photo"],skins:[{unified:"1f304",native:"\u{1F304}"}],version:1},sunrise:{id:"sunrise",name:"Sunrise",keywords:["morning","view","vacation","photo"],skins:[{unified:"1f305",native:"\u{1F305}"}],version:1},city_sunset:{id:"city_sunset",name:"Cityscape at Dusk",keywords:["city","sunset","photo","evening","sky","buildings"],skins:[{unified:"1f306",native:"\u{1F306}"}],version:1},city_sunrise:{id:"city_sunrise",name:"Sunset",keywords:["city","sunrise","photo","good","morning","dawn"],skins:[{unified:"1f307",native:"\u{1F307}"}],version:1},bridge_at_night:{id:"bridge_at_night",name:"Bridge at Night",keywords:["photo","sanfrancisco"],skins:[{unified:"1f309",native:"\u{1F309}"}],version:1},hotsprings:{id:"hotsprings",name:"Hot Springs",keywords:["hotsprings","bath","warm","relax"],skins:[{unified:"2668-fe0f",native:"\u2668\uFE0F"}],version:1},carousel_horse:{id:"carousel_horse",name:"Carousel Horse",keywords:["photo","carnival"],skins:[{unified:"1f3a0",native:"\u{1F3A0}"}],version:1},playground_slide:{id:"playground_slide",name:"Playground Slide",keywords:["fun","park"],skins:[{unified:"1f6dd",native:"\u{1F6DD}"}],version:14},ferris_wheel:{id:"ferris_wheel",name:"Ferris Wheel",keywords:["photo","carnival","londoneye"],skins:[{unified:"1f3a1",native:"\u{1F3A1}"}],version:1},roller_coaster:{id:"roller_coaster",name:"Roller Coaster",keywords:["carnival","playground","photo","fun"],skins:[{unified:"1f3a2",native:"\u{1F3A2}"}],version:1},barber:{id:"barber",name:"Barber Pole",keywords:["hair","salon","style"],skins:[{unified:"1f488",native:"\u{1F488}"}],version:1},circus_tent:{id:"circus_tent",name:"Circus Tent",keywords:["festival","carnival","party"],skins:[{unified:"1f3aa",native:"\u{1F3AA}"}],version:1},steam_locomotive:{id:"steam_locomotive",name:"Locomotive",keywords:["steam","transportation","vehicle","train"],skins:[{unified:"1f682",native:"\u{1F682}"}],version:1},railway_car:{id:"railway_car",name:"Railway Car",keywords:["transportation","vehicle"],skins:[{unified:"1f683",native:"\u{1F683}"}],version:1},bullettrain_side:{id:"bullettrain_side",name:"High-Speed Train",keywords:["bullettrain","side","high","speed","transportation","vehicle"],skins:[{unified:"1f684",native:"\u{1F684}"}],version:1},bullettrain_front:{id:"bullettrain_front",name:"Bullet Train",keywords:["bullettrain","front","transportation","vehicle","speed","fast","public","travel"],skins:[{unified:"1f685",native:"\u{1F685}"}],version:1},train2:{id:"train2",name:"Train",keywords:["train2","transportation","vehicle"],skins:[{unified:"1f686",native:"\u{1F686}"}],version:1},metro:{id:"metro",name:"Metro",keywords:["transportation","blue","square","mrt","underground","tube"],skins:[{unified:"1f687",native:"\u{1F687}"}],version:1},light_rail:{id:"light_rail",name:"Light Rail",keywords:["transportation","vehicle"],skins:[{unified:"1f688",native:"\u{1F688}"}],version:1},station:{id:"station",name:"Station",keywords:["transportation","vehicle","public"],skins:[{unified:"1f689",native:"\u{1F689}"}],version:1},tram:{id:"tram",name:"Tram",keywords:["transportation","vehicle"],skins:[{unified:"1f68a",native:"\u{1F68A}"}],version:1},monorail:{id:"monorail",name:"Monorail",keywords:["transportation","vehicle"],skins:[{unified:"1f69d",native:"\u{1F69D}"}],version:1},mountain_railway:{id:"mountain_railway",name:"Mountain Railway",keywords:["transportation","vehicle"],skins:[{unified:"1f69e",native:"\u{1F69E}"}],version:1},train:{id:"train",name:"Tram Car",keywords:["train","transportation","vehicle","carriage","public","travel"],skins:[{unified:"1f68b",native:"\u{1F68B}"}],version:1},bus:{id:"bus",name:"Bus",keywords:["car","vehicle","transportation"],skins:[{unified:"1f68c",native:"\u{1F68C}"}],version:1},oncoming_bus:{id:"oncoming_bus",name:"Oncoming Bus",keywords:["vehicle","transportation"],skins:[{unified:"1f68d",native:"\u{1F68D}"}],version:1},trolleybus:{id:"trolleybus",name:"Trolleybus",keywords:["bart","transportation","vehicle"],skins:[{unified:"1f68e",native:"\u{1F68E}"}],version:1},minibus:{id:"minibus",name:"Minibus",keywords:["vehicle","car","transportation"],skins:[{unified:"1f690",native:"\u{1F690}"}],version:1},ambulance:{id:"ambulance",name:"Ambulance",keywords:["health","911","hospital"],skins:[{unified:"1f691",native:"\u{1F691}"}],version:1},fire_engine:{id:"fire_engine",name:"Fire Engine",keywords:["transportation","cars","vehicle"],skins:[{unified:"1f692",native:"\u{1F692}"}],version:1},police_car:{id:"police_car",name:"Police Car",keywords:["vehicle","cars","transportation","law","legal","enforcement"],skins:[{unified:"1f693",native:"\u{1F693}"}],version:1},oncoming_police_car:{id:"oncoming_police_car",name:"Oncoming Police Car",keywords:["vehicle","law","legal","enforcement","911"],skins:[{unified:"1f694",native:"\u{1F694}"}],version:1},taxi:{id:"taxi",name:"Taxi",keywords:["uber","vehicle","cars","transportation"],skins:[{unified:"1f695",native:"\u{1F695}"}],version:1},oncoming_taxi:{id:"oncoming_taxi",name:"Oncoming Taxi",keywords:["vehicle","cars","uber"],skins:[{unified:"1f696",native:"\u{1F696}"}],version:1},car:{id:"car",name:"Automobile",keywords:["car","red","transportation","vehicle"],skins:[{unified:"1f697",native:"\u{1F697}"}],version:1},oncoming_automobile:{id:"oncoming_automobile",name:"Oncoming Automobile",keywords:["car","vehicle","transportation"],skins:[{unified:"1f698",native:"\u{1F698}"}],version:1},blue_car:{id:"blue_car",name:"Recreational Vehicle",keywords:["blue","car","sport","utility","transportation"],skins:[{unified:"1f699",native:"\u{1F699}"}],version:1},pickup_truck:{id:"pickup_truck",name:"Pickup Truck",keywords:["car","transportation"],skins:[{unified:"1f6fb",native:"\u{1F6FB}"}],version:13},truck:{id:"truck",name:"Delivery Truck",keywords:["cars","transportation"],skins:[{unified:"1f69a",native:"\u{1F69A}"}],version:1},articulated_lorry:{id:"articulated_lorry",name:"Articulated Lorry",keywords:["vehicle","cars","transportation","express"],skins:[{unified:"1f69b",native:"\u{1F69B}"}],version:1},tractor:{id:"tractor",name:"Tractor",keywords:["vehicle","car","farming","agriculture"],skins:[{unified:"1f69c",native:"\u{1F69C}"}],version:1},racing_car:{id:"racing_car",name:"Racing Car",keywords:["sports","race","fast","formula","f1"],skins:[{unified:"1f3ce-fe0f",native:"\u{1F3CE}\uFE0F"}],version:1},racing_motorcycle:{id:"racing_motorcycle",name:"Motorcycle",keywords:["racing","race","sports","fast"],skins:[{unified:"1f3cd-fe0f",native:"\u{1F3CD}\uFE0F"}],version:1},motor_scooter:{id:"motor_scooter",name:"Motor Scooter",keywords:["vehicle","vespa","sasha"],skins:[{unified:"1f6f5",native:"\u{1F6F5}"}],version:3},manual_wheelchair:{id:"manual_wheelchair",name:"Manual Wheelchair",keywords:["accessibility"],skins:[{unified:"1f9bd",native:"\u{1F9BD}"}],version:12},motorized_wheelchair:{id:"motorized_wheelchair",name:"Motorized Wheelchair",keywords:["accessibility"],skins:[{unified:"1f9bc",native:"\u{1F9BC}"}],version:12},auto_rickshaw:{id:"auto_rickshaw",name:"Auto Rickshaw",keywords:["move","transportation"],skins:[{unified:"1f6fa",native:"\u{1F6FA}"}],version:12},bike:{id:"bike",name:"Bicycle",keywords:["bike","sports","exercise","hipster"],skins:[{unified:"1f6b2",native:"\u{1F6B2}"}],version:1},scooter:{id:"scooter",name:"Scooter",keywords:["kick","vehicle","razor"],skins:[{unified:"1f6f4",native:"\u{1F6F4}"}],version:3},skateboard:{id:"skateboard",name:"Skateboard",keywords:["board"],skins:[{unified:"1f6f9",native:"\u{1F6F9}"}],version:11},roller_skate:{id:"roller_skate",name:"Roller Skate",keywords:["footwear","sports"],skins:[{unified:"1f6fc",native:"\u{1F6FC}"}],version:13},busstop:{id:"busstop",name:"Bus Stop",keywords:["busstop","transportation","wait"],skins:[{unified:"1f68f",native:"\u{1F68F}"}],version:1},motorway:{id:"motorway",name:"Motorway",keywords:["road","cupertino","interstate","highway"],skins:[{unified:"1f6e3-fe0f",native:"\u{1F6E3}\uFE0F"}],version:1},railway_track:{id:"railway_track",name:"Railway Track",keywords:["train","transportation"],skins:[{unified:"1f6e4-fe0f",native:"\u{1F6E4}\uFE0F"}],version:1},oil_drum:{id:"oil_drum",name:"Oil Drum",keywords:["barrell"],skins:[{unified:"1f6e2-fe0f",native:"\u{1F6E2}\uFE0F"}],version:1},fuelpump:{id:"fuelpump",name:"Fuel Pump",keywords:["fuelpump","gas","station","petroleum"],skins:[{unified:"26fd",native:"\u26FD"}],version:1},wheel:{id:"wheel",name:"Wheel",keywords:["car","transport"],skins:[{unified:"1f6de",native:"\u{1F6DE}"}],version:14},rotating_light:{id:"rotating_light",name:"Police Car Light",keywords:["rotating","ambulance","911","emergency","alert","error","pinged","law","legal"],skins:[{unified:"1f6a8",native:"\u{1F6A8}"}],version:1},traffic_light:{id:"traffic_light",name:"Horizontal Traffic Light",keywords:["transportation","signal"],skins:[{unified:"1f6a5",native:"\u{1F6A5}"}],version:1},vertical_traffic_light:{id:"vertical_traffic_light",name:"Vertical Traffic Light",keywords:["transportation","driving"],skins:[{unified:"1f6a6",native:"\u{1F6A6}"}],version:1},octagonal_sign:{id:"octagonal_sign",name:"Stop Sign",keywords:["octagonal"],skins:[{unified:"1f6d1",native:"\u{1F6D1}"}],version:3},construction:{id:"construction",name:"Construction",keywords:["wip","progress","caution","warning"],skins:[{unified:"1f6a7",native:"\u{1F6A7}"}],version:1},anchor:{id:"anchor",name:"Anchor",keywords:["ship","ferry","sea","boat"],skins:[{unified:"2693",native:"\u2693"}],version:1},ring_buoy:{id:"ring_buoy",name:"Ring Buoy",keywords:["life","saver","preserver"],skins:[{unified:"1f6df",native:"\u{1F6DF}"}],version:14},boat:{id:"boat",name:"Sailboat",keywords:["boat","ship","summer","transportation","water","sailing"],skins:[{unified:"26f5",native:"\u26F5"}],version:1},canoe:{id:"canoe",name:"Canoe",keywords:["boat","paddle","water","ship"],skins:[{unified:"1f6f6",native:"\u{1F6F6}"}],version:3},speedboat:{id:"speedboat",name:"Speedboat",keywords:["ship","transportation","vehicle","summer"],skins:[{unified:"1f6a4",native:"\u{1F6A4}"}],version:1},passenger_ship:{id:"passenger_ship",name:"Passenger Ship",keywords:["yacht","cruise","ferry"],skins:[{unified:"1f6f3-fe0f",native:"\u{1F6F3}\uFE0F"}],version:1},ferry:{id:"ferry",name:"Ferry",keywords:["boat","ship","yacht"],skins:[{unified:"26f4-fe0f",native:"\u26F4\uFE0F"}],version:1},motor_boat:{id:"motor_boat",name:"Motor Boat",keywords:["ship"],skins:[{unified:"1f6e5-fe0f",native:"\u{1F6E5}\uFE0F"}],version:1},ship:{id:"ship",name:"Ship",keywords:["transportation","titanic","deploy"],skins:[{unified:"1f6a2",native:"\u{1F6A2}"}],version:1},airplane:{id:"airplane",name:"Airplane",keywords:["vehicle","transportation","flight","fly"],skins:[{unified:"2708-fe0f",native:"\u2708\uFE0F"}],version:1},small_airplane:{id:"small_airplane",name:"Small Airplane",keywords:["flight","transportation","fly","vehicle"],skins:[{unified:"1f6e9-fe0f",native:"\u{1F6E9}\uFE0F"}],version:1},airplane_departure:{id:"airplane_departure",name:"Airplane Departure",keywords:["airport","flight","landing"],skins:[{unified:"1f6eb",native:"\u{1F6EB}"}],version:1},airplane_arriving:{id:"airplane_arriving",name:"Airplane Arrival",keywords:["arriving","airport","flight","boarding"],skins:[{unified:"1f6ec",native:"\u{1F6EC}"}],version:1},parachute:{id:"parachute",name:"Parachute",keywords:["fly","glide"],skins:[{unified:"1fa82",native:"\u{1FA82}"}],version:12},seat:{id:"seat",name:"Seat",keywords:["sit","airplane","transport","bus","flight","fly"],skins:[{unified:"1f4ba",native:"\u{1F4BA}"}],version:1},helicopter:{id:"helicopter",name:"Helicopter",keywords:["transportation","vehicle","fly"],skins:[{unified:"1f681",native:"\u{1F681}"}],version:1},suspension_railway:{id:"suspension_railway",name:"Suspension Railway",keywords:["vehicle","transportation"],skins:[{unified:"1f69f",native:"\u{1F69F}"}],version:1},mountain_cableway:{id:"mountain_cableway",name:"Mountain Cableway",keywords:["transportation","vehicle","ski"],skins:[{unified:"1f6a0",native:"\u{1F6A0}"}],version:1},aerial_tramway:{id:"aerial_tramway",name:"Aerial Tramway",keywords:["transportation","vehicle","ski"],skins:[{unified:"1f6a1",native:"\u{1F6A1}"}],version:1},satellite:{id:"satellite",name:"Satellite",keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],skins:[{unified:"1f6f0-fe0f",native:"\u{1F6F0}\uFE0F"}],version:1},rocket:{id:"rocket",name:"Rocket",keywords:["launch","ship","staffmode","NASA","outer","space","fly"],skins:[{unified:"1f680",native:"\u{1F680}"}],version:1},flying_saucer:{id:"flying_saucer",name:"Flying Saucer",keywords:["transportation","vehicle","ufo"],skins:[{unified:"1f6f8",native:"\u{1F6F8}"}],version:5},bellhop_bell:{id:"bellhop_bell",name:"Bellhop Bell",keywords:["service"],skins:[{unified:"1f6ce-fe0f",native:"\u{1F6CE}\uFE0F"}],version:1},luggage:{id:"luggage",name:"Luggage",keywords:["packing","travel"],skins:[{unified:"1f9f3",native:"\u{1F9F3}"}],version:11},hourglass:{id:"hourglass",name:"Hourglass",keywords:["done","time","clock","oldschool","limit","exam","quiz","test"],skins:[{unified:"231b",native:"\u231B"}],version:1},hourglass_flowing_sand:{id:"hourglass_flowing_sand",name:"Hourglass Not Done",keywords:["flowing","sand","oldschool","time","countdown"],skins:[{unified:"23f3",native:"\u23F3"}],version:1},watch:{id:"watch",name:"Watch",keywords:["time","accessories"],skins:[{unified:"231a",native:"\u231A"}],version:1},alarm_clock:{id:"alarm_clock",name:"Alarm Clock",keywords:["time","wake"],skins:[{unified:"23f0",native:"\u23F0"}],version:1},stopwatch:{id:"stopwatch",name:"Stopwatch",keywords:["time","deadline"],skins:[{unified:"23f1-fe0f",native:"\u23F1\uFE0F"}],version:1},timer_clock:{id:"timer_clock",name:"Timer Clock",keywords:["alarm"],skins:[{unified:"23f2-fe0f",native:"\u23F2\uFE0F"}],version:1},mantelpiece_clock:{id:"mantelpiece_clock",name:"Mantelpiece Clock",keywords:["time"],skins:[{unified:"1f570-fe0f",native:"\u{1F570}\uFE0F"}],version:1},clock12:{id:"clock12",name:"Twelve O\u2019clock",keywords:["clock12","o","clock","time","noon","midnight","midday","late","early","schedule"],skins:[{unified:"1f55b",native:"\u{1F55B}"}],version:1},clock1230:{id:"clock1230",name:"Twelve-Thirty",keywords:["clock1230","twelve","thirty","time","late","early","schedule"],skins:[{unified:"1f567",native:"\u{1F567}"}],version:1},clock1:{id:"clock1",name:"One O\u2019clock",keywords:["clock1","o","clock","time","late","early","schedule"],skins:[{unified:"1f550",native:"\u{1F550}"}],version:1},clock130:{id:"clock130",name:"One-Thirty",keywords:["clock130","one","thirty","time","late","early","schedule"],skins:[{unified:"1f55c",native:"\u{1F55C}"}],version:1},clock2:{id:"clock2",name:"Two O\u2019clock",keywords:["clock2","o","clock","time","late","early","schedule"],skins:[{unified:"1f551",native:"\u{1F551}"}],version:1},clock230:{id:"clock230",name:"Two-Thirty",keywords:["clock230","two","thirty","time","late","early","schedule"],skins:[{unified:"1f55d",native:"\u{1F55D}"}],version:1},clock3:{id:"clock3",name:"Three O\u2019clock",keywords:["clock3","o","clock","time","late","early","schedule"],skins:[{unified:"1f552",native:"\u{1F552}"}],version:1},clock330:{id:"clock330",name:"Three-Thirty",keywords:["clock330","three","thirty","time","late","early","schedule"],skins:[{unified:"1f55e",native:"\u{1F55E}"}],version:1},clock4:{id:"clock4",name:"Four O\u2019clock",keywords:["clock4","o","clock","time","late","early","schedule"],skins:[{unified:"1f553",native:"\u{1F553}"}],version:1},clock430:{id:"clock430",name:"Four-Thirty",keywords:["clock430","four","thirty","time","late","early","schedule"],skins:[{unified:"1f55f",native:"\u{1F55F}"}],version:1},clock5:{id:"clock5",name:"Five O\u2019clock",keywords:["clock5","o","clock","time","late","early","schedule"],skins:[{unified:"1f554",native:"\u{1F554}"}],version:1},clock530:{id:"clock530",name:"Five-Thirty",keywords:["clock530","five","thirty","time","late","early","schedule"],skins:[{unified:"1f560",native:"\u{1F560}"}],version:1},clock6:{id:"clock6",name:"Six O\u2019clock",keywords:["clock6","o","clock","time","late","early","schedule","dawn","dusk"],skins:[{unified:"1f555",native:"\u{1F555}"}],version:1},clock630:{id:"clock630",name:"Six-Thirty",keywords:["clock630","six","thirty","time","late","early","schedule"],skins:[{unified:"1f561",native:"\u{1F561}"}],version:1},clock7:{id:"clock7",name:"Seven O\u2019clock",keywords:["clock7","o","clock","time","late","early","schedule"],skins:[{unified:"1f556",native:"\u{1F556}"}],version:1},clock730:{id:"clock730",name:"Seven-Thirty",keywords:["clock730","seven","thirty","time","late","early","schedule"],skins:[{unified:"1f562",native:"\u{1F562}"}],version:1},clock8:{id:"clock8",name:"Eight O\u2019clock",keywords:["clock8","o","clock","time","late","early","schedule"],skins:[{unified:"1f557",native:"\u{1F557}"}],version:1},clock830:{id:"clock830",name:"Eight-Thirty",keywords:["clock830","eight","thirty","time","late","early","schedule"],skins:[{unified:"1f563",native:"\u{1F563}"}],version:1},clock9:{id:"clock9",name:"Nine O\u2019clock",keywords:["clock9","o","clock","time","late","early","schedule"],skins:[{unified:"1f558",native:"\u{1F558}"}],version:1},clock930:{id:"clock930",name:"Nine-Thirty",keywords:["clock930","nine","thirty","time","late","early","schedule"],skins:[{unified:"1f564",native:"\u{1F564}"}],version:1},clock10:{id:"clock10",name:"Ten O\u2019clock",keywords:["clock10","o","clock","time","late","early","schedule"],skins:[{unified:"1f559",native:"\u{1F559}"}],version:1},clock1030:{id:"clock1030",name:"Ten-Thirty",keywords:["clock1030","ten","thirty","time","late","early","schedule"],skins:[{unified:"1f565",native:"\u{1F565}"}],version:1},clock11:{id:"clock11",name:"Eleven O\u2019clock",keywords:["clock11","o","clock","time","late","early","schedule"],skins:[{unified:"1f55a",native:"\u{1F55A}"}],version:1},clock1130:{id:"clock1130",name:"Eleven-Thirty",keywords:["clock1130","eleven","thirty","time","late","early","schedule"],skins:[{unified:"1f566",native:"\u{1F566}"}],version:1},new_moon:{id:"new_moon",name:"New Moon",keywords:["nature","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f311",native:"\u{1F311}"}],version:1},waxing_crescent_moon:{id:"waxing_crescent_moon",name:"Waxing Crescent Moon",keywords:["nature","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f312",native:"\u{1F312}"}],version:1},first_quarter_moon:{id:"first_quarter_moon",name:"First Quarter Moon",keywords:["nature","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f313",native:"\u{1F313}"}],version:1},moon:{id:"moon",name:"Waxing Gibbous Moon",keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],skins:[{unified:"1f314",native:"\u{1F314}"}],version:1},full_moon:{id:"full_moon",name:"Full Moon",keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f315",native:"\u{1F315}"}],version:1},waning_gibbous_moon:{id:"waning_gibbous_moon",name:"Waning Gibbous Moon",keywords:["nature","twilight","planet","space","night","evening","sleep","waxing"],skins:[{unified:"1f316",native:"\u{1F316}"}],version:1},last_quarter_moon:{id:"last_quarter_moon",name:"Last Quarter Moon",keywords:["nature","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f317",native:"\u{1F317}"}],version:1},waning_crescent_moon:{id:"waning_crescent_moon",name:"Waning Crescent Moon",keywords:["nature","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f318",native:"\u{1F318}"}],version:1},crescent_moon:{id:"crescent_moon",name:"Crescent Moon",keywords:["night","sleep","sky","evening","magic"],skins:[{unified:"1f319",native:"\u{1F319}"}],version:1},new_moon_with_face:{id:"new_moon_with_face",name:"New Moon Face",keywords:["with","nature","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f31a",native:"\u{1F31A}"}],version:1},first_quarter_moon_with_face:{id:"first_quarter_moon_with_face",name:"First Quarter Moon Face",keywords:["with","nature","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f31b",native:"\u{1F31B}"}],version:1},last_quarter_moon_with_face:{id:"last_quarter_moon_with_face",name:"Last Quarter Moon Face",keywords:["with","nature","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f31c",native:"\u{1F31C}"}],version:1},thermometer:{id:"thermometer",name:"Thermometer",keywords:["weather","temperature","hot","cold"],skins:[{unified:"1f321-fe0f",native:"\u{1F321}\uFE0F"}],version:1},sunny:{id:"sunny",name:"Sun",keywords:["sunny","weather","nature","brightness","summer","beach","spring"],skins:[{unified:"2600-fe0f",native:"\u2600\uFE0F"}],version:1},full_moon_with_face:{id:"full_moon_with_face",name:"Full Moon Face",keywords:["with","nature","twilight","planet","space","night","evening","sleep"],skins:[{unified:"1f31d",native:"\u{1F31D}"}],version:1},sun_with_face:{id:"sun_with_face",name:"Sun with Face",keywords:["nature","morning","sky"],skins:[{unified:"1f31e",native:"\u{1F31E}"}],version:1},ringed_planet:{id:"ringed_planet",name:"Ringed Planet",keywords:["outerspace"],skins:[{unified:"1fa90",native:"\u{1FA90}"}],version:12},star:{id:"star",name:"Star",keywords:["night","yellow"],skins:[{unified:"2b50",native:"\u2B50"}],version:1},star2:{id:"star2",name:"Glowing Star",keywords:["star2","night","sparkle","awesome","good","magic"],skins:[{unified:"1f31f",native:"\u{1F31F}"}],version:1},stars:{id:"stars",name:"Shooting Star",keywords:["stars","night","photo"],skins:[{unified:"1f320",native:"\u{1F320}"}],version:1},milky_way:{id:"milky_way",name:"Milky Way",keywords:["photo","space","stars"],skins:[{unified:"1f30c",native:"\u{1F30C}"}],version:1},cloud:{id:"cloud",name:"Cloud",keywords:["weather","sky"],skins:[{unified:"2601-fe0f",native:"\u2601\uFE0F"}],version:1},partly_sunny:{id:"partly_sunny",name:"Sun Behind Cloud",keywords:["partly","sunny","weather","nature","cloudy","morning","fall","spring"],skins:[{unified:"26c5",native:"\u26C5"}],version:1},thunder_cloud_and_rain:{id:"thunder_cloud_and_rain",name:"Cloud with Lightning and Rain",keywords:["thunder","weather"],skins:[{unified:"26c8-fe0f",native:"\u26C8\uFE0F"}],version:1},mostly_sunny:{id:"mostly_sunny",name:"Sun Behind Small Cloud",keywords:["mostly","sunny","weather"],skins:[{unified:"1f324-fe0f",native:"\u{1F324}\uFE0F"}],version:1},barely_sunny:{id:"barely_sunny",name:"Sun Behind Large Cloud",keywords:["barely","sunny","weather"],skins:[{unified:"1f325-fe0f",native:"\u{1F325}\uFE0F"}],version:1},partly_sunny_rain:{id:"partly_sunny_rain",name:"Sun Behind Rain Cloud",keywords:["partly","sunny","weather"],skins:[{unified:"1f326-fe0f",native:"\u{1F326}\uFE0F"}],version:1},rain_cloud:{id:"rain_cloud",name:"Cloud with Rain",keywords:["weather"],skins:[{unified:"1f327-fe0f",native:"\u{1F327}\uFE0F"}],version:1},snow_cloud:{id:"snow_cloud",name:"Cloud with Snow",keywords:["weather"],skins:[{unified:"1f328-fe0f",native:"\u{1F328}\uFE0F"}],version:1},lightning:{id:"lightning",name:"Cloud with Lightning",keywords:["weather","thunder"],skins:[{unified:"1f329-fe0f",native:"\u{1F329}\uFE0F"}],version:1},tornado:{id:"tornado",name:"Tornado",keywords:["cloud","weather","cyclone","twister"],skins:[{unified:"1f32a-fe0f",native:"\u{1F32A}\uFE0F"}],version:1},fog:{id:"fog",name:"Fog",keywords:["weather"],skins:[{unified:"1f32b-fe0f",native:"\u{1F32B}\uFE0F"}],version:1},wind_blowing_face:{id:"wind_blowing_face",name:"Wind Face",keywords:["blowing","gust","air"],skins:[{unified:"1f32c-fe0f",native:"\u{1F32C}\uFE0F"}],version:1},cyclone:{id:"cyclone",name:"Cyclone",keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],skins:[{unified:"1f300",native:"\u{1F300}"}],version:1},rainbow:{id:"rainbow",name:"Rainbow",keywords:["nature","happy","unicorn","face","photo","sky","spring"],skins:[{unified:"1f308",native:"\u{1F308}"}],version:1},closed_umbrella:{id:"closed_umbrella",name:"Closed Umbrella",keywords:["weather","rain","drizzle"],skins:[{unified:"1f302",native:"\u{1F302}"}],version:1},umbrella:{id:"umbrella",name:"Umbrella",keywords:["weather","spring"],skins:[{unified:"2602-fe0f",native:"\u2602\uFE0F"}],version:1},umbrella_with_rain_drops:{id:"umbrella_with_rain_drops",name:"Umbrella with Rain Drops",keywords:["rainy","weather","spring"],skins:[{unified:"2614",native:"\u2614"}],version:1},umbrella_on_ground:{id:"umbrella_on_ground",name:"Umbrella on Ground",keywords:["weather","summer"],skins:[{unified:"26f1-fe0f",native:"\u26F1\uFE0F"}],version:1},zap:{id:"zap",name:"High Voltage",keywords:["zap","thunder","weather","lightning","bolt","fast"],skins:[{unified:"26a1",native:"\u26A1"}],version:1},snowflake:{id:"snowflake",name:"Snowflake",keywords:["winter","season","cold","weather","christmas","xmas"],skins:[{unified:"2744-fe0f",native:"\u2744\uFE0F"}],version:1},snowman:{id:"snowman",name:"Snowman",keywords:["winter","season","cold","weather","christmas","xmas","frozen"],skins:[{unified:"2603-fe0f",native:"\u2603\uFE0F"}],version:1},snowman_without_snow:{id:"snowman_without_snow",name:"Snowman Without Snow",keywords:["winter","season","cold","weather","christmas","xmas","frozen"],skins:[{unified:"26c4",native:"\u26C4"}],version:1},comet:{id:"comet",name:"Comet",keywords:["space"],skins:[{unified:"2604-fe0f",native:"\u2604\uFE0F"}],version:1},fire:{id:"fire",name:"Fire",keywords:["hot","cook","flame"],skins:[{unified:"1f525",native:"\u{1F525}"}],version:1},droplet:{id:"droplet",name:"Droplet",keywords:["water","drip","faucet","spring"],skins:[{unified:"1f4a7",native:"\u{1F4A7}"}],version:1},ocean:{id:"ocean",name:"Water Wave",keywords:["ocean","sea","nature","tsunami","disaster"],skins:[{unified:"1f30a",native:"\u{1F30A}"}],version:1},jack_o_lantern:{id:"jack_o_lantern",name:"Jack-O-Lantern",keywords:["jack","o","lantern","halloween","light","pumpkin","creepy","fall"],skins:[{unified:"1f383",native:"\u{1F383}"}],version:1},christmas_tree:{id:"christmas_tree",name:"Christmas Tree",keywords:["festival","vacation","december","xmas","celebration"],skins:[{unified:"1f384",native:"\u{1F384}"}],version:1},fireworks:{id:"fireworks",name:"Fireworks",keywords:["photo","festival","carnival","congratulations"],skins:[{unified:"1f386",native:"\u{1F386}"}],version:1},sparkler:{id:"sparkler",name:"Sparkler",keywords:["stars","night","shine"],skins:[{unified:"1f387",native:"\u{1F387}"}],version:1},firecracker:{id:"firecracker",name:"Firecracker",keywords:["dynamite","boom","explode","explosion","explosive"],skins:[{unified:"1f9e8",native:"\u{1F9E8}"}],version:11},sparkles:{id:"sparkles",name:"Sparkles",keywords:["stars","shine","shiny","cool","awesome","good","magic"],skins:[{unified:"2728",native:"\u2728"}],version:1},balloon:{id:"balloon",name:"Balloon",keywords:["party","celebration","birthday","circus"],skins:[{unified:"1f388",native:"\u{1F388}"}],version:1},tada:{id:"tada",name:"Party Popper",keywords:["tada","congratulations","birthday","magic","circus","celebration"],skins:[{unified:"1f389",native:"\u{1F389}"}],version:1},confetti_ball:{id:"confetti_ball",name:"Confetti Ball",keywords:["festival","party","birthday","circus"],skins:[{unified:"1f38a",native:"\u{1F38A}"}],version:1},tanabata_tree:{id:"tanabata_tree",name:"Tanabata Tree",keywords:["plant","nature","branch","summer"],skins:[{unified:"1f38b",native:"\u{1F38B}"}],version:1},bamboo:{id:"bamboo",name:"Pine Decoration",keywords:["bamboo","plant","nature","vegetable","panda"],skins:[{unified:"1f38d",native:"\u{1F38D}"}],version:1},dolls:{id:"dolls",name:"Japanese Dolls",keywords:["toy","kimono"],skins:[{unified:"1f38e",native:"\u{1F38E}"}],version:1},flags:{id:"flags",name:"Carp Streamer",keywords:["flags","fish","japanese","koinobori","banner"],skins:[{unified:"1f38f",native:"\u{1F38F}"}],version:1},wind_chime:{id:"wind_chime",name:"Wind Chime",keywords:["nature","ding","spring","bell"],skins:[{unified:"1f390",native:"\u{1F390}"}],version:1},rice_scene:{id:"rice_scene",name:"Moon Viewing Ceremony",keywords:["rice","scene","photo","japan","asia","tsukimi"],skins:[{unified:"1f391",native:"\u{1F391}"}],version:1},red_envelope:{id:"red_envelope",name:"Red Envelope",keywords:["gift"],skins:[{unified:"1f9e7",native:"\u{1F9E7}"}],version:11},ribbon:{id:"ribbon",name:"Ribbon",keywords:["decoration","pink","girl","bowtie"],skins:[{unified:"1f380",native:"\u{1F380}"}],version:1},gift:{id:"gift",name:"Wrapped Gift",keywords:["present","birthday","christmas","xmas"],skins:[{unified:"1f381",native:"\u{1F381}"}],version:1},reminder_ribbon:{id:"reminder_ribbon",name:"Reminder Ribbon",keywords:["sports","cause","support","awareness"],skins:[{unified:"1f397-fe0f",native:"\u{1F397}\uFE0F"}],version:1},admission_tickets:{id:"admission_tickets",name:"Admission Tickets",keywords:["sports","concert","entrance"],skins:[{unified:"1f39f-fe0f",native:"\u{1F39F}\uFE0F"}],version:1},ticket:{id:"ticket",name:"Ticket",keywords:["event","concert","pass"],skins:[{unified:"1f3ab",native:"\u{1F3AB}"}],version:1},medal:{id:"medal",name:"Military Medal",keywords:["award","winning","army"],skins:[{unified:"1f396-fe0f",native:"\u{1F396}\uFE0F"}],version:1},trophy:{id:"trophy",name:"Trophy",keywords:["win","award","contest","place","ftw","ceremony"],skins:[{unified:"1f3c6",native:"\u{1F3C6}"}],version:1},sports_medal:{id:"sports_medal",name:"Sports Medal",keywords:["award","winning"],skins:[{unified:"1f3c5",native:"\u{1F3C5}"}],version:1},first_place_medal:{id:"first_place_medal",name:"1st Place Medal",keywords:["first","award","winning"],skins:[{unified:"1f947",native:"\u{1F947}"}],version:3},second_place_medal:{id:"second_place_medal",name:"2nd Place Medal",keywords:["second","award"],skins:[{unified:"1f948",native:"\u{1F948}"}],version:3},third_place_medal:{id:"third_place_medal",name:"3rd Place Medal",keywords:["third","award"],skins:[{unified:"1f949",native:"\u{1F949}"}],version:3},soccer:{id:"soccer",name:"Soccer Ball",keywords:["sports","football"],skins:[{unified:"26bd",native:"\u26BD"}],version:1},baseball:{id:"baseball",name:"Baseball",keywords:["sports","balls"],skins:[{unified:"26be",native:"\u26BE"}],version:1},softball:{id:"softball",name:"Softball",keywords:["sports","balls"],skins:[{unified:"1f94e",native:"\u{1F94E}"}],version:11},basketball:{id:"basketball",name:"Basketball",keywords:["sports","balls","NBA"],skins:[{unified:"1f3c0",native:"\u{1F3C0}"}],version:1},volleyball:{id:"volleyball",name:"Volleyball",keywords:["sports","balls"],skins:[{unified:"1f3d0",native:"\u{1F3D0}"}],version:1},football:{id:"football",name:"American Football",keywords:["sports","balls","NFL"],skins:[{unified:"1f3c8",native:"\u{1F3C8}"}],version:1},rugby_football:{id:"rugby_football",name:"Rugby Football",keywords:["sports","team"],skins:[{unified:"1f3c9",native:"\u{1F3C9}"}],version:1},tennis:{id:"tennis",name:"Tennis",keywords:["sports","balls","green"],skins:[{unified:"1f3be",native:"\u{1F3BE}"}],version:1},flying_disc:{id:"flying_disc",name:"Flying Disc",keywords:["sports","frisbee","ultimate"],skins:[{unified:"1f94f",native:"\u{1F94F}"}],version:11},bowling:{id:"bowling",name:"Bowling",keywords:["sports","fun","play"],skins:[{unified:"1f3b3",native:"\u{1F3B3}"}],version:1},cricket_bat_and_ball:{id:"cricket_bat_and_ball",name:"Cricket Game",keywords:["bat","and","ball","sports"],skins:[{unified:"1f3cf",native:"\u{1F3CF}"}],version:1},field_hockey_stick_and_ball:{id:"field_hockey_stick_and_ball",name:"Field Hockey",keywords:["stick","and","ball","sports"],skins:[{unified:"1f3d1",native:"\u{1F3D1}"}],version:1},ice_hockey_stick_and_puck:{id:"ice_hockey_stick_and_puck",name:"Ice Hockey",keywords:["stick","and","puck","sports"],skins:[{unified:"1f3d2",native:"\u{1F3D2}"}],version:1},lacrosse:{id:"lacrosse",name:"Lacrosse",keywords:["sports","ball","stick"],skins:[{unified:"1f94d",native:"\u{1F94D}"}],version:11},table_tennis_paddle_and_ball:{id:"table_tennis_paddle_and_ball",name:"Ping Pong",keywords:["table","tennis","paddle","and","ball","sports","pingpong"],skins:[{unified:"1f3d3",native:"\u{1F3D3}"}],version:1},badminton_racquet_and_shuttlecock:{id:"badminton_racquet_and_shuttlecock",name:"Badminton",keywords:["racquet","and","shuttlecock","sports"],skins:[{unified:"1f3f8",native:"\u{1F3F8}"}],version:1},boxing_glove:{id:"boxing_glove",name:"Boxing Glove",keywords:["sports","fighting"],skins:[{unified:"1f94a",native:"\u{1F94A}"}],version:3},martial_arts_uniform:{id:"martial_arts_uniform",name:"Martial Arts Uniform",keywords:["judo","karate","taekwondo"],skins:[{unified:"1f94b",native:"\u{1F94B}"}],version:3},goal_net:{id:"goal_net",name:"Goal Net",keywords:["sports"],skins:[{unified:"1f945",native:"\u{1F945}"}],version:3},golf:{id:"golf",name:"Flag in Hole",keywords:["golf","sports","business","summer"],skins:[{unified:"26f3",native:"\u26F3"}],version:1},ice_skate:{id:"ice_skate",name:"Ice Skate",keywords:["sports"],skins:[{unified:"26f8-fe0f",native:"\u26F8\uFE0F"}],version:1},fishing_pole_and_fish:{id:"fishing_pole_and_fish",name:"Fishing Pole",keywords:["and","fish","food","hobby","summer"],skins:[{unified:"1f3a3",native:"\u{1F3A3}"}],version:1},diving_mask:{id:"diving_mask",name:"Diving Mask",keywords:["sport","ocean"],skins:[{unified:"1f93f",native:"\u{1F93F}"}],version:12},running_shirt_with_sash:{id:"running_shirt_with_sash",name:"Running Shirt",keywords:["with","sash","play","pageant"],skins:[{unified:"1f3bd",native:"\u{1F3BD}"}],version:1},ski:{id:"ski",name:"Skis",keywords:["ski","sports","winter","cold","snow"],skins:[{unified:"1f3bf",native:"\u{1F3BF}"}],version:1},sled:{id:"sled",name:"Sled",keywords:["sleigh","luge","toboggan"],skins:[{unified:"1f6f7",native:"\u{1F6F7}"}],version:5},curling_stone:{id:"curling_stone",name:"Curling Stone",keywords:["sports"],skins:[{unified:"1f94c",native:"\u{1F94C}"}],version:5},dart:{id:"dart",name:"Bullseye",keywords:["dart","direct","hit","game","play","bar","target"],skins:[{unified:"1f3af",native:"\u{1F3AF}"}],version:1},"yo-yo":{id:"yo-yo",name:"Yo-Yo",keywords:["yo","toy"],skins:[{unified:"1fa80",native:"\u{1FA80}"}],version:12},kite:{id:"kite",name:"Kite",keywords:["wind","fly"],skins:[{unified:"1fa81",native:"\u{1FA81}"}],version:12},"8ball":{id:"8ball",name:"Billiards",keywords:["8ball","pool","8","ball","hobby","game","luck","magic"],skins:[{unified:"1f3b1",native:"\u{1F3B1}"}],version:1},crystal_ball:{id:"crystal_ball",name:"Crystal Ball",keywords:["disco","party","magic","circus","fortune","teller"],skins:[{unified:"1f52e",native:"\u{1F52E}"}],version:1},magic_wand:{id:"magic_wand",name:"Magic Wand",keywords:["supernature","power"],skins:[{unified:"1fa84",native:"\u{1FA84}"}],version:13},nazar_amulet:{id:"nazar_amulet",name:"Nazar Amulet",keywords:["bead","charm"],skins:[{unified:"1f9ff",native:"\u{1F9FF}"}],version:11},hamsa:{id:"hamsa",name:"Hamsa",keywords:["religion","protection"],skins:[{unified:"1faac",native:"\u{1FAAC}"}],version:14},video_game:{id:"video_game",name:"Video Game",keywords:["play","console","PS4","controller"],skins:[{unified:"1f3ae",native:"\u{1F3AE}"}],version:1},joystick:{id:"joystick",name:"Joystick",keywords:["game","play"],skins:[{unified:"1f579-fe0f",native:"\u{1F579}\uFE0F"}],version:1},slot_machine:{id:"slot_machine",name:"Slot Machine",keywords:["bet","gamble","vegas","fruit","luck","casino"],skins:[{unified:"1f3b0",native:"\u{1F3B0}"}],version:1},game_die:{id:"game_die",name:"Game Die",keywords:["dice","random","tabletop","play","luck"],skins:[{unified:"1f3b2",native:"\u{1F3B2}"}],version:1},jigsaw:{id:"jigsaw",name:"Puzzle Piece",keywords:["jigsaw","interlocking"],skins:[{unified:"1f9e9",native:"\u{1F9E9}"}],version:11},teddy_bear:{id:"teddy_bear",name:"Teddy Bear",keywords:["plush","stuffed"],skins:[{unified:"1f9f8",native:"\u{1F9F8}"}],version:11},pinata:{id:"pinata",name:"Pinata",keywords:["mexico","candy","celebration"],skins:[{unified:"1fa85",native:"\u{1FA85}"}],version:13},mirror_ball:{id:"mirror_ball",name:"Mirror Ball",keywords:["disco","dance","party"],skins:[{unified:"1faa9",native:"\u{1FAA9}"}],version:14},nesting_dolls:{id:"nesting_dolls",name:"Nesting Dolls",keywords:["matryoshka","toy"],skins:[{unified:"1fa86",native:"\u{1FA86}"}],version:13},spades:{id:"spades",name:"Spade Suit",keywords:["spades","poker","cards","suits","magic"],skins:[{unified:"2660-fe0f",native:"\u2660\uFE0F"}],version:1},hearts:{id:"hearts",name:"Heart Suit",keywords:["hearts","poker","cards","magic","suits"],skins:[{unified:"2665-fe0f",native:"\u2665\uFE0F"}],version:1},diamonds:{id:"diamonds",name:"Diamond Suit",keywords:["diamonds","poker","cards","magic","suits"],skins:[{unified:"2666-fe0f",native:"\u2666\uFE0F"}],version:1},clubs:{id:"clubs",name:"Club Suit",keywords:["clubs","poker","cards","magic","suits"],skins:[{unified:"2663-fe0f",native:"\u2663\uFE0F"}],version:1},chess_pawn:{id:"chess_pawn",name:"Chess Pawn",keywords:["expendable"],skins:[{unified:"265f-fe0f",native:"\u265F\uFE0F"}],version:11},black_joker:{id:"black_joker",name:"Joker",keywords:["black","poker","cards","game","play","magic"],skins:[{unified:"1f0cf",native:"\u{1F0CF}"}],version:1},mahjong:{id:"mahjong",name:"Mahjong Red Dragon",keywords:["game","play","chinese","kanji"],skins:[{unified:"1f004",native:"\u{1F004}"}],version:1},flower_playing_cards:{id:"flower_playing_cards",name:"Flower Playing Cards",keywords:["game","sunset","red"],skins:[{unified:"1f3b4",native:"\u{1F3B4}"}],version:1},performing_arts:{id:"performing_arts",name:"Performing Arts",keywords:["acting","theater","drama"],skins:[{unified:"1f3ad",native:"\u{1F3AD}"}],version:1},frame_with_picture:{id:"frame_with_picture",name:"Framed Picture",keywords:["frame","with","photography"],skins:[{unified:"1f5bc-fe0f",native:"\u{1F5BC}\uFE0F"}],version:1},art:{id:"art",name:"Artist Palette",keywords:["art","design","paint","draw","colors"],skins:[{unified:"1f3a8",native:"\u{1F3A8}"}],version:1},thread:{id:"thread",name:"Thread",keywords:["needle","sewing","spool","string"],skins:[{unified:"1f9f5",native:"\u{1F9F5}"}],version:11},sewing_needle:{id:"sewing_needle",name:"Sewing Needle",keywords:["stitches"],skins:[{unified:"1faa1",native:"\u{1FAA1}"}],version:13},yarn:{id:"yarn",name:"Yarn",keywords:["ball","crochet","knit"],skins:[{unified:"1f9f6",native:"\u{1F9F6}"}],version:11},knot:{id:"knot",name:"Knot",keywords:["rope","scout"],skins:[{unified:"1faa2",native:"\u{1FAA2}"}],version:13},eyeglasses:{id:"eyeglasses",name:"Glasses",keywords:["eyeglasses","fashion","accessories","eyesight","nerdy","dork","geek"],skins:[{unified:"1f453",native:"\u{1F453}"}],version:1},dark_sunglasses:{id:"dark_sunglasses",name:"Sunglasses",keywords:["dark","face","cool","accessories"],skins:[{unified:"1f576-fe0f",native:"\u{1F576}\uFE0F"}],version:1},goggles:{id:"goggles",name:"Goggles",keywords:["eyes","protection","safety"],skins:[{unified:"1f97d",native:"\u{1F97D}"}],version:11},lab_coat:{id:"lab_coat",name:"Lab Coat",keywords:["doctor","experiment","scientist","chemist"],skins:[{unified:"1f97c",native:"\u{1F97C}"}],version:11},safety_vest:{id:"safety_vest",name:"Safety Vest",keywords:["protection"],skins:[{unified:"1f9ba",native:"\u{1F9BA}"}],version:12},necktie:{id:"necktie",name:"Necktie",keywords:["shirt","suitup","formal","fashion","cloth","business"],skins:[{unified:"1f454",native:"\u{1F454}"}],version:1},shirt:{id:"shirt",name:"T-Shirt",keywords:["shirt","tshirt","t","fashion","cloth","casual","tee"],skins:[{unified:"1f455",native:"\u{1F455}"}],version:1},jeans:{id:"jeans",name:"Jeans",keywords:["fashion","shopping"],skins:[{unified:"1f456",native:"\u{1F456}"}],version:1},scarf:{id:"scarf",name:"Scarf",keywords:["neck","winter","clothes"],skins:[{unified:"1f9e3",native:"\u{1F9E3}"}],version:5},gloves:{id:"gloves",name:"Gloves",keywords:["hands","winter","clothes"],skins:[{unified:"1f9e4",native:"\u{1F9E4}"}],version:5},coat:{id:"coat",name:"Coat",keywords:["jacket"],skins:[{unified:"1f9e5",native:"\u{1F9E5}"}],version:5},socks:{id:"socks",name:"Socks",keywords:["stockings","clothes"],skins:[{unified:"1f9e6",native:"\u{1F9E6}"}],version:5},dress:{id:"dress",name:"Dress",keywords:["clothes","fashion","shopping"],skins:[{unified:"1f457",native:"\u{1F457}"}],version:1},kimono:{id:"kimono",name:"Kimono",keywords:["dress","fashion","women","female","japanese"],skins:[{unified:"1f458",native:"\u{1F458}"}],version:1},sari:{id:"sari",name:"Sari",keywords:["dress"],skins:[{unified:"1f97b",native:"\u{1F97B}"}],version:12},"one-piece_swimsuit":{id:"one-piece_swimsuit",name:"One-Piece Swimsuit",keywords:["one","piece","fashion"],skins:[{unified:"1fa71",native:"\u{1FA71}"}],version:12},briefs:{id:"briefs",name:"Briefs",keywords:["clothing"],skins:[{unified:"1fa72",native:"\u{1FA72}"}],version:12},shorts:{id:"shorts",name:"Shorts",keywords:["clothing"],skins:[{unified:"1fa73",native:"\u{1FA73}"}],version:12},bikini:{id:"bikini",name:"Bikini",keywords:["swimming","female","woman","girl","fashion","beach","summer"],skins:[{unified:"1f459",native:"\u{1F459}"}],version:1},womans_clothes:{id:"womans_clothes",name:"Womans Clothes",keywords:["woman","s","fashion","shopping","bags","female"],skins:[{unified:"1f45a",native:"\u{1F45A}"}],version:1},purse:{id:"purse",name:"Purse",keywords:["fashion","accessories","money","sales","shopping"],skins:[{unified:"1f45b",native:"\u{1F45B}"}],version:1},handbag:{id:"handbag",name:"Handbag",keywords:["fashion","accessory","accessories","shopping"],skins:[{unified:"1f45c",native:"\u{1F45C}"}],version:1},pouch:{id:"pouch",name:"Pouch",keywords:["clutch","bag","accessories","shopping"],skins:[{unified:"1f45d",native:"\u{1F45D}"}],version:1},shopping_bags:{id:"shopping_bags",name:"Shopping Bags",keywords:["mall","buy","purchase"],skins:[{unified:"1f6cd-fe0f",native:"\u{1F6CD}\uFE0F"}],version:1},school_satchel:{id:"school_satchel",name:"Backpack",keywords:["school","satchel","student","education","bag"],skins:[{unified:"1f392",native:"\u{1F392}"}],version:1},thong_sandal:{id:"thong_sandal",name:"Thong Sandal",keywords:["footwear","summer"],skins:[{unified:"1fa74",native:"\u{1FA74}"}],version:13},mans_shoe:{id:"mans_shoe",name:"Mans Shoe",keywords:["man","s","fashion","male"],skins:[{unified:"1f45e",native:"\u{1F45E}"}],version:1},athletic_shoe:{id:"athletic_shoe",name:"Running Shoe",keywords:["athletic","shoes","sports","sneakers"],skins:[{unified:"1f45f",native:"\u{1F45F}"}],version:1},hiking_boot:{id:"hiking_boot",name:"Hiking Boot",keywords:["backpacking","camping"],skins:[{unified:"1f97e",native:"\u{1F97E}"}],version:11},womans_flat_shoe:{id:"womans_flat_shoe",name:"Flat Shoe",keywords:["womans","ballet","slip","on","slipper"],skins:[{unified:"1f97f",native:"\u{1F97F}"}],version:11},high_heel:{id:"high_heel",name:"High-Heeled Shoe",keywords:["high","heel","heeled","fashion","shoes","female","pumps","stiletto"],skins:[{unified:"1f460",native:"\u{1F460}"}],version:1},sandal:{id:"sandal",name:"Womans Sandal",keywords:["woman","s","shoes","fashion","flip","flops"],skins:[{unified:"1f461",native:"\u{1F461}"}],version:1},ballet_shoes:{id:"ballet_shoes",name:"Ballet Shoes",keywords:["dance"],skins:[{unified:"1fa70",native:"\u{1FA70}"}],version:12},boot:{id:"boot",name:"Womans Boots",keywords:["boot","woman","s","shoes","fashion"],skins:[{unified:"1f462",native:"\u{1F462}"}],version:1},crown:{id:"crown",name:"Crown",keywords:["king","kod","leader","royalty","lord"],skins:[{unified:"1f451",native:"\u{1F451}"}],version:1},womans_hat:{id:"womans_hat",name:"Womans Hat",keywords:["woman","s","fashion","accessories","female","lady","spring"],skins:[{unified:"1f452",native:"\u{1F452}"}],version:1},tophat:{id:"tophat",name:"Top Hat",keywords:["tophat","magic","gentleman","classy","circus"],skins:[{unified:"1f3a9",native:"\u{1F3A9}"}],version:1},mortar_board:{id:"mortar_board",name:"Graduation Cap",keywords:["mortar","board","school","college","degree","university","hat","legal","learn","education"],skins:[{unified:"1f393",native:"\u{1F393}"}],version:1},billed_cap:{id:"billed_cap",name:"Billed Cap",keywords:["baseball"],skins:[{unified:"1f9e2",native:"\u{1F9E2}"}],version:5},military_helmet:{id:"military_helmet",name:"Military Helmet",keywords:["army","protection"],skins:[{unified:"1fa96",native:"\u{1FA96}"}],version:13},helmet_with_white_cross:{id:"helmet_with_white_cross",name:"Rescue Worker\u2019s Helmet",keywords:["with","white","cross","worker","s","construction","build"],skins:[{unified:"26d1-fe0f",native:"\u26D1\uFE0F"}],version:1},prayer_beads:{id:"prayer_beads",name:"Prayer Beads",keywords:["dhikr","religious"],skins:[{unified:"1f4ff",native:"\u{1F4FF}"}],version:1},lipstick:{id:"lipstick",name:"Lipstick",keywords:["female","girl","fashion","woman"],skins:[{unified:"1f484",native:"\u{1F484}"}],version:1},ring:{id:"ring",name:"Ring",keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],skins:[{unified:"1f48d",native:"\u{1F48D}"}],version:1},gem:{id:"gem",name:"Gem Stone",keywords:["blue","ruby","diamond","jewelry"],skins:[{unified:"1f48e",native:"\u{1F48E}"}],version:1},mute:{id:"mute",name:"Muted Speaker",keywords:["mute","sound","volume","silence","quiet"],skins:[{unified:"1f507",native:"\u{1F507}"}],version:1},speaker:{id:"speaker",name:"Speaker",keywords:["low","volume","sound","silence","broadcast"],skins:[{unified:"1f508",native:"\u{1F508}"}],version:1},sound:{id:"sound",name:"Speaker Medium Volume",keywords:["sound","broadcast"],skins:[{unified:"1f509",native:"\u{1F509}"}],version:1},loud_sound:{id:"loud_sound",name:"Speaker High Volume",keywords:["loud","sound","noise","noisy","broadcast"],skins:[{unified:"1f50a",native:"\u{1F50A}"}],version:1},loudspeaker:{id:"loudspeaker",name:"Loudspeaker",keywords:["volume","sound"],skins:[{unified:"1f4e2",native:"\u{1F4E2}"}],version:1},mega:{id:"mega",name:"Megaphone",keywords:["mega","sound","speaker","volume"],skins:[{unified:"1f4e3",native:"\u{1F4E3}"}],version:1},postal_horn:{id:"postal_horn",name:"Postal Horn",keywords:["instrument","music"],skins:[{unified:"1f4ef",native:"\u{1F4EF}"}],version:1},bell:{id:"bell",name:"Bell",keywords:["sound","notification","christmas","xmas","chime"],skins:[{unified:"1f514",native:"\u{1F514}"}],version:1},no_bell:{id:"no_bell",name:"Bell with Slash",keywords:["no","sound","volume","mute","quiet","silent"],skins:[{unified:"1f515",native:"\u{1F515}"}],version:1},musical_score:{id:"musical_score",name:"Musical Score",keywords:["treble","clef","compose"],skins:[{unified:"1f3bc",native:"\u{1F3BC}"}],version:1},musical_note:{id:"musical_note",name:"Musical Note",keywords:["score","tone","sound"],skins:[{unified:"1f3b5",native:"\u{1F3B5}"}],version:1},notes:{id:"notes",name:"Musical Notes",keywords:["music","score"],skins:[{unified:"1f3b6",native:"\u{1F3B6}"}],version:1},studio_microphone:{id:"studio_microphone",name:"Studio Microphone",keywords:["sing","recording","artist","talkshow"],skins:[{unified:"1f399-fe0f",native:"\u{1F399}\uFE0F"}],version:1},level_slider:{id:"level_slider",name:"Level Slider",keywords:["scale"],skins:[{unified:"1f39a-fe0f",native:"\u{1F39A}\uFE0F"}],version:1},control_knobs:{id:"control_knobs",name:"Control Knobs",keywords:["dial"],skins:[{unified:"1f39b-fe0f",native:"\u{1F39B}\uFE0F"}],version:1},microphone:{id:"microphone",name:"Microphone",keywords:["sound","music","PA","sing","talkshow"],skins:[{unified:"1f3a4",native:"\u{1F3A4}"}],version:1},headphones:{id:"headphones",name:"Headphone",keywords:["headphones","music","score","gadgets"],skins:[{unified:"1f3a7",native:"\u{1F3A7}"}],version:1},radio:{id:"radio",name:"Radio",keywords:["communication","music","podcast","program"],skins:[{unified:"1f4fb",native:"\u{1F4FB}"}],version:1},saxophone:{id:"saxophone",name:"Saxophone",keywords:["music","instrument","jazz","blues"],skins:[{unified:"1f3b7",native:"\u{1F3B7}"}],version:1},accordion:{id:"accordion",name:"Accordion",keywords:["music"],skins:[{unified:"1fa97",native:"\u{1FA97}"}],version:13},guitar:{id:"guitar",name:"Guitar",keywords:["music","instrument"],skins:[{unified:"1f3b8",native:"\u{1F3B8}"}],version:1},musical_keyboard:{id:"musical_keyboard",name:"Musical Keyboard",keywords:["piano","instrument","compose"],skins:[{unified:"1f3b9",native:"\u{1F3B9}"}],version:1},trumpet:{id:"trumpet",name:"Trumpet",keywords:["music","brass"],skins:[{unified:"1f3ba",native:"\u{1F3BA}"}],version:1},violin:{id:"violin",name:"Violin",keywords:["music","instrument","orchestra","symphony"],skins:[{unified:"1f3bb",native:"\u{1F3BB}"}],version:1},banjo:{id:"banjo",name:"Banjo",keywords:["music","instructment"],skins:[{unified:"1fa95",native:"\u{1FA95}"}],version:12},drum_with_drumsticks:{id:"drum_with_drumsticks",name:"Drum",keywords:["with","drumsticks","music","instrument","snare"],skins:[{unified:"1f941",native:"\u{1F941}"}],version:3},long_drum:{id:"long_drum",name:"Long Drum",keywords:["music"],skins:[{unified:"1fa98",native:"\u{1FA98}"}],version:13},iphone:{id:"iphone",name:"Mobile Phone",keywords:["iphone","technology","apple","gadgets","dial"],skins:[{unified:"1f4f1",native:"\u{1F4F1}"}],version:1},calling:{id:"calling",name:"Mobile Phone with Arrow",keywords:["calling","iphone","incoming"],skins:[{unified:"1f4f2",native:"\u{1F4F2}"}],version:1},phone:{id:"phone",name:"Telephone",keywords:["phone","technology","communication","dial"],skins:[{unified:"260e-fe0f",native:"\u260E\uFE0F"}],version:1},telephone_receiver:{id:"telephone_receiver",name:"Telephone Receiver",keywords:["technology","communication","dial"],skins:[{unified:"1f4de",native:"\u{1F4DE}"}],version:1},pager:{id:"pager",name:"Pager",keywords:["bbcall","oldschool","90s"],skins:[{unified:"1f4df",native:"\u{1F4DF}"}],version:1},fax:{id:"fax",name:"Fax Machine",keywords:["communication","technology"],skins:[{unified:"1f4e0",native:"\u{1F4E0}"}],version:1},battery:{id:"battery",name:"Battery",keywords:["power","energy","sustain"],skins:[{unified:"1f50b",native:"\u{1F50B}"}],version:1},low_battery:{id:"low_battery",name:"Low Battery",keywords:["drained","dead"],skins:[{unified:"1faab",native:"\u{1FAAB}"}],version:14},electric_plug:{id:"electric_plug",name:"Electric Plug",keywords:["charger","power"],skins:[{unified:"1f50c",native:"\u{1F50C}"}],version:1},computer:{id:"computer",name:"Laptop",keywords:["computer","technology","screen","display","monitor"],skins:[{unified:"1f4bb",native:"\u{1F4BB}"}],version:1},desktop_computer:{id:"desktop_computer",name:"Desktop Computer",keywords:["technology","computing","screen"],skins:[{unified:"1f5a5-fe0f",native:"\u{1F5A5}\uFE0F"}],version:1},printer:{id:"printer",name:"Printer",keywords:["paper","ink"],skins:[{unified:"1f5a8-fe0f",native:"\u{1F5A8}\uFE0F"}],version:1},keyboard:{id:"keyboard",name:"Keyboard",keywords:["technology","computer","type","input","text"],skins:[{unified:"2328-fe0f",native:"\u2328\uFE0F"}],version:1},three_button_mouse:{id:"three_button_mouse",name:"Computer Mouse",keywords:["three","button","click"],skins:[{unified:"1f5b1-fe0f",native:"\u{1F5B1}\uFE0F"}],version:1},trackball:{id:"trackball",name:"Trackball",keywords:["technology","trackpad"],skins:[{unified:"1f5b2-fe0f",native:"\u{1F5B2}\uFE0F"}],version:1},minidisc:{id:"minidisc",name:"Minidisc",keywords:["computer","disk","technology","record","data","90s"],skins:[{unified:"1f4bd",native:"\u{1F4BD}"}],version:1},floppy_disk:{id:"floppy_disk",name:"Floppy Disk",keywords:["oldschool","technology","save","90s","80s"],skins:[{unified:"1f4be",native:"\u{1F4BE}"}],version:1},cd:{id:"cd",name:"Optical Disc",keywords:["cd","disk","technology","dvd","90s"],skins:[{unified:"1f4bf",native:"\u{1F4BF}"}],version:1},dvd:{id:"dvd",name:"Dvd",keywords:["cd","disk","disc"],skins:[{unified:"1f4c0",native:"\u{1F4C0}"}],version:1},abacus:{id:"abacus",name:"Abacus",keywords:["calculation"],skins:[{unified:"1f9ee",native:"\u{1F9EE}"}],version:11},movie_camera:{id:"movie_camera",name:"Movie Camera",keywords:["film","record"],skins:[{unified:"1f3a5",native:"\u{1F3A5}"}],version:1},film_frames:{id:"film_frames",name:"Film Frames",keywords:["movie"],skins:[{unified:"1f39e-fe0f",native:"\u{1F39E}\uFE0F"}],version:1},film_projector:{id:"film_projector",name:"Film Projector",keywords:["video","tape","record","movie"],skins:[{unified:"1f4fd-fe0f",native:"\u{1F4FD}\uFE0F"}],version:1},clapper:{id:"clapper",name:"Clapper Board",keywords:["movie","film","record"],skins:[{unified:"1f3ac",native:"\u{1F3AC}"}],version:1},tv:{id:"tv",name:"Television",keywords:["tv","technology","program","oldschool","show"],skins:[{unified:"1f4fa",native:"\u{1F4FA}"}],version:1},camera:{id:"camera",name:"Camera",keywords:["gadgets","photography"],skins:[{unified:"1f4f7",native:"\u{1F4F7}"}],version:1},camera_with_flash:{id:"camera_with_flash",name:"Camera with Flash",keywords:["photography","gadgets"],skins:[{unified:"1f4f8",native:"\u{1F4F8}"}],version:1},video_camera:{id:"video_camera",name:"Video Camera",keywords:["film","record"],skins:[{unified:"1f4f9",native:"\u{1F4F9}"}],version:1},vhs:{id:"vhs",name:"Videocassette",keywords:["vhs","record","video","oldschool","90s","80s"],skins:[{unified:"1f4fc",native:"\u{1F4FC}"}],version:1},mag:{id:"mag",name:"Magnifying Glass Tilted Left",keywords:["mag","search","zoom","find","detective"],skins:[{unified:"1f50d",native:"\u{1F50D}"}],version:1},mag_right:{id:"mag_right",name:"Magnifying Glass Tilted Right",keywords:["mag","search","zoom","find","detective"],skins:[{unified:"1f50e",native:"\u{1F50E}"}],version:1},candle:{id:"candle",name:"Candle",keywords:["fire","wax"],skins:[{unified:"1f56f-fe0f",native:"\u{1F56F}\uFE0F"}],version:1},bulb:{id:"bulb",name:"Light Bulb",keywords:["electricity","idea"],skins:[{unified:"1f4a1",native:"\u{1F4A1}"}],version:1},flashlight:{id:"flashlight",name:"Flashlight",keywords:["dark","camping","sight","night"],skins:[{unified:"1f526",native:"\u{1F526}"}],version:1},izakaya_lantern:{id:"izakaya_lantern",name:"Izakaya Lantern",keywords:["red","paper","light","halloween","spooky"],skins:[{unified:"1f3ee",native:"\u{1F3EE}"}],version:1},diya_lamp:{id:"diya_lamp",name:"Diya Lamp",keywords:["lighting"],skins:[{unified:"1fa94",native:"\u{1FA94}"}],version:12},notebook_with_decorative_cover:{id:"notebook_with_decorative_cover",name:"Notebook with Decorative Cover",keywords:["classroom","notes","record","paper","study"],skins:[{unified:"1f4d4",native:"\u{1F4D4}"}],version:1},closed_book:{id:"closed_book",name:"Closed Book",keywords:["read","library","knowledge","textbook","learn"],skins:[{unified:"1f4d5",native:"\u{1F4D5}"}],version:1},book:{id:"book",name:"Open Book",keywords:["read","library","knowledge","literature","learn","study"],skins:[{unified:"1f4d6",native:"\u{1F4D6}"}],version:1},green_book:{id:"green_book",name:"Green Book",keywords:["read","library","knowledge","study"],skins:[{unified:"1f4d7",native:"\u{1F4D7}"}],version:1},blue_book:{id:"blue_book",name:"Blue Book",keywords:["read","library","knowledge","learn","study"],skins:[{unified:"1f4d8",native:"\u{1F4D8}"}],version:1},orange_book:{id:"orange_book",name:"Orange Book",keywords:["read","library","knowledge","textbook","study"],skins:[{unified:"1f4d9",native:"\u{1F4D9}"}],version:1},books:{id:"books",name:"Books",keywords:["literature","library","study"],skins:[{unified:"1f4da",native:"\u{1F4DA}"}],version:1},notebook:{id:"notebook",name:"Notebook",keywords:["stationery","record","notes","paper","study"],skins:[{unified:"1f4d3",native:"\u{1F4D3}"}],version:1},ledger:{id:"ledger",name:"Ledger",keywords:["notes","paper"],skins:[{unified:"1f4d2",native:"\u{1F4D2}"}],version:1},page_with_curl:{id:"page_with_curl",name:"Page with Curl",keywords:["documents","office","paper"],skins:[{unified:"1f4c3",native:"\u{1F4C3}"}],version:1},scroll:{id:"scroll",name:"Scroll",keywords:["documents","ancient","history","paper"],skins:[{unified:"1f4dc",native:"\u{1F4DC}"}],version:1},page_facing_up:{id:"page_facing_up",name:"Page Facing Up",keywords:["documents","office","paper","information"],skins:[{unified:"1f4c4",native:"\u{1F4C4}"}],version:1},newspaper:{id:"newspaper",name:"Newspaper",keywords:["press","headline"],skins:[{unified:"1f4f0",native:"\u{1F4F0}"}],version:1},rolled_up_newspaper:{id:"rolled_up_newspaper",name:"Rolled-Up Newspaper",keywords:["rolled","up","press","headline"],skins:[{unified:"1f5de-fe0f",native:"\u{1F5DE}\uFE0F"}],version:1},bookmark_tabs:{id:"bookmark_tabs",name:"Bookmark Tabs",keywords:["favorite","save","order","tidy"],skins:[{unified:"1f4d1",native:"\u{1F4D1}"}],version:1},bookmark:{id:"bookmark",name:"Bookmark",keywords:["favorite","label","save"],skins:[{unified:"1f516",native:"\u{1F516}"}],version:1},label:{id:"label",name:"Label",keywords:["sale","tag"],skins:[{unified:"1f3f7-fe0f",native:"\u{1F3F7}\uFE0F"}],version:1},moneybag:{id:"moneybag",name:"Money Bag",keywords:["moneybag","dollar","payment","coins","sale"],skins:[{unified:"1f4b0",native:"\u{1F4B0}"}],version:1},coin:{id:"coin",name:"Coin",keywords:["money","currency"],skins:[{unified:"1fa99",native:"\u{1FA99}"}],version:13},yen:{id:"yen",name:"Yen Banknote",keywords:["money","sales","japanese","dollar","currency"],skins:[{unified:"1f4b4",native:"\u{1F4B4}"}],version:1},dollar:{id:"dollar",name:"Dollar Banknote",keywords:["money","sales","bill","currency"],skins:[{unified:"1f4b5",native:"\u{1F4B5}"}],version:1},euro:{id:"euro",name:"Euro Banknote",keywords:["money","sales","dollar","currency"],skins:[{unified:"1f4b6",native:"\u{1F4B6}"}],version:1},pound:{id:"pound",name:"Pound Banknote",keywords:["british","sterling","money","sales","bills","uk","england","currency"],skins:[{unified:"1f4b7",native:"\u{1F4B7}"}],version:1},money_with_wings:{id:"money_with_wings",name:"Money with Wings",keywords:["dollar","bills","payment","sale"],skins:[{unified:"1f4b8",native:"\u{1F4B8}"}],version:1},credit_card:{id:"credit_card",name:"Credit Card",keywords:["money","sales","dollar","bill","payment","shopping"],skins:[{unified:"1f4b3",native:"\u{1F4B3}"}],version:1},receipt:{id:"receipt",name:"Receipt",keywords:["accounting","expenses"],skins:[{unified:"1f9fe",native:"\u{1F9FE}"}],version:11},chart:{id:"chart",name:"Chart Increasing with Yen",keywords:["green","square","graph","presentation","stats"],skins:[{unified:"1f4b9",native:"\u{1F4B9}"}],version:1},email:{id:"email",name:"Envelope",keywords:["email","letter","postal","inbox","communication"],skins:[{unified:"2709-fe0f",native:"\u2709\uFE0F"}],version:1},"e-mail":{id:"e-mail",name:"E-Mail",keywords:["e","mail","communication","inbox"],skins:[{unified:"1f4e7",native:"\u{1F4E7}"}],version:1},incoming_envelope:{id:"incoming_envelope",name:"Incoming Envelope",keywords:["email","inbox"],skins:[{unified:"1f4e8",native:"\u{1F4E8}"}],version:1},envelope_with_arrow:{id:"envelope_with_arrow",name:"Envelope with Arrow",keywords:["email","communication"],skins:[{unified:"1f4e9",native:"\u{1F4E9}"}],version:1},outbox_tray:{id:"outbox_tray",name:"Outbox Tray",keywords:["inbox","email"],skins:[{unified:"1f4e4",native:"\u{1F4E4}"}],version:1},inbox_tray:{id:"inbox_tray",name:"Inbox Tray",keywords:["email","documents"],skins:[{unified:"1f4e5",native:"\u{1F4E5}"}],version:1},package:{id:"package",name:"Package",keywords:["mail","gift","cardboard","box","moving"],skins:[{unified:"1f4e6",native:"\u{1F4E6}"}],version:1},mailbox:{id:"mailbox",name:"Closed Mailbox with Raised Flag",keywords:["email","inbox","communication"],skins:[{unified:"1f4eb",native:"\u{1F4EB}"}],version:1},mailbox_closed:{id:"mailbox_closed",name:"Closed Mailbox with Lowered Flag",keywords:["email","communication","inbox"],skins:[{unified:"1f4ea",native:"\u{1F4EA}"}],version:1},mailbox_with_mail:{id:"mailbox_with_mail",name:"Open Mailbox with Raised Flag",keywords:["mail","email","inbox","communication"],skins:[{unified:"1f4ec",native:"\u{1F4EC}"}],version:1},mailbox_with_no_mail:{id:"mailbox_with_no_mail",name:"Open Mailbox with Lowered Flag",keywords:["no","mail","email","inbox"],skins:[{unified:"1f4ed",native:"\u{1F4ED}"}],version:1},postbox:{id:"postbox",name:"Postbox",keywords:["email","letter","envelope"],skins:[{unified:"1f4ee",native:"\u{1F4EE}"}],version:1},ballot_box_with_ballot:{id:"ballot_box_with_ballot",name:"Ballot Box with Ballot",keywords:["election","vote"],skins:[{unified:"1f5f3-fe0f",native:"\u{1F5F3}\uFE0F"}],version:1},pencil2:{id:"pencil2",name:"Pencil",keywords:["pencil2","stationery","write","paper","writing","school","study"],skins:[{unified:"270f-fe0f",native:"\u270F\uFE0F"}],version:1},black_nib:{id:"black_nib",name:"Black Nib",keywords:["pen","stationery","writing","write"],skins:[{unified:"2712-fe0f",native:"\u2712\uFE0F"}],version:1},lower_left_fountain_pen:{id:"lower_left_fountain_pen",name:"Fountain Pen",keywords:["lower","left","stationery","writing","write"],skins:[{unified:"1f58b-fe0f",native:"\u{1F58B}\uFE0F"}],version:1},lower_left_ballpoint_pen:{id:"lower_left_ballpoint_pen",name:"Pen",keywords:["lower","left","ballpoint","stationery","writing","write"],skins:[{unified:"1f58a-fe0f",native:"\u{1F58A}\uFE0F"}],version:1},lower_left_paintbrush:{id:"lower_left_paintbrush",name:"Paintbrush",keywords:["lower","left","drawing","creativity","art"],skins:[{unified:"1f58c-fe0f",native:"\u{1F58C}\uFE0F"}],version:1},lower_left_crayon:{id:"lower_left_crayon",name:"Crayon",keywords:["lower","left","drawing","creativity"],skins:[{unified:"1f58d-fe0f",native:"\u{1F58D}\uFE0F"}],version:1},memo:{id:"memo",name:"Memo",keywords:["pencil","write","documents","stationery","paper","writing","legal","exam","quiz","test","study","compose"],skins:[{unified:"1f4dd",native:"\u{1F4DD}"}],version:1},briefcase:{id:"briefcase",name:"Briefcase",keywords:["business","documents","work","law","legal","job","career"],skins:[{unified:"1f4bc",native:"\u{1F4BC}"}],version:1},file_folder:{id:"file_folder",name:"File Folder",keywords:["documents","business","office"],skins:[{unified:"1f4c1",native:"\u{1F4C1}"}],version:1},open_file_folder:{id:"open_file_folder",name:"Open File Folder",keywords:["documents","load"],skins:[{unified:"1f4c2",native:"\u{1F4C2}"}],version:1},card_index_dividers:{id:"card_index_dividers",name:"Card Index Dividers",keywords:["organizing","business","stationery"],skins:[{unified:"1f5c2-fe0f",native:"\u{1F5C2}\uFE0F"}],version:1},date:{id:"date",name:"Calendar",keywords:["date","schedule"],skins:[{unified:"1f4c5",native:"\u{1F4C5}"}],version:1},calendar:{id:"calendar",name:"Tear-off Calendar",keywords:["tear","off","schedule","date","planning"],skins:[{unified:"1f4c6",native:"\u{1F4C6}"}],version:1},spiral_note_pad:{id:"spiral_note_pad",name:"Spiral Notepad",keywords:["note","pad","memo","stationery"],skins:[{unified:"1f5d2-fe0f",native:"\u{1F5D2}\uFE0F"}],version:1},spiral_calendar_pad:{id:"spiral_calendar_pad",name:"Spiral Calendar",keywords:["pad","date","schedule","planning"],skins:[{unified:"1f5d3-fe0f",native:"\u{1F5D3}\uFE0F"}],version:1},card_index:{id:"card_index",name:"Card Index",keywords:["business","stationery"],skins:[{unified:"1f4c7",native:"\u{1F4C7}"}],version:1},chart_with_upwards_trend:{id:"chart_with_upwards_trend",name:"Chart Increasing",keywords:["with","upwards","trend","graph","presentation","stats","recovery","business","economics","money","sales","good","success"],skins:[{unified:"1f4c8",native:"\u{1F4C8}"}],version:1},chart_with_downwards_trend:{id:"chart_with_downwards_trend",name:"Chart Decreasing",keywords:["with","downwards","trend","graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],skins:[{unified:"1f4c9",native:"\u{1F4C9}"}],version:1},bar_chart:{id:"bar_chart",name:"Bar Chart",keywords:["graph","presentation","stats"],skins:[{unified:"1f4ca",native:"\u{1F4CA}"}],version:1},clipboard:{id:"clipboard",name:"Clipboard",keywords:["stationery","documents"],skins:[{unified:"1f4cb",native:"\u{1F4CB}"}],version:1},pushpin:{id:"pushpin",name:"Pushpin",keywords:["stationery","mark","here"],skins:[{unified:"1f4cc",native:"\u{1F4CC}"}],version:1},round_pushpin:{id:"round_pushpin",name:"Round Pushpin",keywords:["stationery","location","map","here"],skins:[{unified:"1f4cd",native:"\u{1F4CD}"}],version:1},paperclip:{id:"paperclip",name:"Paperclip",keywords:["documents","stationery"],skins:[{unified:"1f4ce",native:"\u{1F4CE}"}],version:1},linked_paperclips:{id:"linked_paperclips",name:"Linked Paperclips",keywords:["documents","stationery"],skins:[{unified:"1f587-fe0f",native:"\u{1F587}\uFE0F"}],version:1},straight_ruler:{id:"straight_ruler",name:"Straight Ruler",keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],skins:[{unified:"1f4cf",native:"\u{1F4CF}"}],version:1},triangular_ruler:{id:"triangular_ruler",name:"Triangular Ruler",keywords:["stationery","math","architect","sketch"],skins:[{unified:"1f4d0",native:"\u{1F4D0}"}],version:1},scissors:{id:"scissors",name:"Scissors",keywords:["stationery","cut"],skins:[{unified:"2702-fe0f",native:"\u2702\uFE0F"}],version:1},card_file_box:{id:"card_file_box",name:"Card File Box",keywords:["business","stationery"],skins:[{unified:"1f5c3-fe0f",native:"\u{1F5C3}\uFE0F"}],version:1},file_cabinet:{id:"file_cabinet",name:"File Cabinet",keywords:["filing","organizing"],skins:[{unified:"1f5c4-fe0f",native:"\u{1F5C4}\uFE0F"}],version:1},wastebasket:{id:"wastebasket",name:"Wastebasket",keywords:["bin","trash","rubbish","garbage","toss"],skins:[{unified:"1f5d1-fe0f",native:"\u{1F5D1}\uFE0F"}],version:1},lock:{id:"lock",name:"Lock",keywords:["locked","security","password","padlock"],skins:[{unified:"1f512",native:"\u{1F512}"}],version:1},unlock:{id:"unlock",name:"Unlocked",keywords:["unlock","privacy","security"],skins:[{unified:"1f513",native:"\u{1F513}"}],version:1},lock_with_ink_pen:{id:"lock_with_ink_pen",name:"Locked with Pen",keywords:["lock","ink","security","secret"],skins:[{unified:"1f50f",native:"\u{1F50F}"}],version:1},closed_lock_with_key:{id:"closed_lock_with_key",name:"Locked with Key",keywords:["closed","lock","security","privacy"],skins:[{unified:"1f510",native:"\u{1F510}"}],version:1},key:{id:"key",name:"Key",keywords:["lock","door","password"],skins:[{unified:"1f511",native:"\u{1F511}"}],version:1},old_key:{id:"old_key",name:"Old Key",keywords:["lock","door","password"],skins:[{unified:"1f5dd-fe0f",native:"\u{1F5DD}\uFE0F"}],version:1},hammer:{id:"hammer",name:"Hammer",keywords:["tools","build","create"],skins:[{unified:"1f528",native:"\u{1F528}"}],version:1},axe:{id:"axe",name:"Axe",keywords:["tool","chop","cut"],skins:[{unified:"1fa93",native:"\u{1FA93}"}],version:12},pick:{id:"pick",name:"Pick",keywords:["tools","dig"],skins:[{unified:"26cf-fe0f",native:"\u26CF\uFE0F"}],version:1},hammer_and_pick:{id:"hammer_and_pick",name:"Hammer and Pick",keywords:["tools","build","create"],skins:[{unified:"2692-fe0f",native:"\u2692\uFE0F"}],version:1},hammer_and_wrench:{id:"hammer_and_wrench",name:"Hammer and Wrench",keywords:["tools","build","create"],skins:[{unified:"1f6e0-fe0f",native:"\u{1F6E0}\uFE0F"}],version:1},dagger_knife:{id:"dagger_knife",name:"Dagger",keywords:["knife","weapon"],skins:[{unified:"1f5e1-fe0f",native:"\u{1F5E1}\uFE0F"}],version:1},crossed_swords:{id:"crossed_swords",name:"Crossed Swords",keywords:["weapon"],skins:[{unified:"2694-fe0f",native:"\u2694\uFE0F"}],version:1},gun:{id:"gun",name:"Pistol",keywords:["gun","violence","weapon","revolver"],skins:[{unified:"1f52b",native:"\u{1F52B}"}],version:1},boomerang:{id:"boomerang",name:"Boomerang",keywords:["weapon"],skins:[{unified:"1fa83",native:"\u{1FA83}"}],version:13},bow_and_arrow:{id:"bow_and_arrow",name:"Bow and Arrow",keywords:["sports"],skins:[{unified:"1f3f9",native:"\u{1F3F9}"}],version:1},shield:{id:"shield",name:"Shield",keywords:["protection","security"],skins:[{unified:"1f6e1-fe0f",native:"\u{1F6E1}\uFE0F"}],version:1},carpentry_saw:{id:"carpentry_saw",name:"Carpentry Saw",keywords:["cut","chop"],skins:[{unified:"1fa9a",native:"\u{1FA9A}"}],version:13},wrench:{id:"wrench",name:"Wrench",keywords:["tools","diy","ikea","fix","maintainer"],skins:[{unified:"1f527",native:"\u{1F527}"}],version:1},screwdriver:{id:"screwdriver",name:"Screwdriver",keywords:["tools"],skins:[{unified:"1fa9b",native:"\u{1FA9B}"}],version:13},nut_and_bolt:{id:"nut_and_bolt",name:"Nut and Bolt",keywords:["handy","tools","fix"],skins:[{unified:"1f529",native:"\u{1F529}"}],version:1},gear:{id:"gear",name:"Gear",keywords:["cog"],skins:[{unified:"2699-fe0f",native:"\u2699\uFE0F"}],version:1},compression:{id:"compression",name:"Clamp",keywords:["compression","tool"],skins:[{unified:"1f5dc-fe0f",native:"\u{1F5DC}\uFE0F"}],version:1},scales:{id:"scales",name:"Balance Scale",keywords:["scales","law","fairness","weight"],skins:[{unified:"2696-fe0f",native:"\u2696\uFE0F"}],version:1},probing_cane:{id:"probing_cane",name:"White Cane",keywords:["probing","accessibility"],skins:[{unified:"1f9af",native:"\u{1F9AF}"}],version:12},link:{id:"link",name:"Link",keywords:["rings","url"],skins:[{unified:"1f517",native:"\u{1F517}"}],version:1},chains:{id:"chains",name:"Chains",keywords:["lock","arrest"],skins:[{unified:"26d3-fe0f",native:"\u26D3\uFE0F"}],version:1},hook:{id:"hook",name:"Hook",keywords:["tools"],skins:[{unified:"1fa9d",native:"\u{1FA9D}"}],version:13},toolbox:{id:"toolbox",name:"Toolbox",keywords:["tools","diy","fix","maintainer","mechanic"],skins:[{unified:"1f9f0",native:"\u{1F9F0}"}],version:11},magnet:{id:"magnet",name:"Magnet",keywords:["attraction","magnetic"],skins:[{unified:"1f9f2",native:"\u{1F9F2}"}],version:11},ladder:{id:"ladder",name:"Ladder",keywords:["tools"],skins:[{unified:"1fa9c",native:"\u{1FA9C}"}],version:13},alembic:{id:"alembic",name:"Alembic",keywords:["distilling","science","experiment","chemistry"],skins:[{unified:"2697-fe0f",native:"\u2697\uFE0F"}],version:1},test_tube:{id:"test_tube",name:"Test Tube",keywords:["chemistry","experiment","lab","science"],skins:[{unified:"1f9ea",native:"\u{1F9EA}"}],version:11},petri_dish:{id:"petri_dish",name:"Petri Dish",keywords:["bacteria","biology","culture","lab"],skins:[{unified:"1f9eb",native:"\u{1F9EB}"}],version:11},dna:{id:"dna",name:"Dna",keywords:["biologist","genetics","life"],skins:[{unified:"1f9ec",native:"\u{1F9EC}"}],version:11},microscope:{id:"microscope",name:"Microscope",keywords:["laboratory","experiment","zoomin","science","study"],skins:[{unified:"1f52c",native:"\u{1F52C}"}],version:1},telescope:{id:"telescope",name:"Telescope",keywords:["stars","space","zoom","science","astronomy"],skins:[{unified:"1f52d",native:"\u{1F52D}"}],version:1},satellite_antenna:{id:"satellite_antenna",name:"Satellite Antenna",keywords:["communication","future","radio","space"],skins:[{unified:"1f4e1",native:"\u{1F4E1}"}],version:1},syringe:{id:"syringe",name:"Syringe",keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],skins:[{unified:"1f489",native:"\u{1F489}"}],version:1},drop_of_blood:{id:"drop_of_blood",name:"Drop of Blood",keywords:["period","hurt","harm","wound"],skins:[{unified:"1fa78",native:"\u{1FA78}"}],version:12},pill:{id:"pill",name:"Pill",keywords:["health","medicine","doctor","pharmacy","drug"],skins:[{unified:"1f48a",native:"\u{1F48A}"}],version:1},adhesive_bandage:{id:"adhesive_bandage",name:"Adhesive Bandage",keywords:["heal"],skins:[{unified:"1fa79",native:"\u{1FA79}"}],version:12},crutch:{id:"crutch",name:"Crutch",keywords:["accessibility","assist"],skins:[{unified:"1fa7c",native:"\u{1FA7C}"}],version:14},stethoscope:{id:"stethoscope",name:"Stethoscope",keywords:["health"],skins:[{unified:"1fa7a",native:"\u{1FA7A}"}],version:12},"x-ray":{id:"x-ray",name:"X-Ray",keywords:["x","ray","skeleton","medicine"],skins:[{unified:"1fa7b",native:"\u{1FA7B}"}],version:14},door:{id:"door",name:"Door",keywords:["house","entry","exit"],skins:[{unified:"1f6aa",native:"\u{1F6AA}"}],version:1},elevator:{id:"elevator",name:"Elevator",keywords:["lift"],skins:[{unified:"1f6d7",native:"\u{1F6D7}"}],version:13},mirror:{id:"mirror",name:"Mirror",keywords:["reflection"],skins:[{unified:"1fa9e",native:"\u{1FA9E}"}],version:13},window:{id:"window",name:"Window",keywords:["scenery"],skins:[{unified:"1fa9f",native:"\u{1FA9F}"}],version:13},bed:{id:"bed",name:"Bed",keywords:["sleep","rest"],skins:[{unified:"1f6cf-fe0f",native:"\u{1F6CF}\uFE0F"}],version:1},couch_and_lamp:{id:"couch_and_lamp",name:"Couch and Lamp",keywords:["read","chill"],skins:[{unified:"1f6cb-fe0f",native:"\u{1F6CB}\uFE0F"}],version:1},chair:{id:"chair",name:"Chair",keywords:["sit","furniture"],skins:[{unified:"1fa91",native:"\u{1FA91}"}],version:12},toilet:{id:"toilet",name:"Toilet",keywords:["restroom","wc","washroom","bathroom","potty"],skins:[{unified:"1f6bd",native:"\u{1F6BD}"}],version:1},plunger:{id:"plunger",name:"Plunger",keywords:["toilet"],skins:[{unified:"1faa0",native:"\u{1FAA0}"}],version:13},shower:{id:"shower",name:"Shower",keywords:["clean","water","bathroom"],skins:[{unified:"1f6bf",native:"\u{1F6BF}"}],version:1},bathtub:{id:"bathtub",name:"Bathtub",keywords:["clean","shower","bathroom"],skins:[{unified:"1f6c1",native:"\u{1F6C1}"}],version:1},mouse_trap:{id:"mouse_trap",name:"Mouse Trap",keywords:["cheese"],skins:[{unified:"1faa4",native:"\u{1FAA4}"}],version:13},razor:{id:"razor",name:"Razor",keywords:["cut"],skins:[{unified:"1fa92",native:"\u{1FA92}"}],version:12},lotion_bottle:{id:"lotion_bottle",name:"Lotion Bottle",keywords:["moisturizer","sunscreen"],skins:[{unified:"1f9f4",native:"\u{1F9F4}"}],version:11},safety_pin:{id:"safety_pin",name:"Safety Pin",keywords:["diaper"],skins:[{unified:"1f9f7",native:"\u{1F9F7}"}],version:11},broom:{id:"broom",name:"Broom",keywords:["cleaning","sweeping","witch"],skins:[{unified:"1f9f9",native:"\u{1F9F9}"}],version:11},basket:{id:"basket",name:"Basket",keywords:["laundry"],skins:[{unified:"1f9fa",native:"\u{1F9FA}"}],version:11},roll_of_paper:{id:"roll_of_paper",name:"Roll of Paper",keywords:[],skins:[{unified:"1f9fb",native:"\u{1F9FB}"}],version:11},bucket:{id:"bucket",name:"Bucket",keywords:["water","container"],skins:[{unified:"1faa3",native:"\u{1FAA3}"}],version:13},soap:{id:"soap",name:"Soap",keywords:["bar","bathing","cleaning","lather"],skins:[{unified:"1f9fc",native:"\u{1F9FC}"}],version:11},bubbles:{id:"bubbles",name:"Bubbles",keywords:["soap","fun","carbonation","sparkling"],skins:[{unified:"1fae7",native:"\u{1FAE7}"}],version:14},toothbrush:{id:"toothbrush",name:"Toothbrush",keywords:["hygiene","dental"],skins:[{unified:"1faa5",native:"\u{1FAA5}"}],version:13},sponge:{id:"sponge",name:"Sponge",keywords:["absorbing","cleaning","porous"],skins:[{unified:"1f9fd",native:"\u{1F9FD}"}],version:11},fire_extinguisher:{id:"fire_extinguisher",name:"Fire Extinguisher",keywords:["quench"],skins:[{unified:"1f9ef",native:"\u{1F9EF}"}],version:11},shopping_trolley:{id:"shopping_trolley",name:"Shopping Cart",keywords:["trolley"],skins:[{unified:"1f6d2",native:"\u{1F6D2}"}],version:3},smoking:{id:"smoking",name:"Cigarette",keywords:["smoking","kills","tobacco","joint","smoke"],skins:[{unified:"1f6ac",native:"\u{1F6AC}"}],version:1},coffin:{id:"coffin",name:"Coffin",keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],skins:[{unified:"26b0-fe0f",native:"\u26B0\uFE0F"}],version:1},headstone:{id:"headstone",name:"Headstone",keywords:["death","rip","grave"],skins:[{unified:"1faa6",native:"\u{1FAA6}"}],version:13},funeral_urn:{id:"funeral_urn",name:"Funeral Urn",keywords:["dead","die","death","rip","ashes"],skins:[{unified:"26b1-fe0f",native:"\u26B1\uFE0F"}],version:1},moyai:{id:"moyai",name:"Moai",keywords:["moyai","rock","easter","island"],skins:[{unified:"1f5ff",native:"\u{1F5FF}"}],version:1},placard:{id:"placard",name:"Placard",keywords:["announcement"],skins:[{unified:"1faa7",native:"\u{1FAA7}"}],version:13},identification_card:{id:"identification_card",name:"Identification Card",keywords:["document"],skins:[{unified:"1faaa",native:"\u{1FAAA}"}],version:14},atm:{id:"atm",name:"Atm Sign",keywords:["money","sales","cash","blue","square","payment","bank"],skins:[{unified:"1f3e7",native:"\u{1F3E7}"}],version:1},put_litter_in_its_place:{id:"put_litter_in_its_place",name:"Litter in Bin Sign",keywords:["put","its","place","blue","square","human","info"],skins:[{unified:"1f6ae",native:"\u{1F6AE}"}],version:1},potable_water:{id:"potable_water",name:"Potable Water",keywords:["blue","square","liquid","restroom","cleaning","faucet"],skins:[{unified:"1f6b0",native:"\u{1F6B0}"}],version:1},wheelchair:{id:"wheelchair",name:"Wheelchair Symbol",keywords:["blue","square","disabled","accessibility"],skins:[{unified:"267f",native:"\u267F"}],version:1},mens:{id:"mens",name:"Men\u2019s Room",keywords:["mens","men","s","toilet","restroom","wc","blue","square","gender","male"],skins:[{unified:"1f6b9",native:"\u{1F6B9}"}],version:1},womens:{id:"womens",name:"Women\u2019s Room",keywords:["womens","women","s","purple","square","woman","female","toilet","loo","restroom","gender"],skins:[{unified:"1f6ba",native:"\u{1F6BA}"}],version:1},restroom:{id:"restroom",name:"Restroom",keywords:["blue","square","toilet","refresh","wc","gender"],skins:[{unified:"1f6bb",native:"\u{1F6BB}"}],version:1},baby_symbol:{id:"baby_symbol",name:"Baby Symbol",keywords:["orange","square","child"],skins:[{unified:"1f6bc",native:"\u{1F6BC}"}],version:1},wc:{id:"wc",name:"Water Closet",keywords:["wc","toilet","restroom","blue","square"],skins:[{unified:"1f6be",native:"\u{1F6BE}"}],version:1},passport_control:{id:"passport_control",name:"Passport Control",keywords:["custom","blue","square"],skins:[{unified:"1f6c2",native:"\u{1F6C2}"}],version:1},customs:{id:"customs",name:"Customs",keywords:["passport","border","blue","square"],skins:[{unified:"1f6c3",native:"\u{1F6C3}"}],version:1},baggage_claim:{id:"baggage_claim",name:"Baggage Claim",keywords:["blue","square","airport","transport"],skins:[{unified:"1f6c4",native:"\u{1F6C4}"}],version:1},left_luggage:{id:"left_luggage",name:"Left Luggage",keywords:["blue","square","travel"],skins:[{unified:"1f6c5",native:"\u{1F6C5}"}],version:1},warning:{id:"warning",name:"Warning",keywords:["exclamation","wip","alert","error","problem","issue"],skins:[{unified:"26a0-fe0f",native:"\u26A0\uFE0F"}],version:1},children_crossing:{id:"children_crossing",name:"Children Crossing",keywords:["school","warning","danger","sign","driving","yellow","diamond"],skins:[{unified:"1f6b8",native:"\u{1F6B8}"}],version:1},no_entry:{id:"no_entry",name:"No Entry",keywords:["limit","security","privacy","bad","denied","stop","circle"],skins:[{unified:"26d4",native:"\u26D4"}],version:1},no_entry_sign:{id:"no_entry_sign",name:"Prohibited",keywords:["no","entry","sign","forbid","stop","limit","denied","disallow","circle"],skins:[{unified:"1f6ab",native:"\u{1F6AB}"}],version:1},no_bicycles:{id:"no_bicycles",name:"No Bicycles",keywords:["cyclist","prohibited","circle"],skins:[{unified:"1f6b3",native:"\u{1F6B3}"}],version:1},no_smoking:{id:"no_smoking",name:"No Smoking",keywords:["cigarette","blue","square","smell","smoke"],skins:[{unified:"1f6ad",native:"\u{1F6AD}"}],version:1},do_not_litter:{id:"do_not_litter",name:"No Littering",keywords:["do","not","litter","trash","bin","garbage","circle"],skins:[{unified:"1f6af",native:"\u{1F6AF}"}],version:1},"non-potable_water":{id:"non-potable_water",name:"Non-Potable Water",keywords:["non","potable","drink","faucet","tap","circle"],skins:[{unified:"1f6b1",native:"\u{1F6B1}"}],version:1},no_pedestrians:{id:"no_pedestrians",name:"No Pedestrians",keywords:["rules","crossing","walking","circle"],skins:[{unified:"1f6b7",native:"\u{1F6B7}"}],version:1},no_mobile_phones:{id:"no_mobile_phones",name:"No Mobile Phones",keywords:["iphone","mute","circle"],skins:[{unified:"1f4f5",native:"\u{1F4F5}"}],version:1},underage:{id:"underage",name:"No One Under Eighteen",keywords:["underage","18","drink","pub","night","minor","circle"],skins:[{unified:"1f51e",native:"\u{1F51E}"}],version:1},radioactive_sign:{id:"radioactive_sign",name:"Radioactive",keywords:["sign","nuclear","danger"],skins:[{unified:"2622-fe0f",native:"\u2622\uFE0F"}],version:1},biohazard_sign:{id:"biohazard_sign",name:"Biohazard",keywords:["sign","danger"],skins:[{unified:"2623-fe0f",native:"\u2623\uFE0F"}],version:1},arrow_up:{id:"arrow_up",name:"Up Arrow",keywords:["blue","square","continue","top","direction"],skins:[{unified:"2b06-fe0f",native:"\u2B06\uFE0F"}],version:1},arrow_upper_right:{id:"arrow_upper_right",name:"Up-Right Arrow",keywords:["upper","right","up","blue","square","point","direction","diagonal","northeast"],skins:[{unified:"2197-fe0f",native:"\u2197\uFE0F"}],version:1},arrow_right:{id:"arrow_right",name:"Right Arrow",keywords:["blue","square","next"],skins:[{unified:"27a1-fe0f",native:"\u27A1\uFE0F"}],version:1},arrow_lower_right:{id:"arrow_lower_right",name:"South East Arrow",keywords:["lower","right","down","blue","square","direction","diagonal","southeast"],skins:[{unified:"2198-fe0f",native:"\u2198\uFE0F"}],version:1},arrow_down:{id:"arrow_down",name:"Down Arrow",keywords:["blue","square","direction","bottom"],skins:[{unified:"2b07-fe0f",native:"\u2B07\uFE0F"}],version:1},arrow_lower_left:{id:"arrow_lower_left",name:"Down-Left Arrow",keywords:["lower","left","down","blue","square","direction","diagonal","southwest"],skins:[{unified:"2199-fe0f",native:"\u2199\uFE0F"}],version:1},arrow_left:{id:"arrow_left",name:"Left Arrow",keywords:["blue","square","previous","back"],skins:[{unified:"2b05-fe0f",native:"\u2B05\uFE0F"}],version:1},arrow_upper_left:{id:"arrow_upper_left",name:"Up-Left Arrow",keywords:["upper","left","up","blue","square","point","direction","diagonal","northwest"],skins:[{unified:"2196-fe0f",native:"\u2196\uFE0F"}],version:1},arrow_up_down:{id:"arrow_up_down",name:"Up Down Arrow",keywords:["blue","square","direction","way","vertical"],skins:[{unified:"2195-fe0f",native:"\u2195\uFE0F"}],version:1},left_right_arrow:{id:"left_right_arrow",name:"Left Right Arrow",keywords:["shape","direction","horizontal","sideways"],skins:[{unified:"2194-fe0f",native:"\u2194\uFE0F"}],version:1},leftwards_arrow_with_hook:{id:"leftwards_arrow_with_hook",name:"Right Arrow Curving Left",keywords:["leftwards","with","hook","back","return","blue","square","undo","enter"],skins:[{unified:"21a9-fe0f",native:"\u21A9\uFE0F"}],version:1},arrow_right_hook:{id:"arrow_right_hook",name:"Left Arrow Curving Right",keywords:["hook","blue","square","return","rotate","direction"],skins:[{unified:"21aa-fe0f",native:"\u21AA\uFE0F"}],version:1},arrow_heading_up:{id:"arrow_heading_up",name:"Right Arrow Curving Up",keywords:["heading","blue","square","direction","top"],skins:[{unified:"2934-fe0f",native:"\u2934\uFE0F"}],version:1},arrow_heading_down:{id:"arrow_heading_down",name:"Right Arrow Curving Down",keywords:["heading","blue","square","direction","bottom"],skins:[{unified:"2935-fe0f",native:"\u2935\uFE0F"}],version:1},arrows_clockwise:{id:"arrows_clockwise",name:"Clockwise Vertical Arrows",keywords:["sync","cycle","round","repeat"],skins:[{unified:"1f503",native:"\u{1F503}"}],version:1},arrows_counterclockwise:{id:"arrows_counterclockwise",name:"Counterclockwise Arrows Button",keywords:["blue","square","sync","cycle"],skins:[{unified:"1f504",native:"\u{1F504}"}],version:1},back:{id:"back",name:"Back Arrow",keywords:["words","return"],skins:[{unified:"1f519",native:"\u{1F519}"}],version:1},end:{id:"end",name:"End Arrow",keywords:["words"],skins:[{unified:"1f51a",native:"\u{1F51A}"}],version:1},on:{id:"on",name:"On! Arrow",keywords:["on","words"],skins:[{unified:"1f51b",native:"\u{1F51B}"}],version:1},soon:{id:"soon",name:"Soon Arrow",keywords:["words"],skins:[{unified:"1f51c",native:"\u{1F51C}"}],version:1},top:{id:"top",name:"Top Arrow",keywords:["words","blue","square"],skins:[{unified:"1f51d",native:"\u{1F51D}"}],version:1},place_of_worship:{id:"place_of_worship",name:"Place of Worship",keywords:["religion","church","temple","prayer"],skins:[{unified:"1f6d0",native:"\u{1F6D0}"}],version:1},atom_symbol:{id:"atom_symbol",name:"Atom Symbol",keywords:["science","physics","chemistry"],skins:[{unified:"269b-fe0f",native:"\u269B\uFE0F"}],version:1},om_symbol:{id:"om_symbol",name:"Om",keywords:["symbol","hinduism","buddhism","sikhism","jainism"],skins:[{unified:"1f549-fe0f",native:"\u{1F549}\uFE0F"}],version:1},star_of_david:{id:"star_of_david",name:"Star of David",keywords:["judaism"],skins:[{unified:"2721-fe0f",native:"\u2721\uFE0F"}],version:1},wheel_of_dharma:{id:"wheel_of_dharma",name:"Wheel of Dharma",keywords:["hinduism","buddhism","sikhism","jainism"],skins:[{unified:"2638-fe0f",native:"\u2638\uFE0F"}],version:1},yin_yang:{id:"yin_yang",name:"Yin Yang",keywords:["balance"],skins:[{unified:"262f-fe0f",native:"\u262F\uFE0F"}],version:1},latin_cross:{id:"latin_cross",name:"Latin Cross",keywords:["christianity"],skins:[{unified:"271d-fe0f",native:"\u271D\uFE0F"}],version:1},orthodox_cross:{id:"orthodox_cross",name:"Orthodox Cross",keywords:["suppedaneum","religion"],skins:[{unified:"2626-fe0f",native:"\u2626\uFE0F"}],version:1},star_and_crescent:{id:"star_and_crescent",name:"Star and Crescent",keywords:["islam"],skins:[{unified:"262a-fe0f",native:"\u262A\uFE0F"}],version:1},peace_symbol:{id:"peace_symbol",name:"Peace Symbol",keywords:["hippie"],skins:[{unified:"262e-fe0f",native:"\u262E\uFE0F"}],version:1},menorah_with_nine_branches:{id:"menorah_with_nine_branches",name:"Menorah",keywords:["with","nine","branches","hanukkah","candles","jewish"],skins:[{unified:"1f54e",native:"\u{1F54E}"}],version:1},six_pointed_star:{id:"six_pointed_star",name:"Dotted Six-Pointed Star",keywords:["six","pointed","purple","square","religion","jewish","hexagram"],skins:[{unified:"1f52f",native:"\u{1F52F}"}],version:1},aries:{id:"aries",name:"Aries",keywords:["sign","purple","square","zodiac","astrology"],skins:[{unified:"2648",native:"\u2648"}],version:1},taurus:{id:"taurus",name:"Taurus",keywords:["purple","square","sign","zodiac","astrology"],skins:[{unified:"2649",native:"\u2649"}],version:1},gemini:{id:"gemini",name:"Gemini",keywords:["sign","zodiac","purple","square","astrology"],skins:[{unified:"264a",native:"\u264A"}],version:1},cancer:{id:"cancer",name:"Cancer",keywords:["sign","zodiac","purple","square","astrology"],skins:[{unified:"264b",native:"\u264B"}],version:1},leo:{id:"leo",name:"Leo",keywords:["sign","purple","square","zodiac","astrology"],skins:[{unified:"264c",native:"\u264C"}],version:1},virgo:{id:"virgo",name:"Virgo",keywords:["sign","zodiac","purple","square","astrology"],skins:[{unified:"264d",native:"\u264D"}],version:1},libra:{id:"libra",name:"Libra",keywords:["sign","purple","square","zodiac","astrology"],skins:[{unified:"264e",native:"\u264E"}],version:1},scorpius:{id:"scorpius",name:"Scorpio",keywords:["scorpius","sign","zodiac","purple","square","astrology"],skins:[{unified:"264f",native:"\u264F"}],version:1},sagittarius:{id:"sagittarius",name:"Sagittarius",keywords:["sign","zodiac","purple","square","astrology"],skins:[{unified:"2650",native:"\u2650"}],version:1},capricorn:{id:"capricorn",name:"Capricorn",keywords:["sign","zodiac","purple","square","astrology"],skins:[{unified:"2651",native:"\u2651"}],version:1},aquarius:{id:"aquarius",name:"Aquarius",keywords:["sign","purple","square","zodiac","astrology"],skins:[{unified:"2652",native:"\u2652"}],version:1},pisces:{id:"pisces",name:"Pisces",keywords:["purple","square","sign","zodiac","astrology"],skins:[{unified:"2653",native:"\u2653"}],version:1},ophiuchus:{id:"ophiuchus",name:"Ophiuchus",keywords:["sign","purple","square","constellation","astrology"],skins:[{unified:"26ce",native:"\u26CE"}],version:1},twisted_rightwards_arrows:{id:"twisted_rightwards_arrows",name:"Shuffle Tracks Button",keywords:["twisted","rightwards","arrows","blue","square","music","random"],skins:[{unified:"1f500",native:"\u{1F500}"}],version:1},repeat:{id:"repeat",name:"Repeat Button",keywords:["loop","record"],skins:[{unified:"1f501",native:"\u{1F501}"}],version:1},repeat_one:{id:"repeat_one",name:"Repeat Single Button",keywords:["one","blue","square","loop"],skins:[{unified:"1f502",native:"\u{1F502}"}],version:1},arrow_forward:{id:"arrow_forward",name:"Play Button",keywords:["arrow","forward","blue","square","right","direction"],skins:[{unified:"25b6-fe0f",native:"\u25B6\uFE0F"}],version:1},fast_forward:{id:"fast_forward",name:"Fast-Forward Button",keywords:["fast","forward","blue","square","play","speed","continue"],skins:[{unified:"23e9",native:"\u23E9"}],version:1},black_right_pointing_double_triangle_with_vertical_bar:{id:"black_right_pointing_double_triangle_with_vertical_bar",name:"Next Track Button",keywords:["black","right","pointing","double","triangle","with","vertical","bar","forward","blue","square"],skins:[{unified:"23ed-fe0f",native:"\u23ED\uFE0F"}],version:1},black_right_pointing_triangle_with_double_vertical_bar:{id:"black_right_pointing_triangle_with_double_vertical_bar",name:"Play or Pause Button",keywords:["black","right","pointing","triangle","with","double","vertical","bar","blue","square"],skins:[{unified:"23ef-fe0f",native:"\u23EF\uFE0F"}],version:1},arrow_backward:{id:"arrow_backward",name:"Reverse Button",keywords:["arrow","backward","blue","square","left","direction"],skins:[{unified:"25c0-fe0f",native:"\u25C0\uFE0F"}],version:1},rewind:{id:"rewind",name:"Fast Reverse Button",keywords:["rewind","play","blue","square"],skins:[{unified:"23ea",native:"\u23EA"}],version:1},black_left_pointing_double_triangle_with_vertical_bar:{id:"black_left_pointing_double_triangle_with_vertical_bar",name:"Last Track Button",keywords:["black","left","pointing","double","triangle","with","vertical","bar","backward"],skins:[{unified:"23ee-fe0f",native:"\u23EE\uFE0F"}],version:1},arrow_up_small:{id:"arrow_up_small",name:"Upwards Button",keywords:["arrow","up","small","blue","square","triangle","direction","point","forward","top"],skins:[{unified:"1f53c",native:"\u{1F53C}"}],version:1},arrow_double_up:{id:"arrow_double_up",name:"Fast Up Button",keywords:["arrow","double","blue","square","direction","top"],skins:[{unified:"23eb",native:"\u23EB"}],version:1},arrow_down_small:{id:"arrow_down_small",name:"Downwards Button",keywords:["arrow","down","small","blue","square","direction","bottom"],skins:[{unified:"1f53d",native:"\u{1F53D}"}],version:1},arrow_double_down:{id:"arrow_double_down",name:"Fast Down Button",keywords:["arrow","double","blue","square","direction","bottom"],skins:[{unified:"23ec",native:"\u23EC"}],version:1},double_vertical_bar:{id:"double_vertical_bar",name:"Pause Button",keywords:["double","vertical","bar","blue","square"],skins:[{unified:"23f8-fe0f",native:"\u23F8\uFE0F"}],version:1},black_square_for_stop:{id:"black_square_for_stop",name:"Stop Button",keywords:["black","square","for","blue"],skins:[{unified:"23f9-fe0f",native:"\u23F9\uFE0F"}],version:1},black_circle_for_record:{id:"black_circle_for_record",name:"Record Button",keywords:["black","circle","for","blue","square"],skins:[{unified:"23fa-fe0f",native:"\u23FA\uFE0F"}],version:1},eject:{id:"eject",name:"Eject Button",keywords:["blue","square"],skins:[{unified:"23cf-fe0f",native:"\u23CF\uFE0F"}],version:1},cinema:{id:"cinema",name:"Cinema",keywords:["blue","square","record","film","movie","curtain","stage","theater"],skins:[{unified:"1f3a6",native:"\u{1F3A6}"}],version:1},low_brightness:{id:"low_brightness",name:"Dim Button",keywords:["low","brightness","sun","afternoon","warm","summer"],skins:[{unified:"1f505",native:"\u{1F505}"}],version:1},high_brightness:{id:"high_brightness",name:"Bright Button",keywords:["high","brightness","sun","light"],skins:[{unified:"1f506",native:"\u{1F506}"}],version:1},signal_strength:{id:"signal_strength",name:"Antenna Bars",keywords:["signal","strength","blue","square","reception","phone","internet","connection","wifi","bluetooth"],skins:[{unified:"1f4f6",native:"\u{1F4F6}"}],version:1},vibration_mode:{id:"vibration_mode",name:"Vibration Mode",keywords:["orange","square","phone"],skins:[{unified:"1f4f3",native:"\u{1F4F3}"}],version:1},mobile_phone_off:{id:"mobile_phone_off",name:"Mobile Phone off",keywords:["mute","orange","square","silence","quiet"],skins:[{unified:"1f4f4",native:"\u{1F4F4}"}],version:1},female_sign:{id:"female_sign",name:"Female Sign",keywords:["woman","women","lady","girl"],skins:[{unified:"2640-fe0f",native:"\u2640\uFE0F"}],version:4},male_sign:{id:"male_sign",name:"Male Sign",keywords:["man","boy","men"],skins:[{unified:"2642-fe0f",native:"\u2642\uFE0F"}],version:4},transgender_symbol:{id:"transgender_symbol",name:"Transgender Symbol",keywords:["lgbtq"],skins:[{unified:"26a7-fe0f",native:"\u26A7\uFE0F"}],version:13},heavy_multiplication_x:{id:"heavy_multiplication_x",name:"Multiply",keywords:["heavy","multiplication","x","sign","math","calculation"],skins:[{unified:"2716-fe0f",native:"\u2716\uFE0F"}],version:1},heavy_plus_sign:{id:"heavy_plus_sign",name:"Plus",keywords:["heavy","sign","math","calculation","addition","more","increase"],skins:[{unified:"2795",native:"\u2795"}],version:1},heavy_minus_sign:{id:"heavy_minus_sign",name:"Minus",keywords:["heavy","sign","math","calculation","subtract","less"],skins:[{unified:"2796",native:"\u2796"}],version:1},heavy_division_sign:{id:"heavy_division_sign",name:"Divide",keywords:["heavy","division","sign","math","calculation"],skins:[{unified:"2797",native:"\u2797"}],version:1},heavy_equals_sign:{id:"heavy_equals_sign",name:"Heavy Equals Sign",keywords:["math"],skins:[{unified:"1f7f0",native:"\u{1F7F0}"}],version:14},infinity:{id:"infinity",name:"Infinity",keywords:["forever"],skins:[{unified:"267e-fe0f",native:"\u267E\uFE0F"}],version:11},bangbang:{id:"bangbang",name:"Double Exclamation Mark",keywords:["bangbang","surprise"],skins:[{unified:"203c-fe0f",native:"\u203C\uFE0F"}],version:1},interrobang:{id:"interrobang",name:"Exclamation Question Mark",keywords:["interrobang","wat","punctuation","surprise"],skins:[{unified:"2049-fe0f",native:"\u2049\uFE0F"}],version:1},question:{id:"question",name:"Red Question Mark",keywords:["doubt","confused"],skins:[{unified:"2753",native:"\u2753"}],version:1},grey_question:{id:"grey_question",name:"White Question Mark",keywords:["grey","doubts","gray","huh","confused"],skins:[{unified:"2754",native:"\u2754"}],version:1},grey_exclamation:{id:"grey_exclamation",name:"White Exclamation Mark",keywords:["grey","surprise","punctuation","gray","wow","warning"],skins:[{unified:"2755",native:"\u2755"}],version:1},exclamation:{id:"exclamation",name:"Red Exclamation Mark",keywords:["heavy","danger","surprise","punctuation","wow","warning"],skins:[{unified:"2757",native:"\u2757"}],version:1},wavy_dash:{id:"wavy_dash",name:"Wavy Dash",keywords:["draw","line","moustache","mustache","squiggle","scribble"],skins:[{unified:"3030-fe0f",native:"\u3030\uFE0F"}],version:1},currency_exchange:{id:"currency_exchange",name:"Currency Exchange",keywords:["money","sales","dollar","travel"],skins:[{unified:"1f4b1",native:"\u{1F4B1}"}],version:1},heavy_dollar_sign:{id:"heavy_dollar_sign",name:"Heavy Dollar Sign",keywords:["money","sales","payment","currency","buck"],skins:[{unified:"1f4b2",native:"\u{1F4B2}"}],version:1},medical_symbol:{id:"medical_symbol",name:"Medical Symbol",keywords:["staff","of","aesculapius","health","hospital"],skins:[{unified:"2695-fe0f",native:"\u2695\uFE0F"}],version:4},recycle:{id:"recycle",name:"Recycling Symbol",keywords:["recycle","arrow","environment","garbage","trash"],skins:[{unified:"267b-fe0f",native:"\u267B\uFE0F"}],version:1},fleur_de_lis:{id:"fleur_de_lis",name:"Fleur-De-Lis",keywords:["fleur","de","lis","decorative","scout"],skins:[{unified:"269c-fe0f",native:"\u269C\uFE0F"}],version:1},trident:{id:"trident",name:"Trident Emblem",keywords:["weapon","spear"],skins:[{unified:"1f531",native:"\u{1F531}"}],version:1},name_badge:{id:"name_badge",name:"Name Badge",keywords:["fire","forbid"],skins:[{unified:"1f4db",native:"\u{1F4DB}"}],version:1},beginner:{id:"beginner",name:"Japanese Symbol for Beginner",keywords:["badge","shield"],skins:[{unified:"1f530",native:"\u{1F530}"}],version:1},o:{id:"o",name:"Hollow Red Circle",keywords:["o","round"],skins:[{unified:"2b55",native:"\u2B55"}],version:1},white_check_mark:{id:"white_check_mark",name:"Check Mark Button",keywords:["white","green","square","ok","agree","vote","election","answer","tick"],skins:[{unified:"2705",native:"\u2705"}],version:1},ballot_box_with_check:{id:"ballot_box_with_check",name:"Check Box with Check",keywords:["ballot","ok","agree","confirm","black","square","vote","election","yes","tick"],skins:[{unified:"2611-fe0f",native:"\u2611\uFE0F"}],version:1},heavy_check_mark:{id:"heavy_check_mark",name:"Check Mark",keywords:["heavy","ok","nike","answer","yes","tick"],skins:[{unified:"2714-fe0f",native:"\u2714\uFE0F"}],version:1},x:{id:"x",name:"Cross Mark",keywords:["x","no","delete","remove","cancel","red"],skins:[{unified:"274c",native:"\u274C"}],version:1},negative_squared_cross_mark:{id:"negative_squared_cross_mark",name:"Cross Mark Button",keywords:["negative","squared","x","green","square","no","deny"],skins:[{unified:"274e",native:"\u274E"}],version:1},curly_loop:{id:"curly_loop",name:"Curly Loop",keywords:["scribble","draw","shape","squiggle"],skins:[{unified:"27b0",native:"\u27B0"}],version:1},loop:{id:"loop",name:"Double Curly Loop",keywords:["tape","cassette"],skins:[{unified:"27bf",native:"\u27BF"}],version:1},part_alternation_mark:{id:"part_alternation_mark",name:"Part Alternation Mark",keywords:["graph","presentation","stats","business","economics","bad"],skins:[{unified:"303d-fe0f",native:"\u303D\uFE0F"}],version:1},eight_spoked_asterisk:{id:"eight_spoked_asterisk",name:"Eight Spoked Asterisk",keywords:["star","sparkle","green","square"],skins:[{unified:"2733-fe0f",native:"\u2733\uFE0F"}],version:1},eight_pointed_black_star:{id:"eight_pointed_black_star",name:"Eight-Pointed Star",keywords:["eight","pointed","black","orange","square","shape","polygon"],skins:[{unified:"2734-fe0f",native:"\u2734\uFE0F"}],version:1},sparkle:{id:"sparkle",name:"Sparkle",keywords:["stars","green","square","awesome","good","fireworks"],skins:[{unified:"2747-fe0f",native:"\u2747\uFE0F"}],version:1},copyright:{id:"copyright",name:"Copyright",keywords:["ip","license","circle","law","legal"],skins:[{unified:"00a9-fe0f",native:"\xA9\uFE0F"}],version:1},registered:{id:"registered",name:"Registered",keywords:["alphabet","circle"],skins:[{unified:"00ae-fe0f",native:"\xAE\uFE0F"}],version:1},tm:{id:"tm",name:"Trade Mark",keywords:["tm","trademark","brand","law","legal"],skins:[{unified:"2122-fe0f",native:"\u2122\uFE0F"}],version:1},hash:{id:"hash",name:"Hash Key",keywords:["keycap","","symbol","blue","square","twitter"],skins:[{unified:"0023-fe0f-20e3",native:"#\uFE0F\u20E3"}],version:1},keycap_star:{id:"keycap_star",name:"Keycap: *",keywords:["keycap","star",""],skins:[{unified:"002a-fe0f-20e3",native:"*\uFE0F\u20E3"}],version:2},zero:{id:"zero",name:"Keycap 0",keywords:["zero","numbers","blue","square","null"],skins:[{unified:"0030-fe0f-20e3",native:"0\uFE0F\u20E3"}],version:1},one:{id:"one",name:"Keycap 1",keywords:["one","blue","square","numbers"],skins:[{unified:"0031-fe0f-20e3",native:"1\uFE0F\u20E3"}],version:1},two:{id:"two",name:"Keycap 2",keywords:["two","numbers","prime","blue","square"],skins:[{unified:"0032-fe0f-20e3",native:"2\uFE0F\u20E3"}],version:1},three:{id:"three",name:"Keycap 3",keywords:["three","numbers","prime","blue","square"],skins:[{unified:"0033-fe0f-20e3",native:"3\uFE0F\u20E3"}],version:1},four:{id:"four",name:"Keycap 4",keywords:["four","numbers","blue","square"],skins:[{unified:"0034-fe0f-20e3",native:"4\uFE0F\u20E3"}],version:1},five:{id:"five",name:"Keycap 5",keywords:["five","numbers","blue","square","prime"],skins:[{unified:"0035-fe0f-20e3",native:"5\uFE0F\u20E3"}],version:1},six:{id:"six",name:"Keycap 6",keywords:["six","numbers","blue","square"],skins:[{unified:"0036-fe0f-20e3",native:"6\uFE0F\u20E3"}],version:1},seven:{id:"seven",name:"Keycap 7",keywords:["seven","numbers","blue","square","prime"],skins:[{unified:"0037-fe0f-20e3",native:"7\uFE0F\u20E3"}],version:1},eight:{id:"eight",name:"Keycap 8",keywords:["eight","blue","square","numbers"],skins:[{unified:"0038-fe0f-20e3",native:"8\uFE0F\u20E3"}],version:1},nine:{id:"nine",name:"Keycap 9",keywords:["nine","blue","square","numbers"],skins:[{unified:"0039-fe0f-20e3",native:"9\uFE0F\u20E3"}],version:1},keycap_ten:{id:"keycap_ten",name:"Keycap 10",keywords:["ten","numbers","blue","square"],skins:[{unified:"1f51f",native:"\u{1F51F}"}],version:1},capital_abcd:{id:"capital_abcd",name:"Input Latin Uppercase",keywords:["capital","abcd","alphabet","words","blue","square"],skins:[{unified:"1f520",native:"\u{1F520}"}],version:1},abcd:{id:"abcd",name:"Input Latin Lowercase",keywords:["abcd","blue","square","alphabet"],skins:[{unified:"1f521",native:"\u{1F521}"}],version:1},symbols:{id:"symbols",name:"Input Symbols",keywords:["blue","square","music","note","ampersand","percent","glyphs","characters"],skins:[{unified:"1f523",native:"\u{1F523}"}],version:1},abc:{id:"abc",name:"Input Latin Letters",keywords:["abc","blue","square","alphabet"],skins:[{unified:"1f524",native:"\u{1F524}"}],version:1},a:{id:"a",name:"A Button (blood Type)",keywords:["red","square","alphabet","letter"],skins:[{unified:"1f170-fe0f",native:"\u{1F170}\uFE0F"}],version:1},ab:{id:"ab",name:"Negative Squared Ab",keywords:["button","red","square","alphabet"],skins:[{unified:"1f18e",native:"\u{1F18E}"}],version:1},b:{id:"b",name:"B Button (blood Type)",keywords:["red","square","alphabet","letter"],skins:[{unified:"1f171-fe0f",native:"\u{1F171}\uFE0F"}],version:1},cl:{id:"cl",name:"Cl Button",keywords:["alphabet","words","red","square"],skins:[{unified:"1f191",native:"\u{1F191}"}],version:1},cool:{id:"cool",name:"Cool Button",keywords:["words","blue","square"],skins:[{unified:"1f192",native:"\u{1F192}"}],version:1},free:{id:"free",name:"Free Button",keywords:["blue","square","words"],skins:[{unified:"1f193",native:"\u{1F193}"}],version:1},information_source:{id:"information_source",name:"Information",keywords:["source","blue","square","alphabet","letter"],skins:[{unified:"2139-fe0f",native:"\u2139\uFE0F"}],version:1},id:{id:"id",name:"Id Button",keywords:["purple","square","words"],skins:[{unified:"1f194",native:"\u{1F194}"}],version:1},m:{id:"m",name:"Circled M",keywords:["alphabet","blue","circle","letter"],skins:[{unified:"24c2-fe0f",native:"\u24C2\uFE0F"}],version:1},new:{id:"new",name:"New Button",keywords:["blue","square","words","start"],skins:[{unified:"1f195",native:"\u{1F195}"}],version:1},ng:{id:"ng",name:"Ng Button",keywords:["blue","square","words","shape","icon"],skins:[{unified:"1f196",native:"\u{1F196}"}],version:1},o2:{id:"o2",name:"O Button (blood Type)",keywords:["o2","alphabet","red","square","letter"],skins:[{unified:"1f17e-fe0f",native:"\u{1F17E}\uFE0F"}],version:1},ok:{id:"ok",name:"Ok Button",keywords:["good","agree","yes","blue","square"],skins:[{unified:"1f197",native:"\u{1F197}"}],version:1},parking:{id:"parking",name:"P Button",keywords:["parking","cars","blue","square","alphabet","letter"],skins:[{unified:"1f17f-fe0f",native:"\u{1F17F}\uFE0F"}],version:1},sos:{id:"sos",name:"Sos Button",keywords:["help","red","square","words","emergency","911"],skins:[{unified:"1f198",native:"\u{1F198}"}],version:1},up:{id:"up",name:"Up! Button",keywords:["up","blue","square","above","high"],skins:[{unified:"1f199",native:"\u{1F199}"}],version:1},vs:{id:"vs",name:"Vs Button",keywords:["words","orange","square"],skins:[{unified:"1f19a",native:"\u{1F19A}"}],version:1},koko:{id:"koko",name:"Squared Katakana Koko",keywords:["japanese","here","button","blue","square","destination"],skins:[{unified:"1f201",native:"\u{1F201}"}],version:1},sa:{id:"sa",name:"Squared Katakana Sa",keywords:["japanese","service","charge","button","blue","square"],skins:[{unified:"1f202-fe0f",native:"\u{1F202}\uFE0F"}],version:1},u6708:{id:"u6708",name:"Japanese \u201Cmonthly Amount\u201D Button",keywords:["u6708","monthly","amount","chinese","month","moon","orange","square","kanji"],skins:[{unified:"1f237-fe0f",native:"\u{1F237}\uFE0F"}],version:1},u6709:{id:"u6709",name:"Squared Cjk Unified Ideograph-6709",keywords:["u6709","japanese","not","free","of","charge","button","orange","square","chinese","have","kanji"],skins:[{unified:"1f236",native:"\u{1F236}"}],version:1},u6307:{id:"u6307",name:"Japanese \u201Creserved\u201D Button",keywords:["u6307","reserved","chinese","point","green","square","kanji"],skins:[{unified:"1f22f",native:"\u{1F22F}"}],version:1},ideograph_advantage:{id:"ideograph_advantage",name:"Japanese \u201Cbargain\u201D Button",keywords:["ideograph","advantage","bargain","chinese","kanji","obtain","get","circle"],skins:[{unified:"1f250",native:"\u{1F250}"}],version:1},u5272:{id:"u5272",name:"Japanese \u201Cdiscount\u201D Button",keywords:["u5272","discount","cut","divide","chinese","kanji","pink","square"],skins:[{unified:"1f239",native:"\u{1F239}"}],version:1},u7121:{id:"u7121",name:"Japanese \u201Cfree of Charge\u201D Button",keywords:["u7121","free","charge","nothing","chinese","kanji","orange","square"],skins:[{unified:"1f21a",native:"\u{1F21A}"}],version:1},u7981:{id:"u7981",name:"Japanese \u201Cprohibited\u201D Button",keywords:["u7981","prohibited","kanji","chinese","forbidden","limit","restricted","red","square"],skins:[{unified:"1f232",native:"\u{1F232}"}],version:1},accept:{id:"accept",name:"Circled Ideograph Accept",keywords:["japanese","acceptable","button","ok","good","chinese","kanji","agree","yes","orange","circle"],skins:[{unified:"1f251",native:"\u{1F251}"}],version:1},u7533:{id:"u7533",name:"Japanese \u201Capplication\u201D Button",keywords:["u7533","application","chinese","kanji","orange","square"],skins:[{unified:"1f238",native:"\u{1F238}"}],version:1},u5408:{id:"u5408",name:"Japanese \u201Cpassing Grade\u201D Button",keywords:["u5408","passing","grade","chinese","join","kanji","red","square"],skins:[{unified:"1f234",native:"\u{1F234}"}],version:1},u7a7a:{id:"u7a7a",name:"Japanese \u201Cvacancy\u201D Button",keywords:["u7a7a","vacancy","kanji","chinese","empty","sky","blue","square"],skins:[{unified:"1f233",native:"\u{1F233}"}],version:1},congratulations:{id:"congratulations",name:"Circled Ideograph Congratulation",keywords:["congratulations","japanese","button","chinese","kanji","red","circle"],skins:[{unified:"3297-fe0f",native:"\u3297\uFE0F"}],version:1},secret:{id:"secret",name:"Circled Ideograph Secret",keywords:["japanese","button","privacy","chinese","sshh","kanji","red","circle"],skins:[{unified:"3299-fe0f",native:"\u3299\uFE0F"}],version:1},u55b6:{id:"u55b6",name:"Squared Cjk Unified Ideograph-55b6",keywords:["u55b6","japanese","open","for","business","button","opening","hours","orange","square"],skins:[{unified:"1f23a",native:"\u{1F23A}"}],version:1},u6e80:{id:"u6e80",name:"Japanese \u201Cno Vacancy\u201D Button",keywords:["u6e80","no","vacancy","full","chinese","red","square","kanji"],skins:[{unified:"1f235",native:"\u{1F235}"}],version:1},red_circle:{id:"red_circle",name:"Red Circle",keywords:["shape","error","danger"],skins:[{unified:"1f534",native:"\u{1F534}"}],version:1},large_orange_circle:{id:"large_orange_circle",name:"Orange Circle",keywords:["large","round"],skins:[{unified:"1f7e0",native:"\u{1F7E0}"}],version:12},large_yellow_circle:{id:"large_yellow_circle",name:"Yellow Circle",keywords:["large","round"],skins:[{unified:"1f7e1",native:"\u{1F7E1}"}],version:12},large_green_circle:{id:"large_green_circle",name:"Green Circle",keywords:["large","round"],skins:[{unified:"1f7e2",native:"\u{1F7E2}"}],version:12},large_blue_circle:{id:"large_blue_circle",name:"Blue Circle",keywords:["large","shape","icon","button"],skins:[{unified:"1f535",native:"\u{1F535}"}],version:1},large_purple_circle:{id:"large_purple_circle",name:"Purple Circle",keywords:["large","round"],skins:[{unified:"1f7e3",native:"\u{1F7E3}"}],version:12},large_brown_circle:{id:"large_brown_circle",name:"Brown Circle",keywords:["large","round"],skins:[{unified:"1f7e4",native:"\u{1F7E4}"}],version:12},black_circle:{id:"black_circle",name:"Black Circle",keywords:["shape","button","round"],skins:[{unified:"26ab",native:"\u26AB"}],version:1},white_circle:{id:"white_circle",name:"White Circle",keywords:["shape","round"],skins:[{unified:"26aa",native:"\u26AA"}],version:1},large_red_square:{id:"large_red_square",name:"Red Square",keywords:["large"],skins:[{unified:"1f7e5",native:"\u{1F7E5}"}],version:12},large_orange_square:{id:"large_orange_square",name:"Orange Square",keywords:["large"],skins:[{unified:"1f7e7",native:"\u{1F7E7}"}],version:12},large_yellow_square:{id:"large_yellow_square",name:"Yellow Square",keywords:["large"],skins:[{unified:"1f7e8",native:"\u{1F7E8}"}],version:12},large_green_square:{id:"large_green_square",name:"Green Square",keywords:["large"],skins:[{unified:"1f7e9",native:"\u{1F7E9}"}],version:12},large_blue_square:{id:"large_blue_square",name:"Blue Square",keywords:["large"],skins:[{unified:"1f7e6",native:"\u{1F7E6}"}],version:12},large_purple_square:{id:"large_purple_square",name:"Purple Square",keywords:["large"],skins:[{unified:"1f7ea",native:"\u{1F7EA}"}],version:12},large_brown_square:{id:"large_brown_square",name:"Brown Square",keywords:["large"],skins:[{unified:"1f7eb",native:"\u{1F7EB}"}],version:12},black_large_square:{id:"black_large_square",name:"Black Large Square",keywords:["shape","icon","button"],skins:[{unified:"2b1b",native:"\u2B1B"}],version:1},white_large_square:{id:"white_large_square",name:"White Large Square",keywords:["shape","icon","stone","button"],skins:[{unified:"2b1c",native:"\u2B1C"}],version:1},black_medium_square:{id:"black_medium_square",name:"Black Medium Square",keywords:["shape","button","icon"],skins:[{unified:"25fc-fe0f",native:"\u25FC\uFE0F"}],version:1},white_medium_square:{id:"white_medium_square",name:"White Medium Square",keywords:["shape","stone","icon"],skins:[{unified:"25fb-fe0f",native:"\u25FB\uFE0F"}],version:1},black_medium_small_square:{id:"black_medium_small_square",name:"Black Medium Small Square",keywords:["icon","shape","button"],skins:[{unified:"25fe",native:"\u25FE"}],version:1},white_medium_small_square:{id:"white_medium_small_square",name:"White Medium Small Square",keywords:["shape","stone","icon","button"],skins:[{unified:"25fd",native:"\u25FD"}],version:1},black_small_square:{id:"black_small_square",name:"Black Small Square",keywords:["shape","icon"],skins:[{unified:"25aa-fe0f",native:"\u25AA\uFE0F"}],version:1},white_small_square:{id:"white_small_square",name:"White Small Square",keywords:["shape","icon"],skins:[{unified:"25ab-fe0f",native:"\u25AB\uFE0F"}],version:1},large_orange_diamond:{id:"large_orange_diamond",name:"Large Orange Diamond",keywords:["shape","jewel","gem"],skins:[{unified:"1f536",native:"\u{1F536}"}],version:1},large_blue_diamond:{id:"large_blue_diamond",name:"Large Blue Diamond",keywords:["shape","jewel","gem"],skins:[{unified:"1f537",native:"\u{1F537}"}],version:1},small_orange_diamond:{id:"small_orange_diamond",name:"Small Orange Diamond",keywords:["shape","jewel","gem"],skins:[{unified:"1f538",native:"\u{1F538}"}],version:1},small_blue_diamond:{id:"small_blue_diamond",name:"Small Blue Diamond",keywords:["shape","jewel","gem"],skins:[{unified:"1f539",native:"\u{1F539}"}],version:1},small_red_triangle:{id:"small_red_triangle",name:"Red Triangle Pointed Up",keywords:["small","shape","direction","top"],skins:[{unified:"1f53a",native:"\u{1F53A}"}],version:1},small_red_triangle_down:{id:"small_red_triangle_down",name:"Red Triangle Pointed Down",keywords:["small","shape","direction","bottom"],skins:[{unified:"1f53b",native:"\u{1F53B}"}],version:1},diamond_shape_with_a_dot_inside:{id:"diamond_shape_with_a_dot_inside",name:"Diamond with a Dot",keywords:["shape","inside","jewel","blue","gem","crystal","fancy"],skins:[{unified:"1f4a0",native:"\u{1F4A0}"}],version:1},radio_button:{id:"radio_button",name:"Radio Button",keywords:["input","old","music","circle"],skins:[{unified:"1f518",native:"\u{1F518}"}],version:1},white_square_button:{id:"white_square_button",name:"White Square Button",keywords:["shape","input"],skins:[{unified:"1f533",native:"\u{1F533}"}],version:1},black_square_button:{id:"black_square_button",name:"Black Square Button",keywords:["shape","input","frame"],skins:[{unified:"1f532",native:"\u{1F532}"}],version:1},checkered_flag:{id:"checkered_flag",name:"Chequered Flag",keywords:["checkered","contest","finishline","race","gokart"],skins:[{unified:"1f3c1",native:"\u{1F3C1}"}],version:1},triangular_flag_on_post:{id:"triangular_flag_on_post",name:"Triangular Flag",keywords:["on","post","mark","milestone","place"],skins:[{unified:"1f6a9",native:"\u{1F6A9}"}],version:1},crossed_flags:{id:"crossed_flags",name:"Crossed Flags",keywords:["japanese","nation","country","border"],skins:[{unified:"1f38c",native:"\u{1F38C}"}],version:1},waving_black_flag:{id:"waving_black_flag",name:"Black Flag",keywords:["waving","pirate"],skins:[{unified:"1f3f4",native:"\u{1F3F4}"}],version:1},waving_white_flag:{id:"waving_white_flag",name:"White Flag",keywords:["waving","losing","loser","lost","surrender","give","up","fail"],skins:[{unified:"1f3f3-fe0f",native:"\u{1F3F3}\uFE0F"}],version:1},"rainbow-flag":{id:"rainbow-flag",name:"Rainbow Flag",keywords:["pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],skins:[{unified:"1f3f3-fe0f-200d-1f308",native:"\u{1F3F3}\uFE0F\u200D\u{1F308}"}],version:4},transgender_flag:{id:"transgender_flag",name:"Transgender Flag",keywords:["lgbtq"],skins:[{unified:"1f3f3-fe0f-200d-26a7-fe0f",native:"\u{1F3F3}\uFE0F\u200D\u26A7\uFE0F"}],version:13},pirate_flag:{id:"pirate_flag",name:"Pirate Flag",keywords:["skull","crossbones","banner"],skins:[{unified:"1f3f4-200d-2620-fe0f",native:"\u{1F3F4}\u200D\u2620\uFE0F"}],version:11},"flag-ac":{id:"flag-ac",name:"Ascension Island Flag",keywords:["ac"],skins:[{unified:"1f1e6-1f1e8",native:"\u{1F1E6}\u{1F1E8}"}],version:2},"flag-ad":{id:"flag-ad",name:"Andorra Flag",keywords:["ad","nation","country","banner"],skins:[{unified:"1f1e6-1f1e9",native:"\u{1F1E6}\u{1F1E9}"}],version:2},"flag-ae":{id:"flag-ae",name:"United Arab Emirates Flag",keywords:["ae","nation","country","banner"],skins:[{unified:"1f1e6-1f1ea",native:"\u{1F1E6}\u{1F1EA}"}],version:2},"flag-af":{id:"flag-af",name:"Afghanistan Flag",keywords:["af","nation","country","banner"],skins:[{unified:"1f1e6-1f1eb",native:"\u{1F1E6}\u{1F1EB}"}],version:2},"flag-ag":{id:"flag-ag",name:"Antigua & Barbuda Flag",keywords:["ag","nation","country","banner"],skins:[{unified:"1f1e6-1f1ec",native:"\u{1F1E6}\u{1F1EC}"}],version:2},"flag-ai":{id:"flag-ai",name:"Anguilla Flag",keywords:["ai","nation","country","banner"],skins:[{unified:"1f1e6-1f1ee",native:"\u{1F1E6}\u{1F1EE}"}],version:2},"flag-al":{id:"flag-al",name:"Albania Flag",keywords:["al","nation","country","banner"],skins:[{unified:"1f1e6-1f1f1",native:"\u{1F1E6}\u{1F1F1}"}],version:2},"flag-am":{id:"flag-am",name:"Armenia Flag",keywords:["am","nation","country","banner"],skins:[{unified:"1f1e6-1f1f2",native:"\u{1F1E6}\u{1F1F2}"}],version:2},"flag-ao":{id:"flag-ao",name:"Angola Flag",keywords:["ao","nation","country","banner"],skins:[{unified:"1f1e6-1f1f4",native:"\u{1F1E6}\u{1F1F4}"}],version:2},"flag-aq":{id:"flag-aq",name:"Antarctica Flag",keywords:["aq","nation","country","banner"],skins:[{unified:"1f1e6-1f1f6",native:"\u{1F1E6}\u{1F1F6}"}],version:2},"flag-ar":{id:"flag-ar",name:"Argentina Flag",keywords:["ar","nation","country","banner"],skins:[{unified:"1f1e6-1f1f7",native:"\u{1F1E6}\u{1F1F7}"}],version:2},"flag-as":{id:"flag-as",name:"American Samoa Flag",keywords:["as","ws","nation","country","banner"],skins:[{unified:"1f1e6-1f1f8",native:"\u{1F1E6}\u{1F1F8}"}],version:2},"flag-at":{id:"flag-at",name:"Austria Flag",keywords:["at","nation","country","banner"],skins:[{unified:"1f1e6-1f1f9",native:"\u{1F1E6}\u{1F1F9}"}],version:2},"flag-au":{id:"flag-au",name:"Australia Flag",keywords:["au","nation","country","banner"],skins:[{unified:"1f1e6-1f1fa",native:"\u{1F1E6}\u{1F1FA}"}],version:2},"flag-aw":{id:"flag-aw",name:"Aruba Flag",keywords:["aw","nation","country","banner"],skins:[{unified:"1f1e6-1f1fc",native:"\u{1F1E6}\u{1F1FC}"}],version:2},"flag-ax":{id:"flag-ax",name:"\xC5land Islands Flag",keywords:["ax","aland","Aland","nation","country","banner"],skins:[{unified:"1f1e6-1f1fd",native:"\u{1F1E6}\u{1F1FD}"}],version:2},"flag-az":{id:"flag-az",name:"Azerbaijan Flag",keywords:["az","nation","country","banner"],skins:[{unified:"1f1e6-1f1ff",native:"\u{1F1E6}\u{1F1FF}"}],version:2},"flag-ba":{id:"flag-ba",name:"Bosnia & Herzegovina Flag",keywords:["ba","nation","country","banner"],skins:[{unified:"1f1e7-1f1e6",native:"\u{1F1E7}\u{1F1E6}"}],version:2},"flag-bb":{id:"flag-bb",name:"Barbados Flag",keywords:["bb","nation","country","banner"],skins:[{unified:"1f1e7-1f1e7",native:"\u{1F1E7}\u{1F1E7}"}],version:2},"flag-bd":{id:"flag-bd",name:"Bangladesh Flag",keywords:["bd","nation","country","banner"],skins:[{unified:"1f1e7-1f1e9",native:"\u{1F1E7}\u{1F1E9}"}],version:2},"flag-be":{id:"flag-be",name:"Belgium Flag",keywords:["be","nation","country","banner"],skins:[{unified:"1f1e7-1f1ea",native:"\u{1F1E7}\u{1F1EA}"}],version:2},"flag-bf":{id:"flag-bf",name:"Burkina Faso Flag",keywords:["bf","nation","country","banner"],skins:[{unified:"1f1e7-1f1eb",native:"\u{1F1E7}\u{1F1EB}"}],version:2},"flag-bg":{id:"flag-bg",name:"Bulgaria Flag",keywords:["bg","nation","country","banner"],skins:[{unified:"1f1e7-1f1ec",native:"\u{1F1E7}\u{1F1EC}"}],version:2},"flag-bh":{id:"flag-bh",name:"Bahrain Flag",keywords:["bh","nation","country","banner"],skins:[{unified:"1f1e7-1f1ed",native:"\u{1F1E7}\u{1F1ED}"}],version:2},"flag-bi":{id:"flag-bi",name:"Burundi Flag",keywords:["bi","nation","country","banner"],skins:[{unified:"1f1e7-1f1ee",native:"\u{1F1E7}\u{1F1EE}"}],version:2},"flag-bj":{id:"flag-bj",name:"Benin Flag",keywords:["bj","nation","country","banner"],skins:[{unified:"1f1e7-1f1ef",native:"\u{1F1E7}\u{1F1EF}"}],version:2},"flag-bl":{id:"flag-bl",name:"St. Barth\xE9lemy Flag",keywords:["bl","st","barthelemy","saint","nation","country","banner"],skins:[{unified:"1f1e7-1f1f1",native:"\u{1F1E7}\u{1F1F1}"}],version:2},"flag-bm":{id:"flag-bm",name:"Bermuda Flag",keywords:["bm","nation","country","banner"],skins:[{unified:"1f1e7-1f1f2",native:"\u{1F1E7}\u{1F1F2}"}],version:2},"flag-bn":{id:"flag-bn",name:"Brunei Flag",keywords:["bn","darussalam","nation","country","banner"],skins:[{unified:"1f1e7-1f1f3",native:"\u{1F1E7}\u{1F1F3}"}],version:2},"flag-bo":{id:"flag-bo",name:"Bolivia Flag",keywords:["bo","nation","country","banner"],skins:[{unified:"1f1e7-1f1f4",native:"\u{1F1E7}\u{1F1F4}"}],version:2},"flag-bq":{id:"flag-bq",name:"Caribbean Netherlands Flag",keywords:["bq","bonaire","nation","country","banner"],skins:[{unified:"1f1e7-1f1f6",native:"\u{1F1E7}\u{1F1F6}"}],version:2},"flag-br":{id:"flag-br",name:"Brazil Flag",keywords:["br","nation","country","banner"],skins:[{unified:"1f1e7-1f1f7",native:"\u{1F1E7}\u{1F1F7}"}],version:2},"flag-bs":{id:"flag-bs",name:"Bahamas Flag",keywords:["bs","nation","country","banner"],skins:[{unified:"1f1e7-1f1f8",native:"\u{1F1E7}\u{1F1F8}"}],version:2},"flag-bt":{id:"flag-bt",name:"Bhutan Flag",keywords:["bt","nation","country","banner"],skins:[{unified:"1f1e7-1f1f9",native:"\u{1F1E7}\u{1F1F9}"}],version:2},"flag-bv":{id:"flag-bv",name:"Bouvet Island Flag",keywords:["bv","norway"],skins:[{unified:"1f1e7-1f1fb",native:"\u{1F1E7}\u{1F1FB}"}],version:2},"flag-bw":{id:"flag-bw",name:"Botswana Flag",keywords:["bw","nation","country","banner"],skins:[{unified:"1f1e7-1f1fc",native:"\u{1F1E7}\u{1F1FC}"}],version:2},"flag-by":{id:"flag-by",name:"Belarus Flag",keywords:["by","nation","country","banner"],skins:[{unified:"1f1e7-1f1fe",native:"\u{1F1E7}\u{1F1FE}"}],version:2},"flag-bz":{id:"flag-bz",name:"Belize Flag",keywords:["bz","nation","country","banner"],skins:[{unified:"1f1e7-1f1ff",native:"\u{1F1E7}\u{1F1FF}"}],version:2},"flag-ca":{id:"flag-ca",name:"Canada Flag",keywords:["ca","nation","country","banner"],skins:[{unified:"1f1e8-1f1e6",native:"\u{1F1E8}\u{1F1E6}"}],version:2},"flag-cc":{id:"flag-cc",name:"Cocos (keeling) Islands Flag",keywords:["cc","keeling","nation","country","banner"],skins:[{unified:"1f1e8-1f1e8",native:"\u{1F1E8}\u{1F1E8}"}],version:2},"flag-cd":{id:"flag-cd",name:"Congo - Kinshasa Flag",keywords:["cd","democratic","republic","nation","country","banner"],skins:[{unified:"1f1e8-1f1e9",native:"\u{1F1E8}\u{1F1E9}"}],version:2},"flag-cf":{id:"flag-cf",name:"Central African Republic Flag",keywords:["cf","nation","country","banner"],skins:[{unified:"1f1e8-1f1eb",native:"\u{1F1E8}\u{1F1EB}"}],version:2},"flag-cg":{id:"flag-cg",name:"Congo - Brazzaville Flag",keywords:["cg","nation","country","banner"],skins:[{unified:"1f1e8-1f1ec",native:"\u{1F1E8}\u{1F1EC}"}],version:2},"flag-ch":{id:"flag-ch",name:"Switzerland Flag",keywords:["ch","nation","country","banner"],skins:[{unified:"1f1e8-1f1ed",native:"\u{1F1E8}\u{1F1ED}"}],version:2},"flag-ci":{id:"flag-ci",name:"C\xF4te D\u2019ivoire Flag",keywords:["ci","cote","d","ivoire","ivory","coast","nation","country","banner"],skins:[{unified:"1f1e8-1f1ee",native:"\u{1F1E8}\u{1F1EE}"}],version:2},"flag-ck":{id:"flag-ck",name:"Cook Islands Flag",keywords:["ck","nation","country","banner"],skins:[{unified:"1f1e8-1f1f0",native:"\u{1F1E8}\u{1F1F0}"}],version:2},"flag-cl":{id:"flag-cl",name:"Chile Flag",keywords:["cl","nation","country","banner"],skins:[{unified:"1f1e8-1f1f1",native:"\u{1F1E8}\u{1F1F1}"}],version:2},"flag-cm":{id:"flag-cm",name:"Cameroon Flag",keywords:["cm","nation","country","banner"],skins:[{unified:"1f1e8-1f1f2",native:"\u{1F1E8}\u{1F1F2}"}],version:2},cn:{id:"cn",name:"China Flag",keywords:["cn","chinese","prc","country","nation","banner"],skins:[{unified:"1f1e8-1f1f3",native:"\u{1F1E8}\u{1F1F3}"}],version:1},"flag-co":{id:"flag-co",name:"Colombia Flag",keywords:["co","nation","country","banner"],skins:[{unified:"1f1e8-1f1f4",native:"\u{1F1E8}\u{1F1F4}"}],version:2},"flag-cp":{id:"flag-cp",name:"Clipperton Island Flag",keywords:["cp"],skins:[{unified:"1f1e8-1f1f5",native:"\u{1F1E8}\u{1F1F5}"}],version:2},"flag-cr":{id:"flag-cr",name:"Costa Rica Flag",keywords:["cr","nation","country","banner"],skins:[{unified:"1f1e8-1f1f7",native:"\u{1F1E8}\u{1F1F7}"}],version:2},"flag-cu":{id:"flag-cu",name:"Cuba Flag",keywords:["cu","nation","country","banner"],skins:[{unified:"1f1e8-1f1fa",native:"\u{1F1E8}\u{1F1FA}"}],version:2},"flag-cv":{id:"flag-cv",name:"Cape Verde Flag",keywords:["cv","cabo","nation","country","banner"],skins:[{unified:"1f1e8-1f1fb",native:"\u{1F1E8}\u{1F1FB}"}],version:2},"flag-cw":{id:"flag-cw",name:"Cura\xE7ao Flag",keywords:["cw","curacao","nation","country","banner"],skins:[{unified:"1f1e8-1f1fc",native:"\u{1F1E8}\u{1F1FC}"}],version:2},"flag-cx":{id:"flag-cx",name:"Christmas Island Flag",keywords:["cx","nation","country","banner"],skins:[{unified:"1f1e8-1f1fd",native:"\u{1F1E8}\u{1F1FD}"}],version:2},"flag-cy":{id:"flag-cy",name:"Cyprus Flag",keywords:["cy","nation","country","banner"],skins:[{unified:"1f1e8-1f1fe",native:"\u{1F1E8}\u{1F1FE}"}],version:2},"flag-cz":{id:"flag-cz",name:"Czechia Flag",keywords:["cz","nation","country","banner"],skins:[{unified:"1f1e8-1f1ff",native:"\u{1F1E8}\u{1F1FF}"}],version:2},de:{id:"de",name:"Germany Flag",keywords:["de","german","nation","country","banner"],skins:[{unified:"1f1e9-1f1ea",native:"\u{1F1E9}\u{1F1EA}"}],version:1},"flag-dg":{id:"flag-dg",name:"Diego Garcia Flag",keywords:["dg"],skins:[{unified:"1f1e9-1f1ec",native:"\u{1F1E9}\u{1F1EC}"}],version:2},"flag-dj":{id:"flag-dj",name:"Djibouti Flag",keywords:["dj","nation","country","banner"],skins:[{unified:"1f1e9-1f1ef",native:"\u{1F1E9}\u{1F1EF}"}],version:2},"flag-dk":{id:"flag-dk",name:"Denmark Flag",keywords:["dk","nation","country","banner"],skins:[{unified:"1f1e9-1f1f0",native:"\u{1F1E9}\u{1F1F0}"}],version:2},"flag-dm":{id:"flag-dm",name:"Dominica Flag",keywords:["dm","nation","country","banner"],skins:[{unified:"1f1e9-1f1f2",native:"\u{1F1E9}\u{1F1F2}"}],version:2},"flag-do":{id:"flag-do",name:"Dominican Republic Flag",keywords:["do","nation","country","banner"],skins:[{unified:"1f1e9-1f1f4",native:"\u{1F1E9}\u{1F1F4}"}],version:2},"flag-dz":{id:"flag-dz",name:"Algeria Flag",keywords:["dz","nation","country","banner"],skins:[{unified:"1f1e9-1f1ff",native:"\u{1F1E9}\u{1F1FF}"}],version:2},"flag-ea":{id:"flag-ea",name:"Ceuta & Melilla Flag",keywords:["ea"],skins:[{unified:"1f1ea-1f1e6",native:"\u{1F1EA}\u{1F1E6}"}],version:2},"flag-ec":{id:"flag-ec",name:"Ecuador Flag",keywords:["ec","nation","country","banner"],skins:[{unified:"1f1ea-1f1e8",native:"\u{1F1EA}\u{1F1E8}"}],version:2},"flag-ee":{id:"flag-ee",name:"Estonia Flag",keywords:["ee","nation","country","banner"],skins:[{unified:"1f1ea-1f1ea",native:"\u{1F1EA}\u{1F1EA}"}],version:2},"flag-eg":{id:"flag-eg",name:"Egypt Flag",keywords:["eg","nation","country","banner"],skins:[{unified:"1f1ea-1f1ec",native:"\u{1F1EA}\u{1F1EC}"}],version:2},"flag-eh":{id:"flag-eh",name:"Western Sahara Flag",keywords:["eh","nation","country","banner"],skins:[{unified:"1f1ea-1f1ed",native:"\u{1F1EA}\u{1F1ED}"}],version:2},"flag-er":{id:"flag-er",name:"Eritrea Flag",keywords:["er","nation","country","banner"],skins:[{unified:"1f1ea-1f1f7",native:"\u{1F1EA}\u{1F1F7}"}],version:2},es:{id:"es",name:"Spain Flag",keywords:["es","nation","country","banner"],skins:[{unified:"1f1ea-1f1f8",native:"\u{1F1EA}\u{1F1F8}"}],version:1},"flag-et":{id:"flag-et",name:"Ethiopia Flag",keywords:["et","nation","country","banner"],skins:[{unified:"1f1ea-1f1f9",native:"\u{1F1EA}\u{1F1F9}"}],version:2},"flag-eu":{id:"flag-eu",name:"European Union Flag",keywords:["eu","banner"],skins:[{unified:"1f1ea-1f1fa",native:"\u{1F1EA}\u{1F1FA}"}],version:2},"flag-fi":{id:"flag-fi",name:"Finland Flag",keywords:["fi","nation","country","banner"],skins:[{unified:"1f1eb-1f1ee",native:"\u{1F1EB}\u{1F1EE}"}],version:2},"flag-fj":{id:"flag-fj",name:"Fiji Flag",keywords:["fj","nation","country","banner"],skins:[{unified:"1f1eb-1f1ef",native:"\u{1F1EB}\u{1F1EF}"}],version:2},"flag-fk":{id:"flag-fk",name:"Falkland Islands Flag",keywords:["fk","malvinas","nation","country","banner"],skins:[{unified:"1f1eb-1f1f0",native:"\u{1F1EB}\u{1F1F0}"}],version:2},"flag-fm":{id:"flag-fm",name:"Micronesia Flag",keywords:["fm","federated","states","nation","country","banner"],skins:[{unified:"1f1eb-1f1f2",native:"\u{1F1EB}\u{1F1F2}"}],version:2},"flag-fo":{id:"flag-fo",name:"Faroe Islands Flag",keywords:["fo","nation","country","banner"],skins:[{unified:"1f1eb-1f1f4",native:"\u{1F1EB}\u{1F1F4}"}],version:2},fr:{id:"fr",name:"France Flag",keywords:["fr","banner","nation","french","country"],skins:[{unified:"1f1eb-1f1f7",native:"\u{1F1EB}\u{1F1F7}"}],version:1},"flag-ga":{id:"flag-ga",name:"Gabon Flag",keywords:["ga","nation","country","banner"],skins:[{unified:"1f1ec-1f1e6",native:"\u{1F1EC}\u{1F1E6}"}],version:2},gb:{id:"gb",name:"United Kingdom Flag",keywords:["gb","uk","great","britain","northern","ireland","nation","country","banner","british","UK","english","england","union","jack"],skins:[{unified:"1f1ec-1f1e7",native:"\u{1F1EC}\u{1F1E7}"}],version:1},"flag-gd":{id:"flag-gd",name:"Grenada Flag",keywords:["gd","nation","country","banner"],skins:[{unified:"1f1ec-1f1e9",native:"\u{1F1EC}\u{1F1E9}"}],version:2},"flag-ge":{id:"flag-ge",name:"Georgia Flag",keywords:["ge","nation","country","banner"],skins:[{unified:"1f1ec-1f1ea",native:"\u{1F1EC}\u{1F1EA}"}],version:2},"flag-gf":{id:"flag-gf",name:"French Guiana Flag",keywords:["gf","nation","country","banner"],skins:[{unified:"1f1ec-1f1eb",native:"\u{1F1EC}\u{1F1EB}"}],version:2},"flag-gg":{id:"flag-gg",name:"Guernsey Flag",keywords:["gg","nation","country","banner"],skins:[{unified:"1f1ec-1f1ec",native:"\u{1F1EC}\u{1F1EC}"}],version:2},"flag-gh":{id:"flag-gh",name:"Ghana Flag",keywords:["gh","nation","country","banner"],skins:[{unified:"1f1ec-1f1ed",native:"\u{1F1EC}\u{1F1ED}"}],version:2},"flag-gi":{id:"flag-gi",name:"Gibraltar Flag",keywords:["gi","nation","country","banner"],skins:[{unified:"1f1ec-1f1ee",native:"\u{1F1EC}\u{1F1EE}"}],version:2},"flag-gl":{id:"flag-gl",name:"Greenland Flag",keywords:["gl","nation","country","banner"],skins:[{unified:"1f1ec-1f1f1",native:"\u{1F1EC}\u{1F1F1}"}],version:2},"flag-gm":{id:"flag-gm",name:"Gambia Flag",keywords:["gm","nation","country","banner"],skins:[{unified:"1f1ec-1f1f2",native:"\u{1F1EC}\u{1F1F2}"}],version:2},"flag-gn":{id:"flag-gn",name:"Guinea Flag",keywords:["gn","nation","country","banner"],skins:[{unified:"1f1ec-1f1f3",native:"\u{1F1EC}\u{1F1F3}"}],version:2},"flag-gp":{id:"flag-gp",name:"Guadeloupe Flag",keywords:["gp","nation","country","banner"],skins:[{unified:"1f1ec-1f1f5",native:"\u{1F1EC}\u{1F1F5}"}],version:2},"flag-gq":{id:"flag-gq",name:"Equatorial Guinea Flag",keywords:["gq","gn","nation","country","banner"],skins:[{unified:"1f1ec-1f1f6",native:"\u{1F1EC}\u{1F1F6}"}],version:2},"flag-gr":{id:"flag-gr",name:"Greece Flag",keywords:["gr","nation","country","banner"],skins:[{unified:"1f1ec-1f1f7",native:"\u{1F1EC}\u{1F1F7}"}],version:2},"flag-gs":{id:"flag-gs",name:"South Georgia & South Sandwich Islands Flag",keywords:["gs","nation","country","banner"],skins:[{unified:"1f1ec-1f1f8",native:"\u{1F1EC}\u{1F1F8}"}],version:2},"flag-gt":{id:"flag-gt",name:"Guatemala Flag",keywords:["gt","nation","country","banner"],skins:[{unified:"1f1ec-1f1f9",native:"\u{1F1EC}\u{1F1F9}"}],version:2},"flag-gu":{id:"flag-gu",name:"Guam Flag",keywords:["gu","nation","country","banner"],skins:[{unified:"1f1ec-1f1fa",native:"\u{1F1EC}\u{1F1FA}"}],version:2},"flag-gw":{id:"flag-gw",name:"Guinea-Bissau Flag",keywords:["gw","guinea","bissau","nation","country","banner"],skins:[{unified:"1f1ec-1f1fc",native:"\u{1F1EC}\u{1F1FC}"}],version:2},"flag-gy":{id:"flag-gy",name:"Guyana Flag",keywords:["gy","nation","country","banner"],skins:[{unified:"1f1ec-1f1fe",native:"\u{1F1EC}\u{1F1FE}"}],version:2},"flag-hk":{id:"flag-hk",name:"Hong Kong Sar China Flag",keywords:["hk","nation","country","banner"],skins:[{unified:"1f1ed-1f1f0",native:"\u{1F1ED}\u{1F1F0}"}],version:2},"flag-hm":{id:"flag-hm",name:"Heard & Mcdonald Islands Flag",keywords:["hm"],skins:[{unified:"1f1ed-1f1f2",native:"\u{1F1ED}\u{1F1F2}"}],version:2},"flag-hn":{id:"flag-hn",name:"Honduras Flag",keywords:["hn","nation","country","banner"],skins:[{unified:"1f1ed-1f1f3",native:"\u{1F1ED}\u{1F1F3}"}],version:2},"flag-hr":{id:"flag-hr",name:"Croatia Flag",keywords:["hr","nation","country","banner"],skins:[{unified:"1f1ed-1f1f7",native:"\u{1F1ED}\u{1F1F7}"}],version:2},"flag-ht":{id:"flag-ht",name:"Haiti Flag",keywords:["ht","nation","country","banner"],skins:[{unified:"1f1ed-1f1f9",native:"\u{1F1ED}\u{1F1F9}"}],version:2},"flag-hu":{id:"flag-hu",name:"Hungary Flag",keywords:["hu","nation","country","banner"],skins:[{unified:"1f1ed-1f1fa",native:"\u{1F1ED}\u{1F1FA}"}],version:2},"flag-ic":{id:"flag-ic",name:"Canary Islands Flag",keywords:["ic","nation","country","banner"],skins:[{unified:"1f1ee-1f1e8",native:"\u{1F1EE}\u{1F1E8}"}],version:2},"flag-id":{id:"flag-id",name:"Indonesia Flag",keywords:["id","nation","country","banner"],skins:[{unified:"1f1ee-1f1e9",native:"\u{1F1EE}\u{1F1E9}"}],version:2},"flag-ie":{id:"flag-ie",name:"Ireland Flag",keywords:["ie","nation","country","banner"],skins:[{unified:"1f1ee-1f1ea",native:"\u{1F1EE}\u{1F1EA}"}],version:2},"flag-il":{id:"flag-il",name:"Israel Flag",keywords:["il","nation","country","banner"],skins:[{unified:"1f1ee-1f1f1",native:"\u{1F1EE}\u{1F1F1}"}],version:2},"flag-im":{id:"flag-im",name:"Isle of Man Flag",keywords:["im","nation","country","banner"],skins:[{unified:"1f1ee-1f1f2",native:"\u{1F1EE}\u{1F1F2}"}],version:2},"flag-in":{id:"flag-in",name:"India Flag",keywords:["in","nation","country","banner"],skins:[{unified:"1f1ee-1f1f3",native:"\u{1F1EE}\u{1F1F3}"}],version:2},"flag-io":{id:"flag-io",name:"British Indian Ocean Territory Flag",keywords:["io","nation","country","banner"],skins:[{unified:"1f1ee-1f1f4",native:"\u{1F1EE}\u{1F1F4}"}],version:2},"flag-iq":{id:"flag-iq",name:"Iraq Flag",keywords:["iq","nation","country","banner"],skins:[{unified:"1f1ee-1f1f6",native:"\u{1F1EE}\u{1F1F6}"}],version:2},"flag-ir":{id:"flag-ir",name:"Iran Flag",keywords:["ir","islamic","republic","nation","country","banner"],skins:[{unified:"1f1ee-1f1f7",native:"\u{1F1EE}\u{1F1F7}"}],version:2},"flag-is":{id:"flag-is",name:"Iceland Flag",keywords:["is","nation","country","banner"],skins:[{unified:"1f1ee-1f1f8",native:"\u{1F1EE}\u{1F1F8}"}],version:2},it:{id:"it",name:"Italy Flag",keywords:["it","nation","country","banner"],skins:[{unified:"1f1ee-1f1f9",native:"\u{1F1EE}\u{1F1F9}"}],version:1},"flag-je":{id:"flag-je",name:"Jersey Flag",keywords:["je","nation","country","banner"],skins:[{unified:"1f1ef-1f1ea",native:"\u{1F1EF}\u{1F1EA}"}],version:2},"flag-jm":{id:"flag-jm",name:"Jamaica Flag",keywords:["jm","nation","country","banner"],skins:[{unified:"1f1ef-1f1f2",native:"\u{1F1EF}\u{1F1F2}"}],version:2},"flag-jo":{id:"flag-jo",name:"Jordan Flag",keywords:["jo","nation","country","banner"],skins:[{unified:"1f1ef-1f1f4",native:"\u{1F1EF}\u{1F1F4}"}],version:2},jp:{id:"jp",name:"Japan Flag",keywords:["jp","japanese","nation","country","banner"],skins:[{unified:"1f1ef-1f1f5",native:"\u{1F1EF}\u{1F1F5}"}],version:1},"flag-ke":{id:"flag-ke",name:"Kenya Flag",keywords:["ke","nation","country","banner"],skins:[{unified:"1f1f0-1f1ea",native:"\u{1F1F0}\u{1F1EA}"}],version:2},"flag-kg":{id:"flag-kg",name:"Kyrgyzstan Flag",keywords:["kg","nation","country","banner"],skins:[{unified:"1f1f0-1f1ec",native:"\u{1F1F0}\u{1F1EC}"}],version:2},"flag-kh":{id:"flag-kh",name:"Cambodia Flag",keywords:["kh","nation","country","banner"],skins:[{unified:"1f1f0-1f1ed",native:"\u{1F1F0}\u{1F1ED}"}],version:2},"flag-ki":{id:"flag-ki",name:"Kiribati Flag",keywords:["ki","nation","country","banner"],skins:[{unified:"1f1f0-1f1ee",native:"\u{1F1F0}\u{1F1EE}"}],version:2},"flag-km":{id:"flag-km",name:"Comoros Flag",keywords:["km","nation","country","banner"],skins:[{unified:"1f1f0-1f1f2",native:"\u{1F1F0}\u{1F1F2}"}],version:2},"flag-kn":{id:"flag-kn",name:"St. Kitts & Nevis Flag",keywords:["kn","st","saint","nation","country","banner"],skins:[{unified:"1f1f0-1f1f3",native:"\u{1F1F0}\u{1F1F3}"}],version:2},"flag-kp":{id:"flag-kp",name:"North Korea Flag",keywords:["kp","nation","country","banner"],skins:[{unified:"1f1f0-1f1f5",native:"\u{1F1F0}\u{1F1F5}"}],version:2},kr:{id:"kr",name:"South Korea Flag",keywords:["kr","nation","country","banner"],skins:[{unified:"1f1f0-1f1f7",native:"\u{1F1F0}\u{1F1F7}"}],version:1},"flag-kw":{id:"flag-kw",name:"Kuwait Flag",keywords:["kw","nation","country","banner"],skins:[{unified:"1f1f0-1f1fc",native:"\u{1F1F0}\u{1F1FC}"}],version:2},"flag-ky":{id:"flag-ky",name:"Cayman Islands Flag",keywords:["ky","nation","country","banner"],skins:[{unified:"1f1f0-1f1fe",native:"\u{1F1F0}\u{1F1FE}"}],version:2},"flag-kz":{id:"flag-kz",name:"Kazakhstan Flag",keywords:["kz","nation","country","banner"],skins:[{unified:"1f1f0-1f1ff",native:"\u{1F1F0}\u{1F1FF}"}],version:2},"flag-la":{id:"flag-la",name:"Laos Flag",keywords:["la","lao","democratic","republic","nation","country","banner"],skins:[{unified:"1f1f1-1f1e6",native:"\u{1F1F1}\u{1F1E6}"}],version:2},"flag-lb":{id:"flag-lb",name:"Lebanon Flag",keywords:["lb","nation","country","banner"],skins:[{unified:"1f1f1-1f1e7",native:"\u{1F1F1}\u{1F1E7}"}],version:2},"flag-lc":{id:"flag-lc",name:"St. Lucia Flag",keywords:["lc","st","saint","nation","country","banner"],skins:[{unified:"1f1f1-1f1e8",native:"\u{1F1F1}\u{1F1E8}"}],version:2},"flag-li":{id:"flag-li",name:"Liechtenstein Flag",keywords:["li","nation","country","banner"],skins:[{unified:"1f1f1-1f1ee",native:"\u{1F1F1}\u{1F1EE}"}],version:2},"flag-lk":{id:"flag-lk",name:"Sri Lanka Flag",keywords:["lk","nation","country","banner"],skins:[{unified:"1f1f1-1f1f0",native:"\u{1F1F1}\u{1F1F0}"}],version:2},"flag-lr":{id:"flag-lr",name:"Liberia Flag",keywords:["lr","nation","country","banner"],skins:[{unified:"1f1f1-1f1f7",native:"\u{1F1F1}\u{1F1F7}"}],version:2},"flag-ls":{id:"flag-ls",name:"Lesotho Flag",keywords:["ls","nation","country","banner"],skins:[{unified:"1f1f1-1f1f8",native:"\u{1F1F1}\u{1F1F8}"}],version:2},"flag-lt":{id:"flag-lt",name:"Lithuania Flag",keywords:["lt","nation","country","banner"],skins:[{unified:"1f1f1-1f1f9",native:"\u{1F1F1}\u{1F1F9}"}],version:2},"flag-lu":{id:"flag-lu",name:"Luxembourg Flag",keywords:["lu","nation","country","banner"],skins:[{unified:"1f1f1-1f1fa",native:"\u{1F1F1}\u{1F1FA}"}],version:2},"flag-lv":{id:"flag-lv",name:"Latvia Flag",keywords:["lv","nation","country","banner"],skins:[{unified:"1f1f1-1f1fb",native:"\u{1F1F1}\u{1F1FB}"}],version:2},"flag-ly":{id:"flag-ly",name:"Libya Flag",keywords:["ly","nation","country","banner"],skins:[{unified:"1f1f1-1f1fe",native:"\u{1F1F1}\u{1F1FE}"}],version:2},"flag-ma":{id:"flag-ma",name:"Morocco Flag",keywords:["ma","nation","country","banner"],skins:[{unified:"1f1f2-1f1e6",native:"\u{1F1F2}\u{1F1E6}"}],version:2},"flag-mc":{id:"flag-mc",name:"Monaco Flag",keywords:["mc","nation","country","banner"],skins:[{unified:"1f1f2-1f1e8",native:"\u{1F1F2}\u{1F1E8}"}],version:2},"flag-md":{id:"flag-md",name:"Moldova Flag",keywords:["md","republic","nation","country","banner"],skins:[{unified:"1f1f2-1f1e9",native:"\u{1F1F2}\u{1F1E9}"}],version:2},"flag-me":{id:"flag-me",name:"Montenegro Flag",keywords:["me","nation","country","banner"],skins:[{unified:"1f1f2-1f1ea",native:"\u{1F1F2}\u{1F1EA}"}],version:2},"flag-mf":{id:"flag-mf",name:"St. Martin Flag",keywords:["mf","st"],skins:[{unified:"1f1f2-1f1eb",native:"\u{1F1F2}\u{1F1EB}"}],version:2},"flag-mg":{id:"flag-mg",name:"Madagascar Flag",keywords:["mg","nation","country","banner"],skins:[{unified:"1f1f2-1f1ec",native:"\u{1F1F2}\u{1F1EC}"}],version:2},"flag-mh":{id:"flag-mh",name:"Marshall Islands Flag",keywords:["mh","nation","country","banner"],skins:[{unified:"1f1f2-1f1ed",native:"\u{1F1F2}\u{1F1ED}"}],version:2},"flag-mk":{id:"flag-mk",name:"North Macedonia Flag",keywords:["mk","nation","country","banner"],skins:[{unified:"1f1f2-1f1f0",native:"\u{1F1F2}\u{1F1F0}"}],version:2},"flag-ml":{id:"flag-ml",name:"Mali Flag",keywords:["ml","nation","country","banner"],skins:[{unified:"1f1f2-1f1f1",native:"\u{1F1F2}\u{1F1F1}"}],version:2},"flag-mm":{id:"flag-mm",name:"Myanmar (burma) Flag",keywords:["mm","nation","country","banner"],skins:[{unified:"1f1f2-1f1f2",native:"\u{1F1F2}\u{1F1F2}"}],version:2},"flag-mn":{id:"flag-mn",name:"Mongolia Flag",keywords:["mn","nation","country","banner"],skins:[{unified:"1f1f2-1f1f3",native:"\u{1F1F2}\u{1F1F3}"}],version:2},"flag-mo":{id:"flag-mo",name:"Macao Sar China Flag",keywords:["mo","nation","country","banner"],skins:[{unified:"1f1f2-1f1f4",native:"\u{1F1F2}\u{1F1F4}"}],version:2},"flag-mp":{id:"flag-mp",name:"Northern Mariana Islands Flag",keywords:["mp","nation","country","banner"],skins:[{unified:"1f1f2-1f1f5",native:"\u{1F1F2}\u{1F1F5}"}],version:2},"flag-mq":{id:"flag-mq",name:"Martinique Flag",keywords:["mq","nation","country","banner"],skins:[{unified:"1f1f2-1f1f6",native:"\u{1F1F2}\u{1F1F6}"}],version:2},"flag-mr":{id:"flag-mr",name:"Mauritania Flag",keywords:["mr","nation","country","banner"],skins:[{unified:"1f1f2-1f1f7",native:"\u{1F1F2}\u{1F1F7}"}],version:2},"flag-ms":{id:"flag-ms",name:"Montserrat Flag",keywords:["ms","nation","country","banner"],skins:[{unified:"1f1f2-1f1f8",native:"\u{1F1F2}\u{1F1F8}"}],version:2},"flag-mt":{id:"flag-mt",name:"Malta Flag",keywords:["mt","nation","country","banner"],skins:[{unified:"1f1f2-1f1f9",native:"\u{1F1F2}\u{1F1F9}"}],version:2},"flag-mu":{id:"flag-mu",name:"Mauritius Flag",keywords:["mu","nation","country","banner"],skins:[{unified:"1f1f2-1f1fa",native:"\u{1F1F2}\u{1F1FA}"}],version:2},"flag-mv":{id:"flag-mv",name:"Maldives Flag",keywords:["mv","nation","country","banner"],skins:[{unified:"1f1f2-1f1fb",native:"\u{1F1F2}\u{1F1FB}"}],version:2},"flag-mw":{id:"flag-mw",name:"Malawi Flag",keywords:["mw","nation","country","banner"],skins:[{unified:"1f1f2-1f1fc",native:"\u{1F1F2}\u{1F1FC}"}],version:2},"flag-mx":{id:"flag-mx",name:"Mexico Flag",keywords:["mx","nation","country","banner"],skins:[{unified:"1f1f2-1f1fd",native:"\u{1F1F2}\u{1F1FD}"}],version:2},"flag-my":{id:"flag-my",name:"Malaysia Flag",keywords:["my","nation","country","banner"],skins:[{unified:"1f1f2-1f1fe",native:"\u{1F1F2}\u{1F1FE}"}],version:2},"flag-mz":{id:"flag-mz",name:"Mozambique Flag",keywords:["mz","nation","country","banner"],skins:[{unified:"1f1f2-1f1ff",native:"\u{1F1F2}\u{1F1FF}"}],version:2},"flag-na":{id:"flag-na",name:"Namibia Flag",keywords:["na","nation","country","banner"],skins:[{unified:"1f1f3-1f1e6",native:"\u{1F1F3}\u{1F1E6}"}],version:2},"flag-nc":{id:"flag-nc",name:"New Caledonia Flag",keywords:["nc","nation","country","banner"],skins:[{unified:"1f1f3-1f1e8",native:"\u{1F1F3}\u{1F1E8}"}],version:2},"flag-ne":{id:"flag-ne",name:"Niger Flag",keywords:["ne","nation","country","banner"],skins:[{unified:"1f1f3-1f1ea",native:"\u{1F1F3}\u{1F1EA}"}],version:2},"flag-nf":{id:"flag-nf",name:"Norfolk Island Flag",keywords:["nf","nation","country","banner"],skins:[{unified:"1f1f3-1f1eb",native:"\u{1F1F3}\u{1F1EB}"}],version:2},"flag-ng":{id:"flag-ng",name:"Nigeria Flag",keywords:["ng","nation","country","banner"],skins:[{unified:"1f1f3-1f1ec",native:"\u{1F1F3}\u{1F1EC}"}],version:2},"flag-ni":{id:"flag-ni",name:"Nicaragua Flag",keywords:["ni","nation","country","banner"],skins:[{unified:"1f1f3-1f1ee",native:"\u{1F1F3}\u{1F1EE}"}],version:2},"flag-nl":{id:"flag-nl",name:"Netherlands Flag",keywords:["nl","nation","country","banner"],skins:[{unified:"1f1f3-1f1f1",native:"\u{1F1F3}\u{1F1F1}"}],version:2},"flag-no":{id:"flag-no",name:"Norway Flag",keywords:["no","nation","country","banner"],skins:[{unified:"1f1f3-1f1f4",native:"\u{1F1F3}\u{1F1F4}"}],version:2},"flag-np":{id:"flag-np",name:"Nepal Flag",keywords:["np","nation","country","banner"],skins:[{unified:"1f1f3-1f1f5",native:"\u{1F1F3}\u{1F1F5}"}],version:2},"flag-nr":{id:"flag-nr",name:"Nauru Flag",keywords:["nr","nation","country","banner"],skins:[{unified:"1f1f3-1f1f7",native:"\u{1F1F3}\u{1F1F7}"}],version:2},"flag-nu":{id:"flag-nu",name:"Niue Flag",keywords:["nu","nation","country","banner"],skins:[{unified:"1f1f3-1f1fa",native:"\u{1F1F3}\u{1F1FA}"}],version:2},"flag-nz":{id:"flag-nz",name:"New Zealand Flag",keywords:["nz","nation","country","banner"],skins:[{unified:"1f1f3-1f1ff",native:"\u{1F1F3}\u{1F1FF}"}],version:2},"flag-om":{id:"flag-om",name:"Oman Flag",keywords:["om","symbol","nation","country","banner"],skins:[{unified:"1f1f4-1f1f2",native:"\u{1F1F4}\u{1F1F2}"}],version:2},"flag-pa":{id:"flag-pa",name:"Panama Flag",keywords:["pa","nation","country","banner"],skins:[{unified:"1f1f5-1f1e6",native:"\u{1F1F5}\u{1F1E6}"}],version:2},"flag-pe":{id:"flag-pe",name:"Peru Flag",keywords:["pe","nation","country","banner"],skins:[{unified:"1f1f5-1f1ea",native:"\u{1F1F5}\u{1F1EA}"}],version:2},"flag-pf":{id:"flag-pf",name:"French Polynesia Flag",keywords:["pf","nation","country","banner"],skins:[{unified:"1f1f5-1f1eb",native:"\u{1F1F5}\u{1F1EB}"}],version:2},"flag-pg":{id:"flag-pg",name:"Papua New Guinea Flag",keywords:["pg","nation","country","banner"],skins:[{unified:"1f1f5-1f1ec",native:"\u{1F1F5}\u{1F1EC}"}],version:2},"flag-ph":{id:"flag-ph",name:"Philippines Flag",keywords:["ph","nation","country","banner"],skins:[{unified:"1f1f5-1f1ed",native:"\u{1F1F5}\u{1F1ED}"}],version:2},"flag-pk":{id:"flag-pk",name:"Pakistan Flag",keywords:["pk","nation","country","banner"],skins:[{unified:"1f1f5-1f1f0",native:"\u{1F1F5}\u{1F1F0}"}],version:2},"flag-pl":{id:"flag-pl",name:"Poland Flag",keywords:["pl","nation","country","banner"],skins:[{unified:"1f1f5-1f1f1",native:"\u{1F1F5}\u{1F1F1}"}],version:2},"flag-pm":{id:"flag-pm",name:"St. Pierre & Miquelon Flag",keywords:["pm","st","saint","nation","country","banner"],skins:[{unified:"1f1f5-1f1f2",native:"\u{1F1F5}\u{1F1F2}"}],version:2},"flag-pn":{id:"flag-pn",name:"Pitcairn Islands Flag",keywords:["pn","nation","country","banner"],skins:[{unified:"1f1f5-1f1f3",native:"\u{1F1F5}\u{1F1F3}"}],version:2},"flag-pr":{id:"flag-pr",name:"Puerto Rico Flag",keywords:["pr","nation","country","banner"],skins:[{unified:"1f1f5-1f1f7",native:"\u{1F1F5}\u{1F1F7}"}],version:2},"flag-ps":{id:"flag-ps",name:"Palestinian Territories Flag",keywords:["ps","palestine","nation","country","banner"],skins:[{unified:"1f1f5-1f1f8",native:"\u{1F1F5}\u{1F1F8}"}],version:2},"flag-pt":{id:"flag-pt",name:"Portugal Flag",keywords:["pt","nation","country","banner"],skins:[{unified:"1f1f5-1f1f9",native:"\u{1F1F5}\u{1F1F9}"}],version:2},"flag-pw":{id:"flag-pw",name:"Palau Flag",keywords:["pw","nation","country","banner"],skins:[{unified:"1f1f5-1f1fc",native:"\u{1F1F5}\u{1F1FC}"}],version:2},"flag-py":{id:"flag-py",name:"Paraguay Flag",keywords:["py","nation","country","banner"],skins:[{unified:"1f1f5-1f1fe",native:"\u{1F1F5}\u{1F1FE}"}],version:2},"flag-qa":{id:"flag-qa",name:"Qatar Flag",keywords:["qa","nation","country","banner"],skins:[{unified:"1f1f6-1f1e6",native:"\u{1F1F6}\u{1F1E6}"}],version:2},"flag-re":{id:"flag-re",name:"R\xE9union Flag",keywords:["re","reunion","nation","country","banner"],skins:[{unified:"1f1f7-1f1ea",native:"\u{1F1F7}\u{1F1EA}"}],version:2},"flag-ro":{id:"flag-ro",name:"Romania Flag",keywords:["ro","nation","country","banner"],skins:[{unified:"1f1f7-1f1f4",native:"\u{1F1F7}\u{1F1F4}"}],version:2},"flag-rs":{id:"flag-rs",name:"Serbia Flag",keywords:["rs","nation","country","banner"],skins:[{unified:"1f1f7-1f1f8",native:"\u{1F1F7}\u{1F1F8}"}],version:2},ru:{id:"ru",name:"Russia Flag",keywords:["ru","russian","federation","nation","country","banner"],skins:[{unified:"1f1f7-1f1fa",native:"\u{1F1F7}\u{1F1FA}"}],version:1},"flag-rw":{id:"flag-rw",name:"Rwanda Flag",keywords:["rw","nation","country","banner"],skins:[{unified:"1f1f7-1f1fc",native:"\u{1F1F7}\u{1F1FC}"}],version:2},"flag-sa":{id:"flag-sa",name:"Saudi Arabia Flag",keywords:["sa","nation","country","banner"],skins:[{unified:"1f1f8-1f1e6",native:"\u{1F1F8}\u{1F1E6}"}],version:2},"flag-sb":{id:"flag-sb",name:"Solomon Islands Flag",keywords:["sb","nation","country","banner"],skins:[{unified:"1f1f8-1f1e7",native:"\u{1F1F8}\u{1F1E7}"}],version:2},"flag-sc":{id:"flag-sc",name:"Seychelles Flag",keywords:["sc","nation","country","banner"],skins:[{unified:"1f1f8-1f1e8",native:"\u{1F1F8}\u{1F1E8}"}],version:2},"flag-sd":{id:"flag-sd",name:"Sudan Flag",keywords:["sd","nation","country","banner"],skins:[{unified:"1f1f8-1f1e9",native:"\u{1F1F8}\u{1F1E9}"}],version:2},"flag-se":{id:"flag-se",name:"Sweden Flag",keywords:["se","nation","country","banner"],skins:[{unified:"1f1f8-1f1ea",native:"\u{1F1F8}\u{1F1EA}"}],version:2},"flag-sg":{id:"flag-sg",name:"Singapore Flag",keywords:["sg","nation","country","banner"],skins:[{unified:"1f1f8-1f1ec",native:"\u{1F1F8}\u{1F1EC}"}],version:2},"flag-sh":{id:"flag-sh",name:"St. Helena Flag",keywords:["sh","st","saint","ascension","tristan","cunha","nation","country","banner"],skins:[{unified:"1f1f8-1f1ed",native:"\u{1F1F8}\u{1F1ED}"}],version:2},"flag-si":{id:"flag-si",name:"Slovenia Flag",keywords:["si","nation","country","banner"],skins:[{unified:"1f1f8-1f1ee",native:"\u{1F1F8}\u{1F1EE}"}],version:2},"flag-sj":{id:"flag-sj",name:"Svalbard & Jan Mayen Flag",keywords:["sj"],skins:[{unified:"1f1f8-1f1ef",native:"\u{1F1F8}\u{1F1EF}"}],version:2},"flag-sk":{id:"flag-sk",name:"Slovakia Flag",keywords:["sk","nation","country","banner"],skins:[{unified:"1f1f8-1f1f0",native:"\u{1F1F8}\u{1F1F0}"}],version:2},"flag-sl":{id:"flag-sl",name:"Sierra Leone Flag",keywords:["sl","nation","country","banner"],skins:[{unified:"1f1f8-1f1f1",native:"\u{1F1F8}\u{1F1F1}"}],version:2},"flag-sm":{id:"flag-sm",name:"San Marino Flag",keywords:["sm","nation","country","banner"],skins:[{unified:"1f1f8-1f1f2",native:"\u{1F1F8}\u{1F1F2}"}],version:2},"flag-sn":{id:"flag-sn",name:"Senegal Flag",keywords:["sn","nation","country","banner"],skins:[{unified:"1f1f8-1f1f3",native:"\u{1F1F8}\u{1F1F3}"}],version:2},"flag-so":{id:"flag-so",name:"Somalia Flag",keywords:["so","nation","country","banner"],skins:[{unified:"1f1f8-1f1f4",native:"\u{1F1F8}\u{1F1F4}"}],version:2},"flag-sr":{id:"flag-sr",name:"Suriname Flag",keywords:["sr","nation","country","banner"],skins:[{unified:"1f1f8-1f1f7",native:"\u{1F1F8}\u{1F1F7}"}],version:2},"flag-ss":{id:"flag-ss",name:"South Sudan Flag",keywords:["ss","sd","nation","country","banner"],skins:[{unified:"1f1f8-1f1f8",native:"\u{1F1F8}\u{1F1F8}"}],version:2},"flag-st":{id:"flag-st",name:"S\xE3o Tom\xE9 & Pr\xEDncipe Flag",keywords:["st","sao","tome","principe","nation","country","banner"],skins:[{unified:"1f1f8-1f1f9",native:"\u{1F1F8}\u{1F1F9}"}],version:2},"flag-sv":{id:"flag-sv",name:"El Salvador Flag",keywords:["sv","nation","country","banner"],skins:[{unified:"1f1f8-1f1fb",native:"\u{1F1F8}\u{1F1FB}"}],version:2},"flag-sx":{id:"flag-sx",name:"Sint Maarten Flag",keywords:["sx","dutch","nation","country","banner"],skins:[{unified:"1f1f8-1f1fd",native:"\u{1F1F8}\u{1F1FD}"}],version:2},"flag-sy":{id:"flag-sy",name:"Syria Flag",keywords:["sy","syrian","arab","republic","nation","country","banner"],skins:[{unified:"1f1f8-1f1fe",native:"\u{1F1F8}\u{1F1FE}"}],version:2},"flag-sz":{id:"flag-sz",name:"Eswatini Flag",keywords:["sz","nation","country","banner"],skins:[{unified:"1f1f8-1f1ff",native:"\u{1F1F8}\u{1F1FF}"}],version:2},"flag-ta":{id:"flag-ta",name:"Tristan Da Cunha Flag",keywords:["ta"],skins:[{unified:"1f1f9-1f1e6",native:"\u{1F1F9}\u{1F1E6}"}],version:2},"flag-tc":{id:"flag-tc",name:"Turks & Caicos Islands Flag",keywords:["tc","nation","country","banner"],skins:[{unified:"1f1f9-1f1e8",native:"\u{1F1F9}\u{1F1E8}"}],version:2},"flag-td":{id:"flag-td",name:"Chad Flag",keywords:["td","nation","country","banner"],skins:[{unified:"1f1f9-1f1e9",native:"\u{1F1F9}\u{1F1E9}"}],version:2},"flag-tf":{id:"flag-tf",name:"French Southern Territories Flag",keywords:["tf","nation","country","banner"],skins:[{unified:"1f1f9-1f1eb",native:"\u{1F1F9}\u{1F1EB}"}],version:2},"flag-tg":{id:"flag-tg",name:"Togo Flag",keywords:["tg","nation","country","banner"],skins:[{unified:"1f1f9-1f1ec",native:"\u{1F1F9}\u{1F1EC}"}],version:2},"flag-th":{id:"flag-th",name:"Thailand Flag",keywords:["th","nation","country","banner"],skins:[{unified:"1f1f9-1f1ed",native:"\u{1F1F9}\u{1F1ED}"}],version:2},"flag-tj":{id:"flag-tj",name:"Tajikistan Flag",keywords:["tj","nation","country","banner"],skins:[{unified:"1f1f9-1f1ef",native:"\u{1F1F9}\u{1F1EF}"}],version:2},"flag-tk":{id:"flag-tk",name:"Tokelau Flag",keywords:["tk","nation","country","banner"],skins:[{unified:"1f1f9-1f1f0",native:"\u{1F1F9}\u{1F1F0}"}],version:2},"flag-tl":{id:"flag-tl",name:"Timor-Leste Flag",keywords:["tl","timor","leste","nation","country","banner"],skins:[{unified:"1f1f9-1f1f1",native:"\u{1F1F9}\u{1F1F1}"}],version:2},"flag-tm":{id:"flag-tm",name:"Turkmenistan Flag",keywords:["tm","nation","country","banner"],skins:[{unified:"1f1f9-1f1f2",native:"\u{1F1F9}\u{1F1F2}"}],version:2},"flag-tn":{id:"flag-tn",name:"Tunisia Flag",keywords:["tn","nation","country","banner"],skins:[{unified:"1f1f9-1f1f3",native:"\u{1F1F9}\u{1F1F3}"}],version:2},"flag-to":{id:"flag-to",name:"Tonga Flag",keywords:["to","nation","country","banner"],skins:[{unified:"1f1f9-1f1f4",native:"\u{1F1F9}\u{1F1F4}"}],version:2},"flag-tr":{id:"flag-tr",name:"Turkey Flag",keywords:["tr","nation","country","banner"],skins:[{unified:"1f1f9-1f1f7",native:"\u{1F1F9}\u{1F1F7}"}],version:2},"flag-tt":{id:"flag-tt",name:"Trinidad & Tobago Flag",keywords:["tt","nation","country","banner"],skins:[{unified:"1f1f9-1f1f9",native:"\u{1F1F9}\u{1F1F9}"}],version:2},"flag-tv":{id:"flag-tv",name:"Tuvalu Flag",keywords:["tv","nation","country","banner"],skins:[{unified:"1f1f9-1f1fb",native:"\u{1F1F9}\u{1F1FB}"}],version:2},"flag-tw":{id:"flag-tw",name:"Taiwan Flag",keywords:["tw","nation","country","banner"],skins:[{unified:"1f1f9-1f1fc",native:"\u{1F1F9}\u{1F1FC}"}],version:2},"flag-tz":{id:"flag-tz",name:"Tanzania Flag",keywords:["tz","united","republic","nation","country","banner"],skins:[{unified:"1f1f9-1f1ff",native:"\u{1F1F9}\u{1F1FF}"}],version:2},"flag-ua":{id:"flag-ua",name:"Ukraine Flag",keywords:["ua","nation","country","banner"],skins:[{unified:"1f1fa-1f1e6",native:"\u{1F1FA}\u{1F1E6}"}],version:2},"flag-ug":{id:"flag-ug",name:"Uganda Flag",keywords:["ug","nation","country","banner"],skins:[{unified:"1f1fa-1f1ec",native:"\u{1F1FA}\u{1F1EC}"}],version:2},"flag-um":{id:"flag-um",name:"U.s. Outlying Islands Flag",keywords:["um","u","s"],skins:[{unified:"1f1fa-1f1f2",native:"\u{1F1FA}\u{1F1F2}"}],version:2},"flag-un":{id:"flag-un",name:"United Nations Flag",keywords:["un","banner"],skins:[{unified:"1f1fa-1f1f3",native:"\u{1F1FA}\u{1F1F3}"}],version:4},us:{id:"us",name:"United States Flag",keywords:["us","america","nation","country","banner"],skins:[{unified:"1f1fa-1f1f8",native:"\u{1F1FA}\u{1F1F8}"}],version:1},"flag-uy":{id:"flag-uy",name:"Uruguay Flag",keywords:["uy","nation","country","banner"],skins:[{unified:"1f1fa-1f1fe",native:"\u{1F1FA}\u{1F1FE}"}],version:2},"flag-uz":{id:"flag-uz",name:"Uzbekistan Flag",keywords:["uz","nation","country","banner"],skins:[{unified:"1f1fa-1f1ff",native:"\u{1F1FA}\u{1F1FF}"}],version:2},"flag-va":{id:"flag-va",name:"Vatican City Flag",keywords:["va","nation","country","banner"],skins:[{unified:"1f1fb-1f1e6",native:"\u{1F1FB}\u{1F1E6}"}],version:2},"flag-vc":{id:"flag-vc",name:"St. Vincent & Grenadines Flag",keywords:["vc","st","saint","nation","country","banner"],skins:[{unified:"1f1fb-1f1e8",native:"\u{1F1FB}\u{1F1E8}"}],version:2},"flag-ve":{id:"flag-ve",name:"Venezuela Flag",keywords:["ve","bolivarian","republic","nation","country","banner"],skins:[{unified:"1f1fb-1f1ea",native:"\u{1F1FB}\u{1F1EA}"}],version:2},"flag-vg":{id:"flag-vg",name:"British Virgin Islands Flag",keywords:["vg","bvi","nation","country","banner"],skins:[{unified:"1f1fb-1f1ec",native:"\u{1F1FB}\u{1F1EC}"}],version:2},"flag-vi":{id:"flag-vi",name:"U.s. Virgin Islands Flag",keywords:["vi","u","s","us","nation","country","banner"],skins:[{unified:"1f1fb-1f1ee",native:"\u{1F1FB}\u{1F1EE}"}],version:2},"flag-vn":{id:"flag-vn",name:"Vietnam Flag",keywords:["vn","viet","nam","nation","country","banner"],skins:[{unified:"1f1fb-1f1f3",native:"\u{1F1FB}\u{1F1F3}"}],version:2},"flag-vu":{id:"flag-vu",name:"Vanuatu Flag",keywords:["vu","nation","country","banner"],skins:[{unified:"1f1fb-1f1fa",native:"\u{1F1FB}\u{1F1FA}"}],version:2},"flag-wf":{id:"flag-wf",name:"Wallis & Futuna Flag",keywords:["wf","nation","country","banner"],skins:[{unified:"1f1fc-1f1eb",native:"\u{1F1FC}\u{1F1EB}"}],version:2},"flag-ws":{id:"flag-ws",name:"Samoa Flag",keywords:["ws","nation","country","banner"],skins:[{unified:"1f1fc-1f1f8",native:"\u{1F1FC}\u{1F1F8}"}],version:2},"flag-xk":{id:"flag-xk",name:"Kosovo Flag",keywords:["xk","nation","country","banner"],skins:[{unified:"1f1fd-1f1f0",native:"\u{1F1FD}\u{1F1F0}"}],version:2},"flag-ye":{id:"flag-ye",name:"Yemen Flag",keywords:["ye","nation","country","banner"],skins:[{unified:"1f1fe-1f1ea",native:"\u{1F1FE}\u{1F1EA}"}],version:2},"flag-yt":{id:"flag-yt",name:"Mayotte Flag",keywords:["yt","nation","country","banner"],skins:[{unified:"1f1fe-1f1f9",native:"\u{1F1FE}\u{1F1F9}"}],version:2},"flag-za":{id:"flag-za",name:"South Africa Flag",keywords:["za","nation","country","banner"],skins:[{unified:"1f1ff-1f1e6",native:"\u{1F1FF}\u{1F1E6}"}],version:2},"flag-zm":{id:"flag-zm",name:"Zambia Flag",keywords:["zm","nation","country","banner"],skins:[{unified:"1f1ff-1f1f2",native:"\u{1F1FF}\u{1F1F2}"}],version:2},"flag-zw":{id:"flag-zw",name:"Zimbabwe Flag",keywords:["zw","nation","country","banner"],skins:[{unified:"1f1ff-1f1fc",native:"\u{1F1FF}\u{1F1FC}"}],version:2},"flag-england":{id:"flag-england",name:"England Flag",keywords:["english"],skins:[{unified:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f",native:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0065}\u{E006E}\u{E0067}\u{E007F}"}],version:5},"flag-scotland":{id:"flag-scotland",name:"Scotland Flag",keywords:["scottish"],skins:[{unified:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f",native:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0073}\u{E0063}\u{E0074}\u{E007F}"}],version:5},"flag-wales":{id:"flag-wales",name:"Wales Flag",keywords:["welsh"],skins:[{unified:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f",native:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0077}\u{E006C}\u{E0073}\u{E007F}"}],version:5}},XH={satisfied:"laughing",grinning_face_with_star_eyes:"star-struck",grinning_face_with_one_large_and_one_small_eye:"zany_face",smiling_face_with_smiling_eyes_and_hand_covering_mouth:"face_with_hand_over_mouth",face_with_finger_covering_closed_lips:"shushing_face",face_with_one_eyebrow_raised:"face_with_raised_eyebrow",face_with_open_mouth_vomiting:"face_vomiting",shocked_face_with_exploding_head:"exploding_head",serious_face_with_symbols_covering_mouth:"face_with_symbols_on_mouth",poop:"hankey",shit:"hankey",collision:"boom",raised_hand:"hand",hand_with_index_and_middle_fingers_crossed:"crossed_fingers",sign_of_the_horns:"the_horns",reversed_hand_with_middle_finger_extended:"middle_finger",thumbsup:"+1",thumbsdown:"-1",punch:"facepunch",mother_christmas:"mrs_claus",running:"runner","man-with-bunny-ears-partying":"men-with-bunny-ears-partying","woman-with-bunny-ears-partying":"women-with-bunny-ears-partying",women_holding_hands:"two_women_holding_hands",woman_and_man_holding_hands:"man_and_woman_holding_hands",couple:"man_and_woman_holding_hands",men_holding_hands:"two_men_holding_hands",paw_prints:"feet",flipper:"dolphin",honeybee:"bee",lady_beetle:"ladybug",cooking:"fried_egg",knife:"hocho",red_car:"car",sailboat:"boat",waxing_gibbous_moon:"moon",sun_small_cloud:"mostly_sunny",sun_behind_cloud:"barely_sunny",sun_behind_rain_cloud:"partly_sunny_rain",lightning_cloud:"lightning",tornado_cloud:"tornado",tshirt:"shirt",shoe:"mans_shoe",telephone:"phone",lantern:"izakaya_lantern",open_book:"book",envelope:"email",pencil:"memo",heavy_exclamation_mark:"exclamation",staff_of_aesculapius:"medical_symbol","flag-cn":"cn","flag-de":"de","flag-es":"es","flag-fr":"fr",uk:"gb","flag-gb":"gb","flag-it":"it","flag-jp":"jp","flag-kr":"kr","flag-ru":"ru","flag-us":"us"},JH={cols:61,rows:61};var U0={categories:qH,emojis:KH,aliases:XH,sheet:JH};function hF(t){return t&&t.__esModule?t.default:t}function Fs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var q0,De,pF,Rf,mF,yT,$1={},gF=[],YH=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Wr(t,e){for(var n in e)t[n]=e[n];return t}function yF(t){var e=t.parentNode;e&&e.removeChild(t)}function u_(t,e,n){var i,s,a,r={};for(a in e)a=="key"?i=e[a]:a=="ref"?s=e[a]:r[a]=e[a];if(arguments.length>2&&(r.children=arguments.length>3?q0.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)r[a]===void 0&&(r[a]=t.defaultProps[a]);return Bg(t,r,i,s,null)}function Bg(t,e,n,i,s){var a={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s==null?++pF:s};return s==null&&De.vnode!=null&&De.vnode(a),a}function Ba(){return{current:null}}function Uc(t){return t.children}function Na(t,e){this.props=t,this.context=e}function qc(t,e){if(e==null)return t.__?qc(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?qc(t):null}function vF(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return vF(t)}}function vT(t){(!t.__d&&(t.__d=!0)&&Rf.push(t)&&!E1.__r++||yT!==De.debounceRendering)&&((yT=De.debounceRendering)||mF)(E1)}function E1(){for(var t;E1.__r=Rf.length;)t=Rf.sort(function(e,n){return e.__v.__b-n.__v.__b}),Rf=[],t.some(function(e){var n,i,s,a,r,o;e.__d&&(r=(a=(n=e).__v).__e,(o=n.__P)&&(i=[],(s=Wr({},a)).__v=a.__v+1,O2(o,a,s,n.__n,o.ownerSVGElement!==void 0,a.__h!=null?[r]:null,i,r==null?qc(a):r,a.__h),_F(i,a),a.__e!=r&&vF(a)))})}function bF(t,e,n,i,s,a,r,o,l,c){var u,d,f,h,p,m,y,g=i&&i.__k||gF,v=g.length;for(n.__k=[],u=0;u<e.length;u++)if((h=n.__k[u]=(h=e[u])==null||typeof h=="boolean"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?Bg(null,h,null,null,h):Array.isArray(h)?Bg(Uc,{children:h},null,null,null):h.__b>0?Bg(h.type,h.props,h.key,null,h.__v):h)!=null){if(h.__=n,h.__b=n.__b+1,(f=g[u])===null||f&&h.key==f.key&&h.type===f.type)g[u]=void 0;else for(d=0;d<v;d++){if((f=g[d])&&h.key==f.key&&h.type===f.type){g[d]=void 0;break}f=null}O2(t,h,f=f||$1,s,a,r,o,l,c),p=h.__e,(d=h.ref)&&f.ref!=d&&(y||(y=[]),f.ref&&y.push(f.ref,null,h),y.push(d,h.__c||p,h)),p!=null?(m==null&&(m=p),typeof h.type=="function"&&h.__k===f.__k?h.__d=l=wF(h,l,t):l=kF(t,h,f,g,p,l),typeof n.type=="function"&&(n.__d=l)):l&&f.__e==l&&l.parentNode!=t&&(l=qc(f))}for(n.__e=m,u=v;u--;)g[u]!=null&&(typeof n.type=="function"&&g[u].__e!=null&&g[u].__e==n.__d&&(n.__d=qc(i,u+1)),SF(g[u],g[u]));if(y)for(u=0;u<y.length;u++)xF(y[u],y[++u],y[++u])}function wF(t,e,n){for(var i,s=t.__k,a=0;s&&a<s.length;a++)(i=s[a])&&(i.__=t,e=typeof i.type=="function"?wF(i,e,n):kF(n,i,i,s,i.__e,e));return e}function D1(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){D1(n,e)}):e.push(t)),e}function kF(t,e,n,i,s,a){var r,o,l;if(e.__d!==void 0)r=e.__d,e.__d=void 0;else if(n==null||s!=a||s.parentNode==null)e:if(a==null||a.parentNode!==t)t.appendChild(s),r=null;else{for(o=a,l=0;(o=o.nextSibling)&&l<i.length;l+=2)if(o==s)break e;t.insertBefore(s,a),r=a}return r!==void 0?r:s.nextSibling}function QH(t,e,n,i,s){var a;for(a in n)a==="children"||a==="key"||a in e||A1(t,a,null,n[a],i);for(a in e)s&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||n[a]===e[a]||A1(t,a,e[a],n[a],i)}function bT(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||YH.test(e)?n:n+"px"}function A1(t,e,n,i,s){var a;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||bT(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||bT(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=n,n?i||t.addEventListener(e,a?kT:wT,a):t.removeEventListener(e,a?kT:wT,a);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n==null?"":n;break e}catch{}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,n):t.removeAttribute(e))}}function wT(t){this.l[t.type+!1](De.event?De.event(t):t)}function kT(t){this.l[t.type+!0](De.event?De.event(t):t)}function O2(t,e,n,i,s,a,r,o,l){var c,u,d,f,h,p,m,y,g,v,b,w=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,o=e.__e=n.__e,e.__h=null,a=[o]),(c=De.__b)&&c(e);try{e:if(typeof w=="function"){if(y=e.props,g=(c=w.contextType)&&i[c.__c],v=c?g?g.props.value:c.__:i,n.__c?m=(u=e.__c=n.__c).__=u.__E:("prototype"in w&&w.prototype.render?e.__c=u=new w(y,v):(e.__c=u=new Na(y,v),u.constructor=w,u.render=eG),g&&g.sub(u),u.props=y,u.state||(u.state={}),u.context=v,u.__n=i,d=u.__d=!0,u.__h=[]),u.__s==null&&(u.__s=u.state),w.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Wr({},u.__s)),Wr(u.__s,w.getDerivedStateFromProps(y,u.__s))),f=u.props,h=u.state,d)w.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(w.getDerivedStateFromProps==null&&y!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(y,v),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(y,u.__s,v)===!1||e.__v===n.__v){u.props=y,u.state=u.__s,e.__v!==n.__v&&(u.__d=!1),u.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(k){k&&(k.__=e)}),u.__h.length&&r.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(y,u.__s,v),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,h,p)})}u.context=v,u.props=y,u.state=u.__s,(c=De.__r)&&c(e),u.__d=!1,u.__v=e,u.__P=t,c=u.render(u.props,u.state,u.context),u.state=u.__s,u.getChildContext!=null&&(i=Wr(Wr({},i),u.getChildContext())),d||u.getSnapshotBeforeUpdate==null||(p=u.getSnapshotBeforeUpdate(f,h)),b=c!=null&&c.type===Uc&&c.key==null?c.props.children:c,bF(t,Array.isArray(b)?b:[b],e,n,i,s,a,r,o,l),u.base=e.__e,e.__h=null,u.__h.length&&r.push(u),m&&(u.__E=u.__=null),u.__e=!1}else a==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=ZH(n.__e,e,n,i,s,a,r,l);(c=De.diffed)&&c(e)}catch(k){e.__v=null,(l||a!=null)&&(e.__e=o,e.__h=!!l,a[a.indexOf(o)]=null),De.__e(k,e,n)}}function _F(t,e){De.__c&&De.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(i){i.call(n)})}catch(i){De.__e(i,n.__v)}})}function ZH(t,e,n,i,s,a,r,o){var l,c,u,d=n.props,f=e.props,h=e.type,p=0;if(h==="svg"&&(s=!0),a!=null){for(;p<a.length;p++)if((l=a[p])&&"setAttribute"in l==!!h&&(h?l.localName===h:l.nodeType===3)){t=l,a[p]=null;break}}if(t==null){if(h===null)return document.createTextNode(f);t=s?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,f.is&&f),a=null,o=!1}if(h===null)d===f||o&&t.data===f||(t.data=f);else{if(a=a&&q0.call(t.childNodes),c=(d=n.props||$1).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!o){if(a!=null)for(d={},p=0;p<t.attributes.length;p++)d[t.attributes[p].name]=t.attributes[p].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(QH(t,f,d,s,o),u)e.__k=[];else if(p=e.props.children,bF(t,Array.isArray(p)?p:[p],e,n,i,s&&h!=="foreignObject",a,r,a?a[0]:n.__k&&qc(n,0),o),a!=null)for(p=a.length;p--;)a[p]!=null&&yF(a[p]);o||("value"in f&&(p=f.value)!==void 0&&(p!==d.value||p!==t.value||h==="progress"&&!p)&&A1(t,"value",p,d.value,!1),"checked"in f&&(p=f.checked)!==void 0&&p!==t.checked&&A1(t,"checked",p,d.checked,!1))}return t}function xF(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(i){De.__e(i,n)}}function SF(t,e,n){var i,s;if(De.unmount&&De.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||xF(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){De.__e(a,e)}i.base=i.__P=null}if(i=t.__k)for(s=0;s<i.length;s++)i[s]&&SF(i[s],e,typeof t.type!="function");n||t.__e==null||yF(t.__e),t.__e=t.__d=void 0}function eG(t,e,n){return this.constructor(t,n)}function CF(t,e,n){var i,s,a;De.__&&De.__(t,e),s=(i=typeof n=="function")?null:n&&n.__k||e.__k,a=[],O2(e,t=(!i&&n||e).__k=u_(Uc,null,[t]),s||$1,$1,e.ownerSVGElement!==void 0,!i&&n?[n]:s?null:e.firstChild?q0.call(e.childNodes):null,a,!i&&n?n:s?s.__e:e.firstChild,i),_F(a,t)}q0=gF.slice,De={__e:function(t,e){for(var n,i,s;e=e.__;)if((n=e.__c)&&!n.__)try{if((i=n.constructor)&&i.getDerivedStateFromError!=null&&(n.setState(i.getDerivedStateFromError(t)),s=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t),s=n.__d),s)return n.__E=n}catch(a){t=a}throw t}},pF=0,Na.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Wr({},this.state),typeof t=="function"&&(t=t(Wr({},n),this.props)),t&&Wr(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),vT(this))},Na.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),vT(this))},Na.prototype.render=Uc,Rf=[],mF=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,E1.__r=0;var tG=0;function re(t,e,n,i,s){var a,r,o={};for(r in e)r=="ref"?a=e[r]:o[r]=e[r];var l={type:t,props:o,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--tG,__source:i,__self:s};if(typeof t=="function"&&(a=t.defaultProps))for(r in a)o[r]===void 0&&(o[r]=a[r]);return De.vnode&&De.vnode(l),l}function nG(t,e){try{window.localStorage[`emoji-mart.${t}`]=JSON.stringify(e)}catch{}}function iG(t){try{const e=window.localStorage[`emoji-mart.${t}`];if(e)return JSON.parse(e)}catch{}}var no={set:nG,get:iG};const Ew=new Map,sG=[{v:14,emoji:"\u{1FAE0}"},{v:13.1,emoji:"\u{1F636}\u200D\u{1F32B}\uFE0F"},{v:13,emoji:"\u{1F978}"},{v:12.1,emoji:"\u{1F9D1}\u200D\u{1F9B0}"},{v:12,emoji:"\u{1F971}"},{v:11,emoji:"\u{1F970}"},{v:5,emoji:"\u{1F929}"},{v:4,emoji:"\u{1F471}\u200D\u2640\uFE0F"},{v:3,emoji:"\u{1F923}"},{v:2,emoji:"\u{1F44B}\u{1F3FB}"},{v:1,emoji:"\u{1F643}"}];function aG(){for(const{v:t,emoji:e}of sG)if(NF(e))return t}function rG(){return!NF("\u{1F1E8}\u{1F1E6}")}function NF(t){if(Ew.has(t))return Ew.get(t);const e=oG(t);return Ew.set(t,e),e}const oG=(()=>{let t=null;try{navigator.userAgent.includes("jsdom")||(t=document.createElement("canvas").getContext("2d",{willReadFrequently:!0}))}catch{}if(!t)return()=>!1;const e=25,n=20,i=Math.floor(e/2);return t.font=i+"px Arial, Sans-Serif",t.textBaseline="top",t.canvas.width=n*2,t.canvas.height=e,s=>{t.clearRect(0,0,n*2,e),t.fillStyle="#FF0000",t.fillText(s,0,22),t.fillStyle="#0000FF",t.fillText(s,n,22);const a=t.getImageData(0,0,n,e).data,r=a.length;let o=0;for(;o<r&&!a[o+3];o+=4);if(o>=r)return!1;const l=n+o/4%n,c=Math.floor(o/4/n),u=t.getImageData(l,c,1,1).data;return!(a[o]!==u[0]||a[o+2]!==u[2]||t.measureText(s).width>=n)}})();var _T={latestVersion:aG,noCountryFlags:rG};const xT=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart"];let Dn=null;function lG(t){Dn||(Dn=no.get("frequently")||{});const e=t.id||t;!e||(Dn[e]||(Dn[e]=0),Dn[e]+=1,no.set("last",e),no.set("frequently",Dn))}function cG({maxFrequentRows:t,perLine:e}){if(!t)return[];Dn||(Dn=no.get("frequently"));let n=[];if(!Dn){Dn={};for(let a in xT.slice(0,e)){const r=xT[a];Dn[r]=e-a,n.push(r)}return n}const i=t*e,s=no.get("last");for(let a in Dn)n.push(a);if(n.sort((a,r)=>{const o=Dn[r],l=Dn[a];return o==l?a.localeCompare(r):o-l}),n.length>i){const a=n.slice(i);n=n.slice(0,i);for(let r of a)r!=s&&delete Dn[r];s&&n.indexOf(s)==-1&&(delete Dn[n[n.length-1]],n.splice(-1,1,s)),no.set("frequently",Dn)}return n}var IF={add:lG,get:cG},TF={};TF=JSON.parse('{"search":"Search","search_no_results_1":"Oh no!","search_no_results_2":"That emoji couldn\u2019t be found","pick":"Pick an emoji\u2026","add_custom":"Add custom emoji","categories":{"activity":"Activity","custom":"Custom","flags":"Flags","foods":"Food & Drink","frequent":"Frequently used","nature":"Animals & Nature","objects":"Objects","people":"Smileys & People","places":"Travel & Places","search":"Search Results","symbols":"Symbols"},"skins":{"1":"Default","2":"Light","3":"Medium-Light","4":"Medium","5":"Medium-Dark","6":"Dark","choose":"Choose default skin tone"}}');var Xa={autoFocus:{value:!1},emojiButtonColors:{value:null},emojiButtonRadius:{value:"100%"},emojiButtonSize:{value:36},emojiSize:{value:24},emojiVersion:{value:14,choices:[1,2,3,4,5,11,12,12.1,13,13.1,14]},icons:{value:"auto",choices:["auto","outline","solid"]},locale:{value:"en",choices:["en","ar","be","cs","de","es","fa","fi","fr","hi","it","ja","nl","pl","pt","ru","sa","tr","uk","zh"]},maxFrequentRows:{value:4},navPosition:{value:"top",choices:["top","bottom","none"]},noCountryFlags:{value:!1},noResultsEmoji:{value:null},perLine:{value:9},previewEmoji:{value:null},previewPosition:{value:"bottom",choices:["top","bottom","none"]},searchPosition:{value:"sticky",choices:["sticky","static","none"]},set:{value:"native",choices:["native","apple","facebook","google","twitter"]},skin:{value:1,choices:[1,2,3,4,5,6]},skinTonePosition:{value:"preview",choices:["preview","search","none"]},theme:{value:"auto",choices:["auto","light","dark"]},categories:null,categoryIcons:null,custom:null,data:null,i18n:null,getImageURL:null,getSpritesheetURL:null,onAddCustomEmoji:null,onClickOutside:null,onEmojiSelect:null,stickySearch:{deprecated:!0,value:!0}};let Wn=null,Ue=null;const Dw={};async function ST(t){if(Dw[t])return Dw[t];const n=await(await fetch(t)).json();return Dw[t]=n,n}let Aw=null,$F=null,EF=!1;function K0(t,{caller:e}={}){return Aw||(Aw=new Promise(n=>{$F=n})),t?uG(t):e&&!EF&&console.warn(`\`${e}\` requires data to be initialized first. Promise will be pending until \`init\` is called.`),Aw}async function uG(t){EF=!0;let{emojiVersion:e,set:n,locale:i}=t;if(e||(e=Xa.emojiVersion.value),n||(n=Xa.set.value),i||(i=Xa.locale.value),Ue)Ue.categories=Ue.categories.filter(l=>!l.name);else{Ue=(typeof t.data=="function"?await t.data():t.data)||await ST(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/sets/${e}/${n}.json`),Ue.emoticons={},Ue.natives={},Ue.categories.unshift({id:"frequent",emojis:[]});for(const l in Ue.aliases){const c=Ue.aliases[l],u=Ue.emojis[c];!u||(u.aliases||(u.aliases=[]),u.aliases.push(l))}Ue.originalCategories=Ue.categories}if(Wn=(typeof t.i18n=="function"?await t.i18n():t.i18n)||(i=="en"?hF(TF):await ST(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/i18n/${i}.json`)),t.custom)for(let l in t.custom){l=parseInt(l);const c=t.custom[l],u=t.custom[l-1];if(!(!c.emojis||!c.emojis.length)){c.id||(c.id=`custom_${l+1}`),c.name||(c.name=Wn.categories.custom),u&&!c.icon&&(c.target=u.target||u),Ue.categories.push(c);for(const d of c.emojis)Ue.emojis[d.id]=d}}t.categories&&(Ue.categories=Ue.originalCategories.filter(l=>t.categories.indexOf(l.id)!=-1).sort((l,c)=>{const u=t.categories.indexOf(l.id),d=t.categories.indexOf(c.id);return u-d}));let s=null,a=null;n=="native"&&(s=_T.latestVersion(),a=t.noCountryFlags||_T.noCountryFlags());let r=Ue.categories.length,o=!1;for(;r--;){const l=Ue.categories[r];if(l.id=="frequent"){let{maxFrequentRows:d,perLine:f}=t;d=d>=0?d:Xa.maxFrequentRows.value,f||(f=Xa.perLine.value),l.emojis=IF.get({maxFrequentRows:d,perLine:f})}if(!l.emojis||!l.emojis.length){Ue.categories.splice(r,1);continue}const{categoryIcons:c}=t;if(c){const d=c[l.id];d&&!l.icon&&(l.icon=d)}let u=l.emojis.length;for(;u--;){const d=l.emojis[u],f=d.id?d:Ue.emojis[d],h=()=>{l.emojis.splice(u,1)};if(!f){h();continue}if(s&&f.version>s){h();continue}if(a&&l.id=="flags"&&!mG.includes(f.id)){h();continue}if(!f.search){if(o=!0,f.search=","+[[f.id,!1],[f.name,!0],[f.keywords,!1],[f.emoticons,!1]].map(([m,y])=>{if(!!m)return(Array.isArray(m)?m:[m]).map(g=>(y?g.split(/[-|_|\s]+/):[g]).map(v=>v.toLowerCase())).flat()}).flat().filter(m=>m&&m.trim()).join(","),f.emoticons)for(const m of f.emoticons)Ue.emoticons[m]||(Ue.emoticons[m]=f.id);let p=0;for(const m of f.skins){if(!m)continue;p++;const{native:y}=m;y&&(Ue.natives[y]=f.id,f.search+=`,${y}`);const g=p==1?"":`:skin-tone-${p}:`;m.shortcodes=`:${f.id}:${g}`}}}}o&&Ec.reset(),$F()}function DF(t,e,n){t||(t={});const i={};for(let s in e)i[s]=AF(s,t,e,n);return i}function AF(t,e,n,i){const s=n[t];let a=i&&i.getAttribute(t)||(e[t]!=null&&e[t]!=null?e[t]:null);return s&&(a!=null&&s.value&&typeof s.value!=typeof a&&(typeof s.value=="boolean"?a=a!="false":a=s.value.constructor(a)),s.transform&&a&&(a=s.transform(a)),(a==null||s.choices&&s.choices.indexOf(a)==-1)&&(a=s.value)),a}const dG=/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/;let d_=null;function fG(t){return t.id?t:Ue.emojis[t]||Ue.emojis[Ue.aliases[t]]||Ue.emojis[Ue.natives[t]]}function hG(){d_=null}async function pG(t,{maxResults:e,caller:n}={}){if(!t||!t.trim().length)return null;e||(e=90),await K0(null,{caller:n||"SearchIndex.search"});const i=t.toLowerCase().replace(/(\w)-/,"$1 ").split(/[\s|,]+/).filter((o,l,c)=>o.trim()&&c.indexOf(o)==l);if(!i.length)return;let s=d_||(d_=Object.values(Ue.emojis)),a,r;for(const o of i){if(!s.length)break;a=[],r={};for(const l of s){if(!l.search)continue;const c=l.search.indexOf(`,${o}`);c!=-1&&(a.push(l),r[l.id]||(r[l.id]=0),r[l.id]+=l.id==o?0:c+1)}s=a}return a.length<2||(a.sort((o,l)=>{const c=r[o.id],u=r[l.id];return c==u?o.id.localeCompare(l.id):c-u}),a.length>e&&(a=a.slice(0,e))),a}var Ec={search:pG,get:fG,reset:hG,SHORTCODES_REGEX:dG};const mG=["checkered_flag","crossed_flags","pirate_flag","rainbow-flag","transgender_flag","triangular_flag_on_post","waving_black_flag","waving_white_flag"];function gG(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((n,i)=>n==e[i])}async function yG(t=1){for(let e in[...Array(t).keys()])await new Promise(requestAnimationFrame)}function vG(t,{skinIndex:e=0}={}){const n=t.skins[e]||(()=>(e=0,t.skins[e]))(),i={id:t.id,name:t.name,native:n.native,unified:n.unified,keywords:t.keywords,shortcodes:n.shortcodes||t.shortcodes};return t.skins.length>1&&(i.skin=e+1),n.src&&(i.src=n.src),t.aliases&&t.aliases.length&&(i.aliases=t.aliases),t.emoticons&&t.emoticons.length&&(i.emoticons=t.emoticons),i}const bG={activity:{outline:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:re("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"})}),solid:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:re("path",{d:"M16.17 337.5c0 44.98 7.565 83.54 13.98 107.9C35.22 464.3 50.46 496 174.9 496c9.566 0 19.59-.4707 29.84-1.271L17.33 307.3C16.53 317.6 16.17 327.7 16.17 337.5zM495.8 174.5c0-44.98-7.565-83.53-13.98-107.9c-4.688-17.54-18.34-31.23-36.04-35.95C435.5 27.91 392.9 16 337 16c-9.564 0-19.59 .4707-29.84 1.271l187.5 187.5C495.5 194.4 495.8 184.3 495.8 174.5zM26.77 248.8l236.3 236.3c142-36.1 203.9-150.4 222.2-221.1L248.9 26.87C106.9 62.96 45.07 177.2 26.77 248.8zM256 335.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L164.7 283.3C161.6 280.2 160 276.1 160 271.1c0-8.529 6.865-16 16-16c4.095 0 8.189 1.562 11.31 4.688l64.01 64C254.4 327.8 256 331.9 256 335.1zM304 287.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L212.7 235.3C209.6 232.2 208 228.1 208 223.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01C302.5 279.8 304 283.9 304 287.1zM256 175.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01c3.125 3.125 4.688 7.219 4.688 11.31c0 9.133-7.468 16-16 16c-4.094 0-8.189-1.562-11.31-4.688l-64.01-64.01C257.6 184.2 256 180.1 256 175.1z"})})},custom:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:re("path",{d:"M417.1 368c-5.937 10.27-16.69 16-27.75 16c-5.422 0-10.92-1.375-15.97-4.281L256 311.4V448c0 17.67-14.33 32-31.1 32S192 465.7 192 448V311.4l-118.3 68.29C68.67 382.6 63.17 384 57.75 384c-11.06 0-21.81-5.734-27.75-16c-8.828-15.31-3.594-34.88 11.72-43.72L159.1 256L41.72 187.7C26.41 178.9 21.17 159.3 29.1 144C36.63 132.5 49.26 126.7 61.65 128.2C65.78 128.7 69.88 130.1 73.72 132.3L192 200.6V64c0-17.67 14.33-32 32-32S256 46.33 256 64v136.6l118.3-68.29c3.838-2.213 7.939-3.539 12.07-4.051C398.7 126.7 411.4 132.5 417.1 144c8.828 15.31 3.594 34.88-11.72 43.72L288 256l118.3 68.28C421.6 333.1 426.8 352.7 417.1 368z"})}),flags:{outline:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:re("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"})}),solid:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:re("path",{d:"M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z"})})},foods:{outline:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:re("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"})}),solid:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:re("path",{d:"M481.9 270.1C490.9 279.1 496 291.3 496 304C496 316.7 490.9 328.9 481.9 337.9C472.9 346.9 460.7 352 448 352H64C51.27 352 39.06 346.9 30.06 337.9C21.06 328.9 16 316.7 16 304C16 291.3 21.06 279.1 30.06 270.1C39.06 261.1 51.27 256 64 256H448C460.7 256 472.9 261.1 481.9 270.1zM475.3 388.7C478.3 391.7 480 395.8 480 400V416C480 432.1 473.3 449.3 461.3 461.3C449.3 473.3 432.1 480 416 480H96C79.03 480 62.75 473.3 50.75 461.3C38.74 449.3 32 432.1 32 416V400C32 395.8 33.69 391.7 36.69 388.7C39.69 385.7 43.76 384 48 384H464C468.2 384 472.3 385.7 475.3 388.7zM50.39 220.8C45.93 218.6 42.03 215.5 38.97 211.6C35.91 207.7 33.79 203.2 32.75 198.4C31.71 193.5 31.8 188.5 32.99 183.7C54.98 97.02 146.5 32 256 32C365.5 32 457 97.02 479 183.7C480.2 188.5 480.3 193.5 479.2 198.4C478.2 203.2 476.1 207.7 473 211.6C469.1 215.5 466.1 218.6 461.6 220.8C457.2 222.9 452.3 224 447.3 224H64.67C59.73 224 54.84 222.9 50.39 220.8zM372.7 116.7C369.7 119.7 368 123.8 368 128C368 131.2 368.9 134.3 370.7 136.9C372.5 139.5 374.1 141.6 377.9 142.8C380.8 143.1 384 144.3 387.1 143.7C390.2 143.1 393.1 141.6 395.3 139.3C397.6 137.1 399.1 134.2 399.7 131.1C400.3 128 399.1 124.8 398.8 121.9C397.6 118.1 395.5 116.5 392.9 114.7C390.3 112.9 387.2 111.1 384 111.1C379.8 111.1 375.7 113.7 372.7 116.7V116.7zM244.7 84.69C241.7 87.69 240 91.76 240 96C240 99.16 240.9 102.3 242.7 104.9C244.5 107.5 246.1 109.6 249.9 110.8C252.8 111.1 256 112.3 259.1 111.7C262.2 111.1 265.1 109.6 267.3 107.3C269.6 105.1 271.1 102.2 271.7 99.12C272.3 96.02 271.1 92.8 270.8 89.88C269.6 86.95 267.5 84.45 264.9 82.7C262.3 80.94 259.2 79.1 256 79.1C251.8 79.1 247.7 81.69 244.7 84.69V84.69zM116.7 116.7C113.7 119.7 112 123.8 112 128C112 131.2 112.9 134.3 114.7 136.9C116.5 139.5 118.1 141.6 121.9 142.8C124.8 143.1 128 144.3 131.1 143.7C134.2 143.1 137.1 141.6 139.3 139.3C141.6 137.1 143.1 134.2 143.7 131.1C144.3 128 143.1 124.8 142.8 121.9C141.6 118.1 139.5 116.5 136.9 114.7C134.3 112.9 131.2 111.1 128 111.1C123.8 111.1 119.7 113.7 116.7 116.7L116.7 116.7z"})})},frequent:{outline:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[re("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),re("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"})]}),solid:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:re("path",{d:"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"})})},nature:{outline:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[re("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),re("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"})]}),solid:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:re("path",{d:"M332.7 19.85C334.6 8.395 344.5 0 356.1 0C363.6 0 370.6 3.52 375.1 9.502L392 32H444.1C456.8 32 469.1 37.06 478.1 46.06L496 64H552C565.3 64 576 74.75 576 88V112C576 156.2 540.2 192 496 192H426.7L421.6 222.5L309.6 158.5L332.7 19.85zM448 64C439.2 64 432 71.16 432 80C432 88.84 439.2 96 448 96C456.8 96 464 88.84 464 80C464 71.16 456.8 64 448 64zM416 256.1V480C416 497.7 401.7 512 384 512H352C334.3 512 320 497.7 320 480V364.8C295.1 377.1 268.8 384 240 384C211.2 384 184 377.1 160 364.8V480C160 497.7 145.7 512 128 512H96C78.33 512 64 497.7 64 480V249.8C35.23 238.9 12.64 214.5 4.836 183.3L.9558 167.8C-3.331 150.6 7.094 133.2 24.24 128.1C41.38 124.7 58.76 135.1 63.05 152.2L66.93 167.8C70.49 182 83.29 191.1 97.97 191.1H303.8L416 256.1z"})})},objects:{outline:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[re("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),re("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"})]}),solid:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:re("path",{d:"M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z"})})},people:{outline:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[re("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),re("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"})]}),solid:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:re("path",{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 432C332.1 432 396.2 382 415.2 314.1C419.1 300.4 407.8 288 393.6 288H118.4C104.2 288 92.92 300.4 96.76 314.1C115.8 382 179.9 432 256 432V432zM176.4 160C158.7 160 144.4 174.3 144.4 192C144.4 209.7 158.7 224 176.4 224C194 224 208.4 209.7 208.4 192C208.4 174.3 194 160 176.4 160zM336.4 224C354 224 368.4 209.7 368.4 192C368.4 174.3 354 160 336.4 160C318.7 160 304.4 174.3 304.4 192C304.4 209.7 318.7 224 336.4 224z"})})},places:{outline:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[re("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),re("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"})]}),solid:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:re("path",{d:"M39.61 196.8L74.8 96.29C88.27 57.78 124.6 32 165.4 32H346.6C387.4 32 423.7 57.78 437.2 96.29L472.4 196.8C495.6 206.4 512 229.3 512 256V448C512 465.7 497.7 480 480 480H448C430.3 480 416 465.7 416 448V400H96V448C96 465.7 81.67 480 64 480H32C14.33 480 0 465.7 0 448V256C0 229.3 16.36 206.4 39.61 196.8V196.8zM109.1 192H402.9L376.8 117.4C372.3 104.6 360.2 96 346.6 96H165.4C151.8 96 139.7 104.6 135.2 117.4L109.1 192zM96 256C78.33 256 64 270.3 64 288C64 305.7 78.33 320 96 320C113.7 320 128 305.7 128 288C128 270.3 113.7 256 96 256zM416 320C433.7 320 448 305.7 448 288C448 270.3 433.7 256 416 256C398.3 256 384 270.3 384 288C384 305.7 398.3 320 416 320z"})})},symbols:{outline:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:re("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"})}),solid:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:re("path",{d:"M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z"})})}},wG={loupe:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:re("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})}),delete:re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:re("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})};var F1={categories:bG,search:wG};function f_(t){let{id:e,skin:n,emoji:i}=t;if(t.shortcodes){const o=t.shortcodes.match(Ec.SHORTCODES_REGEX);o&&(e=o[1],o[2]&&(n=o[2]))}if(i||(i=Ec.get(e||t.native)),!i)return t.fallback;const s=i.skins[n-1]||i.skins[0],a=s.src||(t.set!="native"&&!t.spritesheet?typeof t.getImageURL=="function"?t.getImageURL(t.set,s.unified):`https://cdn.jsdelivr.net/npm/emoji-datasource-${t.set}@14.0.0/img/${t.set}/64/${s.unified}.png`:void 0),r=typeof t.getSpritesheetURL=="function"?t.getSpritesheetURL(t.set):`https://cdn.jsdelivr.net/npm/emoji-datasource-${t.set}@14.0.0/img/${t.set}/sheets-256/64.png`;return re("span",{class:"emoji-mart-emoji","data-emoji-set":t.set,children:a?re("img",{style:{maxWidth:t.size||"1em",maxHeight:t.size||"1em",display:"inline-block"},alt:s.native||s.shortcodes,src:a}):t.set=="native"?re("span",{style:{fontSize:t.size,fontFamily:'"EmojiMart", "Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "Android Emoji"'},children:s.native}):re("span",{style:{display:"block",width:t.size,height:t.size,backgroundImage:`url(${r})`,backgroundSize:`${100*Ue.sheet.cols}% ${100*Ue.sheet.rows}%`,backgroundPosition:`${100/(Ue.sheet.cols-1)*s.x}% ${100/(Ue.sheet.rows-1)*s.y}%`}})})}var FE;const kG=(FE=window==null?void 0:window.HTMLElement)!=null?FE:Object;class FF extends kG{static get observedAttributes(){return Object.keys(this.Props)}update(e={}){for(let n in e)this.attributeChangedCallback(n,null,e[n])}attributeChangedCallback(e,n,i){if(!this.component)return;const s=AF(e,{[e]:i},this.constructor.Props,this);this.component.componentWillReceiveProps?this.component.componentWillReceiveProps({[e]:s}):(this.component.props[e]=s,this.component.forceUpdate())}disconnectedCallback(){this.disconnected=!0,this.component&&this.component.unregister&&this.component.unregister()}constructor(e={}){if(super(),this.props=e,e.parent||e.ref){let n=null;const i=e.parent||(n=e.ref&&e.ref.current);n&&(n.innerHTML=""),i&&i.appendChild(this)}}}class _G extends FF{setShadow(){this.attachShadow({mode:"open"})}injectStyles(e){if(!e)return;const n=document.createElement("style");n.textContent=e,this.shadowRoot.insertBefore(n,this.shadowRoot.firstChild)}constructor(e,{styles:n}={}){super(e),this.setShadow(),this.injectStyles(n)}}var RF={fallback:"",id:"",native:"",shortcodes:"",size:{value:"",transform:t=>/\D/.test(t)?t:`${t}px`},set:Xa.set,skin:Xa.skin};class OF extends FF{async connectedCallback(){const e=DF(this.props,RF,this);e.element=this,e.ref=n=>{this.component=n},await K0(),!this.disconnected&&CF(re(f_,{...e}),this)}constructor(e){super(e)}}Fs(OF,"Props",RF);typeof customElements!="undefined"&&!customElements.get("em-emoji")&&customElements.define("em-emoji",OF);var CT,h_=[],NT=De.__b,IT=De.__r,TT=De.diffed,$T=De.__c,ET=De.unmount;function xG(){var t;for(h_.sort(function(e,n){return e.__v.__b-n.__v.__b});t=h_.pop();)if(t.__P)try{t.__H.__h.forEach(zg),t.__H.__h.forEach(p_),t.__H.__h=[]}catch(e){t.__H.__h=[],De.__e(e,t.__v)}}De.__b=function(t){NT&&NT(t)},De.__r=function(t){IT&&IT(t);var e=t.__c.__H;e&&(e.__h.forEach(zg),e.__h.forEach(p_),e.__h=[])},De.diffed=function(t){TT&&TT(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(h_.push(e)!==1&&CT===De.requestAnimationFrame||((CT=De.requestAnimationFrame)||function(n){var i,s=function(){clearTimeout(a),DT&&cancelAnimationFrame(i),setTimeout(n)},a=setTimeout(s,100);DT&&(i=requestAnimationFrame(s))})(xG))},De.__c=function(t,e){e.some(function(n){try{n.__h.forEach(zg),n.__h=n.__h.filter(function(i){return!i.__||p_(i)})}catch(i){e.some(function(s){s.__h&&(s.__h=[])}),e=[],De.__e(i,n.__v)}}),$T&&$T(t,e)},De.unmount=function(t){ET&&ET(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{zg(i)}catch(s){e=s}}),e&&De.__e(e,n.__v))};var DT=typeof requestAnimationFrame=="function";function zg(t){var e=t.__c;typeof e=="function"&&(t.__c=void 0,e())}function p_(t){t.__c=t.__()}function SG(t,e){for(var n in e)t[n]=e[n];return t}function AT(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var i in e)if(i!=="__source"&&t[i]!==e[i])return!0;return!1}function R1(t){this.props=t}(R1.prototype=new Na).isPureReactComponent=!0,R1.prototype.shouldComponentUpdate=function(t,e){return AT(this.props,t)||AT(this.state,e)};var FT=De.__b;De.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),FT&&FT(t)};var CG=De.__e;De.__e=function(t,e,n){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}CG(t,e,n)};var RT=De.unmount;function Fw(){this.__u=0,this.t=null,this.__b=null}function PF(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function Zm(){this.u=null,this.o=null}De.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),RT&&RT(t)},(Fw.prototype=new Na).__c=function(t,e){var n=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var s=PF(i.__v),a=!1,r=function(){a||(a=!0,n.__R=null,s?s(o):o())};n.__R=r;var o=function(){if(!--i.__u){if(i.state.__e){var c=i.state.__e;i.__v.__k[0]=function d(f,h,p){return f&&(f.__v=null,f.__k=f.__k&&f.__k.map(function(m){return d(m,h,p)}),f.__c&&f.__c.__P===h&&(f.__e&&p.insertBefore(f.__e,f.__d),f.__c.__e=!0,f.__c.__P=p)),f}(c,c.__c.__P,c.__c.__O)}var u;for(i.setState({__e:i.__b=null});u=i.t.pop();)u.forceUpdate()}},l=e.__h===!0;i.__u++||l||i.setState({__e:i.__b=i.__v.__k[0]}),t.then(r,r)},Fw.prototype.componentWillUnmount=function(){this.t=[]},Fw.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=function a(r,o,l){return r&&(r.__c&&r.__c.__H&&(r.__c.__H.__.forEach(function(c){typeof c.__c=="function"&&c.__c()}),r.__c.__H=null),(r=SG({},r)).__c!=null&&(r.__c.__P===l&&(r.__c.__P=o),r.__c=null),r.__k=r.__k&&r.__k.map(function(c){return a(c,o,l)})),r}(this.__b,n,i.__O=i.__P)}this.__b=null}var s=e.__e&&u_(Uc,null,t.fallback);return s&&(s.__h=null),[u_(Uc,null,e.__e?null:t.children),s]};var OT=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};(Zm.prototype=new Na).__e=function(t){var e=this,n=PF(e.__v),i=e.o.get(t);return i[0]++,function(s){var a=function(){e.props.revealOrder?(i.push(s),OT(e,t,i)):s()};n?n(a):a()}},Zm.prototype.render=function(t){this.u=null,this.o=new Map;var e=D1(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Zm.prototype.componentDidUpdate=Zm.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){OT(t,n,e)})};var NG=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,IG=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,TG=typeof document!="undefined",$G=function(t){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Na.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Na.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var PT=De.event;function EG(){}function DG(){return this.cancelBubble}function AG(){return this.defaultPrevented}De.event=function(t){return PT&&(t=PT(t)),t.persist=EG,t.isPropagationStopped=DG,t.isDefaultPrevented=AG,t.nativeEvent=t};var LT={configurable:!0,get:function(){return this.class}},MT=De.vnode;De.vnode=function(t){var e=t.type,n=t.props,i=n;if(typeof e=="string"){var s=e.indexOf("-")===-1;for(var a in i={},n){var r=n[a];TG&&a==="children"&&e==="noscript"||a==="value"&&"defaultValue"in n&&r==null||(a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&r===!0?r="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+e)&&!$G(n.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(a)?a=a.toLowerCase():s&&IG.test(a)?a=a.replace(/[A-Z0-9]/,"-$&").toLowerCase():r===null&&(r=void 0),i[a]=r)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=D1(n.children).forEach(function(o){o.props.selected=i.value.indexOf(o.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=D1(n.children).forEach(function(o){o.props.selected=i.multiple?i.defaultValue.indexOf(o.props.value)!=-1:i.defaultValue==o.props.value})),t.props=i,n.class!=n.className&&(LT.enumerable="className"in n,n.className!=null&&(i.class=n.className),Object.defineProperty(i,"className",LT))}t.$$typeof=NG,MT&&MT(t)};var BT=De.__r;De.__r=function(t){BT&&BT(t),t.__c};const FG={light:"outline",dark:"solid"};class RG extends R1{renderIcon(e){const{icon:n}=e;if(n){if(n.svg)return re("span",{class:"flex",dangerouslySetInnerHTML:{__html:n.svg}});if(n.src)return re("img",{src:n.src})}const i=F1.categories[e.id]||F1.categories.custom,s=this.props.icons=="auto"?FG[this.props.theme]:this.props.icons;return i[s]||i}render(){let e=null;return re("nav",{id:"nav",class:"padding","data-position":this.props.position,children:re("div",{class:"flex relative",children:[this.categories.map((n,i)=>{const s=n.name||Wn.categories[n.id],a=!this.props.unfocused&&n.id==this.state.categoryId;return a&&(e=i),re("button",{"aria-label":s,"aria-selected":a||void 0,title:s,type:"button",class:"flex flex-grow flex-center",onMouseDown:r=>r.preventDefault(),onClick:()=>{this.props.onClick({category:n,i})},children:this.renderIcon(n)})}),re("div",{class:"bar",style:{width:`${100/this.categories.length}%`,opacity:e==null?0:1,transform:`translateX(${e*100}%)`}})]})})}constructor(){super(),this.categories=Ue.categories.filter(e=>!e.target),this.state={categoryId:this.categories[0].id}}}class OG extends R1{shouldComponentUpdate(e){for(let n in e)if(n!="children"&&e[n]!=this.props[n])return!0;return!1}render(){return this.props.children}}const eg={rowsPerRender:10};class PG extends Na{getInitialState(e=this.props){return{skin:no.get("skin")||e.skin,theme:this.initTheme(e.theme)}}componentWillMount(){this.observers=[],this.dir=Wn.rtl?"rtl":"ltr",this.refs={menu:Ba(),navigation:Ba(),scroll:Ba(),search:Ba(),searchInput:Ba(),skinToneButton:Ba(),skinToneRadio:Ba()},this.initGrid(),this.props.stickySearch==!1&&this.props.searchPosition=="sticky"&&(console.warn("[EmojiMart] Deprecation warning: `stickySearch` has been renamed `searchPosition`."),this.props.searchPosition="static")}componentDidMount(){if(this.register(),this.shadowRoot=this.base.parentNode,this.props.autoFocus){const{searchInput:e}=this.refs;e.current&&e.current.focus()}}componentWillReceiveProps(e){this.nextState||(this.nextState={});for(const n in e)this.nextState[n]=e[n];clearTimeout(this.nextStateTimer),this.nextStateTimer=setTimeout(()=>{let n=!1;for(const s in this.nextState)this.props[s]=this.nextState[s],(s==="custom"||s==="categories")&&(n=!0);delete this.nextState;const i=this.getInitialState();if(n)return this.reset(i);this.setState(i)})}componentWillUnmount(){this.unregister()}async reset(e={}){await K0(this.props),this.initGrid(),this.unobserve(),this.setState(e,()=>{this.observeCategories(),this.observeRows()})}register(){document.addEventListener("click",this.handleClickOutside),this.observe()}unregister(){document.removeEventListener("click",this.handleClickOutside),this.unobserve()}observe(){this.observeCategories(),this.observeRows()}unobserve(){for(const e of this.observers)e.disconnect()}initGrid(){const{categories:e}=Ue;this.refs.categories=new Map;const n=Ue.categories.map(s=>s.id).join(",");this.navKey&&this.navKey!=n&&this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0),this.navKey=n,this.grid=[],this.grid.setsize=0;const i=(s,a)=>{const r=[];r.__categoryId=a.id,r.__index=s.length,this.grid.push(r);const o=this.grid.length-1,l=o%eg.rowsPerRender?{}:Ba();return l.index=o,l.posinset=this.grid.setsize+1,s.push(l),r};for(let s of e){const a=[];let r=i(a,s);for(let o of s.emojis)r.length==this.props.perLine&&(r=i(a,s)),this.grid.setsize+=1,r.push(o);this.refs.categories.set(s.id,{root:Ba(),rows:a})}}initTheme(e){if(e!="auto")return e;if(!this.darkMedia){if(this.darkMedia=matchMedia("(prefers-color-scheme: dark)"),this.darkMedia.media.match(/^not/))return"light";this.darkMedia.addListener(()=>{this.props.theme=="auto"&&this.setState({theme:this.darkMedia.matches?"dark":"light"})})}return this.darkMedia.matches?"dark":"light"}getEmojiByPos([e,n]){const i=this.state.searchResults||this.grid,s=i[e]&&i[e][n];if(!!s)return Ec.get(s)}observeCategories(){const e=this.refs.navigation.current;if(!e)return;const n=new Map,i=r=>{r!=e.state.categoryId&&e.setState({categoryId:r})},s={root:this.refs.scroll.current,threshold:[0,1]},a=new IntersectionObserver(r=>{for(const l of r){const c=l.target.dataset.id;n.set(c,l.intersectionRatio)}const o=[...n];for(const[l,c]of o)if(c){i(l);break}},s);for(const{root:r}of this.refs.categories.values())a.observe(r.current);this.observers.push(a)}observeRows(){const e={...this.state.visibleRows},n=new IntersectionObserver(i=>{for(const s of i){const a=parseInt(s.target.dataset.index);s.isIntersecting?e[a]=!0:delete e[a]}this.setState({visibleRows:e})},{root:this.refs.scroll.current,rootMargin:`${this.props.emojiButtonSize*(eg.rowsPerRender+5)}px 0px ${this.props.emojiButtonSize*eg.rowsPerRender}px`});for(const{rows:i}of this.refs.categories.values())for(const s of i)s.current&&n.observe(s.current);this.observers.push(n)}preventDefault(e){e.preventDefault()}unfocusSearch(){const e=this.refs.searchInput.current;!e||e.blur()}navigate({e,input:n,left:i,right:s,up:a,down:r}){const o=this.state.searchResults||this.grid;if(!o.length)return;let[l,c]=this.state.pos;const u=(()=>{if(l==0&&c==0&&!e.repeat&&(i||a))return null;if(l==-1)return!e.repeat&&(s||r)&&n.selectionStart==n.value.length?[0,0]:null;if(i||s){let d=o[l];const f=i?-1:1;if(c+=f,!d[c]){if(l+=f,d=o[l],!d)return l=i?0:o.length-1,c=i?0:o[l].length-1,[l,c];c=i?d.length-1:0}return[l,c]}if(a||r){l+=a?-1:1;const d=o[l];return d?(d[c]||(c=d.length-1),[l,c]):(l=a?0:o.length-1,c=a?0:o[l].length-1,[l,c])}})();if(u)e.preventDefault();else{this.state.pos[0]>-1&&this.setState({pos:[-1,-1]});return}this.setState({pos:u,keyboard:!0},()=>{this.scrollTo({row:u[0]})})}scrollTo({categoryId:e,row:n}){const i=this.state.searchResults||this.grid;if(!i.length)return;const s=this.refs.scroll.current,a=s.getBoundingClientRect();let r=0;if(n>=0&&(e=i[n].__categoryId),e&&(r=(this.refs[e]||this.refs.categories.get(e).root).current.getBoundingClientRect().top-(a.top-s.scrollTop)+1),n>=0)if(!n)r=0;else{const o=i[n].__index,l=r+o*this.props.emojiButtonSize,c=l+this.props.emojiButtonSize+this.props.emojiButtonSize*.88;if(l<s.scrollTop)r=l;else if(c>s.scrollTop+a.height)r=c-a.height;else return}this.ignoreMouse(),s.scrollTop=r}ignoreMouse(){this.mouseIsIgnored=!0,clearTimeout(this.ignoreMouseTimer),this.ignoreMouseTimer=setTimeout(()=>{delete this.mouseIsIgnored},100)}handleEmojiOver(e){this.mouseIsIgnored||this.state.showSkins||this.setState({pos:e||[-1,-1],keyboard:!1})}handleEmojiClick({emoji:e,pos:n}){if(!!this.props.onEmojiSelect&&(!e&&n&&(e=this.getEmojiByPos(n)),e)){const i=vG(e,{skinIndex:this.state.skin-1});this.props.maxFrequentRows&&IF.add(i,this.props),this.props.onEmojiSelect(i)}}closeSkins(){!this.state.showSkins||(this.setState({showSkins:null,tempSkin:null}),this.base.removeEventListener("click",this.handleBaseClick),this.base.removeEventListener("keydown",this.handleBaseKeydown))}handleSkinMouseOver(e){this.setState({tempSkin:e})}handleSkinClick(e){this.ignoreMouse(),this.closeSkins(),this.setState({skin:e,tempSkin:null}),no.set("skin",e)}renderNav(){return re(RG,{ref:this.refs.navigation,icons:this.props.icons,theme:this.state.theme,unfocused:!!this.state.searchResults,position:this.props.navPosition,onClick:this.handleCategoryClick},this.navKey)}renderPreview(){const e=this.getEmojiByPos(this.state.pos),n=this.state.searchResults&&!this.state.searchResults.length;return re("div",{id:"preview",class:"flex flex-middle",dir:this.dir,"data-position":this.props.previewPosition,children:[re("div",{class:"flex flex-middle flex-grow",children:[re("div",{class:"flex flex-auto flex-middle flex-center",style:{height:this.props.emojiButtonSize,fontSize:this.props.emojiButtonSize},children:re(f_,{emoji:e,id:n?this.props.noResultsEmoji||"cry":this.props.previewEmoji||(this.props.previewPosition=="top"?"point_down":"point_up"),set:this.props.set,size:this.props.emojiButtonSize,skin:this.state.tempSkin||this.state.skin,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})}),re("div",{class:`margin-${this.dir[0]}`,children:e?re("div",{class:`padding-${this.dir[2]} align-${this.dir[0]}`,children:[re("div",{class:"ellipsis",style:{fontSize:"1.1em"},children:e.name}),re("div",{class:"ellipsis color-c",style:{fontSize:".9em"},children:e.skins[0].shortcodes})]}):n?re("div",{class:`padding-${this.dir[2]} align-${this.dir[0]}`,children:[re("div",{class:"ellipsis",style:{fontSize:"1.1em"},children:Wn.search_no_results_1}),re("div",{class:"ellipsis color-c",style:{fontSize:".9em"},children:Wn.search_no_results_2})]}):re("div",{class:"color-c",style:{fontSize:21},children:Wn.pick})})]}),!e&&this.props.skinTonePosition=="preview"&&this.renderSkinToneButton()]})}renderEmojiButton(e,{pos:n,posinset:i,grid:s}){const a=this.props.emojiButtonSize,r=this.state.tempSkin||this.state.skin,l=(e.skins[r-1]||e.skins[0]).native,c=gG(this.state.pos,n),u=n.concat(e.id).join("");return re(OG,{selected:c,skin:r,size:a,children:re("button",{"aria-label":l,"aria-selected":c||void 0,"aria-posinset":i,"aria-setsize":s.setsize,"data-keyboard":this.state.keyboard,title:this.props.previewPosition=="none"?e.name:void 0,type:"button",class:"flex flex-center flex-middle",tabindex:"-1",onClick:()=>this.handleEmojiClick({emoji:e}),onMouseEnter:()=>this.handleEmojiOver(n),onMouseLeave:()=>this.handleEmojiOver(),style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize,fontSize:this.props.emojiSize,lineHeight:0},children:[re("div",{"aria-hidden":"true",class:"background",style:{borderRadius:this.props.emojiButtonRadius,backgroundColor:this.props.emojiButtonColors?this.props.emojiButtonColors[(i-1)%this.props.emojiButtonColors.length]:void 0}}),re(f_,{emoji:e,set:this.props.set,size:this.props.emojiSize,skin:r,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})]})},u)}renderSearch(){const e=this.props.previewPosition=="none"||this.props.skinTonePosition=="search";return re("div",{children:[re("div",{class:"spacer"}),re("div",{class:"flex flex-middle",children:[e&&this.dir=="rtl"&&this.renderSkinToneButton(),re("div",{class:"search relative flex-grow",children:[re("input",{type:"search",ref:this.refs.searchInput,placeholder:Wn.search,onClick:this.handleSearchClick,onInput:this.handleSearchInput,onKeyDown:this.handleSearchKeyDown,autoComplete:"off"}),re("span",{class:"icon loupe flex",children:F1.search.loupe}),this.state.searchResults&&re("button",{title:"Clear","aria-label":"Clear",type:"button",class:"icon delete flex",onClick:this.clearSearch,onMouseDown:this.preventDefault,children:F1.search.delete})]}),e&&this.dir=="ltr"&&this.renderSkinToneButton()]})]})}renderSearchResults(){const{searchResults:e}=this.state;return e?re("div",{class:"category",ref:this.refs.search,children:[re("div",{class:`sticky padding-small align-${this.dir[0]}`,children:Wn.categories.search}),re("div",{children:e.length?e.map((n,i)=>re("div",{class:"flex",children:n.map((s,a)=>this.renderEmojiButton(s,{pos:[i,a],posinset:i*this.props.perLine+a+1,grid:e}))})):re("div",{class:`padding-small align-${this.dir[0]}`,children:this.props.onAddCustomEmoji&&re("a",{onClick:this.props.onAddCustomEmoji,children:Wn.add_custom})})})]}):null}renderCategories(){const{categories:e}=Ue,n=!!this.state.searchResults;return re("div",{style:{visibility:n?"hidden":void 0,display:n?"none":void 0,height:"100%"},children:e.map(i=>{const{root:s,rows:a}=this.refs.categories.get(i.id);return re("div",{"data-id":i.target?i.target.id:i.id,class:"category",ref:s,children:[re("div",{class:`sticky padding-small align-${this.dir[0]}`,children:i.name||Wn.categories[i.id]}),re("div",{class:"relative",style:{height:a.length*this.props.emojiButtonSize},children:a.map((r,o)=>{const l=r.index-r.index%eg.rowsPerRender,c=this.state.visibleRows[l],u="current"in r?r:void 0;if(!c&&!u)return null;const d=o*this.props.perLine,f=d+this.props.perLine,h=i.emojis.slice(d,f);return re("div",{"data-index":r.index,ref:u,class:"flex row",style:{top:o*this.props.emojiButtonSize},children:c&&h.map((p,m)=>{const y=Ec.get(p);return this.renderEmojiButton(y,{pos:[r.index,m],posinset:r.posinset+m,grid:this.grid})})},r.index)})})]})})})}renderSkinToneButton(){return this.props.skinTonePosition=="none"?null:re("div",{class:"flex flex-auto flex-center flex-middle",style:{position:"relative",width:this.props.emojiButtonSize,height:this.props.emojiButtonSize},children:re("button",{type:"button",ref:this.refs.skinToneButton,class:"skin-tone-button flex flex-auto flex-center flex-middle","aria-selected":this.state.showSkins?"":void 0,"aria-label":Wn.skins.choose,title:Wn.skins.choose,onClick:this.openSkins,style:{width:this.props.emojiSize,height:this.props.emojiSize},children:re("span",{class:`skin-tone skin-tone-${this.state.skin}`})})})}renderLiveRegion(){const e=this.getEmojiByPos(this.state.pos),n=e?e.name:"";return re("div",{"aria-live":"polite",class:"sr-only",children:n})}renderSkins(){const n=this.refs.skinToneButton.current.getBoundingClientRect(),i=this.base.getBoundingClientRect(),s={};return this.dir=="ltr"?s.right=i.right-n.right-3:s.left=n.left-i.left-3,this.props.previewPosition=="bottom"&&this.props.skinTonePosition=="preview"?s.bottom=i.bottom-n.top+6:(s.top=n.bottom-i.top+3,s.bottom="auto"),re("div",{ref:this.refs.menu,role:"radiogroup",dir:this.dir,"aria-label":Wn.skins.choose,class:"menu hidden","data-position":s.top?"top":"bottom",style:s,children:[...Array(6).keys()].map(a=>{const r=a+1,o=this.state.skin==r;return re("div",{children:[re("input",{type:"radio",name:"skin-tone",value:r,"aria-label":Wn.skins[r],ref:o?this.refs.skinToneRadio:null,defaultChecked:o,onChange:()=>this.handleSkinMouseOver(r),onKeyDown:l=>{(l.code=="Enter"||l.code=="Space"||l.code=="Tab")&&(l.preventDefault(),this.handleSkinClick(r))}}),re("button",{"aria-hidden":"true",tabindex:"-1",onClick:()=>this.handleSkinClick(r),onMouseEnter:()=>this.handleSkinMouseOver(r),onMouseLeave:()=>this.handleSkinMouseOver(),class:"option flex flex-grow flex-middle",children:[re("span",{class:`skin-tone skin-tone-${r}`}),re("span",{class:"margin-small-lr",children:Wn.skins[r]})]})]})})})}render(){return re("section",{id:"root",class:"flex flex-column",style:{width:this.props.perLine*this.props.emojiButtonSize+28},"data-emoji-set":this.props.set,"data-theme":this.state.theme,"data-menu":this.state.showSkins?"":void 0,children:[this.props.previewPosition=="top"&&this.renderPreview(),this.props.navPosition=="top"&&this.renderNav(),this.props.searchPosition=="sticky"&&re("div",{class:"padding-lr",children:this.renderSearch()}),re("div",{ref:this.refs.scroll,class:"scroll flex-grow padding-lr",children:re("div",{style:{width:this.props.perLine*this.props.emojiButtonSize,height:"100%"},children:[this.props.searchPosition=="static"&&this.renderSearch(),this.renderSearchResults(),this.renderCategories()]})}),this.props.navPosition=="bottom"&&this.renderNav(),this.props.previewPosition=="bottom"&&this.renderPreview(),this.state.showSkins&&this.renderSkins(),this.renderLiveRegion()]})}constructor(e){super(),Fs(this,"handleClickOutside",n=>{const{element:i}=this.props;n.target!=i&&(this.state.showSkins&&this.closeSkins(),this.props.onClickOutside&&this.props.onClickOutside())}),Fs(this,"handleBaseClick",n=>{!this.state.showSkins||n.target.closest(".menu")||(n.preventDefault(),n.stopImmediatePropagation(),this.closeSkins())}),Fs(this,"handleBaseKeydown",n=>{!this.state.showSkins||n.key=="Escape"&&(n.preventDefault(),n.stopImmediatePropagation(),this.closeSkins())}),Fs(this,"handleSearchClick",()=>{!this.getEmojiByPos(this.state.pos)||this.setState({pos:[-1,-1]})}),Fs(this,"handleSearchInput",async()=>{const n=this.refs.searchInput.current;if(!n)return;const{value:i}=n,s=await Ec.search(i),a=()=>{!this.refs.scroll.current||(this.refs.scroll.current.scrollTop=0)};if(!s)return this.setState({searchResults:s,pos:[-1,-1]},a);const r=n.selectionStart==n.value.length?[0,0]:[-1,-1],o=[];o.setsize=s.length;let l=null;for(let c of s)(!o.length||l.length==this.props.perLine)&&(l=[],l.__categoryId="search",l.__index=o.length,o.push(l)),l.push(c);this.ignoreMouse(),this.setState({searchResults:o,pos:r},a)}),Fs(this,"handleSearchKeyDown",n=>{const i=n.currentTarget;switch(n.stopImmediatePropagation(),n.key){case"ArrowLeft":this.navigate({e:n,input:i,left:!0});break;case"ArrowRight":this.navigate({e:n,input:i,right:!0});break;case"ArrowUp":this.navigate({e:n,input:i,up:!0});break;case"ArrowDown":this.navigate({e:n,input:i,down:!0});break;case"Enter":n.preventDefault(),this.handleEmojiClick({pos:this.state.pos});break;case"Escape":n.preventDefault(),this.state.searchResults?this.clearSearch():this.unfocusSearch();break}}),Fs(this,"clearSearch",()=>{const n=this.refs.searchInput.current;!n||(n.value="",n.focus(),this.handleSearchInput())}),Fs(this,"handleCategoryClick",({category:n,i})=>{this.scrollTo(i==0?{row:-1}:{categoryId:n.id})}),Fs(this,"openSkins",n=>{const{currentTarget:i}=n,s=i.getBoundingClientRect();this.setState({showSkins:s},async()=>{await yG(2);const a=this.refs.menu.current;!a||(a.classList.remove("hidden"),this.refs.skinToneRadio.current.focus(),this.base.addEventListener("click",this.handleBaseClick,!0),this.base.addEventListener("keydown",this.handleBaseKeydown,!0))})}),this.state={pos:[-1,-1],visibleRows:{0:!0},...this.getInitialState(e)}}}class P2 extends _G{async connectedCallback(){const e=DF(this.props,Xa,this);e.element=this,e.ref=n=>{this.component=n},await K0(e),!this.disconnected&&CF(re(PG,{...e}),this.shadowRoot)}constructor(e){super(e,{styles:hF(LF)})}}Fs(P2,"Props",Xa);typeof customElements!="undefined"&&!customElements.get("em-emoji-picker")&&customElements.define("em-emoji-picker",P2);var LF={};LF=`:host {
  width: min-content;
  height: 435px;
  min-height: 230px;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  --border-radius: 10px;
  --category-icon-size: 18px;
  --font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;
  --font-size: 15px;
  --shadow-color: 0deg 0% 0%;
  --shadow: .3px .5px 2.7px hsl(var(--shadow-color) / .14), .4px .8px 1px -3.2px hsl(var(--shadow-color) / .14), 1px 2px 2.5px -4.5px hsl(var(--shadow-color) / .14);
  display: flex;
}

[data-theme="light"] {
  --em-rgb-color: var(--rgb-color, 34, 36, 39);
  --em-rgb-accent: var(--rgb-accent, 34, 102, 237);
  --em-rgb-background: var(--rgb-background, 255, 255, 255);
  --em-rgb-input: var(--rgb-input, 255, 255, 255);
  --em-color-border: var(--color-border, rgba(0, 0, 0, .05));
  --em-color-border-over: var(--color-border-over, rgba(0, 0, 0, .1));
}

[data-theme="dark"] {
  --em-rgb-color: var(--rgb-color, 222, 222, 221);
  --em-rgb-accent: var(--rgb-accent, 58, 130, 247);
  --em-rgb-background: var(--rgb-background, 21, 22, 23);
  --em-rgb-input: var(--rgb-input, 0, 0, 0);
  --em-color-border: var(--color-border, rgba(255, 255, 255, .1));
  --em-color-border-over: var(--color-border-over, rgba(255, 255, 255, .2));
}

#root {
  --color-a: rgb(var(--em-rgb-color));
  --color-b: rgba(var(--em-rgb-color), .65);
  --color-c: rgba(var(--em-rgb-color), .45);
  --padding: 12px;
  --padding-small: calc(var(--padding) / 2);
  --sidebar-width: 16px;
  --duration: 225ms;
  --duration-fast: 125ms;
  --duration-instant: 50ms;
  --easing: cubic-bezier(.4, 0, .2, 1);
  width: 100%;
  text-align: left;
  border-radius: var(--border-radius);
  background-color: rgb(var(--em-rgb-background));
  position: relative;
}

@media (prefers-reduced-motion) {
  #root {
    --duration: 0;
    --duration-fast: 0;
    --duration-instant: 0;
  }
}

#root[data-menu] button {
  cursor: auto;
}

#root[data-menu] .menu button {
  cursor: pointer;
}

:host, #root, input, button {
  color: rgb(var(--em-rgb-color));
  font-family: var(--font-family);
  font-size: var(--font-size);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: normal;
}

*, :before, :after {
  box-sizing: border-box;
  min-width: 0;
  margin: 0;
  padding: 0;
}

.relative {
  position: relative;
}

.flex {
  display: flex;
}

.flex-auto {
  flex: none;
}

.flex-center {
  justify-content: center;
}

.flex-column {
  flex-direction: column;
}

.flex-grow {
  flex: auto;
}

.flex-middle {
  align-items: center;
}

.flex-wrap {
  flex-wrap: wrap;
}

.padding {
  padding: var(--padding);
}

.padding-t {
  padding-top: var(--padding);
}

.padding-lr {
  padding-left: var(--padding);
  padding-right: var(--padding);
}

.padding-r {
  padding-right: var(--padding);
}

.padding-small {
  padding: var(--padding-small);
}

.padding-small-b {
  padding-bottom: var(--padding-small);
}

.padding-small-lr {
  padding-left: var(--padding-small);
  padding-right: var(--padding-small);
}

.margin {
  margin: var(--padding);
}

.margin-r {
  margin-right: var(--padding);
}

.margin-l {
  margin-left: var(--padding);
}

.margin-small-l {
  margin-left: var(--padding-small);
}

.margin-small-lr {
  margin-left: var(--padding-small);
  margin-right: var(--padding-small);
}

.align-l {
  text-align: left;
}

.align-r {
  text-align: right;
}

.color-a {
  color: var(--color-a);
}

.color-b {
  color: var(--color-b);
}

.color-c {
  color: var(--color-c);
}

.ellipsis {
  white-space: nowrap;
  max-width: 100%;
  width: auto;
  text-overflow: ellipsis;
  overflow: hidden;
}

.sr-only {
  width: 1px;
  height: 1px;
  position: absolute;
  top: auto;
  left: -10000px;
  overflow: hidden;
}

a {
  cursor: pointer;
  color: rgb(var(--em-rgb-accent));
}

a:hover {
  text-decoration: underline;
}

.spacer {
  height: 10px;
}

.scroll {
  padding-right: 0;
  overflow-x: hidden;
  overflow-y: auto;
}

.scroll::-webkit-scrollbar {
  width: var(--sidebar-width);
  height: var(--sidebar-width);
}

.scroll::-webkit-scrollbar-track {
  border: 0;
}

.scroll::-webkit-scrollbar-button {
  width: 0;
  height: 0;
  display: none;
}

.scroll::-webkit-scrollbar-corner {
  background-color: rgba(0, 0, 0, 0);
}

.scroll::-webkit-scrollbar-thumb {
  min-height: 20%;
  min-height: 65px;
  border: 4px solid rgb(var(--em-rgb-background));
  border-radius: 8px;
}

.scroll::-webkit-scrollbar-thumb:hover {
  background-color: var(--em-color-border-over) !important;
}

.scroll:hover::-webkit-scrollbar-thumb {
  background-color: var(--em-color-border);
}

.sticky {
  z-index: 1;
  background-color: rgba(var(--em-rgb-background), .9);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  font-weight: 500;
  position: sticky;
  top: -1px;
}

.search {
  z-index: 2;
  position: relative;
}

.search input, .search button {
  font-size: calc(var(--font-size)  - 1px);
}

.search input[type="search"] {
  width: 100%;
  background-color: var(--em-color-border);
  transition-duration: var(--duration);
  transition-property: background-color, box-shadow;
  transition-timing-function: var(--easing);
  border: 0;
  border-radius: 10px;
  outline: 0;
  padding: 10px 2em 10px 2.2em;
  display: block;
}

.search input[type="search"]::-ms-input-placeholder {
  color: inherit;
  opacity: .6;
}

.search input[type="search"]::placeholder {
  color: inherit;
  opacity: .6;
}

.search input[type="search"], .search input[type="search"]::-webkit-search-decoration, .search input[type="search"]::-webkit-search-cancel-button, .search input[type="search"]::-webkit-search-results-button, .search input[type="search"]::-webkit-search-results-decoration {
  -webkit-appearance: none;
  -ms-appearance: none;
  appearance: none;
}

.search input[type="search"]:focus {
  background-color: rgb(var(--em-rgb-input));
  box-shadow: inset 0 0 0 1px rgb(var(--em-rgb-accent)), 0 1px 3px rgba(65, 69, 73, .2);
}

.search .icon {
  z-index: 1;
  color: rgba(var(--em-rgb-color), .7);
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
}

.search .loupe {
  pointer-events: none;
  left: .7em;
}

.search .delete {
  right: .7em;
}

svg {
  fill: currentColor;
  width: 1em;
  height: 1em;
}

button {
  -webkit-appearance: none;
  -ms-appearance: none;
  appearance: none;
  cursor: pointer;
  color: currentColor;
  background-color: rgba(0, 0, 0, 0);
  border: 0;
}

#nav {
  z-index: 2;
  padding-top: 12px;
  padding-bottom: 12px;
  padding-right: var(--sidebar-width);
  position: relative;
}

#nav button {
  color: var(--color-b);
  transition: color var(--duration) var(--easing);
}

#nav button:hover {
  color: var(--color-a);
}

#nav svg, #nav img {
  width: var(--category-icon-size);
  height: var(--category-icon-size);
}

#nav .bar {
  width: 100%;
  height: 3px;
  background-color: rgb(var(--em-rgb-accent));
  transition: transform var(--duration) var(--easing);
  border-radius: 3px 3px 0 0;
  position: absolute;
  bottom: -12px;
  left: 0;
}

#nav button[aria-selected] {
  color: rgb(var(--em-rgb-accent));
}

#preview {
  z-index: 2;
  padding: calc(var(--padding)  + 4px) var(--padding);
  padding-right: var(--sidebar-width);
  position: relative;
}

#nav:before, #preview:before {
  content: "";
  height: 2px;
  position: absolute;
  left: 0;
  right: 0;
}

#nav[data-position="top"]:before, #preview[data-position="top"]:before {
  background: linear-gradient(to bottom, var(--em-color-border), transparent);
  top: 100%;
}

#nav[data-position="bottom"]:before, #preview[data-position="bottom"]:before {
  background: linear-gradient(to top, var(--em-color-border), transparent);
  bottom: 100%;
}

.category:last-child {
  min-height: calc(100% + 1px);
}

.category button {
  font-family: -apple-system, BlinkMacSystemFont, Helvetica Neue, sans-serif;
  position: relative;
}

.category button > * {
  position: relative;
}

.category button .background {
  opacity: 0;
  background-color: var(--em-color-border);
  transition: opacity var(--duration-fast) var(--easing) var(--duration-instant);
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}

.category button:hover .background {
  transition-duration: var(--duration-instant);
  transition-delay: 0s;
}

.category button[aria-selected] .background {
  opacity: 1;
}

.category button[data-keyboard] .background {
  transition: none;
}

.row {
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
}

.skin-tone-button {
  border: 1px solid rgba(0, 0, 0, 0);
  border-radius: 100%;
}

.skin-tone-button:hover {
  border-color: var(--em-color-border);
}

.skin-tone-button:active .skin-tone {
  transform: scale(.85) !important;
}

.skin-tone-button .skin-tone {
  transition: transform var(--duration) var(--easing);
}

.skin-tone-button[aria-selected] {
  background-color: var(--em-color-border);
  border-top-color: rgba(0, 0, 0, .05);
  border-bottom-color: rgba(0, 0, 0, 0);
  border-left-width: 0;
  border-right-width: 0;
}

.skin-tone-button[aria-selected] .skin-tone {
  transform: scale(.9);
}

.menu {
  z-index: 2;
  white-space: nowrap;
  border: 1px solid var(--em-color-border);
  background-color: rgba(var(--em-rgb-background), .9);
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  transition-property: opacity, transform;
  transition-duration: var(--duration);
  transition-timing-function: var(--easing);
  border-radius: 10px;
  padding: 4px;
  position: absolute;
  box-shadow: 1px 1px 5px rgba(0, 0, 0, .05);
}

.menu.hidden {
  opacity: 0;
}

.menu[data-position="bottom"] {
  transform-origin: 100% 100%;
}

.menu[data-position="bottom"].hidden {
  transform: scale(.9)rotate(-3deg)translateY(5%);
}

.menu[data-position="top"] {
  transform-origin: 100% 0;
}

.menu[data-position="top"].hidden {
  transform: scale(.9)rotate(3deg)translateY(-5%);
}

.menu input[type="radio"] {
  clip: rect(0 0 0 0);
  width: 1px;
  height: 1px;
  border: 0;
  margin: 0;
  padding: 0;
  position: absolute;
  overflow: hidden;
}

.menu input[type="radio"]:checked + .option {
  box-shadow: 0 0 0 2px rgb(var(--em-rgb-accent));
}

.option {
  width: 100%;
  border-radius: 6px;
  padding: 4px 6px;
}

.option:hover {
  color: #fff;
  background-color: rgb(var(--em-rgb-accent));
}

.skin-tone {
  width: 16px;
  height: 16px;
  border-radius: 100%;
  display: inline-block;
  position: relative;
  overflow: hidden;
}

.skin-tone:after {
  content: "";
  mix-blend-mode: overlay;
  background: linear-gradient(rgba(255, 255, 255, .2), rgba(0, 0, 0, 0));
  border: 1px solid rgba(0, 0, 0, .8);
  border-radius: 100%;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  box-shadow: inset 0 -2px 3px #000, inset 0 1px 2px #fff;
}

.skin-tone-1 {
  background-color: #ffc93a;
}

.skin-tone-2 {
  background-color: #ffdab7;
}

.skin-tone-3 {
  background-color: #e7b98f;
}

.skin-tone-4 {
  background-color: #c88c61;
}

.skin-tone-5 {
  background-color: #a46134;
}

.skin-tone-6 {
  background-color: #5d4437;
}

[data-emoji-set="twitter"] .skin-tone:after {
  box-shadow: none;
  border-color: rgba(0, 0, 0, .5);
}

[data-emoji-set="twitter"] .skin-tone-1 {
  background-color: #fade72;
}

[data-emoji-set="twitter"] .skin-tone-2 {
  background-color: #f3dfd0;
}

[data-emoji-set="twitter"] .skin-tone-3 {
  background-color: #eed3a8;
}

[data-emoji-set="twitter"] .skin-tone-4 {
  background-color: #cfad8d;
}

[data-emoji-set="twitter"] .skin-tone-5 {
  background-color: #a8805d;
}

[data-emoji-set="twitter"] .skin-tone-6 {
  background-color: #765542;
}

[data-emoji-set="google"] .skin-tone:after {
  box-shadow: inset 0 0 2px 2px rgba(0, 0, 0, .4);
}

[data-emoji-set="google"] .skin-tone-1 {
  background-color: #f5c748;
}

[data-emoji-set="google"] .skin-tone-2 {
  background-color: #f1d5aa;
}

[data-emoji-set="google"] .skin-tone-3 {
  background-color: #d4b48d;
}

[data-emoji-set="google"] .skin-tone-4 {
  background-color: #aa876b;
}

[data-emoji-set="google"] .skin-tone-5 {
  background-color: #916544;
}

[data-emoji-set="google"] .skin-tone-6 {
  background-color: #61493f;
}

[data-emoji-set="facebook"] .skin-tone:after {
  border-color: rgba(0, 0, 0, .4);
  box-shadow: inset 0 -2px 3px #000, inset 0 1px 4px #fff;
}

[data-emoji-set="facebook"] .skin-tone-1 {
  background-color: #f5c748;
}

[data-emoji-set="facebook"] .skin-tone-2 {
  background-color: #f1d5aa;
}

[data-emoji-set="facebook"] .skin-tone-3 {
  background-color: #d4b48d;
}

[data-emoji-set="facebook"] .skin-tone-4 {
  background-color: #aa876b;
}

[data-emoji-set="facebook"] .skin-tone-5 {
  background-color: #916544;
}

[data-emoji-set="facebook"] .skin-tone-6 {
  background-color: #61493f;
}

`;function X0(t){const e=Z.exports.useRef(null),n=Z.exports.useRef(null);return n.current&&n.current.update(t),Z.exports.useEffect(()=>(n.current=new P2({...t,ref:e}),()=>{n.current=null}),[]),VE.createElement("div",{ref:e})}const L2=({chatDetails:t,showModal:e,setShowModal:n,permission:i,socket:s})=>{const a=JSON.parse(window.localStorage.getItem("shulidtH9kNnMgaUtlL730ktnkB.saleshub.io"));function r(l){var c=document.getElementById("snackbar");c.className.replace("show",""),c.className="show";var u=document.getElementById("messagebox");u.innerText=l,setTimeout(function(){c.className=c.className.replace("show","")},3e3)}return Z.exports.useEffect(()=>{var l=document.getElementById("noteModal");e?l.style.display="flex":l.style.display="none",i||n(!1)},[e,i]),window.onclick=function(l){var c=document.getElementById("noteModal");l.target==c&&n(!1)},P("div",{id:"noteModal",className:"modal",children:[_("div",{className:"close",onClick:()=>{n(!1)},children:_("span",{children:"x"})}),P("div",{className:"modal-content",children:[_("span",{className:"header",children:"New Note"}),_("input",{type:"text",name:"",id:"note",placeholder:"Note"}),_("button",{onClick:l=>{if(document.getElementById("note").value==="")r("Please type a message...");else{l.preventDefault(),s.emit("add_note",{authToken:a,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",clientNumber:`${t.chatNumber}`,permission:i,message:document.getElementById("note").value},u=>{u&&r(u)});var c=document.getElementById("message");c.value="",n(!1)}},children:"Create"})]})]})};const LG=({stageId:t,funnelId:e,socket:n,showModal:i,setShowModal:s,userData:a,setUserData:r,permission:o})=>{const{showEmoji:l,setShowEmoji:c,ref:u}=Fh(!1),[d,f]=Z.exports.useState(!1),[h,p]=Z.exports.useState(""),m=JSON.parse(window.localStorage.getItem("shulidtH9kNnMgaUtlL730ktnkB.saleshub.io")),[y,g]=Z.exports.useState({_id:"",_name:"User",_email:"",_teamId:"",_teamRole:"neutral",_gsIntegration:!1,_gsSessionData:"",_wpIntegration:!1,_wpSessionData:"",_fbIntegration:!1,_fbSessionData:"",_igIntegration:!1,_igSessionData:"",_totalMessagesSent:0,_totalLeadsGained:0,_totalMessagesSentThisWeek:[],_totalLeadsGainedThisWeek:[],_funnelsCount:0,_funnels:[],_directories:[],_ownChats:[],_assignedChats:[]});window.localStorage.getItem("spfudFojdbcdblAUHVAJHFVBKBfvbhsdbbsbhbdfuvbcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io"),setTimeout(()=>{const T=document.getElementById("chatbox");T.scrollTop=T.scrollHeight},50);function v(T){var A=document.getElementById("snackbar");A.className.replace("show",""),A.className="show";var S=document.getElementById("messagebox");S.innerText=T,setTimeout(function(){A.className=A.className.replace("show","")},3e3)}const b=()=>{c(T=>!T)},w=T=>{p(A=>A+=T.native)},k=T=>{p(T.target.value)};Z.exports.useEffect(()=>{var T=document.getElementById("myModalFunnelChat");i?T.style.display="flex":T.style.display="none",o||s(!1)},[i,o]),Z.exports.useEffect(()=>{const T=()=>{const A=document.getElementById("chatbox");A.scrollTop=A.scrollHeight};n.on("got_user",({user:A,password:S})=>{S==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&g({_id:A._id,_name:A._name,_email:A._email,_teamId:A._teamId,_teamRole:A._teamRole,_gsIntegration:A._gsIntegration,_gsSessionData:A._gsSessionData,_wpIntegration:A._wpIntegration,_wpSessionData:A._wpSessionData,_fbIntegration:A._fbIntegration,_fbSessionData:A._fbSessionData,_igIntegration:A._igIntegration,_igSessionData:A._igSessionData,_totalMessagesSent:A._totalMessagesSent,_totalLeadsGained:A._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(A._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(A._totalLeadsGainedThisWeek),_funnelsCount:A._funnelsCount,_funnels:A._funnels,_directories:A._directories,_ownChats:A._ownChats,_assignedChats:A._assignedChats})}),n.on("got_chat_details",({password:A,chat:S})=>{A==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&window.localStorage.getItem("spfudFojdbcdblAUHVAJHFVBKBfvbhsdbbsbhbdfuvbcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io")===S._id&&r({chatName:S._chatName,chatNumber:S._chatNumber,chatFunnel:S._chatFunnel,chatLabel:S._chatLabel,chatMessages:S._chatMessages,chatId:S._id,chatParent:S._chatParent,chatEmail:S._chatEmail,chatCampaign:S._chatCampaign,chatBusiness:S._chatBusiness,chatObjective:S._chatObjective,chatPlatform:S._chatPlatform,chatHandler:S._chatHandler})}),n.on("got_chat_details_for_member",({password:A,chat:S,target:$})=>{A==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&$===y._id&&window.localStorage.getItem("spfudFojdbcdblAUHVAJHFVBKBfvbhsdbbsbhbdfuvbcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io")===S._id&&r({chatName:S._chatName,chatNumber:S._chatNumber,chatFunnel:S._chatFunnel,chatLabel:S._chatLabel,chatMessages:S._chatMessages,chatId:S._id,chatParent:S._chatParent,chatEmail:S._chatEmail,chatCampaign:S._chatCampaign,chatBusiness:S._chatBusiness,chatObjective:S._chatObjective,chatPlatform:S._chatPlatform,chatHandler:S._chatHandler})}),n.on("whatsapp_message",({password:A,chat:S})=>{if(A==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"){console.log("funnel chat stream");const $=window.localStorage.getItem("spfudFojdbcdblAUHVAJHFVBKBfvbhsdbbsbhbdfuvbcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io");console.log($),console.log(S._id),$===S._id&&(r({chatName:S._chatName,chatNumber:S._chatNumber,chatFunnel:S._chatFunnel,chatLabel:S._chatLabel,chatMessages:S._chatMessages,chatId:S._id,chatParent:S._chatParent,chatEmail:S._chatEmail,chatCampaign:S._chatCampaign,chatBusiness:S._chatBusiness,chatObjective:S._chatObjective,chatPlatform:S._chatPlatform,chatHandler:S._chatHandler}),setTimeout(T,50),getDirectoryData(directoryData._id,directoryData._directoryName))}}),n.on("whatsapp_message_for_member",({password:A,chat:S,target:$})=>{A==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&$===y._id&&window.localStorage.getItem("spfudFojdbcdblAUHVAJHFVBKBfvbhsdbbsbhbdfuvbcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io")===S._id&&(r({chatName:S._chatName,chatNumber:S._chatNumber,chatFunnel:S._chatFunnel,chatLabel:S._chatLabel,chatMessages:S._chatMessages,chatId:S._id,chatParent:S._chatParent,chatEmail:S._chatEmail,chatCampaign:S._chatCampaign,chatBusiness:S._chatBusiness,chatObjective:S._chatObjective,chatPlatform:S._chatPlatform,chatHandler:S._chatHandler}),setTimeout(T,50),getDirectoryData(directoryData._id,directoryData._directoryName))}),n.on("sent_message",({password:A,chat:S})=>{A==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&window.localStorage.getItem("spfudFojdbcdblAUHVAJHFVBKBfvbhsdbbsbhbdfuvbcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io")===S._id&&(r({chatName:S._chatName,chatNumber:S._chatNumber,chatFunnel:S._chatFunnel,chatLabel:S._chatLabel,chatMessages:S._chatMessages,chatId:S._id,chatParent:S._chatParent,chatEmail:S._chatEmail,chatCampaign:S._chatCampaign,chatBusiness:S._chatBusiness,chatObjective:S._chatObjective,chatPlatform:S._chatPlatform,chatHandler:S._chatHandler}),setTimeout(T,50),getDirectoryData(directoryData._id,directoryData._directoryName))}),n.on("sent_message_for_member",({password:A,chat:S,target:$})=>{if(A==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"){const K=window.localStorage.getItem("spfudFojdbcdblAUHVAJHFVBKBfvbhsdbbsbhbdfuvbcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io");$===y._id&&K===S._id&&(r({chatName:S._chatName,chatNumber:S._chatNumber,chatFunnel:S._chatFunnel,chatLabel:S._chatLabel,chatMessages:S._chatMessages,chatId:S._id,chatParent:S._chatParent,chatEmail:S._chatEmail,chatCampaign:S._chatCampaign,chatBusiness:S._chatBusiness,chatObjective:S._chatObjective,chatPlatform:S._chatPlatform,chatHandler:S._chatHandler}),setTimeout(T,50),getDirectoryData(directoryData._id,directoryData._directoryName))}})},[]),window.onclick=function(T){var A=document.getElementById("myModalFunnelChat");T.target==A&&s(!1)};const x=()=>{const T=`A very special greeting from IDEALIDAD Digital Marketing Agency.
        
I am ${y._name}and I am here to advise you on everything related to the digital world, tell us ${a.chatName}, how can we help you?`;n.emit("send_message",{authToken:m,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",clientNumber:`${a.chatNumber}`,clientName:`${a.chatName}`,permission:o,message:T},A=>{A&&v(A)})},N=T=>{if(T.preventDefault(),document.getElementById("message").value==="")v("Please type a message...");else{n.emit("send_message",{authToken:m,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",clientNumber:`${a.chatNumber}`,clientName:`${a.chatName}`,permission:o,message:document.getElementById("message").value,clientEmail:`${a.chatEmail}`,clientBusiness:`${a.chatBusiness}`,clientCampaign:a.chatCampaign,clientObjective:a.chatObjective,clientPlatform:a.chatPlatform},S=>{S&&v(S)});var A=document.getElementById("message");A.value="",p("")}},I=T=>{n.emit("send_message",{isImage:!0,authToken:m,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",clientNumber:`${a.chatNumber}`,clientName:`${a.chatName}`,permission:o,message:T},S=>{S&&v(S)});var A=document.getElementById("message");A.value=""},D=T=>{let A=new FileReader;A.readAsDataURL(T),A.onload=()=>{var S=document.getElementById("message");S.value=A.result,I(A.result)}},R=T=>{console.log("Called");const S=T.target.files[0];D(S)},L=()=>{var T=document.getElementById("attachmentSelector");T.click()},O=()=>{t&&e&&n.emit("delete_chat_from_stage",{authToken:m,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",stageId:t,funnelId:e,chatNumber:a.chatNumber},T=>{T&&v(T)})};return P("div",{id:"myModalFunnelChat",className:"modal",children:[_(L2,{chatDetails:a,showModal:d,setShowModal:f,socket:n,permission:o}),P("div",{className:"modal-content",children:[_("div",{className:"close",onClick:()=>{s(!1)},children:_("span",{children:"\xD7"})}),P("div",{className:"topbar",children:[_("img",{src:fa,alt:""}),P("div",{className:"lead__details",children:[_("p",{className:"name",children:a.chatName}),_("p",{className:"number",children:a.chatNumber.substring(0,a.chatNumber.indexOf("@"))})]})]}),_("div",{className:"chatbox",id:"chatbox",children:a.chatMessages.map((T,A)=>T.type==="image"?P("div",{className:`message ${T.from==="client"?"client":"seller"}`,children:[_("img",{src:`data:${T.mimetype};base64,${T.data}`,alt:"",onClick:()=>{const S=`data:${T.mimetype};base64,${T.data}`,$=document.createElement("a");$.href=S,$.download="Idealidad-Image",$.click()}}),P("div",{className:"timestamps",children:[P("i",{className:"user",children:[T.caption.length>0?T.caption.substring(T.caption.substring(" ")):"Lead"," |\xA0"]}),P("i",{className:"day",children:[T.timestamp.substring(4,11)," |\xA0"]}),_("i",{className:"date",children:T.timestamp.substring(16,25)})]})]},A):T.type==="note"?P("div",{className:`note ${T.from==="client"?"client":"seller"}`,children:[_("i",{className:"dataFor",children:T.data}),P("div",{className:"timestamps",children:[P("i",{className:"user",children:[T.caption.substring(T.caption.substring(" "))," |\xA0"]}),P("i",{className:"day",children:[T.timestamp.substring(4,11)," |\xA0"]}),_("i",{className:"date",children:T.timestamp.substring(16,25)})]})]},A):P("div",{className:`message ${T.from==="client"?"client":"seller"}`,children:[_("p",{children:T.data}),P("div",{className:"timestamps",children:[P("i",{className:"user",children:[T.caption.length>0?T.caption.substring(T.caption.substring(" ")):"Lead"," |\xA0"]}),P("i",{className:"day",children:[T.timestamp.substring(4,11)," |\xA0"]}),_("i",{className:"date",children:T.timestamp.substring(16,25)})]})]},A))}),P("div",{className:"messagebox",children:[_("img",{src:o2,alt:"",onClick:()=>{f(!0)}}),_("img",{src:O0,alt:"",onClick:b}),_("img",{src:P0,alt:"",onClick:L}),_("img",{src:c2,alt:"",onClick:x}),_("img",{src:Wc,alt:"",onClick:O}),_("input",{onChange:R,type:"file",name:"",id:"attachmentSelector",accept:"image/png, image/gif, image/jpeg"}),P("form",{className:"send__message__wrapper",children:[_("input",{type:"text",value:h,onChange:k,placeholder:"Type a message....",id:"message"}),_("button",{type:"submit",onClick:N,children:"Send message"})]}),l&&_("div",{className:"emoji__picker",ref:u,children:_(X0,{onEmojiSelect:w,data:U0})})]})]})]})},MG=({socket:t,permission:e})=>{const[n,i]=Z.exports.useState(""),[s,a]=Z.exports.useState(!1),[r,o]=Z.exports.useState(!1),[l,c]=Z.exports.useState(!1),[u,d]=Z.exports.useState(""),[f,h]=Z.exports.useState(""),p=JSON.parse(window.localStorage.getItem("shulidtH9kNnMgaUtlL730ktnkB.saleshub.io")),[m,y]=Z.exports.useState({_id:"",_name:"User",_email:"",_teamId:"",_teamRole:"neutral",_gsIntegration:!1,_gsSessionData:"",_wpIntegration:!1,_wpSessionData:"",_fbIntegration:!1,_fbSessionData:"",_igIntegration:!1,_igSessionData:"",_totalMessagesSent:0,_totalLeadsGained:0,_totalMessagesSentThisWeek:[],_totalLeadsGainedThisWeek:[],_funnelsCount:0,_funnels:[],_ownChats:[],_directories:[],_assignedChats:[]}),[g,v]=Z.exports.useState({_funnelName:"",_funnelStages:[],_id:""}),[b,w]=Z.exports.useState({chatName:"",chatNumber:"",chatFunnel:"",chatLabel:"",chatMessages:[],chatId:"",chatParent:"",chatEmail:"",chatCampaign:"",chatBusiness:"",chatObjective:"",chatPlatform:"",chatHandler:""}),k=O=>{O.preventDefault(),console.log("Wassup",n)};function x(O){var T=document.getElementById("snackbar");T.className.replace("show",""),T.className="show";var A=document.getElementById("messagebox");A.innerText=O,setTimeout(function(){T.className=T.className.replace("show","")},3e3)}Z.exports.useEffect(()=>{t.emit("get_user",{authToken:p,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io"},O=>{O&&x(O)})},[]),Z.exports.useEffect(()=>{t.on("got_user",({user:O,password:T})=>{T==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&y({_id:O._id,_name:O._name,_email:O._email,_teamId:O._teamId,_teamRole:O._teamRole,_gsIntegration:O._gsIntegration,_gsSessionData:O._gsSessionData,_wpIntegration:O._wpIntegration,_wpSessionData:O._wpSessionData,_fbIntegration:O._fbIntegration,_fbSessionData:O._fbSessionData,_igIntegration:O._igIntegration,_igSessionData:O._igSessionData,_totalMessagesSent:O._totalMessagesSent,_totalLeadsGained:O._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(O._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(O._totalLeadsGainedThisWeek),_funnelsCount:O._funnelsCount,_funnels:O._funnels,_directories:O._directories,_ownChats:O._ownChats,_assignedChats:O._assignedChats})}),t.on("user_updated",({updatedUser:O,password:T})=>{T==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&y({_id:O._id,_name:O._name,_email:O._email,_teamId:O._teamId,_teamRole:O._teamRole,_gsIntegration:O._gsIntegration,_gsSessionData:O._gsSessionData,_wpIntegration:O._wpIntegration,_wpSessionData:O._wpSessionData,_fbIntegration:O._fbIntegration,_fbSessionData:O._fbSessionData,_igIntegration:O._igIntegration,_igSessionData:O._igSessionData,_totalMessagesSent:O._totalMessagesSent,_totalLeadsGained:O._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(O._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(O._totalLeadsGainedThisWeek),_funnelsCount:O._funnelsCount,_funnels:O._funnels,_directories:O._directories,_ownChats:O._ownChats,_assignedChats:O._assignedChats})}),t.on("funnel_created",({password:O,newFunnel:T})=>{O==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&x("Funnel Created Succesfully...")}),t.on("got_funnel_details",({password:O,funnel:T})=>{O==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(v({_funnelName:T._funnelName,_funnelStages:T._funnelStages,_id:T._id}),o(!0),h(T._id))}),t.on("got_chat_details",({password:O,chat:T})=>{console.log("funnel stream"),O==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(w({chatName:T._chatName,chatNumber:T._chatNumber,chatFunnel:T._chatFunnel,chatLabel:T._chatLabel,chatMessages:T._chatMessages,chatId:T._id,chatParent:T._chatParent,chatEmail:T._chatEmail,chatCampaign:T._chatCampaign,chatBusiness:T._chatBusiness,chatObjective:T._chatObjective,chatPlatform:T._chatPlatform,chatHandler:T._chatHandler}),window.localStorage.setItem("spfudFojdbcdblAUHVAJHFVBKBfvbhsdbbsbhbdfuvbcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io",T._id),c(!0))}),t.on("funnel_deleted",({password:O})=>{O==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(x("Funnel Deleted..."),v({_funnelName:"",_funnelStages:[],_id:""}),o(!1))}),t.on("stage_deleted",({password:O})=>{O==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&x("Stage Deleted...")}),t.on("chat_deleted",({password:O})=>{O==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&x("Chat Deleted..."),c(!1)})},[]),Z.exports.useEffect(()=>{const O=document.querySelectorAll(".chat"),T=document.querySelectorAll(".funnel__chat__wrapper");O.forEach(S=>{S.addEventListener("dragstart",()=>{S.classList.add("dragging")}),S.addEventListener("dragend",()=>{S.classList.remove("dragging")})}),T.forEach(S=>{S.addEventListener("dragover",$=>{$.preventDefault();const K=A(S,$.clientY),M=document.querySelector(".dragging");K==null?S.appendChild(M):S.insertBefore(M,K)})});function A(S,$){return[...S.querySelectorAll(".chat:not(.dragging)")].reduce((M,U)=>{const Q=U.getBoundingClientRect(),ee=$-Q.top-Q.height/2;return ee<0&&ee>M.offset?{offset:ee,element:U}:M},{offset:Number.NEGATIVE_INFINITY}).element}},[r]);const N=async(O,T)=>{t.emit("get_chat_details",{authToken:p,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",chatNumber:O},A=>{A&&x(A)}),d(T)},I=async(O,T)=>{t.emit("update_chat_funnel",{authToken:p,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",funnelId:O,chatId:T},A=>{A&&x(A)})},D=async O=>{const T=prompt("Enter the stage name?");t.emit("add_stage",{authToken:p,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",funnelId:O,stageName:T},A=>{A&&x(A)})},R=O=>{O?t.emit("delete_funnel",{authToken:p,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",funnelId:O},T=>{T&&x(T)}):x("Please select a funnel...")},L=(O,T)=>{T?t.emit("delete_stage",{authToken:p,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",funnelId:O,stageId:T},A=>{A&&x(A)}):x("Please select a stage...")};return P(jc,{children:[_(LG,{stageId:u,funnelId:f,socket:t,showModal:l,setShowModal:c,permission:e,userData:b,setUserData:w}),_(UH,{showModal:s,setShowModal:a,permission:e,socket:t}),P("div",{className:"app__funnels",children:[P("div",{id:"snackbar",children:[_("img",{src:Bl,alt:""}),_("span",{id:"messagebox",children:"Hello"})]}),P("div",{className:"app__funnels__search__wrapper",children:[P("div",{className:"list-choice",children:[_("div",{className:"list-choice-title",children:"Select Funnel"}),P("div",{className:"list-choice-objects",children:[m._funnels.map(O=>P("label",{children:[_("input",{type:"radio",name:"funnels",id:`${O.funnelId}1234`,onClick:()=>{t.emit("get_funnel_details",{authToken:p,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",funnelId:O.funnelId},T=>{T&&x(T)})}})," ",P("span",{children:[O.funnelName,_("div",{className:"color"})]})]},O.funnelId)),P("label",{children:[_("input",{type:"radio",name:"funnels",id:"close sheets",onClick:()=>{o(!1),v({_funnelName:"",_funnelStages:[],_id:""})}})," ",P("span",{children:["Close Funnels",_("div",{className:"color"})]})]})]})]}),P("form",{className:"search__wrapper",children:[_("img",{src:r2,alt:"",className:"search__icon"}),_("input",{type:"search",name:"",id:"search__box",placeholder:"Search in funnel.....",value:n,onChange:O=>{i(O.target.value)}}),_("button",{type:"submit",className:"search__button",onClick:k,children:"Search"})]}),P("div",{className:"more__actions__wrapper",children:[_("img",{src:Vc,alt:"",className:"action__icon",onClick:()=>{a(!0)}}),_("img",{src:Wc,alt:"",onClick:()=>{R(g._id)},className:"action__icon"})]})]}),_("div",{className:"app__funnels__wrapper",children:r?P(jc,{children:[g._funnelStages.map(O=>P("div",{className:"funnel",children:[P("div",{className:"funnel__header",children:[_("img",{src:Kk,alt:"",className:"header__icon"}),_("span",{children:O._stageName}),_("img",{src:`${O._stageName==="Inbox"?"":Wc}`,onClick:()=>{L(g._id,O._id)},alt:"",className:"header__icon p-absolute"})]}),P("div",{className:"funnel__chat__wrapper",children:[O._stageChats.map(T=>P("div",{className:"chat",draggable:"true",id:T.chatId,children:[_("img",{src:fa,alt:"",className:"chat__icon"}),_("div",{className:"lead__details",onClick:()=>{N(T.chatNumber,O._id)},children:_("span",{className:"leadname",children:`${T.chatName.substring(0,18)}...`})}),_("img",{src:w8,alt:"",className:"label__icon",onClick:()=>{I(g._id,T.chatId)}})]})),_("div",{className:"chat instruction",children:"Drag & Drop Leads Above This Box To Add Leads To Inbox Stage!"})]})]})),_("div",{className:"funnel",children:P("div",{className:"create__stage",children:[_("span",{children:"Add a new stage"}),_("img",{src:Vc,className:"add__stage",alt:"",onClick:()=>{D(g._id)}})]})})]}):_("div",{className:"app__funnels__directory",children:_("div",{className:"info__div",children:_("span",{children:"Select a category from the above category menu to see its data"})})})}),_(Rh,{})]})]})};const BG=({directoryData:t,showModal:e,setShowModal:n,userData:i,setUserData:s,permission:a,socket:r,getDirectoryData:o,selectedSheet:l})=>{const{showEmoji:c,setShowEmoji:u,ref:d}=Fh(!1),[f,h]=Z.exports.useState(!1),[p,m]=Z.exports.useState(""),[y,g]=Z.exports.useState({_id:"",_name:"User",_email:"",_teamId:"",_teamRole:"neutral",_gsIntegration:!1,_gsSessionData:"",_wpIntegration:!1,_wpSessionData:"",_fbIntegration:!1,_fbSessionData:"",_igIntegration:!1,_igSessionData:"",_totalMessagesSent:0,_totalLeadsGained:0,_totalMessagesSentThisWeek:[],_totalLeadsGainedThisWeek:[],_funnelsCount:0,_funnels:[],_directories:[],_ownChats:[],_assignedChats:[]}),v=JSON.parse(window.localStorage.getItem("shulidtH9kNnMgaUtlL730ktnkB.saleshub.io"));window.localStorage.getItem("spfudFojdbcdblAUHVAVAVSDVSKVdjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io"),setTimeout(()=>{const A=document.getElementById("chatbox");A.scrollTop=A.scrollHeight},50);function b(A){var S=document.getElementById("snackbar");S.className.replace("show",""),S.className="show",S.innerText=A,setTimeout(function(){S.className=S.className.replace("show","")},3e3)}const w=()=>{u(A=>!A)},k=A=>{m(S=>S+=A.native)},x=A=>{m(A.target.value)};Z.exports.useEffect(()=>{var A=document.getElementById("myModal");e?A.style.display="flex":A.style.display="none",a||n(!1)},[e,a]),Z.exports.useEffect(()=>{r.emit("get_user",{authToken:v,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io"},A=>{A&&b(A)})},[]),Z.exports.useEffect(()=>{const A=()=>{console.log("Performed");const S=document.getElementById("chatbox");S.scrollTop=S.scrollHeight};r.on("got_user",({user:S,password:$})=>{$==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&g({_id:S._id,_name:S._name,_email:S._email,_teamId:S._teamId,_teamRole:S._teamRole,_gsIntegration:S._gsIntegration,_gsSessionData:S._gsSessionData,_wpIntegration:S._wpIntegration,_wpSessionData:S._wpSessionData,_fbIntegration:S._fbIntegration,_fbSessionData:S._fbSessionData,_igIntegration:S._igIntegration,_igSessionData:S._igSessionData,_totalMessagesSent:S._totalMessagesSent,_totalLeadsGained:S._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(S._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(S._totalLeadsGainedThisWeek),_funnelsCount:S._funnelsCount,_funnels:S._funnels,_directories:S._directories,_ownChats:S._ownChats,_assignedChats:S._assignedChats})}),r.on("got_chat_details",({password:S,chat:$})=>{S==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&window.localStorage.getItem("spfudFojdbcdblAUHVAVAVSDVSKVdjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io")===$._id&&s({chatName:$._chatName,chatNumber:$._chatNumber,chatFunnel:$._chatFunnel,chatLabel:$._chatLabel,chatMessages:$._chatMessages,chatId:$._id,chatParent:$._chatParent,chatEmail:$._chatEmail,chatCampaign:$._chatCampaign,chatBusiness:$._chatBusiness,chatObjective:$._chatObjective,chatPlatform:$._chatPlatform,chatHandler:$._chatHandler})}),r.on("got_chat_details_for_member",({password:S,chat:$,target:K})=>{S==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&K===y._id&&window.localStorage.getItem("spfudFojdbcdblAUHVAVAVSDVSKVdjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io")===$._id&&s({chatName:$._chatName,chatNumber:$._chatNumber,chatFunnel:$._chatFunnel,chatLabel:$._chatLabel,chatMessages:$._chatMessages,chatId:$._id,chatParent:$._chatParent,chatEmail:$._chatEmail,chatCampaign:$._chatCampaign,chatBusiness:$._chatBusiness,chatObjective:$._chatObjective,chatPlatform:$._chatPlatform,chatHandler:$._chatHandler})}),r.on("whatsapp_message",({password:S,chat:$})=>{if(console.log("Got"),S==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"){const K=window.localStorage.getItem("spfudFojdbcdblAUHVAVAVSDVSKVdjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io");console.log(K),console.log($._id),K===$._id&&(s({chatName:$._chatName,chatNumber:$._chatNumber,chatFunnel:$._chatFunnel,chatLabel:$._chatLabel,chatMessages:$._chatMessages,chatId:$._id,chatParent:$._chatParent,chatEmail:$._chatEmail,chatCampaign:$._chatCampaign,chatBusiness:$._chatBusiness,chatObjective:$._chatObjective,chatPlatform:$._chatPlatform,chatHandler:$._chatHandler}),setTimeout(A,50),o(t._id,t._directoryName))}}),r.on("whatsapp_message_for_member",({password:S,chat:$,target:K})=>{S==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&K===y._id&&window.localStorage.getItem("spfudFojdbcdblAUHVAVAVSDVSKVdjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io")===$._id&&(s({chatName:$._chatName,chatNumber:$._chatNumber,chatFunnel:$._chatFunnel,chatLabel:$._chatLabel,chatMessages:$._chatMessages,chatId:$._id,chatParent:$._chatParent,chatEmail:$._chatEmail,chatCampaign:$._chatCampaign,chatBusiness:$._chatBusiness,chatObjective:$._chatObjective,chatPlatform:$._chatPlatform,chatHandler:$._chatHandler}),setTimeout(A,50),o(t._id,t._directoryName))}),r.on("sent_message",({password:S,chat:$})=>{S==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&window.localStorage.getItem("spfudFojdbcdblAUHVAVAVSDVSKVdjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io")===$._id&&(s({chatName:$._chatName,chatNumber:$._chatNumber,chatFunnel:$._chatFunnel,chatLabel:$._chatLabel,chatMessages:$._chatMessages,chatId:$._id,chatParent:$._chatParent,chatEmail:$._chatEmail,chatCampaign:$._chatCampaign,chatBusiness:$._chatBusiness,chatObjective:$._chatObjective,chatPlatform:$._chatPlatform,chatHandler:$._chatHandler}),setTimeout(A,50),o(t._id,t._directoryName))}),r.on("sent_message_for_member",({password:S,chat:$,target:K})=>{if(S==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"){const M=window.localStorage.getItem("spfudFojdbcdblAUHVAVAVSDVSKVdjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io");K===y._id&&M===$._id&&(s({chatName:$._chatName,chatNumber:$._chatNumber,chatFunnel:$._chatFunnel,chatLabel:$._chatLabel,chatMessages:$._chatMessages,chatId:$._id,chatParent:$._chatParent,chatEmail:$._chatEmail,chatCampaign:$._chatCampaign,chatBusiness:$._chatBusiness,chatObjective:$._chatObjective,chatPlatform:$._chatPlatform,chatHandler:$._chatHandler}),setTimeout(A,50),o(t._id,t._directoryName))}})},[]),window.onclick=function(A){var S=document.getElementById("myModal");A.target==S&&n(!1)};const N=A=>{if(A.preventDefault(),document.getElementById("message").value==="")b("Please type a message...");else{r.emit("send_message",{chatDirectory:l,authToken:v,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",clientNumber:`${i.chatNumber}`,clientName:`${i.chatName}`,permission:a,message:document.getElementById("message").value,clientEmail:`${i.chatEmail}`,clientBusiness:`${i.chatBusiness}`,clientCampaign:i.chatCampaign,clientObjective:i.chatObjective,clientPlatform:i.chatPlatform},$=>{$&&b($)});var S=document.getElementById("message");m(""),S.value=""}},I=()=>{const A=`A very special greeting from IDEALIDAD Digital Marketing Agency.
    
I am ${y._name}and I am here to advise you on everything related to the digital world, tell us ${i.chatName}, how can we help you?`;r.emit("send_message",{authToken:v,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",clientNumber:`${i.chatNumber}`,clientName:`${i.chatName}`,permission:a,message:A},S=>{S&&b(S)})},D=A=>{r.emit("send_message",{isImage:!0,authToken:v,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",clientNumber:`${i.chatNumber}`,clientName:`${i.chatName}`,permission:a,message:A},$=>{$&&b($)});var S=document.getElementById("message");S.value=""},R=A=>{let S=new FileReader;S.readAsDataURL(A),S.onload=()=>{var $=document.getElementById("message");$.value=S.result,D(S.result)}},L=A=>{console.log("Called");const $=A.target.files[0];R($)},O=()=>{var A=document.getElementById("attachmentSelector");A.click()},T=()=>{t._id&&i.chatNumber&&r.emit("delete_chat_from_dir",{authToken:v,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",directoryId:t._id,chatNumber:i.chatNumber},A=>{A&&b(A)})};return P("div",{id:"myModal",className:"modal",children:[_(L2,{chatDetails:i,showModal:f,setShowModal:h,socket:r,permission:a}),P("div",{className:"modal-content",children:[P("div",{className:"topbar",children:[_("div",{className:"close",onClick:()=>{n(!1)},children:_("span",{children:"\xD7"})}),_("img",{src:fa,alt:""}),P("div",{className:"lead__details",children:[_("p",{className:"name",children:i.chatName}),_("p",{className:"number",children:i.chatNumber.substring(0,i.chatNumber.indexOf("@"))})]})]}),_("div",{className:"chatbox",id:"chatbox",children:i.chatMessages.map((A,S)=>A.type==="image"?P("div",{className:`message ${A.from==="client"?"client":"seller"}`,children:[_("img",{src:`data:${A.mimetype};base64,${A.data}`,alt:"",onClick:()=>{const $=`data:${A.mimetype};base64,${A.data}`,K=document.createElement("a");K.href=$,K.download="Idealidad-Image",K.click()}}),P("div",{className:"timestamps",children:[P("i",{className:"user",children:[A.caption.length>0?A.caption.substring(A.caption.substring(" ")):"Lead"," |\xA0"]}),P("i",{className:"day",children:[A.timestamp.substring(4,11)," |\xA0"]}),_("i",{className:"date",children:A.timestamp.substring(16,25)})]})]},S):A.type==="note"?P("div",{className:`note ${A.from==="client"?"client":"seller"}`,children:[_("i",{className:"dataFor",children:A.data}),P("div",{className:"timestamps",children:[P("i",{className:"user",children:[A.caption.substring(A.caption.substring(" "))," |\xA0"]}),P("i",{className:"day",children:[A.timestamp.substring(4,11)," |\xA0"]}),_("i",{className:"date",children:A.timestamp.substring(16,25)})]})]},S):P("div",{className:`message ${A.from==="client"?"client":"seller"}`,children:[_("p",{children:A.data}),P("div",{className:"timestamps",children:[P("i",{className:"user",children:[A.caption.length>0?A.caption.substring(A.caption.substring(" ")):"Lead"," |\xA0"]}),P("i",{className:"day",children:[A.timestamp.substring(4,11)," |\xA0"]}),_("i",{className:"date",children:A.timestamp.substring(16,25)})]})]},S))}),P("div",{className:"messagebox",children:[_("img",{src:o2,alt:"",onClick:()=>{h(!0)}}),_("img",{src:O0,alt:"",onClick:w}),_("img",{src:P0,alt:"",onClick:O}),_("input",{onChange:L,type:"file",name:"",id:"attachmentSelector",accept:"image/png, image/gif, image/jpeg"}),_("img",{src:c2,alt:"",onClick:I}),_("img",{src:Wc,onClick:T,alt:""}),P("form",{className:"send__message__wrapper",children:[_("input",{type:"text",value:p,onChange:x,placeholder:"Type a message....",id:"message"}),_("button",{type:"submit",onClick:N,children:"Send message"})]}),c&&_("div",{className:"emoji__picker",ref:d,children:_(X0,{onEmojiSelect:k,data:U0})})]})]})]})};const Rh=()=>P("div",{className:"app__footer",children:[P("div",{className:"copyright",children:[_("span",{className:"copyright__text",children:"@2023 Idealidad"}),_("span",{className:"copyright__text",children:"All Rights Reserved"})]}),P("span",{className:"creator__link",children:["Passionately created by"," ",_("span",{className:"more__info",children:"Swastik Technologies"})]})]});var MF={},BF={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},zG=BF;function zF(t){this.mode=zG.MODE_8BIT_BYTE,this.data=t}zF.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var VG=zF,VF={L:1,M:0,Q:3,H:2},tg=VF;function ya(t,e){this.totalCount=t,this.dataCount=e}ya.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];ya.getRSBlocks=function(t,e){var n=ya.getRsBlockTable(t,e);if(n==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var i=n.length/3,s=new Array,a=0;a<i;a++)for(var r=n[a*3+0],o=n[a*3+1],l=n[a*3+2],c=0;c<r;c++)s.push(new ya(o,l));return s};ya.getRsBlockTable=function(t,e){switch(e){case tg.L:return ya.RS_BLOCK_TABLE[(t-1)*4+0];case tg.M:return ya.RS_BLOCK_TABLE[(t-1)*4+1];case tg.Q:return ya.RS_BLOCK_TABLE[(t-1)*4+2];case tg.H:return ya.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};var WG=ya;function WF(){this.buffer=new Array,this.length=0}WF.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var n=0;n<e;n++)this.putBit((t>>>e-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var jG=WF,js={glog:function(t){if(t<1)throw new Error("glog("+t+")");return js.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return js.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var An=0;An<8;An++)js.EXP_TABLE[An]=1<<An;for(var An=8;An<256;An++)js.EXP_TABLE[An]=js.EXP_TABLE[An-4]^js.EXP_TABLE[An-5]^js.EXP_TABLE[An-6]^js.EXP_TABLE[An-8];for(var An=0;An<255;An++)js.LOG_TABLE[js.EXP_TABLE[An]]=An;var jF=js,Bo=jF;function Vg(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&t[n]==0;)n++;this.num=new Array(t.length-n+e);for(var i=0;i<t.length-n;i++)this.num[i]=t[i+n]}Vg.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<t.getLength();i++)e[n+i]^=Bo.gexp(Bo.glog(this.get(n))+Bo.glog(t.get(i)));return new Vg(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Bo.glog(this.get(0))-Bo.glog(t.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(var i=0;i<t.getLength();i++)n[i]^=Bo.gexp(Bo.glog(t.get(i))+e);return new Vg(n,0).mod(t)}};var HF=Vg,as=BF,zT=HF,HG=jF,Ir={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},$n={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;$n.getBCHDigit(e)-$n.getBCHDigit($n.G15)>=0;)e^=$n.G15<<$n.getBCHDigit(e)-$n.getBCHDigit($n.G15);return(t<<10|e)^$n.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;$n.getBCHDigit(e)-$n.getBCHDigit($n.G18)>=0;)e^=$n.G18<<$n.getBCHDigit(e)-$n.getBCHDigit($n.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return $n.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case Ir.PATTERN000:return(e+n)%2==0;case Ir.PATTERN001:return e%2==0;case Ir.PATTERN010:return n%3==0;case Ir.PATTERN011:return(e+n)%3==0;case Ir.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case Ir.PATTERN101:return e*n%2+e*n%3==0;case Ir.PATTERN110:return(e*n%2+e*n%3)%2==0;case Ir.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new zT([1],0),n=0;n<t;n++)e=e.multiply(new zT([1,HG.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case as.MODE_NUMBER:return 10;case as.MODE_ALPHA_NUM:return 9;case as.MODE_8BIT_BYTE:return 8;case as.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case as.MODE_NUMBER:return 12;case as.MODE_ALPHA_NUM:return 11;case as.MODE_8BIT_BYTE:return 16;case as.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case as.MODE_NUMBER:return 14;case as.MODE_ALPHA_NUM:return 13;case as.MODE_8BIT_BYTE:return 16;case as.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,i=0;i<e;i++)for(var s=0;s<e;s++){for(var a=0,r=t.isDark(i,s),o=-1;o<=1;o++)if(!(i+o<0||e<=i+o))for(var l=-1;l<=1;l++)s+l<0||e<=s+l||o==0&&l==0||r==t.isDark(i+o,s+l)&&a++;a>5&&(n+=3+a-5)}for(var i=0;i<e-1;i++)for(var s=0;s<e-1;s++){var c=0;t.isDark(i,s)&&c++,t.isDark(i+1,s)&&c++,t.isDark(i,s+1)&&c++,t.isDark(i+1,s+1)&&c++,(c==0||c==4)&&(n+=3)}for(var i=0;i<e;i++)for(var s=0;s<e-6;s++)t.isDark(i,s)&&!t.isDark(i,s+1)&&t.isDark(i,s+2)&&t.isDark(i,s+3)&&t.isDark(i,s+4)&&!t.isDark(i,s+5)&&t.isDark(i,s+6)&&(n+=40);for(var s=0;s<e;s++)for(var i=0;i<e-6;i++)t.isDark(i,s)&&!t.isDark(i+1,s)&&t.isDark(i+2,s)&&t.isDark(i+3,s)&&t.isDark(i+4,s)&&!t.isDark(i+5,s)&&t.isDark(i+6,s)&&(n+=40);for(var u=0,s=0;s<e;s++)for(var i=0;i<e;i++)t.isDark(i,s)&&u++;var d=Math.abs(100*u/e/e-50)/5;return n+=d*10,n}},GG=$n,UG=VG,GF=WG,UF=jG,No=GG,qG=HF;function va(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Zi=va.prototype;Zi.addData=function(t){var e=new UG(t);this.dataList.push(e),this.dataCache=null};Zi.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]};Zi.getModuleCount=function(){return this.moduleCount};Zi.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=GF.getRSBlocks(t,this.errorCorrectLevel),n=new UF,i=0,s=0;s<e.length;s++)i+=e[s].dataCount;for(var s=0;s<this.dataList.length;s++){var a=this.dataList[s];n.put(a.mode,4),n.put(a.getLength(),No.getLengthInBits(a.mode,t)),a.write(n)}if(n.getLengthInBits()<=i*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())};Zi.makeImpl=function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=va.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)};Zi.setupPositionProbePattern=function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var i=-1;i<=7;i++)e+i<=-1||this.moduleCount<=e+i||(0<=n&&n<=6&&(i==0||i==6)||0<=i&&i<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=i&&i<=4?this.modules[t+n][e+i]=!0:this.modules[t+n][e+i]=!1)};Zi.getBestMaskPattern=function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=No.getLostPoint(this);(n==0||t>i)&&(t=i,e=n)}return e};Zi.createMovieClip=function(t,e,n){var i=t.createEmptyMovieClip(e,n),s=1;this.make();for(var a=0;a<this.modules.length;a++)for(var r=a*s,o=0;o<this.modules[a].length;o++){var l=o*s,c=this.modules[a][o];c&&(i.beginFill(0,100),i.moveTo(l,r),i.lineTo(l+s,r),i.lineTo(l+s,r+s),i.lineTo(l,r+s),i.endFill())}return i};Zi.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)};Zi.setupPositionAdjustPattern=function(){for(var t=No.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var i=t[e],s=t[n];if(this.modules[i][s]==null)for(var a=-2;a<=2;a++)for(var r=-2;r<=2;r++)a==-2||a==2||r==-2||r==2||a==0&&r==0?this.modules[i+a][s+r]=!0:this.modules[i+a][s+r]=!1}};Zi.setupTypeNumber=function(t){for(var e=No.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!t&&(e>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(var n=0;n<18;n++){var i=!t&&(e>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}};Zi.setupTypeInfo=function(t,e){for(var n=this.errorCorrectLevel<<3|e,i=No.getBCHTypeInfo(n),s=0;s<15;s++){var a=!t&&(i>>s&1)==1;s<6?this.modules[s][8]=a:s<8?this.modules[s+1][8]=a:this.modules[this.moduleCount-15+s][8]=a}for(var s=0;s<15;s++){var a=!t&&(i>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=a:s<9?this.modules[8][15-s-1+1]=a:this.modules[8][15-s-1]=a}this.modules[this.moduleCount-8][8]=!t};Zi.mapData=function(t,e){for(var n=-1,i=this.moduleCount-1,s=7,a=0,r=this.moduleCount-1;r>0;r-=2)for(r==6&&r--;;){for(var o=0;o<2;o++)if(this.modules[i][r-o]==null){var l=!1;a<t.length&&(l=(t[a]>>>s&1)==1);var c=No.getMask(e,i,r-o);c&&(l=!l),this.modules[i][r-o]=l,s--,s==-1&&(a++,s=7)}if(i+=n,i<0||this.moduleCount<=i){i-=n,n=-n;break}}};va.PAD0=236;va.PAD1=17;va.createData=function(t,e,n){for(var i=GF.getRSBlocks(t,e),s=new UF,a=0;a<n.length;a++){var r=n[a];s.put(r.mode,4),s.put(r.getLength(),No.getLengthInBits(r.mode,t)),r.write(s)}for(var o=0,a=0;a<i.length;a++)o+=i[a].dataCount;if(s.getLengthInBits()>o*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+o*8+")");for(s.getLengthInBits()+4<=o*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=o*8||(s.put(va.PAD0,8),s.getLengthInBits()>=o*8));)s.put(va.PAD1,8);return va.createBytes(s,i)};va.createBytes=function(t,e){for(var n=0,i=0,s=0,a=new Array(e.length),r=new Array(e.length),o=0;o<e.length;o++){var l=e[o].dataCount,c=e[o].totalCount-l;i=Math.max(i,l),s=Math.max(s,c),a[o]=new Array(l);for(var u=0;u<a[o].length;u++)a[o][u]=255&t.buffer[u+n];n+=l;var d=No.getErrorCorrectPolynomial(c),f=new qG(a[o],d.getLength()-1),h=f.mod(d);r[o]=new Array(d.getLength()-1);for(var u=0;u<r[o].length;u++){var p=u+h.getLength()-r[o].length;r[o][u]=p>=0?h.get(p):0}}for(var m=0,u=0;u<e.length;u++)m+=e[u].totalCount;for(var y=new Array(m),g=0,u=0;u<i;u++)for(var o=0;o<e.length;o++)u<a[o].length&&(y[g++]=a[o][u]);for(var u=0;u<s;u++)for(var o=0;o<e.length;o++)u<r[o].length&&(y[g++]=r[o][u]);return y};var KG=va,J0={exports:{}},XG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",JG=XG,YG=JG;function qF(){}function KF(){}KF.resetWarningCache=qF;var QG=function(){function t(i,s,a,r,o,l){if(l!==YG){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:KF,resetWarningCache:qF};return n.PropTypes=n,n};J0.exports=QG();var M2={};Object.defineProperty(M2,"__esModule",{value:!0});var ZG=J0.exports,ng=XF(ZG),eU=Z.exports,tU=XF(eU);function XF(t){return t&&t.__esModule?t:{default:t}}var nU={d:ng.default.string.isRequired,fill:ng.default.string.isRequired,transformX:ng.default.number.isRequired,transformY:ng.default.number.isRequired},iU={},B2=function(e){var n=e.d,i=e.fill,s=e.transformX,a=e.transformY;return tU.default.createElement("path",{d:n,fill:i,transform:"matrix("+[1,0,0,1,s,a]+")"})};B2.propTypes=nU;B2.defaultProps=iU;M2.default=B2;var z2={};Object.defineProperty(z2,"__esModule",{value:!0});var sU=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},aU=J0.exports,ig=JF(aU),rU=Z.exports,VT=JF(rU);function JF(t){return t&&t.__esModule?t:{default:t}}function oU(t,e){var n={};for(var i in t)e.indexOf(i)>=0||!Object.prototype.hasOwnProperty.call(t,i)||(n[i]=t[i]);return n}var lU={children:ig.default.array.isRequired,size:ig.default.number.isRequired,title:ig.default.string,xmlns:ig.default.string},cU={title:void 0,xmlns:"http://www.w3.org/2000/svg"},V2=function(e){var n=e.children,i=e.size,s=e.title,a=e.xmlns,r=oU(e,["children","size","title","xmlns"]);return VT.default.createElement("svg",sU({},r,{height:i,width:i,xmlns:a}),s?VT.default.createElement("title",null,s):null,n)};V2.propTypes=lU;V2.defaultProps=cU;z2.default=V2;Object.defineProperty(MF,"__esModule",{value:!0});var uU=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dU=KG,fU=mu(dU),hU=VF,pU=mu(hU),mU=J0.exports,za=mu(mU),YF=Z.exports,WT=mu(YF),gU=M2,yU=mu(gU),vU=z2,bU=mu(vU);function mu(t){return t&&t.__esModule?t:{default:t}}function wU(t,e){var n={};for(var i in t)e.indexOf(i)>=0||!Object.prototype.hasOwnProperty.call(t,i)||(n[i]=t[i]);return n}var kU={bgColor:za.default.oneOfType([za.default.object,za.default.string]),fgColor:za.default.oneOfType([za.default.object,za.default.string]),level:za.default.oneOf(["L","M","Q","H"]),size:za.default.number,value:za.default.string.isRequired},_U={bgColor:"#FFFFFF",fgColor:"#000000",level:"L",size:256},W2=function(e){var n=e.bgColor,i=e.fgColor,s=e.level,a=e.size,r=e.value,o=wU(e,["bgColor","fgColor","level","size","value"]),l=new fU.default(-1,pU.default[s]);l.addData(r),l.make();var c=l.modules,u=a/c.length;return WT.default.createElement(bU.default,uU({},o,{size:a}),c.map(function(d,f){return d.map(function(h,p){var m=Math.round(p*u),y=Math.round(f*u),g=Math.round((p+1)*u)-m,v=Math.round((f+1)*u)-y;return WT.default.createElement(yU.default,{key:"rectangle-"+f+"-"+p,d:"M 0 0 L "+g+" 0 L "+g+" "+v+" L 0 "+v+" Z",fill:h?i:n,transformX:m,transformY:y})})}))};W2.propTypes=kU;W2.defaultProps=_U;var xU=MF.default=(0,YF.memo)(W2);const SU=({showWpModal:t,setShowWpModal:e,socket:n,user:i})=>{const[s,a]=Z.exports.useState("");function r(o){var l=document.getElementById("snackbar");l.className.replace("show",""),l.className="show";var c=document.getElementById("messagebox");c.innerText=o,setTimeout(function(){l.className=l.className.replace("show","")},3e3)}return Z.exports.useEffect(()=>{a("");var o=document.getElementById("whatsappModal");t?o.style.display="flex":o.style.display="none"},[t]),Z.exports.useEffect(()=>{n.on("qr_recieved",({password:o,qr:l})=>{o==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(a(l),r("QrCode recieved..."))})}),window.onclick=function(o){var l=document.getElementById("whatsappModal");o.target==l&&(a(""),e(!1))},_("div",{id:"whatsappModal",className:"w-modal",children:i._wpIntegration?P("div",{className:"w-modal-content",children:[P("div",{className:"w-modal-header",children:[_("span",{className:"close",onClick:()=>{e(!1)},children:"\xD7"}),_("img",{src:y1,alt:""}),_("span",{children:"Whatsapp Web Integration"})]}),_("div",{className:"w-modal-body",children:_("div",{className:"w-modal-body-center",children:_("img",{src:Tf,alt:"",className:"disconnect"})})})]}):P("div",{className:"w-modal-content",children:[P("div",{className:"w-modal-header",children:[_("span",{className:"close",onClick:()=>{e(!1)},children:"\xD7"}),_("img",{src:y1,alt:""}),_("span",{children:"Whatsapp Web Integration"})]}),P("div",{className:"w-modal-body",children:[P("div",{className:"w-modal-body-left",children:[_("span",{className:"w-modal-body-header",children:"To use WhatsApp with Saleshub:"}),P("ul",{children:[_("li",{children:"1) Open Whatsapp on your phone"}),P("li",{children:["2) Tap ",_("b",{children:"Menu"})," or ",_("b",{children:"Settings"})," and select"," ",_("b",{children:"Linked Devices"})]}),_("li",{children:"3) Scan the beside Qr Code with your phone"})]})]}),_("div",{className:"w-modal-body-right",children:s===""?_(R2,{}):_(xU,{value:s})})]})]})})};const CU=({showTeamModal:t,setShowTeamModal:e,userRole:n,socket:i,userAuthToken:s,teamId:a})=>{const[r,o]=Z.exports.useState("end"),[l,c]=Z.exports.useState("end");function u(m){var y=document.getElementById("snackbar");y.className.replace("show",""),y.className="show";var g=document.getElementById("messagebox");g.innerText=m,setTimeout(function(){y.className=y.className.replace("show","")},3e3)}Z.exports.useEffect(()=>{var m=document.getElementById("teamModal");t?m.style.display="flex":(m.style.display="none",o("end"))},[t,n]),window.onclick=function(m){var y=document.getElementById("teamModal");m.target===y&&(e(!1),o("end"),c("end"))};const d=()=>{const m=document.getElementById("team_name").value===""?"":document.getElementById("team_name").value,y=document.getElementById("team_password").value===""?"":document.getElementById("team_password").value;m!==""&&y!==""?i.emit("register_user_team",{authToken:s,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",teamName:m,teamPassword:y},g=>{g&&u(g)}):u("Please fill up all the fields...")},f=()=>{const m=document.getElementById("name").value===""?"":document.getElementById("name").value,y=document.getElementById("password").value===""?"":document.getElementById("password").value;m!==""&&y!==""?i.emit("join_team",{authToken:s,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",teamId:m,teamPassword:y},g=>{g&&u(g)}):u("Please fill up all the fields...")},h=()=>{a!==""?(console.log("Emmiting left req"),i.emit("leave_team",{authToken:s,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",teamId:a},m=>{m&&u(m)})):u("Please fill up all the fields...")},p=()=>{var m=document.getElementById("member_name").value===""?"":document.getElementById("member_name").value,y=document.getElementById("member_email").value===""?"":document.getElementById("member_email").value,g=document.getElementById("member_password").value.length<8?"":document.getElementById("member_password").value;m!==""&&y!==""&&g!==""?(console.log("sending"),i.emit("add_member",{authToken:s,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",teamId:a,memberName:m,memberEmail:y,memberPassword:g},v=>{v&&u(v)})):u("Please fill up all the fields....")};return Z.exports.useEffect(()=>{o("end"),c("end")},[n]),_("div",{id:"teamModal",className:"t-modal",children:P("div",{className:"t-modal-content",children:[_("span",{className:"close",onClick:()=>{e(!1),o("end"),c("end")},children:"\xD7"}),l==="end"?n==="neutral"?P("div",{div:!0,className:"wrapper",children:[P("div",{className:"team__action",onClick:()=>{o("create"),c("start")},children:[_("span",{children:"Create Team"}),_("img",{src:y8,alt:""})]}),P("div",{className:"team__action",onClick:()=>{o("join"),c("start")},children:[_("span",{children:"Join Team"}),_("img",{src:Vc,alt:""})]})]}):n==="seller"?_("div",{className:"constructionMessage",children:_("img",{src:e6,alt:"",onClick:h})}):n==="admin"?P("div",{className:"modal-content",id:"form",children:[_("span",{className:"header",id:"header",children:"Add New Member"}),_("input",{className:"inputFields",type:"text",name:"",id:"member_name",placeholder:"Member Name"}),_("input",{className:"inputFields",type:"email",name:"",id:"member_email",placeholder:"Member Email"}),_("input",{className:"inputFields",type:"password",name:"",id:"member_password",placeholder:"Member Password"}),_("button",{onClick:p,children:"Add"})]}):"":"",r==="create"?P("div",{className:"modal-content",id:"form",children:[_("span",{className:"header",id:"header",children:"Create New Team"}),_("input",{className:"inputFields",type:"text",name:"",id:"team_name",placeholder:"Team Name"}),_("input",{className:"inputFields",type:"password",name:"",id:"team_password",placeholder:"Team password"}),_("button",{onClick:d,children:"Create"})]}):r==="join"?P("div",{className:"modal-content",id:"form",children:[_("span",{className:"header",id:"header",children:"Join A Team"}),_("input",{className:"inputFields",type:"text",name:"",id:"name",placeholder:"Team Id"}),_("input",{className:"inputFields",type:"password",name:"",id:"password",placeholder:"Team password"}),_("button",{onClick:f,children:"Join"})]}):""]})})};const NU=({showModal:t,setShowModal:e,permission:n,socket:i})=>{const s=JSON.parse(window.localStorage.getItem("shulidtH9kNnMgaUtlL730ktnkB.saleshub.io"));function a(l){var c=document.getElementById("snackbar");c.className.replace("show",""),c.className="show",c.innerText=l,setTimeout(function(){c.className=c.className.replace("show","")},3e3)}Z.exports.useEffect(()=>{var l=document.getElementById("DirectoryModal");t?l.style.display="flex":l.style.display="none",n||e(!1)},[t,n]),window.onclick=function(l){var c=document.getElementById("DirectoryModal");l.target==c&&e(!1)};const r=l=>{if(l){var c=document.getElementById("gswarning"),u=document.getElementById("gsname");u.style.display="block",c.style.display="flex"}else{var c=document.getElementById("gswarning"),u=document.getElementById("gsname");u.style.display="none",c.style.display="none"}},o=()=>{var l=document.getElementById("dirname").value,c=document.getElementById("gsname").value,u=document.getElementById("facebook").checked,d=document.getElementById("all").checked;l?u||d?i.emit("add_directory",{authToken:s,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",facebookIntegration:u,allIntegration:d,googlesheetname:c,directoryName:l},f=>{f&&a(f)}):a("Please provide the method..."):a("Please provide the directory name...")};return _("div",{id:"DirectoryModal",className:"modal",children:P("div",{className:"modal-content",children:[_("div",{className:"close",onClick:()=>{e(!1)},children:_("span",{children:"\xD7"})}),_("span",{className:"header",children:"Create New Directory"}),_("input",{className:"inputFields",type:"text",name:"",id:"dirname",placeholder:"Directory name"}),P("div",{className:"warning",children:[_("i",{className:"warning_text",children:"1) The headers of the columns are predefined"}),_("i",{className:"warning_text",children:"2) The headers are as follow: "}),_("i",{className:"warning_text",children:"3) Date "}),_("i",{className:"warning_text",children:"4) Platform "}),_("i",{className:"warning_text",children:"5) Name "}),_("i",{className:"warning_text",children:"6) Email "}),_("i",{className:"warning_text",children:"7) Telephone "}),_("i",{className:"warning_text",children:"8) Campaign "}),_("i",{className:"warning_text",children:"9) Business "}),_("i",{className:"warning_text",children:"10) Objective "}),_("i",{className:"warning_text",children:"11) If you are importing the data from any googlesheet make sure you also have the data in the same format given above "})]}),P("div",{className:"radio_boxes",children:[P("label",{htmlFor:"import",children:["Import Data",_("input",{type:"radio",name:"data",id:"import",onClick:()=>{r(!0)}})]}),P("label",{htmlFor:"add",children:["New Data",_("input",{type:"radio",name:"data",id:"add",onClick:()=>{r(!1)}})]})]}),_("div",{className:"warning",id:"gswarning",children:_("i",{className:"warning_text",children:"Make sure that you have connected the googlesheet required for the directory. After that enter the sheet name to import its data"})}),_("input",{className:"inputFields",type:"text",name:"",id:"gsname",placeholder:"GoogleSheet name"}),P("div",{className:"radio_boxes",children:[P("label",{htmlFor:"facebook",children:["Facebook Leads",_("input",{type:"checkbox",name:"import",id:"facebook"})]}),P("label",{htmlFor:"all",children:["All Leads",_("input",{type:"checkbox",name:"import",id:"all"})]})]}),_("button",{onClick:()=>{o()},children:"Create"})]})})},IU=({socket:t,permission:e})=>{const[n,i]=Z.exports.useState(""),[s,a]=Z.exports.useState(""),[r,o]=Z.exports.useState([]),[l,c]=Z.exports.useState(!1),[u,d]=Z.exports.useState(!1),[f,h]=Z.exports.useState(!1),p=[0,2,3,5,6,7],m=JSON.parse(window.localStorage.getItem("shulidtH9kNnMgaUtlL730ktnkB.saleshub.io")),[y,g]=Z.exports.useState({chatName:"",chatNumber:"",chatFunnel:"",chatParent:"",chatEmail:"",chatCampaign:"",chatBusiness:"",chatObjective:"",chatPlatform:"",chatLabel:"",chatHandler:"",chatMessages:[]}),[v,b]=Z.exports.useState({_id:"",_name:"User",_email:"",_teamId:"",_teamRole:"neutral",_gsIntegration:!1,_gsSessionData:"",_wpIntegration:!1,_wpSessionData:"",_fbIntegration:!1,_fbSessionData:"",_igIntegration:!1,_igSessionData:"",_totalMessagesSent:0,_totalLeadsGained:0,_totalMessagesSentThisWeek:[],_totalLeadsGainedThisWeek:[],_funnelsCount:0,_directories:[],_funnels:[],_ownChats:[],_assignedChats:[]}),[w,k]=Z.exports.useState({_id:"",_directoryName:"",_directoryParent:"",_directoryChats:[]});function x(S){var $=document.getElementById("snackbar");$.className.replace("show",""),$.className="show";var K=document.getElementById("messagebox");K.innerText=S,setTimeout(function(){$.className=$.className.replace("show","")},3e3)}Z.exports.useEffect(()=>{t.emit("get_user",{authToken:m,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io"},S=>{S&&x(S)})},[]),Z.exports.useEffect(()=>{t.on("got_user",({user:S,password:$})=>{$==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&b({_id:S._id,_name:S._name,_email:S._email,_teamId:S._teamId,_teamRole:S._teamRole,_gsIntegration:S._gsIntegration,_gsSessionData:S._gsSessionData,_wpIntegration:S._wpIntegration,_wpSessionData:S._wpSessionData,_fbIntegration:S._fbIntegration,_fbSessionData:S._fbSessionData,_igIntegration:S._igIntegration,_igSessionData:S._igSessionData,_totalMessagesSent:S._totalMessagesSent,_totalLeadsGained:S._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(S._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(S._totalLeadsGainedThisWeek),_funnelsCount:S._funnelsCount,_funnels:S._funnels,_directories:S._directories,_ownChats:S._ownChats,_assignedChats:S._assignedChats})}),t.on("user_updated",({updatedUser:S,password:$})=>{$==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(console.log("User Updated"),b({_id:S._id,_name:S._name,_email:S._email,_teamId:S._teamId,_teamRole:S._teamRole,_gsIntegration:S._gsIntegration,_gsSessionData:S._gsSessionData,_wpIntegration:S._wpIntegration,_wpSessionData:S._wpSessionData,_fbIntegration:S._fbIntegration,_fbSessionData:S._fbSessionData,_igIntegration:S._igIntegration,_igSessionData:S._igSessionData,_totalMessagesSent:S._totalMessagesSent,_totalLeadsGained:S._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(S._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(S._totalLeadsGainedThisWeek),_funnelsCount:S._funnelsCount,_funnels:S._funnels,_directories:S._directories,_ownChats:S._ownChats,_assignedChats:S._assignedChats}))}),t.on("directory_added",({newDirectory:S,password:$,Data:K})=>{if($==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"){h(!1),a(S._directoryName),k({_directoryName:S._directoryName,_directoryParent:S._directoryParent,_directoryChats:K,_id:S._id});var M=document.getElementById(S._directoryName);M.checked="true",x("Directory created successfully...")}}),t.on("got_directory",({existingdirectory:S,password:$,data:K})=>{if($==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"){h(!1),a(S._directoryName),k({_directoryName:S._directoryName,_directoryParent:S._directoryParent,_directoryChats:K,_id:S._id});var M=document.getElementById(S._directoryName);M.checked="true"}}),t.on("directory_updated",({existingdirectory:S,password:$,data:K})=>{if($==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"){h(!1),a(S._directoryName),k({_directoryName:S._directoryName,_directoryParent:S._directoryParent,_directoryChats:K,_id:S._id});var M=document.getElementById(S._directoryName);M.checked="true"}}),t.on("directory_deleted",({password:S})=>{if(S==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"){h(!1),c(!1),a(""),k({_directoryName:"",_directoryParent:"",_directoryChats:[],_id:""});var $=document.getElementById("close sheets");$.checked="true"}}),t.on("chat_deleted_from_dir",({password:S})=>{S==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&window.localStorage.getItem("spfudFojdbcdblAUHVAVAVSDVSKVdjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io")===chatDetails._id&&d(!1)})});const N=S=>{S.preventDefault(),console.log("Wassup",n)},I=(S,$)=>{c(!0),a($),t.emit("get_directory",{authToken:m,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",directoryId:S},K=>{K&&(c(!1),x(K))})},D=S=>{console.log(S),t.emit("get_directory",{authToken:m,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",directoryId:S},$=>{$&&(c(!1),x($))})},R=async(S,$,K,M,U,Q,ee)=>{window.localStorage.setItem("spfudFojdbcdblAUHVAVAVSDVSKVdjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io",S),t.emit("get_chat_details",{authToken:m,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",chatNumber:S},ie=>{ie==="Chat not found..."?(g({chatName:$,chatNumber:S,chatFunnel:"None",chatEmail:M,chatCampaign:U,chatBusiness:Q,chatObjective:ee,chatPlatform:K,chatLabel:"Neutral",chatMessages:[]}),d(!0),window.localStorage.setItem("spfudFojdbcdblAUHVAVAVSDVSKVdjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io","Un-Authenticated")):ie&&x(ie)})},L=S=>{S?(c(!1),t.emit("delete_directory",{authToken:m,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",directoryId:S},$=>{$&&x($)})):x("Please provide the directory id...")};t.on("got_chat_details",({password:S,chat:$})=>{if(S==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"){const K=window.localStorage.getItem("spfudFojdbcdblAUHVAVAVSDVSKVdjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io");(K===$._id||K===$._chatNumber)&&(g({chatName:$._chatName,chatNumber:$._chatNumber,chatFunnel:$._chatFunnel,chatLabel:$._chatLabel,chatMessages:$._chatMessages,chatId:$._id,chatParent:$._chatParent,chatEmail:$._chatEmail,chatCampaign:$._chatCampaign,chatBusiness:$._chatBusiness,chatObjective:$._chatObjective,chatPlatform:$._chatPlatform,chatHandler:$._chatHandler}),window.localStorage.setItem("spfudFojdbcdblAUHVAVAVSDVSKVdjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io",$._id),d(!0))}});const O=S=>{for(let $=0;$<p.length;$++){const K=p[$];if(S===K)return!0}return!1},T=S=>{const $=S.toLowerCase(),K=$.substring(1,$.length);return`${$.substring(0,1).toUpperCase()}${K}`},A=S=>S.length>15?`${S.substring(0,15)}...`:S;return P(jc,{children:[u?_(BG,{selectedSheet:s,socket:t,showModal:u,setShowModal:d,permission:!0,userData:y,setUserData:g,directoryData:w,getDirectoryData:D}):null,f?_(NU,{showModal:f,setShowModal:h,permission:e,socket:t}):null,P("div",{className:"app__directory",children:[P("div",{id:"snackbar",children:[_("img",{src:Bl,alt:""}),_("span",{id:"messagebox",children:"Hello"})]}),P("div",{className:"app__directory__header",children:[P("div",{className:"list-choice",children:[_("div",{className:"list-choice-title",children:"Select Sheet"}),P("div",{className:"list-choice-objects",children:[v._directories.map(S=>P("label",{children:[_("input",{type:"radio",name:"funnels",id:S.directoryName,onClick:()=>{I(S.directoryId,S.directoryName)}})," ",P("span",{children:[S.directoryName,_("div",{className:"color"})]})]},S.directoryName)),P("label",{children:[_("input",{type:"radio",name:"funnels",id:"close sheets",onClick:()=>{o([])}})," ",P("span",{children:["Close Sheets",_("div",{className:"color"})]})]})]})]}),P("form",{className:"search__wrapper",children:[_("img",{src:r2,alt:"",className:"search__icon"}),_("input",{type:"search",name:"",id:"search__box",placeholder:"Search in sheets.....",value:n,onChange:S=>{i(S.target.value)}}),_("button",{type:"submit",className:"search__button",onClick:N,children:"Search"})]}),P("div",{className:"more__actions__wrapper",children:[_("img",{src:Vc,alt:"",className:"action__icon",onClick:()=>{h(!0)}}),_("img",{src:Wc,alt:"",className:"action__icon",onClick:()=>{L(w._id)}})]})]}),_("div",{className:"app__directory__data",children:w._directoryChats.length>0?P("div",{className:"app__directory__data m0",children:["              ",P("div",{className:"app__directory__data__header",children:[w._directoryChats[0].data.map((S,$)=>{if(O($))return P("div",{className:`app__directory__data__header__labels ${$===0?"br-5":$===r.length-1?"bl-5":""}`,id:S._id,children:[_("span",{children:T(S.field)}),_("div",{className:"line"})]},S._id)}),P("div",{className:"app__directory__data__header__labels bl-5",id:"actions",children:[_("span",{children:"Actions"}),_("div",{className:"line"})]})]}),P("div",{className:"app__directory__data__body",children:[w._directoryChats.map((S,$)=>{if($!==0)return P("div",{className:"app__directory__rows",children:[P("div",{className:"tooltip br-5",children:[_("span",{className:"tooltiptext",children:S.data[0].field}),_("div",{className:`watermark ${S.data[1].field==="ig"?"ig":S.data[1].field==="fb"?"fb":S.data[1].field==="wp"?"wp":"nm"}`}),_("span",{className:"data",children:A(S.data[0].field)})]}),P("div",{className:"tooltip",children:[_("span",{className:"tooltiptext",children:S.data[2].field}),_("span",{className:"data",children:A(S.data[2].field)})]}),P("div",{className:"tooltip",children:[_("span",{className:"tooltiptext",children:S.data[3].field}),_("span",{className:"data",children:A(S.data[3].field)})]}),P("div",{className:"tooltip",children:[_("span",{className:"tooltiptext",children:S.data[5].field}),_("span",{className:"data",children:A(S.data[5].field)})]}),P("div",{className:"tooltip",children:[_("span",{className:"tooltiptext",children:S.data[6].field}),_("span",{className:"data",children:A(S.data[6].field)})]}),P("div",{className:"tooltip",children:[_("span",{className:"tooltiptext",children:S.data[7].field.replace(/_/g," ")}),_("span",{className:"data",children:A(S.data[7].field).replace(/_/g," ")})]}),P("div",{className:"actions bl-5",id:S.data[4].field,children:[_("img",{src:v8,alt:"",className:"first",title:"Send message to lead...",onClick:()=>{e?R(`${S.data[4].field}@c.us`,S.data[2].field,S.data[1].field,S.data[3].field,S.data[5].field,S.data[6].field,S.data[7].field.replace(/_/g," ")):x("Please integrate whatsapp to chat...")}}),_("img",{src:Rg,alt:"",className:"second",title:"Send mail to lead..."}),_("img",{src:S.data[S.data.length-1].field==="auth"?b8:h8,alt:"",className:"third",title:"Delete lead from the sheet..."})]})]},$)}),_("div",{className:"app__directory__rows",children:_("div",{className:"tooltip br-5",children:P("span",{className:"data",id:"icon_data",children:[" ",_("img",{src:Vc,alt:"",className:"icon"})," Add new field"]})})})]})," "]}):l?P("div",{className:"info__div",children:[" ",_(R2,{})," "]}):P("div",{className:"info__div",children:[" ",_("span",{children:"Select a sheet from the above sheet menu to see its data"})]})}),_(Rh,{})]})]})};const TU=({showGsModal:t,setShowGsModal:e,socket:n,authToken:i,user:s,userTeam:a})=>{function r(l){var c=document.getElementById("snackbar");c.className.replace("show",""),c.className="show";var u=document.getElementById("messagebox");u.innerText=l,setTimeout(function(){c.className=c.className.replace("show","")},3e3)}Z.exports.useEffect(()=>{var l=document.getElementById("googleSheetModal");t?l.style.display="flex":l.style.display="none"},[t]),window.onclick=function(l){var c=document.getElementById("googleSheetModal");l.target==c&&e(!1)};const o=async l=>{l.preventDefault();var c=document.getElementById("spreadsheetId").value===""?"":document.getElementById("spreadsheetId").value;c!==""?n.emit("integrate_googlesheets",{authToken:i,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",spreadsheetId:document.getElementById("spreadsheetId").value},u=>{u&&r(u)}):r("Please specify the spreadsheet Id...")};return _("div",{id:"googleSheetModal",className:"g-modal",children:s._teamRole==="neutral"?s._gsIntegration?P("div",{className:"w-modal-content",children:[P("div",{className:"w-modal-header",children:[_("span",{className:"close",onClick:()=>{e(!1)},children:"\xD7"}),_("img",{src:cf,alt:""}),_("span",{children:"Google Sheets Integration"})]}),_("div",{className:"w-modal-body",children:_("div",{className:"w-modal-body-center",children:_("img",{src:Tf,alt:"",className:"disconnect"})})})]}):P("div",{className:"g-modal-content",children:[P("div",{className:"g-modal-header",children:[_("span",{className:"close",onClick:()=>{e(!1)},children:"\xD7"}),_("img",{src:cf,alt:""}),_("span",{children:"Google Sheets Integration"})]}),_("div",{className:"g-modal-body",children:P("div",{className:"g-modal-body-left",children:[_("span",{className:"g-modal-body-header",children:"To use Google Sheets with Saleshub:"}),P("ul",{children:[_("li",{children:"1) Open the sheet on your desktop."}),P("li",{children:["2) Share that sheet to ",_("a",{children:"saleshub-database@automated-lodge-356009.iam.gserviceaccount.com"})]}),P("li",{children:["3) Copy the sheet id from the url and enter it here: ",P("form",{children:["            ",_("input",{type:"text",id:"spreadsheetId"}),_("button",{type:"submit",onClick:o,children:"Send message"})," "]})," "]}),_("li",{children:"4) Press enter after completing all the above steps."})]})]})})]}):s._teamRole!=="neutral"?a._gsIntegration?P("div",{className:"w-modal-content",children:[P("div",{className:"w-modal-header",children:[_("span",{className:"close",onClick:()=>{e(!1)},children:"\xD7"}),_("img",{src:cf,alt:""}),_("span",{children:"Google Sheets Integration"})]}),_("div",{className:"w-modal-body",children:_("div",{className:"w-modal-body-center",children:_("img",{src:l2,alt:"",className:"disconnect"})})})]}):P("div",{className:"g-modal-content",children:[P("div",{className:"g-modal-header",children:[_("span",{className:"close",onClick:()=>{e(!1)},children:"\xD7"}),_("img",{src:cf,alt:""}),_("span",{children:"Google Sheets Integration"})]}),_("div",{className:"g-modal-body",children:P("div",{className:"g-modal-body-left",children:[_("span",{className:"g-modal-body-header",children:"To use Google Sheets with Saleshub:"}),P("ul",{children:[_("li",{children:"1) Open the sheet on your desktop."}),P("li",{children:["2) Share that sheet to ",_("a",{children:"saleshub-database@automated-lodge-356009.iam.gserviceaccount.com"})]}),P("li",{children:["3) Copy the sheet id from the url and enter it here: ",P("form",{children:["            ",_("input",{type:"text",id:"spreadsheetId"}),_("button",{type:"submit",onClick:o,children:"Send message"})," "]})," "]}),_("li",{children:"4) Press enter after completing all the above steps."})]})]})})]}):null})};const $U=({authToken:t,showFbModal:e,setShowFbModal:n,socket:i,user:s})=>{function a(r){var o=document.getElementById("snackbar");o.className.replace("show",""),o.className="show";var l=document.getElementById("messagebox");l.innerText=r,setTimeout(function(){o.className=o.className.replace("show","")},3e3)}return Z.exports.useEffect(()=>{var r=document.getElementById("facebookModal");e?r.style.display="flex":r.style.display="none"},[e]),window.onclick=function(r){var o=document.getElementById("facebookModal");r.target==o&&n(!1)},_("div",{id:"facebookModal",className:"g-modal",children:s._fbIntegration?P("div",{className:"g-modal-content",children:[P("div",{className:"g-modal-header",children:[_("span",{className:"close",onClick:()=>{n(!1)},children:"\xD7"}),_("img",{src:Zf,alt:""}),_("span",{children:"Facebook Integration"})]}),_("div",{className:"g-modal-body",children:_("div",{className:"g-modal-body-center",children:_("span",{children:"Only the super admins of the app can link a facebook page to your profile"})})})]}):P("div",{className:"g-modal-content",children:[P("div",{className:"g-modal-header",children:[_("span",{className:"close",onClick:()=>{n(!1)},children:"\xD7"}),_("img",{src:Zf,alt:""}),_("span",{children:"Facebook Integration"})]}),_("div",{className:"g-modal-body",children:P("div",{className:"instruction",children:[_("img",{src:l2,alt:""}),_("span",{style:{marginTop:"10px"},children:"Only Super Admins Of the Idealidad Saleshub Crm can assign facebook campaigns to the other teams. Please request your super admins to assign you a facebook campaign."}),_("button",{onClick:()=>{setTimeout(()=>{a("Request send to super admin...")})},style:{width:"100%",marginTop:"20px"},children:"Send Request \u2192"})]})})]})})};const EU=({showModal:t,setShowModal:e,permission:n,socket:i})=>{const s=JSON.parse(window.localStorage.getItem("shulidtH9kNnMgaUtlL730ktnkB.saleshub.io"));function a(o){var l=document.getElementById("snackbar");l.className.replace("show",""),l.className="show",l.innerText=o,setTimeout(function(){l.className=l.className.replace("show","")},3e3)}return Z.exports.useEffect(()=>{var o=document.getElementById("createChatModal");t?o.style.display="flex":o.style.display="none",n||e(!1)},[t,n]),window.onclick=function(o){var l=document.getElementById("createChatModal");o.target==l&&e(!1)},_("div",{id:"createChatModal",className:"modal",children:P("div",{className:"modal-content",children:[_("div",{className:"close",onClick:()=>{e(!1)},children:_("span",{children:"\xD7"})}),_("span",{className:"header",children:"Create New Chat"}),_("input",{className:"inputFields",type:"text",name:"",id:"name",placeholder:"Name"}),_("input",{className:"inputFields",type:"number",name:"",id:"prefix",placeholder:"Prefix"}),_("input",{className:"inputFields",type:"number",name:"",id:"number",placeholder:"Number"}),_("input",{className:"inputFields",type:"text",name:"",id:"email",placeholder:"Email"}),_("input",{className:"inputFields",type:"text",name:"",id:"campaign",placeholder:"Campaign"}),_("input",{className:"inputFields",type:"text",name:"",id:"business",placeholder:"Business"}),_("input",{className:"inputFields",type:"text",name:"",id:"objective",placeholder:"Objective"}),_("button",{onClick:()=>{console.log("Sending reQuest form chreate");var o=document.getElementById("name").value;o===""&&a("Please provide name...");var l=document.getElementById("number").value;l===""&&a("Please provide number...");var c=document.getElementById("prefix").value;c===""&&a("Please provide prefix...");var u=document.getElementById("objective").value,d=document.getElementById("campaign").value,f=document.getElementById("email").value,h=document.getElementById("business").value,p={name:o,number:`${c}${l}@c.us`,objective:u,campaign:d,email:f,business:h};o!==""&&c!==""&&l!==""&&i.emit("add_chat",{authToken:s,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",chatDetails:p},m=>{m&&a(m)})},children:"Create"})]})})};const DU=({socket:t})=>{const e=JSON.parse(window.localStorage.getItem("shulidtH9kNnMgaUtlL730ktnkB.saleshub.io")),[n,i]=Z.exports.useState({_id:"",_name:"User",_email:"",_teamId:"",_teamRole:"neutral",_gsIntegration:!1,_gsSessionData:"",_wpIntegration:!1,_wpSessionData:"",_fbIntegration:!1,_fbSessionData:"",_igIntegration:!1,_igSessionData:"",_totalMessagesSent:0,_totalLeadsGained:0,_chatBot:!1,_chatBotTemplate:[],_totalMessagesSentThisWeek:[],_totalLeadsGainedThisWeek:[],_funnelsCount:0,_funnels:[],_teamChats:[],_ownChats:[],_assignedChats:[]}),{showEmoji:s,setShowEmoji:a,ref:r}=Fh(!1),[o,l]=Z.exports.useState(""),[c,u]=Z.exports.useState(!1);Z.exports.useEffect(()=>{t.emit("get_user",{authToken:e,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io"},x=>{x&&y(x)})},[]),Z.exports.useEffect(()=>{t.on("got_user",({user:x,password:N})=>{N==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(u(x._chatBot),i({_id:x._id,_name:x._name,_email:x._email,_teamId:x._teamId,_teamRole:x._teamRole,_chatBot:x._chatBot,_chatBotTemplate:x._chatBotTemplate,_gsIntegration:x._gsIntegration,_gsSessionData:x._gsSessionData,_wpIntegration:x._wpIntegration,_wpSessionData:x._wpSessionData,_fbIntegration:x._fbIntegration,_fbSessionData:x._fbSessionData,_igIntegration:x._igIntegration,_igSessionData:x._igSessionData,_totalMessagesSent:x._totalMessagesSent,_totalLeadsGained:x._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(x._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(x._totalLeadsGainedThisWeek),_funnelsCount:x._funnelsCount,_funnels:x._funnels,_teamChats:x._teamChats,_ownChats:x._ownChats,_assignedChats:x._assignedChats}))}),t.on("user_updated",({updatedUser:x,password:N})=>{N==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(u(x._chatBot),i({_id:x._id,_name:x._name,_email:x._email,_teamId:x._teamId,_teamRole:x._teamRole,_chatBot:x._chatBot,_chatBotTemplate:x._chatBotTemplate,_gsIntegration:x._gsIntegration,_gsSessionData:x._gsSessionData,_wpIntegration:x._wpIntegration,_wpSessionData:x._wpSessionData,_fbIntegration:x._fbIntegration,_fbSessionData:x._fbSessionData,_igIntegration:x._igIntegration,_igSessionData:x._igSessionData,_totalMessagesSent:x._totalMessagesSent,_totalLeadsGained:x._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(x._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(x._totalLeadsGainedThisWeek),_funnelsCount:x._funnelsCount,_funnels:x._funnels,_teamChats:x._teamChats,_ownChats:x._ownChats,_assignedChats:x._assignedChats}))})});const d=()=>{a(x=>!x)},f=x=>{l(N=>N+=x.native)},h=x=>{l(x.target.value)},p=x=>{x.preventDefault();const N=document.getElementById("message").value;if(N.length!==0){const I={_chatBotTemplate:[...n._chatBotTemplate,{type:"chat",mimetype:"chat",data:N,from:n._name}]};t.emit("update_user",{authToken:e,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",userUpdates:I},D=>{D&&y(D)})}else y("Please type a message...");l("")},m=x=>{const N={_chatBotTemplate:[...n._chatBotTemplate,{type:"image",mimetype:x.substring(x.indexOf(":")+1,x.indexOf(";")),data:x.substring(x.indexOf(",")+1),from:n._name}]};t.emit("update_user",{authToken:e,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",userUpdates:N},I=>{I&&y(I)})};function y(x){var N=document.getElementById("snackbar");N.className.replace("show",""),N.className="show";var I=document.getElementById("messagebox");I.innerText=x,setTimeout(function(){N.className=N.className.replace("show","")},3e3)}const g=x=>{let N=new FileReader;N.readAsDataURL(x),N.onload=()=>{m(N.result)}},v=x=>{console.log("Called");const I=x.target.files[0];g(I)},b=()=>{var x=document.getElementById("attachmentSelector");x.click()},w=x=>{var N=n._chatBotTemplate;for(let R=0;R<N.length;R++){const L=N[R];var I=JSON.stringify(L._id);if(JSON.stringify(x)===I){N.splice(R,1);break}}const D={_chatBotTemplate:[...N]};t.emit("update_user",{authToken:e,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",userUpdates:D},R=>{R&&y(R)})};return P("div",{className:"app__salesbot",children:[P("div",{id:"snackbar",children:[_("img",{src:Bl,alt:""}),_("span",{id:"messagebox",children:"Hello"})]}),P("div",{className:"top__sales__container",children:[_("span",{className:"content",children:"Idealidad Saleshub Welcome Message Bot Feature"}),P("label",{class:"switch",children:[_("input",{type:"checkbox",checked:c,onChange:()=>{if(n._chatBotTemplate.length===0)y("Please add some messages...");else if(c){const x={_chatBot:!1};t.emit("update_user",{authToken:e,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",userUpdates:x},N=>{N&&y(N)})}else if(!c){const x={_chatBot:!0};t.emit("update_user",{authToken:e,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",userUpdates:x},N=>{N&&y(N)})}}}),_("span",{class:"slider round"})]})]}),P("div",{className:"template__container",children:[_("div",{className:"chatbox",children:n._chatBotTemplate.map((x,N)=>x.type==="image"?P("div",{className:"message seller",children:[_("span",{className:"delIcon",onClick:()=>{w(x._id)},children:"\u274C"}),_("img",{className:"text",src:`data:${x.mimetype};base64,${x.data}`,alt:"",onClick:()=>{const I=`data:${x.mimetype};base64,${x.data}`,D=document.createElement("a");D.href=I,D.download="Idealidad-Image",D.click()}}),P("div",{className:"timestamps",children:[P("span",{className:"user",children:[x.from," |\xA0"]}),P("span",{className:"day",children:[x.timestamp.substring(4,11)," |\xA0"]}),_("span",{className:"date",children:x.timestamp.substring(16,25)})]})]},N):x.type==="note"?P("div",{className:"note seller",children:[_("i",{className:"dataFor",children:x.data}),P("div",{className:"timestamps",children:[P("span",{className:"user",children:[x.from," |\xA0"]}),P("span",{className:"day",children:[x.timestamp.substring(4,11)," |\xA0"]}),_("span",{className:"date",children:x.timestamp.substring(16,25)})]})]},N):P("div",{className:"message seller",children:[_("span",{className:"delIcon",onClick:()=>{w(x._id)},children:"\u274C"}),_("p",{children:x.data}),P("div",{className:"timestamps",children:[P("span",{className:"user",children:[x.from," |\xA0"]}),P("span",{className:"day",children:[x.timestamp.substring(4,11)," |\xA0"]}),_("span",{className:"date",children:x.timestamp.substring(16,25)})]})]},N))}),P("div",{className:"template__controllers",children:[_("img",{src:O0,alt:"",onClick:d}),_("img",{src:P0,alt:"",onClick:b}),_("input",{type:"file",name:"",id:"attachmentSelector",accept:"image/png, image/gif, image/jpeg",onChange:v}),P("form",{className:"send__message__wrapper",children:[_("input",{type:"text",placeholder:"Type a message....",id:"message",value:o,onChange:h}),_("button",{type:"submit",onClick:p,children:"Send message"})]}),s&&_("div",{className:"emoji__picker_",ref:r,children:_(X0,{onEmojiSelect:f,data:U0})})]})]}),_(Rh,{})]})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AU=1e-7,FU=1e-4;class j2{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class Y0{refCount(e){return gi("refCount")}incRef(e){return gi("incRef")}timerAvailable(){return!0}time(e){return gi("time")}read(e){return gi("read")}readSync(e){return gi("readSync")}readToGPU(e,n){return gi("readToGPU")}numDataIds(){return gi("numDataIds")}disposeData(e,n){return gi("disposeData")}write(e,n,i){return gi("write")}move(e,n,i,s,a){return gi("move")}createTensorFromTexture(e,n,i){return gi("createTensorFromTexture")}memory(){return gi("memory")}floatPrecision(){return gi("floatPrecision")}epsilon(){return this.floatPrecision()===32?AU:FU}dispose(){return gi("dispose")}}function gi(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H2(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,Ja(t,e,n)}function RU(t,e){if(t.length!==e.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${t.length}Second array length was ${e.length}`);let n=t.length,i=0;for(;n>0;)i=Math.random()*n|0,n--,Ja(t,n,i),Ja(e,n,i)}function ho(t,e,n){return Math.max(t,Math.min(e,n))}function Q0(t){return t%2===0?t:t+1}function Ja(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function QF(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function OU(t,e){const n=Math.random();return e*n+(1-n)*t}function PU(t,e){let n=0;for(let i=0;i<t.length;i++){const s=Number(t[i])-Number(e[i]);n+=s*s}return n}function E(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function Sn(t,e,n=""){E(Ge(t,e),()=>n+` Shapes ${t} and ${e} must match`)}function Vl(t){E(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function or(t,e=[],n=!1){if(e==null&&(e=[]),Array.isArray(t)||bn(t)&&!n)for(let i=0;i<t.length;++i)or(t[i],e,n);else e.push(t);return e}function te(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function LU(t){return t.length===0}function Ge(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function kl(t){return t%1===0}function MU(t){if(Math.tanh!=null)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;{const e=Math.exp(2*t);return(e-1)/(e+1)}}function O1(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function BU(t){const e=new Uint32Array(t);for(let n=0;n<t;++n)e[n]=n;return H2(e),e}function ll(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function m_(t,e=s=>0,n,i){return new Promise((s,a)=>{let r=0;const o=()=>{if(t()){s();return}r++;const l=e(r);if(n!=null&&r>=n){a();return}i!=null?i(o,l):setTimeout(o,l)};o()})}function G2(t,e){let n=1,i=-1;for(let a=0;a<t.length;++a)if(t[a]>=0)n*=t[a];else if(t[a]===-1){if(i!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${i} and dim ${a}`);i=a}else if(t[a]<0)throw Error(`Shapes can not be < 0. Found ${t[a]} at dim ${a}`);if(i===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const s=t.slice();return s[i]=e/n,s}function ze(t,e){const n=e.length;return t=t==null?e.map((i,s)=>s):[].concat(t),E(t.every(i=>i>=-n&&i<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),E(t.every(i=>kl(i)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(i=>i<0?n+i:i)}function mr(t,e){const n=[],i=[],s=e!=null&&Array.isArray(e)&&e.length===0,a=e==null||s?null:ze(e,t).sort();let r=0;for(let o=0;o<t.length;++o){if(a!=null){if(a[r]===o&&t[o]!==1)throw new Error(`Can't squeeze axis ${o} since its dim '${t[o]}' is not 1`);(a[r]==null||a[r]>o)&&t[o]===1&&(n.push(t[o]),i.push(o)),a[r]<=o&&r++}t[o]!==1&&(n.push(t[o]),i.push(o))}return{newShape:n,keptDims:i}}function on(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else throw new Error(`Unknown data type ${t}`);return n}function jt(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}function ZF(t,e){for(let n=0;n<t.length;n++){const i=t[n];if(isNaN(i)||!isFinite(i))throw Error(`A tensor of type ${e} being uploaded contains ${i}.`)}}function eR(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function U2(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function bn(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}function P1(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function tR(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function ba(t){return typeof t=="string"||t instanceof String}function nR(t){return typeof t=="boolean"}function L1(t){return typeof t=="number"}function gu(t){return Array.isArray(t)?gu(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":L1(t)?"float32":ba(t)?"string":nR(t)?"bool":"float32"}function po(t){return!!(t&&t.constructor&&t.call&&t.apply)}function M1(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function Ie(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let i=e-3;i>=0;--i)n[i]=n[i+1]*t[i+1];return n}function iR(t,e,n,i=!1){const s=new Array;if(e.length===1){const a=e[0]*(i?2:1);for(let r=0;r<a;r++)s[r]=n[t+r]}else{const a=e[0],r=e.slice(1),o=r.reduce((l,c)=>l*c)*(i?2:1);for(let l=0;l<a;l++)s[l]=iR(t+l*o,r,n,i)}return s}function Gi(t,e,n=!1){if(t.length===0)return e[0];const i=t.reduce((s,a)=>s*a)*(n?2:1);if(i===0)return[];if(i!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return iR(0,t,e,n)}function Z0(t,e){const n=_n(t,e);for(let i=0;i<n.length;i++)n[i]=1;return n}function _n(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function q2(t,e){const n=t.reduce((i,s)=>i*s,1);if(e==null||e==="float32")return Gi(t,new Float32Array(n));if(e==="int32")return Gi(t,new Int32Array(n));if(e==="bool")return Gi(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function Ri(t){t.forEach(e=>{E(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function Ks(t,e,n){if(e===0)return 0;if(e===1)return t[0];let i=t[t.length-1];for(let s=0;s<t.length-1;++s)i+=n[s]*t[s];return i}function Wl(t,e,n){if(e===0)return[];if(e===1)return[t];const i=new Array(e);for(let s=0;s<i.length-1;++s)i[s]=Math.floor(t/n[s]),t-=i[s]*n[s];return i[i.length-1]=t,i}function mo(t){return t&&t.then&&typeof t.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jT="tfjsflags";class sR{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=zU,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(J().getBool("IS_TEST")||J().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,i){if(this.flagRegistry[e]={evaluationFn:n,setHook:i},this.urlFlags[e]!=null){const s=this.urlFlags[e];J().getBool("IS_TEST")||J().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${s}.`),this.set(e,s)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(mo(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global=="undefined"||typeof this.global.location=="undefined"||typeof this.global.location.search=="undefined")return;const e=this.getQueryParams(this.global.location.search);jT in e&&e[jT].split(",").forEach(i=>{const[s,a]=i.split(":");this.urlFlags[s]=WU(s,a)})}}function zU(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...i)=>(VU(e,i[0],i[1]),i.join("="))),e}function VU(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function WU(t,e){if(e=e.toLowerCase(),e==="true"||e==="false")return e==="true";if(`${+e}`===e)return+e;throw new Error(`Could not parse value flag value ${e} for flag ${t}.`)}function J(){return K2}let K2=null;function jU(t){K2=t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Rw;function aR(){if(Rw==null){let t;if(typeof window!="undefined")t=window;else if(typeof global!="undefined")t=global;else if(typeof process!="undefined")t=process;else if(typeof self!="undefined")t=self;else throw new Error("Could not find a global object");Rw=t}return Rw}function HU(){const t=aR();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function X2(t,e){const n=HU();if(n.has(t))return n.get(t);{const i=e();return n.set(t,i),n.get(t)}}const Oh="Abs",yu="Acos",vu="Acosh",jl="Add",Ph="AddN",ey="All",ty="Any",Lh="ArgMax",Mh="ArgMin",bu="Asin",wu="Asinh",ku="Atan",_u="Atanh",xu="Atan2",Bh="AvgPool",ny="AvgPoolGrad",zh="AvgPool3D",iy="AvgPool3DGrad",Vh="BatchMatMul",Wh="BatchToSpaceND",sy="Bincount",rR="BroadcastTo",ay="BroadcastArgs",Su="Cast",Cu="Ceil",Nu="ClipByValue",ry="Complex",jh="ComplexAbs",Hh="Concat",Gh="Conv2D",oy="Conv2DBackpropFilter",Uh="Conv2DBackpropInput",qh="Conv3D",ly="Conv3DBackpropFilterV2",cy="Conv3DBackpropInputV2",Iu="Cos",Tu="Cosh",uy="Cumprod",Kh="Cumsum",dy="CropAndResize",fy="DenseBincount",hy="DepthToSpace",Xh="DepthwiseConv2dNative",py="DepthwiseConv2dNativeBackpropFilter",my="DepthwiseConv2dNativeBackpropInput",gy="Diag",Jh="Dilation2D",B1="Dilation2DBackpropInput",z1="Dilation2DBackpropFilter",$u="RealDiv",yy="Einsum",Eu="Elu",vy="EluGrad",Du="Erf",Yh="Equal",Au="Exp",Qh="ExpandDims",Fu="Expm1",by="FFT",wy="Fill",ky="FlipLeftRight",Ru="Floor",Ou="FloorDiv",Zh="FusedBatchNorm",ep="GatherV2",_y="GatherNd",tp="Greater",Pu="GreaterEqual",Lu="Identity",xy="IFFT",Sy="Imag",Mu="IsFinite",Bu="IsInf",zu="IsNan",np="LeakyRelu",ip="Less",sp="LessEqual",Cy="LinSpace",Vu="Log",Wu="Log1p",ap="LogicalAnd",rp="LogicalNot",op="LogicalOr",GU="LogicalXor",oR="LogSoftmax",UU="LowerBound",lp="LRN",Ny="LRNGrad",cp="Max",ju="Maximum",up="MaxPool",Iy="MaxPoolGrad",dp="MaxPool3D",Ty="MaxPool3DGrad",$y="MaxPoolWithArgmax",fp="Mean",hp="Min",Hu="Minimum",pp="MirrorPad",Gu="Mod",Ey="Multinomial",Uu="Multiply",mp="Neg",gp="NotEqual",Dy="NonMaxSuppressionV3",Ay="NonMaxSuppressionV4",Fy="NonMaxSuppressionV5",yp="OnesLike",vp="OneHot",bp="Pack",wp="PadV2",qU="Pool",qu="Pow",kp="Prelu",_p="Prod",Ry="RaggedGather",Oy="RaggedRange",Py="RaggedTensorToTensor",Ly="Range",My="Real",Ku="Reciprocal",Xu="Relu",xp="Reshape",Sp="ResizeNearestNeighbor",By="ResizeNearestNeighborGrad",Cp="ResizeBilinear",zy="ResizeBilinearGrad",Ju="Relu6",Np="Reverse",Yu="Round",Qu="Rsqrt",Vy="ScatterNd",Wy="SearchSorted",Ip="Select",Zu="Selu",Tp="Slice",ed="Sin",td="Sinh",nd="Sign",id="Sigmoid",sd="Softplus",ad="Sqrt",$p="Sum",Ep="SpaceToBatchND",Dp="SplitV",Ap="Softmax",jy="SparseFillEmptyRows",Hy="SparseReshape",Gy="SparseSegmentMean",Uy="SparseSegmentSum",qy="SparseToDense",rd="SquaredDifference",Ky="Square",Xy="StridedSlice",Jy="StringNGrams",Yy="StringSplit",Qy="StringToHashBucketFast",od="Sub",ld="Tan",cd="Tanh",ud="Tile",Zy="TopK",ev="Transform",cl="Transpose",tv="Unique",Fp="Unpack",Rp="UnsortedSegmentSum",KU="UpperBound",Op="ZerosLike",dd="Step",V1="FromPixels",nv="RotateWithOffset",rh="_FusedMatMul",oh="FusedConv2D",lh="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bi(...t){J().getBool("IS_TEST")||J().getBool("PROD")||console.warn(...t)}function XU(...t){J().getBool("IS_TEST")||J().getBool("PROD")||console.log(...t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kc=X2("kernelRegistry",()=>new Map),ch=X2("gradRegistry",()=>new Map);function W1(t,e){const n=J2(t,e);return Kc.get(n)}function g_(t){return ch.get(t)}function j1(t){const e=Kc.entries(),n=[];for(;;){const{done:i,value:s}=e.next();if(i)break;const[a,r]=s,[o]=a.split("_");o===t&&n.push(r)}return n}function iv(t){const{kernelName:e,backendName:n}=t,i=J2(e,n);Kc.has(i)&&Bi(`The kernel '${e}' for backend '${n}' is already registered`),Kc.set(i,t)}function lR(t){const{kernelName:e}=t;ch.has(e)&&J().getBool("DEBUG")&&Bi(`Overriding the gradient for '${e}'`),ch.set(e,t)}function JU(t,e){const n=J2(t,e);if(!Kc.has(n))throw new Error(`The kernel '${t}' for backend '${e}' is not registered`);Kc.delete(n)}function YU(t){if(!ch.has(t))throw new Error(`The gradient '${t}' for backend is not registered`);ch.delete(t)}function QU(t,e){j1(t).forEach(i=>{const s=Object.assign({},i,{backendName:e});iv(s)})}function J2(t,e){return`${e}_${t}`}var y_=vt,gs=null;try{gs=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function vt(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}vt.prototype.__isLong__;Object.defineProperty(vt.prototype,"__isLong__",{value:!0});function Oi(t){return(t&&t.__isLong__)===!0}vt.isLong=Oi;var HT={},GT={};function Hl(t,e){var n,i,s;return e?(t>>>=0,(s=0<=t&&t<256)&&(i=GT[t],i)?i:(n=bt(t,(t|0)<0?-1:0,!0),s&&(GT[t]=n),n)):(t|=0,(s=-128<=t&&t<128)&&(i=HT[t],i)?i:(n=bt(t,t<0?-1:0,!1),s&&(HT[t]=n),n))}vt.fromInt=Hl;function ys(t,e){if(isNaN(t))return e?nl:vs;if(e){if(t<0)return nl;if(t>=cR)return fR}else{if(t<=-qT)return xi;if(t+1>=qT)return dR}return t<0?ys(-t,e).neg():bt(t%Xc|0,t/Xc|0,e)}vt.fromNumber=ys;function bt(t,e,n){return new vt(t,e,n)}vt.fromBits=bt;var H1=Math.pow;function Y2(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return vs;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return Y2(t.substring(1),e,n).neg();for(var s=ys(H1(n,8)),a=vs,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),l=parseInt(t.substring(r,r+o),n);if(o<8){var c=ys(H1(n,o));a=a.mul(c).add(ys(l))}else a=a.mul(s),a=a.add(ys(l))}return a.unsigned=e,a}vt.fromString=Y2;function ia(t,e){return typeof t=="number"?ys(t,e):typeof t=="string"?Y2(t,e):bt(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}vt.fromValue=ia;var UT=1<<16,ZU=1<<24,Xc=UT*UT,cR=Xc*Xc,qT=cR/2,KT=Hl(ZU),vs=Hl(0);vt.ZERO=vs;var nl=Hl(0,!0);vt.UZERO=nl;var wc=Hl(1);vt.ONE=wc;var uR=Hl(1,!0);vt.UONE=uR;var v_=Hl(-1);vt.NEG_ONE=v_;var dR=bt(-1,2147483647,!1);vt.MAX_VALUE=dR;var fR=bt(-1,-1,!0);vt.MAX_UNSIGNED_VALUE=fR;var xi=bt(0,-2147483648,!1);vt.MIN_VALUE=xi;var he=vt.prototype;he.toInt=function(){return this.unsigned?this.low>>>0:this.low};he.toNumber=function(){return this.unsigned?(this.high>>>0)*Xc+(this.low>>>0):this.high*Xc+(this.low>>>0)};he.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(xi)){var n=ys(e),i=this.div(n),s=i.mul(n).sub(this);return i.toString(e)+s.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var a=ys(H1(e,6),this.unsigned),r=this,o="";;){var l=r.div(a),c=r.sub(l.mul(a)).toInt()>>>0,u=c.toString(e);if(r=l,r.isZero())return u+o;for(;u.length<6;)u="0"+u;o=""+u+o}};he.getHighBits=function(){return this.high};he.getHighBitsUnsigned=function(){return this.high>>>0};he.getLowBits=function(){return this.low};he.getLowBitsUnsigned=function(){return this.low>>>0};he.getNumBitsAbs=function(){if(this.isNegative())return this.eq(xi)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&(e&1<<n)==0;n--);return this.high!=0?n+33:n+1};he.isZero=function(){return this.high===0&&this.low===0};he.eqz=he.isZero;he.isNegative=function(){return!this.unsigned&&this.high<0};he.isPositive=function(){return this.unsigned||this.high>=0};he.isOdd=function(){return(this.low&1)===1};he.isEven=function(){return(this.low&1)===0};he.equals=function(e){return Oi(e)||(e=ia(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};he.eq=he.equals;he.notEquals=function(e){return!this.eq(e)};he.neq=he.notEquals;he.ne=he.notEquals;he.lessThan=function(e){return this.comp(e)<0};he.lt=he.lessThan;he.lessThanOrEqual=function(e){return this.comp(e)<=0};he.lte=he.lessThanOrEqual;he.le=he.lessThanOrEqual;he.greaterThan=function(e){return this.comp(e)>0};he.gt=he.greaterThan;he.greaterThanOrEqual=function(e){return this.comp(e)>=0};he.gte=he.greaterThanOrEqual;he.ge=he.greaterThanOrEqual;he.compare=function(e){if(Oi(e)||(e=ia(e)),this.eq(e))return 0;var n=this.isNegative(),i=e.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};he.comp=he.compare;he.negate=function(){return!this.unsigned&&this.eq(xi)?xi:this.not().add(wc)};he.neg=he.negate;he.add=function(e){Oi(e)||(e=ia(e));var n=this.high>>>16,i=this.high&65535,s=this.low>>>16,a=this.low&65535,r=e.high>>>16,o=e.high&65535,l=e.low>>>16,c=e.low&65535,u=0,d=0,f=0,h=0;return h+=a+c,f+=h>>>16,h&=65535,f+=s+l,d+=f>>>16,f&=65535,d+=i+o,u+=d>>>16,d&=65535,u+=n+r,u&=65535,bt(f<<16|h,u<<16|d,this.unsigned)};he.subtract=function(e){return Oi(e)||(e=ia(e)),this.add(e.neg())};he.sub=he.subtract;he.multiply=function(e){if(this.isZero())return vs;if(Oi(e)||(e=ia(e)),gs){var n=gs.mul(this.low,this.high,e.low,e.high);return bt(n,gs.get_high(),this.unsigned)}if(e.isZero())return vs;if(this.eq(xi))return e.isOdd()?xi:vs;if(e.eq(xi))return this.isOdd()?xi:vs;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(KT)&&e.lt(KT))return ys(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16,s=this.high&65535,a=this.low>>>16,r=this.low&65535,o=e.high>>>16,l=e.high&65535,c=e.low>>>16,u=e.low&65535,d=0,f=0,h=0,p=0;return p+=r*u,h+=p>>>16,p&=65535,h+=a*u,f+=h>>>16,h&=65535,h+=r*c,f+=h>>>16,h&=65535,f+=s*u,d+=f>>>16,f&=65535,f+=a*c,d+=f>>>16,f&=65535,f+=r*l,d+=f>>>16,f&=65535,d+=i*u+s*c+a*l+r*o,d&=65535,bt(h<<16|p,d<<16|f,this.unsigned)};he.mul=he.multiply;he.divide=function(e){if(Oi(e)||(e=ia(e)),e.isZero())throw Error("division by zero");if(gs){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?gs.div_u:gs.div_s)(this.low,this.high,e.low,e.high);return bt(n,gs.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?nl:vs;var i,s,a;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return nl;if(e.gt(this.shru(1)))return uR;a=nl}else{if(this.eq(xi)){if(e.eq(wc)||e.eq(v_))return xi;if(e.eq(xi))return wc;var r=this.shr(1);return i=r.div(e).shl(1),i.eq(vs)?e.isNegative()?wc:v_:(s=this.sub(e.mul(i)),a=i.add(s.div(e)),a)}else if(e.eq(xi))return this.unsigned?nl:vs;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=vs}for(s=this;s.gte(e);){i=Math.max(1,Math.floor(s.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(i)/Math.LN2),l=o<=48?1:H1(2,o-48),c=ys(i),u=c.mul(e);u.isNegative()||u.gt(s);)i-=l,c=ys(i,this.unsigned),u=c.mul(e);c.isZero()&&(c=wc),a=a.add(c),s=s.sub(u)}return a};he.div=he.divide;he.modulo=function(e){if(Oi(e)||(e=ia(e)),gs){var n=(this.unsigned?gs.rem_u:gs.rem_s)(this.low,this.high,e.low,e.high);return bt(n,gs.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};he.mod=he.modulo;he.rem=he.modulo;he.not=function(){return bt(~this.low,~this.high,this.unsigned)};he.and=function(e){return Oi(e)||(e=ia(e)),bt(this.low&e.low,this.high&e.high,this.unsigned)};he.or=function(e){return Oi(e)||(e=ia(e)),bt(this.low|e.low,this.high|e.high,this.unsigned)};he.xor=function(e){return Oi(e)||(e=ia(e)),bt(this.low^e.low,this.high^e.high,this.unsigned)};he.shiftLeft=function(e){return Oi(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?bt(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):bt(0,this.low<<e-32,this.unsigned)};he.shl=he.shiftLeft;he.shiftRight=function(e){return Oi(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?bt(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):bt(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};he.shr=he.shiftRight;he.shiftRightUnsigned=function(e){if(Oi(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var i=this.low;return bt(i>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?bt(n,0,this.unsigned):bt(n>>>e-32,0,this.unsigned)};he.shru=he.shiftRightUnsigned;he.shr_u=he.shiftRightUnsigned;he.toSigned=function(){return this.unsigned?bt(this.low,this.high,!1):this};he.toUnsigned=function(){return this.unsigned?this:bt(this.low,this.high,!0)};he.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};he.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};he.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};vt.fromBytes=function(e,n,i){return i?vt.fromBytesLE(e,n):vt.fromBytesBE(e,n)};vt.fromBytesLE=function(e,n){return new vt(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};vt.fromBytesBE=function(e,n){return new vt(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};var eq=y9({__proto__:null,default:y_},[y_]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ko=y_||eq;function Pp(t){return Ko.fromString(t,!0,16)}const hR=Pp("c3a5c85c97cb3127"),Uo=Pp("b492b66fbe98f273"),Un=Pp("9ae16a3b2f90404f");function b_(t){return t.xor(t.shru(47))}function pR(t,e,n){const i=t.slice(e,e+n);return Ko.fromBytes(Array.from(i),!0,!0)}function dt(t,e){return pR(t,e,8)}function XT(t,e){return pR(t,e,4)}function cn(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function io(t,e,n=Pp("9ddfea08eb382d69")){let i=t.xor(e).mul(n);i=i.xor(i.shru(47));let s=e.xor(i).mul(n);return s=s.xor(s.shru(47)),s=s.mul(n),s}function tq(t,e,n,i,s,a){s=s.add(t),a=cn(a.add(s).add(i),21);const r=s;return s=s.add(e),s=s.add(n),a=a.add(cn(s,44)),[s.add(i),a.add(r)]}function sg(t,e,n,i){return tq(dt(t,e),dt(t,e+8),dt(t,e+16),dt(t,e+24),n,i)}function nq(t,e=t.length){if(e>=8){const n=Un.add(e*2),i=dt(t,0).add(Un),s=dt(t,e-8),a=cn(s,37).mul(n).add(i),r=cn(i,25).add(s).mul(n);return io(a,r,n)}if(e>=4){const n=Un.add(e*2),i=XT(t,0);return io(i.shl(3).add(e),XT(t,e-4),n)}if(e>0){const n=t[0],i=t[e>>1],s=t[e-1],a=n+(i<<8),r=e+(s<<2);return b_(Un.mul(a).xor(hR.mul(r))).mul(Un)}return Un}function iq(t,e=t.length){const n=Un.add(e*2),i=dt(t,0).mul(Uo),s=dt(t,8),a=dt(t,e-8).mul(n),r=dt(t,e-16).mul(Un);return io(cn(i.add(s),43).add(cn(a,30)).add(r),i.add(cn(s.add(Un),18)).add(a),n)}function sq(t,e=t.length){const n=Un.add(e*2),i=dt(t,0).mul(Un),s=dt(t,8),a=dt(t,e-8).mul(n),r=dt(t,e-16).mul(Un),o=cn(i.add(s),43).add(cn(a,30)).add(r),l=io(o,i.add(cn(s.add(Un),18)).add(a),n),c=dt(t,16).mul(n),u=dt(t,24),d=o.add(dt(t,e-32)).mul(n),f=l.add(dt(t,e-24)).mul(n);return io(cn(c.add(u),43).add(cn(d,30)).add(f),c.add(cn(u.add(i),18)).add(d),n)}function mR(t,e=t.length){const n=Ko.fromNumber(81,!0);if(e<=32)return e<=16?nq(t,e):iq(t,e);if(e<=64)return sq(t,e);let i=n,s=n.mul(Uo).add(113),a=b_(s.mul(Un).add(113)).mul(Un),r=[Ko.UZERO,Ko.UZERO],o=[Ko.UZERO,Ko.UZERO];i=i.mul(Un).add(dt(t,0));let l=0;const c=(e-1>>6)*64,u=c+(e-1&63)-63;do i=cn(i.add(s).add(r[0]).add(dt(t,l+8)),37).mul(Uo),s=cn(s.add(r[1]).add(dt(t,l+48)),42).mul(Uo),i=i.xor(o[1]),s=s.add(r[0]).add(dt(t,l+40)),a=cn(a.add(o[0]),33).mul(Uo),r=sg(t,l,r[1].mul(Uo),i.add(o[0])),o=sg(t,l+32,a.add(o[1]),s.add(dt(t,l+16))),[a,i]=[i,a],l+=64;while(l!==c);const d=Uo.add(a.and(255).shl(1));return l=u,o[0]=o[0].add(e-1&63),r[0]=r[0].add(o[0]),o[0]=o[0].add(r[0]),i=cn(i.add(s).add(r[0]).add(dt(t,l+8)),37).mul(d),s=cn(s.add(r[1]).add(dt(t,l+48)),42).mul(d),i=i.xor(o[1].mul(9)),s=s.add(r[0].mul(9).add(dt(t,l+40))),a=cn(a.add(o[0]),33).mul(d),r=sg(t,l,r[1].mul(d),i.add(o[0])),o=sg(t,l+32,a.add(o[1]),s.add(dt(t,l+16))),[a,i]=[i,a],io(io(r[0],o[0],d).add(b_(s).mul(hR)).add(a),io(r[1],o[1],d).add(i),d)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gr(t,e){return e==="string"?Ia(t):Io([t],e)}function aq(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function Io(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=or(t)),J().getBool("DEBUG")&&ZF(t,e),aq(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let i=0;i<n.length;++i)Math.round(t[i])!==0&&(n[i]=1);return n}else throw new Error(`Unknown data type ${e}`)}function vn(){return J().platform.now()}function gR(t,e){return J().platform.fetch(t,e)}function Ia(t,e="utf-8"){return e=e||"utf-8",J().platform.encode(t,e)}function lr(t,e="utf-8"){return e=e||"utf-8",J().platform.decode(t,e)}var rq=Object.freeze(Object.defineProperty({__proto__:null,createScalarValue:gr,toTypedArray:Io,now:vn,fetch:gR,encodeString:Ia,decodeString:lr,shuffle:H2,shuffleCombo:RU,clamp:ho,nearestLargerEven:Q0,swap:Ja,sum:QF,randUniform:OU,distSquared:PU,assert:E,assertShapesMatch:Sn,assertNonNull:Vl,flatten:or,sizeFromShape:te,isScalarShape:LU,arraysEqual:Ge,isInt:kl,tanh:MU,sizeToSquarishShape:O1,createShuffledIndices:BU,rightPad:ll,repeatedTry:m_,inferFromImplicitShape:G2,parseAxisParam:ze,squeezeShape:mr,getTypedArrayFromDType:on,getArrayFromDType:jt,checkConversionForErrors:ZF,isValidDtype:eR,hasEncodingLoss:U2,isTypedArray:bn,bytesPerElement:P1,bytesFromStringArray:tR,isString:ba,isBoolean:nR,isNumber:L1,inferDtype:gu,isFunction:po,nearestDivisor:M1,computeStrides:Ie,toNestedArray:Gi,makeOnesTypedArray:Z0,makeZerosTypedArray:_n,makeZerosNestedTypedArray:q2,assertNonNegativeIntegerDimensions:Ri,locToIndex:Ks,indexToLoc:Wl,isPromise:mo,hexToLong:Pp,fingerPrint64:mR},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oq{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new cq)}profileKernel(e,n,i){let s;const a=()=>{s=i()};let r;const o=vn();if(this.backendTimer.timerAvailable())r=this.backendTimer.time(a);else{a();for(const c of s)c.dataSync();r=Promise.resolve({kernelMs:vn()-o})}if(J().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let c=0;c<s.length;c++){const u=s[c];u.data().then(d=>{lq(d,u.dtype,e)})}return{kernelName:e,outputs:s,inputs:n,timeMs:r.then(c=>c.kernelMs),extraInfo:r.then(c=>c.getExtraProfileInfo!=null?c.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:i,timeMs:s,inputs:a,extraInfo:r}=e;i.forEach(o=>{Promise.all([o.data(),s,r]).then(l=>{this.logger.logKernelProfile(n,o,l[0],l[1],a,l[2])})})}}function lq(t,e,n){if(e!=="float32")return!1;for(let i=0;i<t.length;i++){const s=t[i];if(isNaN(s)||!isFinite(s))return console.warn(`Found ${s} in the result of '${n}'`),!0}return!1}class cq{logKernelProfile(e,n,i,s,a,r){const o=typeof s=="number"?ll(`${s}ms`,9):s.error,l=ll(e,25),c=n.rank,u=n.size,d=ll(n.shape.toString(),14);let f="";for(const h in a){const p=a[h];if(p!=null){const m=p.shape||n.shape,y=m.length;f+=`${h}: ${y}D ${y>0?m:""} `}}console.log(`%c${l}	%c${o}	%c${c}D ${d}	%c${u}	%c${f}	%c${r}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uq(t,e,n){const i={},s={};for(let l=0;l<e.length;l++)i[e[l].id]=!0;for(let l=0;l<t.length;l++){const c=t[l],u=c.inputs;for(const d in u){const f=u[d];let h=!1;for(let p=0;p<e.length;p++)if(i[f.id]){c.outputs.forEach(m=>i[m.id]=!0),h=!0,s[c.id]=!0;break}if(h)break}}const a={};a[n.id]=!0;const r={};for(let l=t.length-1;l>=0;l--){const c=t[l],u=c.inputs;for(let d=0;d<c.outputs.length;d++)if(a[c.outputs[d].id]){for(const f in u)a[u[f].id]=!0,r[c.id]=!0;break}}const o=[];for(let l=0;l<t.length;l++){const c=t[l];if(s[c.id]&&r[c.id]){const u={};for(const f in c.inputs){const h=c.inputs[f];i[h.id]&&(u[f]=h)}const d=Object.assign({},c);d.inputs=u,d.outputs=c.outputs,o.push(d)}}return o}function dq(t,e,n,i){for(let s=e.length-1;s>=0;s--){const a=e[s],r=[];if(a.outputs.forEach(l=>{const c=t[l.id];c!=null?r.push(c):r.push(null)}),a.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${a.kernelName}.`);const o=a.gradient(r);for(const l in a.inputs){if(!(l in o))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(o)}.`);const c=n(()=>o[l]());if(c.dtype!=="float32")throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${c.dtype}'`);const u=a.inputs[l];if(!Ge(c.shape,u.shape))throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input '${l}' has shape '${c.shape}', which does not match the shape of the input '${u.shape}'`);if(t[u.id]==null)t[u.id]=c;else{const d=t[u.id];t[u.id]=i(d,c),d.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JT=20,Zd=3,Ow=7;function fq(t,e,n,i){const s=Ie(e),a=hq(t,e,n,s),r=e.length,o=Wg(t,e,n,s,a),l=["Tensor"];return i&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${r}`),l.push(`  shape: [${e}]`),l.push("  values:")),l.push(o.map(c=>"    "+c).join(`
`)),l.join(`
`)}function hq(t,e,n,i){const s=te(e),a=i[i.length-1],r=new Array(a).fill(0),o=e.length,l=n==="complex64"?pf(t):t;if(o>1)for(let c=0;c<s/a;c++){const u=c*a;for(let d=0;d<a;d++)r[d]=Math.max(r[d],hf(l[u+d],0,n).length)}return r}function hf(t,e,n){let i;return Array.isArray(t)?i=`${parseFloat(t[0].toFixed(Ow))} + ${parseFloat(t[1].toFixed(Ow))}j`:ba(t)?i=`'${t}'`:n==="bool"?i=yR(t):i=parseFloat(t.toFixed(Ow)).toString(),ll(i,e)}function yR(t){return t===0?"false":"true"}function Wg(t,e,n,i,s,a=!0){const r=n==="complex64"?2:1,o=e[0],l=e.length;if(l===0){if(n==="complex64"){const m=pf(t);return[hf(m[0],0,n)]}return n==="bool"?[yR(t[0])]:[t[0].toString()]}if(l===1){if(o>JT){const y=Zd*r;let g=Array.from(t.slice(0,y)),v=Array.from(t.slice((o-Zd)*r,o*r));return n==="complex64"&&(g=pf(g),v=pf(v)),["["+g.map((b,w)=>hf(b,s[w],n)).join(", ")+", ..., "+v.map((b,w)=>hf(b,s[o-Zd+w],n)).join(", ")+"]"]}const m=n==="complex64"?pf(t):Array.from(t);return["["+m.map((y,g)=>hf(y,s[g],n)).join(", ")+"]"]}const c=e.slice(1),u=i.slice(1),d=i[0]*r,f=[];if(o>JT){for(let m=0;m<Zd;m++){const y=m*d,g=y+d;f.push(...Wg(t.slice(y,g),c,n,u,s,!1))}f.push("...");for(let m=o-Zd;m<o;m++){const y=m*d,g=y+d;f.push(...Wg(t.slice(y,g),c,n,u,s,m===o-1))}}else for(let m=0;m<o;m++){const y=m*d,g=y+d;f.push(...Wg(t.slice(y,g),c,n,u,s,m===o-1))}const h=l===2?",":"";f[0]="["+f[0]+h;for(let m=1;m<f.length-1;m++)f[m]=" "+f[m]+h;let p=`,
`;for(let m=2;m<l;m++)p+=`
`;return f[f.length-1]=" "+f[f.length-1]+"]"+(a?"":p),f}function pf(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sn{constructor(e,n,i){if(this.dtype=n,this.shape=e.slice(),this.size=te(e),i!=null){const s=i.length;E(s===this.size,()=>`Length of values '${s}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=i||jt(n,this.size),this.strides=Ie(e)}set(e,...n){n.length===0&&(n=[0]),E(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const i=this.locToIndex(n);this.values[i]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const s of e){if(s<0||s>=this.shape[n]){const a=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(a)}n++}let i=e[e.length-1];for(let s=0;s<e.length-1;++s)i+=this.strides[s]*e[s];return this.values[i]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let i=0;i<e.length-1;++i)n+=this.strides[i]*e[i];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let i=0;i<n.length-1;++i)n[i]=Math.floor(e/this.strides[i]),e-=n[i]*this.strides[i];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return Vs().makeTensor(this.values,this.shape,this.dtype)}}let Vs=null,rc=null;function pq(t){Vs=t}function mq(t){rc=t}class Xe{constructor(e,n,i,s){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=te(e),this.strides=Ie(e),this.dataId=i,this.id=s,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return rc.buffer(this.shape,this.dtype,e)}bufferSync(){return rc.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Gi(this.shape,e,this.dtype==="complex64")}arraySync(){return Gi(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=Vs().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(i=>lr(i))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Vs().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Vs().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>lr(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Vs().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(Vs().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return rc.print(this,e)}clone(){return this.throwIfDisposed(),rc.clone(this)}toString(e=!1){const n=this.dataSync();return fq(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),rc.cast(this,e)}variable(e=!0,n,i){return this.throwIfDisposed(),Vs().makeVariable(this,e,n,i)}}Object.defineProperty(Xe,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function ne(){return X2("Tensor",()=>Xe)}ne();class uh extends Xe{constructor(e,n,i,s){super(e.shape,e.dtype,e.dataId,s),this.trainable=n,this.name=i}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!Ge(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Vs().disposeTensor(this),this.dataId=e.dataId,Vs().incRef(this,null)}dispose(){Vs().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(uh,Symbol.hasInstance,{value:t=>t instanceof Xe&&t.assign!=null&&t.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var w_;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(w_||(w_={}));var k_;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(k_||(k_={}));var __;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(__||(__={}));var x_;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(x_||(x_={}));var S_;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(S_||(S_={}));const gq={float32:x_,int32:k_,bool:__,complex64:S_};function li(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return gq[t][e]}function sv(t){return li(t,"int32")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ft(t,e){if(t.dtype===e.dtype)return[t,e];const n=li(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function vR(t,e){E(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function av(t,e){return e.some(n=>n.id===t.id)}function cr(t){const e=[];return bR(t,e,new Set),e}function bR(t,e,n){if(t==null)return;if(t instanceof Xe){e.push(t);return}if(!yq(t))return;const i=t;for(const s in i){const a=i[s];n.has(a)||(n.add(a),bR(a,e,n))}}function yq(t){return Array.isArray(t)||typeof t=="object"}var vq=Object.freeze(Object.defineProperty({__proto__:null,makeTypesMatch:Ft,assertTypesMatch:vR,isTensorInList:av,getTensorsInContainer:cr},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pw(t){return t.kernelName!=null}class YT{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Jc{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new YT}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const i=e[n];if(await this.initializeBackend(i).success){await this.setBackend(i);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,i=1){return e in this.registryFactory?(Bi(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:i},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:i}=this.initializeBackend(e);if(!(i?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new oq(this.backendInstance),!0}setupRegisteredKernels(){j1(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){j1(e).forEach(i=>{i.disposeFunc!=null&&i.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const i=n.factory();if(i&&!(i instanceof Y0)&&typeof i.then=="function"){const s=++this.pendingBackendInitId,a=i.then(r=>s<this.pendingBackendInitId?!1:(this.registry[e]=r,this.pendingBackendInit=null,!0)).catch(r=>(s<this.pendingBackendInitId||(this.pendingBackendInit=null,Bi(`Initialization of backend ${e} failed`),Bi(r.stack||r.message)),!1));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}else return this.registry[e]=i,{success:!0,asyncInit:!1}}catch(i){return Bi(`Initialization of backend ${e} failed`),Bi(i.stack||i.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const i=e[n],{success:s,asyncInit:a}=this.initializeBackend(i);if(a||s)return{name:i,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const i=this.state.tensorInfo.get(n),s=i.backend,a=this.readSync(n),r=s.refCount(n);s.disposeData(n,!0),i.backend=e,e.move(n,a,i.shape,i.dtype,r),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let i=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=e}let s;return this.scopedRun(()=>this.startScope(i),()=>this.endScope(s),()=>(s=n(),s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),s))}scopedRun(e,n,i){e();try{const s=i();return n(),s}catch(s){throw n(),s}}nextTensorId(){return Jc.nextTensorId++}nextVariableId(){return Jc.nextVariableId++}clone(e){const n=B.runKernel(Lu,{x:e}),i={x:e},s=r=>({x:()=>{const o="float32",l={x:r},c={dtype:o};return B.runKernel(Su,l,c)}}),a=[];return this.addTapeNode(this.state.activeScope.name,i,[n],s,a,{}),n}runKernel(e,n,i){if(this.backendName==null&&this.backend,!(W1(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:i})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,i){const s=this.backend.numDataIds();let a=0;i.forEach(l=>{a+=l.dtype==="complex64"?3:1});const r=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=s-n-a-r;if(o>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${o} data ids) after running '${e}'`)}runKernelFunc(e){let n,i=[];const s=this.isTapeOn(),a=this.state.numBytes,r=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let o;this.backendName==null&&this.backend;let l;const c=Pw(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(Pw(e)){const{kernelName:p,inputs:m,attrs:y}=e;this.backendName==null&&this.backend;const g=W1(p,this.backendName);E(g!=null,()=>`Cannot find registered kernel '${p}' for backend '${this.backendName}'`),o=()=>{const v=this.backend.numDataIds();l=g.kernelFunc({inputs:m,attrs:y,backend:this.backend});const b=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(p,v,b);const w=b.map(k=>k.rank!=null?k:this.makeTensorFromTensorInfo(k));if(s){const k=this.getTensorsForGradient(p,m,w);i=this.saveTensorsForBackwardMode(k)}return w}}else{const{forwardFunc:p}=e,m=y=>{!s||(i=y.map(g=>this.keep(this.clone(g))))};o=()=>{const y=this.backend.numDataIds();l=this.tidy(()=>p(this.backend,m));const g=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(c,y,g),g}}const{inputs:u,attrs:d}=e,f=Pw(e)?null:e.backwardsFunc;let h;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=o():(h=this.profiler.profileKernel(c,u,()=>o()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(h),n=h.outputs)}),s&&this.addTapeNode(c,u,n,f,i,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-a,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-r,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map(p=>u[p]!=null?u[p].shape:null),outputShapes:n.map(p=>p.shape),kernelTimeMs:h.timeMs,extraInfo:h.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(i=>this.keep(this.clone(i)))}getTensorsForGradient(e,n,i){const s=g_(e);if(s!=null){const a=s.inputsToSave||[],r=s.outputsToSave||[];let o;s.saveAllInputs?(E(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),o=Object.keys(n).map(c=>n[c])):o=a.map(c=>n[c]);const l=i.filter((c,u)=>r[u]);return o.concat(l)}return[]}makeTensor(e,n,i,s){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");i=i||"float32",s=s||this.backend;let a=e;i==="string"&&ba(e[0])&&(a=e.map(l=>Ia(l)));const r=s.write(a,n,i),o=new Xe(n,i,r,this.nextTensorId());if(this.trackTensor(o,s),i==="string"){const l=this.state.tensorInfo.get(r),c=tR(a);this.state.numBytes+=c-l.bytes,l.bytes=c}return o}makeTensorFromDataId(e,n,i,s){i=i||"float32";const a={dataId:e,shape:n,dtype:i};return this.makeTensorFromTensorInfo(a,s)}makeTensorFromTensorInfo(e,n){const{dataId:i,shape:s,dtype:a}=e,r=new Xe(s,a,i,this.nextTensorId());return this.trackTensor(r,n),r}makeVariable(e,n=!0,i,s){i=i||this.nextVariableId().toString(),s!=null&&s!==e.dtype&&(e=e.cast(s));const a=new uh(e,n,i,this.nextTensorId());if(this.state.registeredVariables[a.name]!=null)throw new Error(`Variable with name ${a.name} was already registered`);return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let i=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(i=e.size*P1(e.dtype)),this.state.numBytes+=i,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:i})),e instanceof uh||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const i=e.size*P1(e.dtype);this.state.numBytes-=i}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,i=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(s=>s.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-i;for(const s of this.state.activeProfile.kernels)s.kernelTimeMs=await s.kernelTimeMs,s.extraInfo=await s.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,i,s,a,r){const o={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:i,saved:a},l=g_(e);l!=null&&(s=l.gradFunc),s!=null&&(o.gradient=c=>(c=c.map((u,d)=>{if(u==null){const f=i[d],h=_n(f.size,f.dtype);return this.makeTensor(h,f.shape,f.dtype)}return u}),s(c.length>1?c:c[0],a,r))),this.state.activeTape.push(o)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=cr(e),i=new Set(n.map(a=>a.id));for(let a=0;a<this.state.activeScope.track.length;a++){const r=this.state.activeScope.track[a];!r.kept&&!i.has(r.id)&&r.dispose()}const s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(a=>{!a.kept&&a.scopeId===s.id&&this.track(a)})}gradients(e,n,i,s=!1){if(E(n.length>0,()=>"gradients() received an empty list of xs."),i!=null&&i.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${i.dtype}'`);const a=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));E(a instanceof Xe,()=>"The result y returned by f() must be a tensor.");const r=uq(this.state.activeTape,n,a);if(!s&&r.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const o={};o[a.id]=i==null?bq(a.shape):i,dq(o,r,c=>this.tidy(c),wq);const l=n.map(c=>o[c.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(c=>{for(const u of c.saved)u.dispose()}),this.state.activeTape=null),{value:a,grads:l}})}customGrad(e){return E(po(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{E(n.every(o=>o instanceof Xe),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let i;const s={};n.forEach((o,l)=>{s[l]=o});const a=(o,l)=>(i=e(...n,l),E(i.value instanceof Xe,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),E(po(i.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),i.value),r=(o,l)=>{const c=i.gradFunc(o,l),u=Array.isArray(c)?c:[c];E(u.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),E(u.every(f=>f instanceof Xe),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const d={};return u.forEach((f,h)=>{d[h]=()=>f}),d};return this.runKernelFunc({forwardFunc:a,backwardsFunc:r,inputs:s})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=vn(),i=await this.backend.time(e);return i.wallMs=vn()-n,i}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new YT;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}Jc.nextTensorId=0;Jc.nextVariableId=0;function bq(t){const e=Z0(te(t),"float32");return B.makeTensor(e,t,"float32")}function wR(){const t=aR();if(t._tfengine==null){const e=new sR(t);t._tfengine=new Jc(e)}return jU(t._tfengine.ENV),pq(()=>t._tfengine),t._tfengine}const B=wR();function wq(t,e){const n={a:t,b:e};return B.runKernel(jl,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kq(){return typeof navigator!="undefined"&&navigator!=null}let C_;function _q(t){C_=t}function Q2(t){if(C_!==void 0)return C_;if(t||kq()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window!="undefined"?window.opera:"");if(!e){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function Z2(){return typeof window!="undefined"&&window.document!=null||typeof WorkerGlobalScope!="undefined"}var xq=Object.freeze(Object.defineProperty({__proto__:null,mockIsMobile:_q,isMobile:Q2,isBrowser:Z2},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ki=J();Ki.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Ki.registerFlag("IS_BROWSER",()=>Z2());Ki.registerFlag("IS_NODE",()=>typeof process!="undefined"&&typeof process.versions!="undefined"&&typeof process.versions.node!="undefined");Ki.registerFlag("IS_CHROME",()=>typeof navigator!="undefined"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Ki.registerFlag("PROD",()=>!1);Ki.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Ki.getBool("DEBUG"));Ki.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Ki.registerFlag("IS_TEST",()=>!1);Ki.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>!0);Ki.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Ki.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Ki.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fa(t,e){let n=t;if(bn(t))return e==="string"?[]:[t.length];if(typeof t=="object"&&"texture"in t){const s=t.channels||"RGBA";return[t.height,t.width*s.length]}if(!Array.isArray(t))return[];const i=[];for(;Array.isArray(n)||bn(n)&&e!=="string";)i.push(n.length),n=n[0];return Array.isArray(t)&&J().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&kR(t,i,[]),i}function kR(t,e,n){if(n=n||[],!Array.isArray(t)&&!bn(t)){E(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}E(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),E(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const i=e.slice(1);for(let s=0;s<t.length;++s)kR(t[s],i,n.concat(s))}function QT(t,e,n,i){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${i}' must be ${t} tensor, but got ${e} tensor`)}}function F(t,e,n,i="numeric"){if(t instanceof Xe)return QT(i,t.dtype,e,n),t;let s=gu(t);if(s!=="string"&&["bool","int32","float32"].indexOf(i)>=0&&(s=i),QT(i,s,e,n),t==null||!bn(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const l=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${l}'`)}const a=Fa(t,s);!bn(t)&&!Array.isArray(t)&&(t=[t]);const o=s!=="string"?Io(t,s):or(t,[],!0);return B.makeTensor(o,a,s)}function dh(t,e,n,i="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((a,r)=>F(a,`${e}[${r}]`,n,i))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eS="__op";function z(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const i=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+eS;const s=(...a)=>{B.startScope(n);try{const r=i(...a);return mo(r)&&console.error("Cannot return a Promise inside of tidy."),B.endScope(r),r}catch(r){throw B.endScope(null),r}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sq(t,e){const n=F(t,"real","complex"),i=F(e,"imag","complex");Sn(n.shape,i.shape,`real and imag shapes, ${n.shape} and ${i.shape}, must match in call to tf.complex().`);const s={real:n,imag:i};return B.runKernel(ry,s)}const ur=z({complex_:Sq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function To(t,e,n,i){if(i==null&&(i=gu(t)),i==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(typeof t=="object"&&"texture"in t){if(i!=="float32"&&i!=="int32")throw new Error(`Creating tensor from texture only supports 'float32'|'int32' dtype, while the dtype is ${i}.`);return t.channels=t.channels||"RGBA",B.backend.createTensorFromTexture(t,e||n,i)}if(!bn(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){Ri(e);const s=te(e),a=te(n);E(s===a,()=>`Based on the provided shape, [${e}], the tensor should have ${s} values but has ${a}`);for(let r=0;r<n.length;++r){const o=n[r],l=r===n.length-1?o!==te(e.slice(r)):!0;E(n[r]===e[r]||!l,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!bn(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=i!=="string"?Io(t,i):or(t,[],!0),B.makeTensor(t,e,i)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ti(t,e,n){const i=Fa(t,n);return To(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N_={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G1=4;async function I_(t,e){const n=[],i=[],s=Array.isArray(t)?t.map(r=>r.name):Object.keys(t);for(let r=0;r<s.length;++r){const o=s[r],l=Array.isArray(t)?t[r].tensor:t[o];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${o}': ${l.dtype}`);const c={name:o,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const u=new Promise(async d=>{const f=await l.bytes(),h=f.reduce((y,g)=>y+g.length,0)+G1*f.length,p=new Uint8Array(h);let m=0;for(let y=0;y<f.length;y++){const g=f[y],v=new Uint8Array(new Uint32Array([g.length]).buffer);p.set(v,m),m+=G1,p.set(g,m),m+=g.length}d(p)});i.push(u)}else i.push(l.data());e!=null&&(c.group=e),n.push(c)}const a=await Promise.all(i);return{data:Cq(a),specs:n}}function tS(t,e){const n={};let i,s=0;for(const a of e){const r=a.name,o=a.dtype,l=a.shape,c=te(l);let u;if("quantization"in a){const d=a.quantization;if(d.dtype==="uint8"||d.dtype==="uint16"){if(!("min"in d&&"scale"in d))throw new Error(`Weight ${a.name} with quantization ${d.dtype} doesn't have corresponding metadata min and scale.`)}else if(d.dtype==="float16"){if(o!=="float32")throw new Error(`Weight ${a.name} is quantized with ${d.dtype} which only supports weights of type float32 not ${o}.`)}else throw new Error(`Weight ${a.name} has unknown quantization dtype ${d.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const f=N_[d.dtype],h=t.slice(s,s+c*f),p=d.dtype==="uint8"?new Uint8Array(h):new Uint16Array(h);if(o==="float32")if(d.dtype==="uint8"||d.dtype==="uint16"){u=new Float32Array(p.length);for(let m=0;m<p.length;m++){const y=p[m];u[m]=y*d.scale+d.min}}else if(d.dtype==="float16")i===void 0&&(i=Dq()),u=i(p);else throw new Error(`Unsupported quantization type ${d.dtype} for weight type float32.`);else if(o==="int32"){if(d.dtype!=="uint8"&&d.dtype!=="uint16")throw new Error(`Unsupported quantization type ${d.dtype} for weight type int32.`);u=new Int32Array(p.length);for(let m=0;m<p.length;m++){const y=p[m];u[m]=Math.round(y*d.scale+d.min)}}else throw new Error(`Unsupported dtype in weight '${r}': ${o}`);s+=c*f}else if(o==="string"){const d=te(a.shape);u=[];for(let f=0;f<d;f++){const h=new Uint32Array(t.slice(s,s+G1))[0];s+=G1;const p=new Uint8Array(t.slice(s,s+h));u.push(p),s+=h}}else{const d=N_[o],f=t.slice(s,s+c*d);if(o==="float32")u=new Float32Array(f);else if(o==="int32")u=new Int32Array(f);else if(o==="bool")u=new Uint8Array(f);else if(o==="complex64"){u=new Float32Array(f);const h=new Float32Array(u.length/2),p=new Float32Array(u.length/2);for(let g=0;g<h.length;g++)h[g]=u[g*2],p[g]=u[g*2+1];const m=Ti(h,l,"float32"),y=Ti(p,l,"float32");n[r]=ur(m,y),m.dispose(),y.dispose()}else throw new Error(`Unsupported dtype in weight '${r}': ${o}`);s+=c*d}o!=="complex64"&&(n[r]=Ti(u,l,o))}return n}function Cq(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach(a=>{if(e+=a.byteLength,n.push(a.byteLength===a.buffer.byteLength?a:new a.constructor(a)),!(a instanceof Float32Array||a instanceof Int32Array||a instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${a.constructor.name}`)});const i=new Uint8Array(e);let s=0;return n.forEach(a=>{i.set(new Uint8Array(a.buffer),s),s+=a.byteLength}),i.buffer}const nS=typeof Buffer!="undefined"&&(typeof Blob=="undefined"||typeof atob=="undefined"||typeof btoa=="undefined");function ZT(t){return nS?Buffer.byteLength(t):new Blob([t]).size}function Nq(t){if(nS)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let i=0,s=e.length;i<s;i++)n+=String.fromCharCode(e[i]);return btoa(n)}function Iq(t){if(nS){const i=Buffer.from(t,"base64");return i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let i=0;i<e.length;++i)n.set([e.charCodeAt(i)],i);return n.buffer}function rv(t){if(t.length===1)return t[0];let e=0;t.forEach(s=>{e+=s.byteLength});const n=new Uint8Array(e);let i=0;return t.forEach(s=>{n.set(new Uint8Array(s),i),i+=s.byteLength}),n.buffer}function e$(t){const e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);const n=t.split(e);return n[n.length-1]}function _R(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function iS(t,e,n){const i={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(i.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");i.weightSpecs=e,i.weightData=n}return t.signature!=null&&(i.signature=t.signature),t.userDefinedMetadata!=null&&(i.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(i.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(i.initializerSignature=t.initializerSignature),i}async function sS(t,e){let n,i;return t.weightsManifest!=null&&([n,i]=await e(t.weightsManifest)),iS(t,n,i)}function Lp(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:ZT(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:ZT(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:t.weightData.byteLength}}function aS(t){const e=[];for(const n of t)e.push(...n.weights);return e}function Tq(){const t=n=>{let i=n<<13,s=0;for(;(i&8388608)===0;)s-=8388608,i<<=1;return i&=-8388609,s+=947912704,i|s},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function $q(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function Eq(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function Dq(){const t=Tq(),e=$q(),n=Eq();return i=>{const s=new ArrayBuffer(4*i.length),a=new Uint32Array(s);for(let r=0;r<i.length;r++){const o=i[r],l=t[n[o>>10]+(o&1023)]+e[o>>10];a[r]=l}return new Float32Array(s)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Tt{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return Tt.instance==null&&(Tt.instance=new Tt),Tt.instance}static registerSaveRouter(e){Tt.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Tt.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Tt.getHandlers(e,"save")}static getLoadHandlers(e,n){return Tt.getHandlers(e,"load",n)}static getHandlers(e,n,i){const s=[];return(n==="load"?Tt.getInstance().loadRouters:Tt.getInstance().saveRouters).forEach(r=>{const o=r(e,i);o!==null&&s.push(o)}),s}}const Aq=t=>Tt.registerSaveRouter(t),Fq=t=>Tt.registerLoadRouter(t),xR=t=>Tt.getSaveHandlers(t),SR=(t,e)=>Tt.getLoadHandlers(t,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T_="tensorflowjs",$_=1,il="models_store",jr="model_info_store";function CR(){if(!J().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window=="undefined"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function E_(t){const e=t.result;e.createObjectStore(il,{keyPath:"modelPath"}),e.createObjectStore(jr,{keyPath:"modelPath"})}class _l{constructor(e){if(this.indexedDB=CR(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((i,s)=>{const a=this.indexedDB.open(T_,$_);a.onupgradeneeded=()=>E_(a),a.onsuccess=()=>{const r=a.result;if(n==null){const o=r.transaction(il,"readonly"),c=o.objectStore(il).get(this.modelPath);c.onsuccess=()=>{if(c.result==null)return r.close(),s(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));i(c.result.modelArtifacts)},c.onerror=u=>(r.close(),s(c.error)),o.oncomplete=()=>r.close()}else{const o=Lp(n),l=r.transaction(jr,"readwrite");let c=l.objectStore(jr);const u=c.put({modelPath:this.modelPath,modelArtifactsInfo:o});let d;u.onsuccess=()=>{d=r.transaction(il,"readwrite");const h=d.objectStore(il).put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:o});h.onsuccess=()=>i({modelArtifactsInfo:o}),h.onerror=p=>{c=l.objectStore(jr);const m=c.delete(this.modelPath);m.onsuccess=()=>(r.close(),s(h.error)),m.onerror=y=>(r.close(),s(h.error))}},u.onerror=f=>(r.close(),s(u.error)),l.oncomplete=()=>{d==null?r.close():d.oncomplete=()=>r.close()}}},a.onerror=r=>s(a.error)})}}_l.URL_SCHEME="indexeddb://";const NR=t=>J().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(_l.URL_SCHEME)?Rq(t.slice(_l.URL_SCHEME.length)):null;Tt.registerSaveRouter(NR);Tt.registerLoadRouter(NR);function Rq(t){return new _l(t)}function Oq(t){return t.startsWith(_l.URL_SCHEME)?t.slice(_l.URL_SCHEME.length):t}class Pq{constructor(){this.indexedDB=CR()}async listModels(){return new Promise((e,n)=>{const i=this.indexedDB.open(T_,$_);i.onupgradeneeded=()=>E_(i),i.onsuccess=()=>{const s=i.result,a=s.transaction(jr,"readonly"),o=a.objectStore(jr).getAll();o.onsuccess=()=>{const l={};for(const c of o.result)l[c.modelPath]=c.modelArtifactsInfo;e(l)},o.onerror=l=>(s.close(),n(o.error)),a.oncomplete=()=>s.close()},i.onerror=s=>n(i.error)})}async removeModel(e){return e=Oq(e),new Promise((n,i)=>{const s=this.indexedDB.open(T_,$_);s.onupgradeneeded=()=>E_(s),s.onsuccess=()=>{const a=s.result,r=a.transaction(jr,"readwrite"),o=r.objectStore(jr),l=o.get(e);let c;l.onsuccess=()=>{if(l.result==null)return a.close(),i(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const u=o.delete(e),d=()=>{c=a.transaction(il,"readwrite");const h=c.objectStore(il).delete(e);h.onsuccess=()=>n(l.result.modelArtifactsInfo),h.onerror=p=>i(l.error)};u.onsuccess=d,u.onerror=f=>(d(),a.close(),i(l.error))}},l.onerror=u=>(a.close(),i(l.error)),r.oncomplete=()=>{c==null?a.close():c.oncomplete=()=>a.close()}},s.onerror=a=>i(s.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ya="/",oc="tensorflowjs_models",IR="info",Lq="model_topology",Mq="weight_specs",Bq="weight_data",zq="model_metadata";function TR(t){return{info:[oc,t,IR].join(Ya),topology:[oc,t,Lq].join(Ya),weightSpecs:[oc,t,Mq].join(Ya),weightData:[oc,t,Bq].join(Ya),modelMetadata:[oc,t,zq].join(Ya)}}function $R(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function Vq(t){const e=t.split(Ya);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(Ya)}function Wq(t){return t.startsWith(xl.URL_SCHEME)?t.slice(xl.URL_SCHEME.length):t}class xl{constructor(e){if(!J().getBool("IS_BROWSER")||typeof window=="undefined"||typeof window.localStorage=="undefined")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=TR(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),i=JSON.stringify(e.weightSpecs),s=Lp(e);try{this.LS.setItem(this.keys.info,JSON.stringify(s)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,i),this.LS.setItem(this.keys.weightData,Nq(e.weightData));const a={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(a)),{modelArtifactsInfo:s}}catch{throw $R(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${s.modelTopologyBytes}, weightSpecsBytes=${s.weightSpecsBytes}, weightDataBytes=${s.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},i=JSON.parse(this.LS.getItem(this.keys.topology));if(i==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=i;const s=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(s==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=s;const a=this.LS.getItem(this.keys.modelMetadata);if(a!=null){const o=JSON.parse(a);n.format=o.format,n.generatedBy=o.generatedBy,n.convertedBy=o.convertedBy,o.signature!=null&&(n.signature=o.signature),o.userDefinedMetadata!=null&&(n.userDefinedMetadata=o.userDefinedMetadata),o.modelInitializer!=null&&(n.modelInitializer=o.modelInitializer),o.initializerSignature!=null&&(n.initializerSignature=o.initializerSignature),o.trainingConfig!=null&&(n.trainingConfig=o.trainingConfig)}const r=this.LS.getItem(this.keys.weightData);if(r==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=Iq(r),n}}xl.URL_SCHEME="localstorage://";const ER=t=>J().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(xl.URL_SCHEME)?jq(t.slice(xl.URL_SCHEME.length)):null;Tt.registerSaveRouter(ER);Tt.registerLoadRouter(ER);function jq(t){return new xl(t)}class Hq{constructor(){E(J().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),E(typeof window=="undefined"||typeof window.localStorage!="undefined",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=oc+Ya,i=Ya+IR;for(let s=0;s<this.LS.length;++s){const a=this.LS.key(s);if(a.startsWith(n)&&a.endsWith(i)){const r=Vq(a);e[r]=JSON.parse(this.LS.getItem(a))}}return e}async removeModel(e){e=Wq(e);const n=TR(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const i=JSON.parse(this.LS.getItem(n.info));return $R(n),i}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dc="://";class Hn{constructor(){this.managers={}}static getInstance(){return Hn.instance==null&&(Hn.instance=new Hn),Hn.instance}static registerManager(e,n){E(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(Dc)&&(e=e.slice(0,e.indexOf(Dc))),E(e.length>0,()=>"scheme must not be an empty string.");const i=Hn.getInstance();E(i.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),i.managers[e]=n}static getManager(e){const n=Hn.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(Hn.getInstance().managers)}}function jg(t){if(t.indexOf(Dc)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${Hn.getSchemes().join(",")}`);return{scheme:t.split(Dc)[0],path:t.split(Dc)[1]}}async function DR(t,e,n=!1){E(t!==e,()=>`Old path and new path are the same: '${t}'`);const i=Tt.getLoadHandlers(t);E(i.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),E(i.length<2,()=>`Copying failed because more than one (${i.length}) load handlers for source URL ${t}.`);const s=i[0],a=Tt.getSaveHandlers(e);E(a.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),E(a.length<2,()=>`Copying failed because more than one (${i.length}) save handlers for destination URL ${e}.`);const r=a[0],o=jg(t).scheme,l=jg(t).path,c=o===jg(t).scheme,u=await s.load();n&&c&&await Hn.getManager(o).removeModel(l);const d=await r.save(u);return n&&!c&&await Hn.getManager(o).removeModel(l),d.modelArtifactsInfo}async function Gq(){const t=Hn.getSchemes(),e={};for(const n of t){const i=await Hn.getManager(n).listModels();for(const s in i){const a=n+Dc+s;e[a]=i[s]}}return e}async function Uq(t){const e=jg(t);return Hn.getManager(e.scheme).removeModel(e.path)}async function qq(t,e){return DR(t,e,!1)}async function Kq(t,e){return DR(t,e,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Xq{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(typeof window=="undefined"||!J().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",i=>{if(i.source===window&&i.data.name===this.messageName){i.stopPropagation();const s=this.functionRefs[i.data.index];s(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}}if(J().get("IS_BROWSER")){J().setPlatform("browser",new Xq);try{Hn.registerManager(xl.URL_SCHEME,new Hq)}catch{}try{Hn.registerManager(_l.URL_SCHEME,new Pq)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jq={importFetch:()=>require("node-fetch")};let Lw;class Yq{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return J().global.fetch!=null?J().global.fetch(e,n):(Lw==null&&(Lw=Jq.importFetch()),Lw(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}}J().get("IS_NODE")&&!J().get("IS_BROWSER")&&J().setPlatform("node",new Yq);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Me(t,e="float32",n){return e=e||"float32",Ri(t),new sn(t,e,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qq(t,e){const n=F(t,"x","cast");if(!eR(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const i={x:n},s={dtype:e};return B.runKernel(Su,i,s)}const fe=z({cast_:Qq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zq(t){const n={x:F(t,"x","clone","string_or_numeric")};return B.runKernel(Lu,n)}const Ta=z({clone_:Zq});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rS(t,e=!1){console.log(t.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */wR();const eK={buffer:Me,cast:fe,clone:Ta,print:rS};mq(eK);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tK="model",nK=".json",iK=".weights.bin";function t$(t){return new Promise(e=>setTimeout(e)).then(t)}class Sl{constructor(e){if(!J().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(Sl.URL_SCHEME)&&(e=e.slice(Sl.URL_SCHEME.length)),(e==null||e.length===0)&&(e=tK),this.modelJsonFileName=e+nK,this.weightDataFileName=e+iK}async save(e){if(typeof document=="undefined")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const i=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],s=_R(e,i),a=window.URL.createObjectURL(new Blob([JSON.stringify(s)],{type:"application/json"})),r=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(r.download=this.modelJsonFileName,r.href=a,await t$(()=>r.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const o=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;o.download=this.weightDataFileName,o.href=n,await t$(()=>o.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:Lp(e)}}}}Sl.URL_SCHEME="downloads://";class sK{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const i=new FileReader;i.onload=s=>{const a=JSON.parse(s.target.result),r=a.modelTopology;if(r==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(a.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:r});return}const l=sS(a,c=>this.loadWeights(c));e(l)},i.onerror=s=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),i.readAsText(this.jsonFile)})}loadWeights(e){const n=[],i=[];for(const r of e)n.push(...r.weights),i.push(...r.paths);const s=this.checkManifestAndWeightFiles(e),a=i.map(r=>this.loadWeightsFile(r,s[r]));return Promise.all(a).then(r=>[n,rv(r)])}loadWeightsFile(e,n){return new Promise((i,s)=>{const a=new FileReader;a.onload=r=>{const o=r.target.result;i(o)},a.onerror=r=>s(`Failed to weights data from file of path '${e}'.`),a.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],i=this.weightsFiles.map(a=>e$(a.name)),s={};for(const a of e)a.paths.forEach(r=>{const o=e$(r);if(n.indexOf(o)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${o}'`);if(n.push(o),i.indexOf(o)===-1)throw new Error(`Weight file with basename '${o}' is not provided.`);s[r]=this.weightsFiles[i.indexOf(o)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return s}}const aK=t=>J().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Sl.URL_SCHEME)?rK(t.slice(Sl.URL_SCHEME.length)):null;Tt.registerSaveRouter(aK);function rK(t="model"){return new Sl(t)}function oK(t){return new sK(t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n$(t,e,n,i){r(t),n=n==null?0:n,i=i==null?1:i,o(n,i);let s=0;const a=l=>(l.then(c=>{const u=n+ ++s/t.length*(i-n);return e(u),c}),l);function r(l){E(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function o(l,c){E(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),E(c>=0&&c<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${c}`),E(c>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${c}`)}return Promise.all(t.map(a))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function AR(t,e){e==null&&(e={});const n=e.fetchFunc==null?J().platform.fetch:e.fetchFunc,i=t.map(d=>n(d,e.requestInit,{isBinary:!0})),s=0,a=.5,o=(e.onProgress==null?await Promise.all(i):await n$(i,e.onProgress,s,a)).map(d=>d.arrayBuffer()),l=.5,c=1;return e.onProgress==null?await Promise.all(o):await n$(o,e.onProgress,l,c)}async function FR(t,e="",n,i){return RR(r=>AR(r,{requestInit:i}))(t,e,n)}function RR(t){return async(e,n="",i)=>{const s=e.map(()=>!1),a={},r=i!=null?i.map(()=>!1):[],o=[];if(e.forEach((h,p)=>{let m=0;h.weights.forEach(y=>{const g="quantization"in y?y.quantization.dtype:y.dtype,v=N_[g]*te(y.shape),b=()=>{s[p]=!0,a[p]==null&&(a[p]=[]),a[p].push({manifestEntry:y,groupOffset:m,sizeBytes:v})};i!=null?i.forEach((w,k)=>{w===y.name&&(b(),r[k]=!0)}):b(),o.push(y.name),m+=v})}),!r.every(h=>h)){const h=i.filter((p,m)=>!r[m]);throw new Error(`Could not find weights in manifest with names: ${h.join(", ")}. 
Manifest JSON has weights with names: ${o.join(", ")}.`)}const l=s.reduce((h,p,m)=>(p&&h.push(m),h),[]),c=[];l.forEach(h=>{e[h].paths.forEach(p=>{const m=n+(n.endsWith("/")?"":"/")+p;c.push(m)})});const u=await t(c),d={};let f=0;return l.forEach(h=>{const p=e[h].paths.length;let m=0;for(let w=0;w<p;w++)m+=u[f+w].byteLength;const y=new ArrayBuffer(m),g=new Uint8Array(y);let v=0;for(let w=0;w<p;w++){const k=new Uint8Array(u[f+w]);g.set(k,v),v+=k.byteLength}a[h].forEach(w=>{const k=y.slice(w.groupOffset,w.groupOffset+w.sizeBytes),x=tS(k,[w.manifestEntry]);for(const N in x)d[N]=x[N]}),f+=p}),d}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lK="application/octet-stream",cK="application/json";class oS{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(E(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=J().platform.fetch,E(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&E(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const i=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],s=_R(e,i);n.body.append("model.json",new Blob([JSON.stringify(s)],{type:cK}),"model.json"),e.weightData!=null&&n.body.append("model.weights.bin",new Blob([e.weightData],{type:lK}),"model.weights.bin");const a=await this.fetch(this.path,n);if(a.ok)return{modelArtifactsInfo:Lp(e),responses:[a]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${a.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch{let r=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r)}const i=n.modelTopology,s=n.weightsManifest;if(i==null&&s==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return sS(n,a=>this.loadWeights(a))}async loadWeights(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[i,s]=uK(n),a=this.weightPathPrefix||i,r=aS(e),o=[],l=[];for(const u of e)for(const d of u.paths)this.weightUrlConverter!=null?l.push(this.weightUrlConverter(d)):o.push(a+d+s);this.weightUrlConverter&&o.push(...await Promise.all(l));const c=await AR(o,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[r,rv(c)]}}oS.URL_SCHEME_REGEX=/^https?:\/\//;function uK(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),i=t.substring(0,e),s=n>e?t.substring(n):"";return[i+"/",s]}function D_(t){return t.match(oS.URL_SCHEME_REGEX)!=null}const OR=(t,e)=>{if(typeof fetch=="undefined"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(i=>D_(i)):n=D_(t),n)return lS(t,e)}return null};Tt.registerSaveRouter(OR);Tt.registerLoadRouter(OR);function lS(t,e){return new oS(t,e)}function PR(t,e){return lS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Mw{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class LR{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class dK{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}function fK(t,e,n,i){const s=arguments;return new dK(U1(...s))}function U1(t,e,n,i){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new Mw(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Mw({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Mw({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:i}))}function hK(t){return new LR(t)}function pK(t){return new LR(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var cS=Object.freeze(Object.defineProperty({__proto__:null,browserFiles:oK,browserHTTPRequest:PR,concatenateArrayBuffers:rv,decodeWeights:tS,encodeWeights:I_,fromMemory:fK,fromMemorySync:U1,getLoadHandlers:SR,getModelArtifactsForJSON:sS,getModelArtifactsForJSONSync:iS,getModelArtifactsInfoForJSON:Lp,getSaveHandlers:xR,getWeightSpecs:aS,http:lS,isHTTPScheme:D_,loadWeights:FR,registerLoadRouter:Fq,registerSaveRouter:Aq,weightsLoaderFactory:RR,withSaveHandler:hK,withSaveHandlerSync:pK,copyModel:qq,listModels:Gq,moveModel:Kq,removeModel:Uq},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mK(t,e,n=!1,i=!1){let s=F(t,"a","matMul"),a=F(e,"b","matMul");[s,a]=Ft(s,a);const r={a:s,b:a},o={transposeA:n,transposeB:i};return B.runKernel(Vh,r,o)}const Be=z({matMul_:mK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gK(t,e,n=1,i=0,s="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const r={indices:F(t,"indices","oneHot","int32")},o={dtype:s,depth:e,onValue:n,offValue:i};return B.runKernel(vp,r,o)}const Yc=z({oneHot_:gK});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yK(){J().set("PROD",!0)}function vK(){J().set("DEBUG",!0)}function bK(){J().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function wK(t){J().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function kK(){B.disposeVariables()}function Ps(){return B}function q1(){return B.memory()}function _K(t){return B.profile(t)}function X(t,e){return B.tidy(t,e)}function Oe(t){cr(t).forEach(n=>n.dispose())}function tn(t){return B.keep(t)}function xK(t){return B.time(t)}function SK(t){return B.setBackend(t)}function CK(){return B.ready()}function NK(){return B.backendName}function IK(t){B.removeBackend(t)}function TK(t){return B.findBackend(t)}function $K(t){return B.findBackendFactory(t)}function uS(t,e,n=1){return B.registerBackend(t,e,n)}function MR(){return B.backend}function EK(t,e){J().setPlatform(t,e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DK(t){const n={input:F(t,"input","imag")};return B.runKernel(Sy,n)}const Mp=z({imag_:DK});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AK(t){const n={x:F(t,"x","neg")};return B.runKernel(mp,n)}const wt=z({neg_:AK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FK(t){const n={input:F(t,"input","real")};return B.runKernel(My,n)}const Qc=z({real_:FK});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RK(t,e,n){const i=F(t,"x","transpose");if(e==null&&(e=i.shape.map((r,o)=>o).reverse()),E(i.rank===e.length,()=>`Error in transpose: rank of input ${i.rank} must match length of perm ${e}.`),e.forEach(r=>{E(r>=0&&r<i.rank,()=>`All entries in 'perm' must be between 0 and ${i.rank-1} but got ${e}`)}),i.rank<=1)return i.clone();const s={x:i},a={perm:e};return i.dtype==="complex64"?X(()=>{let r=Qc(i),o=Mp(i);return r=B.runKernel(cl,{x:r},a),o=B.runKernel(cl,{x:o},a),n&&(o=wt(o)),ur(r,o)}):B.runKernel(cl,s,a)}const He=z({transpose_:RK});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OK(t,e,n){const i=F(t,"labels","confusionMatrix"),s=F(e,"predictions","confusionMatrix");E(n==null||n>0&&Number.isInteger(n),()=>`If provided, numClasses must be a positive integer, but got ${n}`),E(i.rank===1,()=>`Expected the rank of labels to be 1, but got ${i.rank}`),E(s.rank===1,()=>`Expected the rank of predictions to be 1, but got ${s.rank}`),E(i.shape[0]===s.shape[0],()=>`Mismatch in the number of examples: ${i.shape[0]} vs. ${s.shape[0]}. Labels and predictions should have the same number of elements.`),E(n>0&&Number.isInteger(n),()=>`numClasses is required to be a positive integer, but got ${n}`);const a=Yc(fe(i,"int32"),n),r=Yc(fe(s,"int32"),n),o=He(a),l=Be(o,r);return fe(l,"int32")}const PK=z({confusionMatrix_:OK});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var LK=Object.freeze(Object.defineProperty({__proto__:null,confusionMatrix:PK},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cl(t,e){const n=t.length,i=[];for(let s=0;s<n;s++){const a=n-1-s,r=t[a]||1;(e[e.length-1-s]||1)>1&&r===1&&i.unshift(a)}return i}function Yt(t,e){const n=[];for(let i=0;i<e.length;i++){const s=t[t.length-i-1],a=e.length-i-1,r=e[a];(s==null||s===1&&r>1)&&n.unshift(a)}return n}function Pe(t,e){const n=[],i=Math.max(t.length,e.length);for(let s=0;s<i;s++){let a=t[t.length-s-1];a==null&&(a=1);let r=e[e.length-s-1];if(r==null&&(r=1),a===1)n.unshift(r);else if(r===1)n.unshift(a);else if(a!==r){const o=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(o)}else n.unshift(a)}return n}var MK=Object.freeze(Object.defineProperty({__proto__:null,getBroadcastDims:Cl,getReductionAxes:Yt,assertAndGetBroadcastShape:Pe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dS(t,e,n){if(Vl(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const i=Fa(t,n);if(i.length!==3&&i.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return To(t,e,i,n)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let zo;function BR(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,i=!1,s=!1,a=!1,r=!1,o=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData!="undefined"&&t instanceof ImageData)i=!0;else if(typeof HTMLVideoElement!="undefined"&&t instanceof HTMLVideoElement)s=!0;else if(typeof HTMLImageElement!="undefined"&&t instanceof HTMLImageElement)a=!0;else if(t.getContext!=null)r=!0;else if(typeof ImageBitmap!="undefined"&&t instanceof ImageBitmap)o=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(W1(V1,B.backendName)!=null){const p={pixels:t},m={numChannels:e};return B.runKernel(V1,p,m)}const[c,u]=s?[t.videoWidth,t.videoHeight]:[t.width,t.height];let d;if(r)d=t.getContext("2d").getImageData(0,0,c,u).data;else if(i||n)d=t.data;else if(a||s||o){if(zo==null)if(typeof document=="undefined")if(typeof OffscreenCanvas!="undefined"&&typeof OffscreenCanvasRenderingContext2D!="undefined")zo=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else zo=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});zo.canvas.width=c,zo.canvas.height=u,zo.drawImage(t,0,0,c,u),d=zo.getImageData(0,0,c,u).data}let f;if(e===4)f=new Int32Array(d);else{const p=c*u;f=new Int32Array(p*e);for(let m=0;m<p;m++)for(let y=0;y<e;++y)f[m*e+y]=d[m*4+y]}return dS(f,[u,c,e],"int32")}function BK(t){return t!=null&&t.data instanceof Uint8Array}function zK(){return typeof window!="undefined"&&typeof ImageBitmap!="undefined"&&window.hasOwnProperty("createImageBitmap")}function VK(t){return t!=null&&t.width!==0&&t.height!==0}function WK(t){return zK()&&!(t instanceof ImageBitmap)&&VK(t)&&!BK(t)}async function jK(t,e=3){let n=null;if(J().getBool("WRAP_TO_IMAGEBITMAP")&&WK(t)){let i;try{i=await createImageBitmap(t,{premultiplyAlpha:"none"})}catch{i=null}i!=null&&i.width===t.width&&i.height===t.height?n=i:n=t}else n=t;return BR(n,e)}async function HK(t,e){let n=F(t,"img","toPixels");if(!(t instanceof Xe)){const c=n;n=fe(c,"int32"),c.dispose()}if(n.rank!==2&&n.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${n.rank}.`);const[i,s]=n.shape.slice(0,2),a=n.rank===2?1:n.shape[2];if(a>4||a===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${a}`);if(n.dtype!=="float32"&&n.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${n.dtype}. Please use float32 or int32 tensors.`);const r=await n.data(),o=n.dtype==="float32"?255:1,l=new Uint8ClampedArray(s*i*4);for(let c=0;c<i*s;++c){const u=[0,0,0,255];for(let f=0;f<a;f++){const h=r[c*a+f];if(n.dtype==="float32"){if(h<0||h>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${h}.`)}else if(n.dtype==="int32"&&(h<0||h>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${h}.`);a===1?(u[0]=h*o,u[1]=h*o,u[2]=h*o):u[f]=h*o}const d=c*4;l[d+0]=Math.round(u[0]),l[d+1]=Math.round(u[1]),l[d+2]=Math.round(u[2]),l[d+3]=Math.round(u[3])}if(e!=null){e.width=s,e.height=i;const c=e.getContext("2d"),u=new ImageData(l,s,i);c.putImageData(u,0,0)}return n!==t&&n.dispose(),l}const K1=z({fromPixels_:BR});var GK=Object.freeze(Object.defineProperty({__proto__:null,fromPixelsAsync:jK,toPixels:HK,fromPixels:K1},Symbol.toStringTag,{value:"Module"}));function ov(t,e){const n=t.shape.length,i=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(i<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${i}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[i-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[i-1]} vs. ${n}`);if(te(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const s=e.shape,a=s[s.length-1];let r=1;for(let d=0;d<s.length-1;++d)r*=s[d];const o=t.shape,l=s.slice();l.pop();let c=1;for(let d=a;d<n;++d)c*=o[d],l.push(o[d]);const u=[...Ie(t.shape).map(d=>d/c),1].slice(0,a);return[l,r,c,u]}var UK=Object.freeze(Object.defineProperty({__proto__:null,prepareAndValidate:ov},Symbol.toStringTag,{value:"Module"}));function fS(t,e,n){const i=e.rank>1?e.shape[e.rank-1]:1,s=e.rank>1?e.rank-1:1,a=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${i}, and batchDim: ${s}.`;if(n.rank<s)throw new Error(a+` update.rank < ${s}. `);if(t.length<i+(n.rank-s))throw new Error(a+` Output shape length < ${i+(n.rank-s)}`);if(n.rank!==s+t.length-i)throw new Error(a+` update.rank != ${s+t.length-i}`);for(let r=0;r<s;++r)if(n.shape[r]!==e.shape[r])throw new Error(a+` updates.shape[${r}] (${n.shape[r]}) != indices.shape[${r}] (${e.shape[r]}).`);for(let r=0;r<n.rank-s;++r)if(n.shape[r+s]!==t[r+i])throw new Error(a+` updates.shape[${r+s}] (${n.shape[r+s]}) != shape[${r+s}] (${t[r+s]})`)}function hS(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}fS(n,e,t)}function fd(t,e,n){const i=e.shape.length,s=i>1?e.shape[i-1]:1,a=n.length;let r=1;for(let d=s;d<a;++d)r*=n[d];const o=s<1?1:s,l=te(e.shape)/o,c=[...Ie(n.slice(0,s)),1],u=te(n);return{sliceRank:s,numUpdates:l,sliceSize:r,strides:c,outputSize:u}}var qK=Object.freeze(Object.defineProperty({__proto__:null,validateUpdateShape:fS,validateInput:hS,calculateShapes:fd},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A_=-2,KK=-1;function pS(t,e,n){const i=t.shape.length;E(i===e.length,()=>`Error in slice${i}D: Length of begin ${e} must match the rank of the array (${i}).`),E(i===n.length,()=>`Error in slice${i}D: Length of size ${n} must match the rank of the array (${i}).`);for(let s=0;s<i;++s)E(e[s]+n[s]<=t.shape[s],()=>`Error in slice${i}D: begin[${s}] + size[${s}] (${e[s]+n[s]}) would overflow input.shape[${s}] (${t.shape[s]})`)}function XK(t){const e=[];let n=0;for(;t>0;)t&1&&e.push(n),t/=2,n++;return e}function mS(t,e,n){const i=[];for(let s=0;s<t.length;s++)i[s]=Math.ceil((e[s]-t[s])/n[s]);return i}function zR(t,e,n,i){const s=[...t];for(let a=s.length;a<i.length;a++)s.push(1);for(let a=0;a<n;a++)a===0?s[e]=1:(s.splice(e,0,1),s.pop());return s}function VR(t,e,n){return n<=t?n:n-(e-1)}function WR(t,e){const n=[];for(let i=0;i<t;i++)n.push(e+i);return n}function JK(t,e,n,i,s,a,r,o,l){const c=t.length;let u=new Array(c),d=new Array(c),f=new Array(c);if(e.length&&n>0){const h=e[0],p=n+1;u=jR(r,h,p,i,t),d=HR(o,h,p,s,t),f=zR(a,h,p,t)}else for(let h=0;h<c;h++)u[h]=UR(r,i,a,t,h,l),d[h]=qR(o,s,a,t,h,l),f[h]=GR(a,h,l);return{begin:u,end:d,strides:f}}function jR(t,e,n,i,s){const a=[...s],r=WR(n,e);for(let o=0;o<a.length;o++)if(r.indexOf(o)>-1)a[o]=0;else{const l=VR(e,n,o);let c=i[l];t&1<<l&&(c=0),a[o]=c}return a}function HR(t,e,n,i,s){const a=[...s],r=WR(n,e);for(let o=0;o<a.length;o++)if(r.indexOf(o)>-1)a[o]=Number.MAX_SAFE_INTEGER;else{const l=VR(e,n,o);let c=i[l];t&1<<l&&(c=Number.MAX_SAFE_INTEGER),a[o]=c}for(let o=0;o<a.length;o++){const l=s[o];a[o]<0&&(a[o]+=l),a[o]=ho(0,a[o],s[o])}return a}function GR(t,e,n){let i=t[e];return(n&1<<e||i==null)&&(i=1),i}function UR(t,e,n,i,s,a){let r=e[s];const o=n[s]||1;(t&1<<s||a&1<<s||r==null)&&(o>0?r=Number.MIN_SAFE_INTEGER:r=Number.MAX_SAFE_INTEGER);const l=i[s];return r<0&&(r+=l),r=ho(0,r,l-1),r}function qR(t,e,n,i,s,a){let r=e[s];const o=n[s]||1;(t&1<<s||a&1<<s||r==null)&&(o>0?r=Number.MAX_SAFE_INTEGER:r=Number.MIN_SAFE_INTEGER);const l=i[s];return r<0&&(r+=l),o>0?r=ho(0,r,l):r=ho(-1,r,l-1),r}function gS(t,e,n){let i=n.length;for(let s=0;s<n.length;s++)if(n[s]>1){i=s;break}for(let s=i+1;s<n.length;s++)if(e[s]>0||n[s]!==t[s])return!1;return!0}function yS(t,e){let n=t.length>0?t[t.length-1]:1;for(let i=0;i<t.length-1;i++)n+=t[i]*e[i];return n}function lv(t,e,n){let i;const s=t.shape.length;typeof e=="number"?i=[e,...new Array(s-1).fill(0)]:e.length<s?i=e.concat(new Array(s-e.length).fill(0)):i=e.slice(),i.forEach(r=>{E(r!==-1,()=>"slice() does not support negative begin indexing.")});let a;return n==null?a=new Array(s).fill(-1):typeof n=="number"?a=[n,...new Array(s-1).fill(-1)]:n.length<s?a=n.concat(new Array(s-n.length).fill(-1)):a=n,a=a.map((r,o)=>r>=0?r:(E(r===-1,()=>`Negative size values should be exactly -1 but got ${r} for the slice() size at index ${o}.`),t.shape[o]-i[o])),[i,a]}function vS(t,e,n,i,s,a,r,o,l){let c;if(i==null?(c=new Array(e.length),c.fill(1)):c=i,r!=null&&(r&r-1)!==0)throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const d={dims:c.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:c.slice(),beginMask:s,endMask:a,ellipsisMask:r,newAxisMask:o,shrinkAxisMask:l};for(let b=0;b<d.dims;b++)u&&(1<<b&o)!==0&&d.numAddAxisAfterEllipsis++,1<<b&r&&(u=!0);u||(d.ellipsisMask|=1<<d.dims,d.dims++);const f={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};YK(d,f);let h=!0,p=!0,m=!0;const y=[],g=[];for(let b=0;b<t.length;++b){if(f.strides[b]===0)throw Error(`strides[${b}] must be non-zero`);const w=!!(f.shrinkAxisMask&1<<b),k=t[b];if(k===-1){y.push(w?1:-1);continue}const x=[f.beginMask&1<<b,f.endMask&1<<b],N=[f.strides[b]>0?0:-1,f.strides[b]>0?k:k-1];if(w&&f.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&f.strides[b]===1;const I=!!(f.beginMask&1<<b&&f.endMask&1<<b);if(f.beginValid&&f.endValid){if(w){const O=f.begin[b]<0?k+f.begin[b]:f.begin[b];if(f.begin[b]=O,f.end[b]=f.begin[b]+1,O<0||O>=k)throw Error(`slice index ${f.begin[b]} of dimension ${b} out of bounds.`)}else f.begin[b]=i$(f.begin[b],0,f.strides[b],k,x,N),f.end[b]=i$(f.end[b],1,f.strides[b],k,x,N);const L=f.strides[b]===1&&f.begin[b]===0&&f.end[b]===k;h=h&&L,p=p&&(b===0&&f.strides[b]===1||L)}else h=h&&f.strides[b]===1&&I,p=p&&(b===0&&f.strides[b]===1||I);let D,R=!1;if(f.beginValid&&f.endValid?(D=f.end[b]-f.begin[b],R=!0):w?(D=1,R=!0):I&&k>=0&&(f.strides[b]<0?D=-k:D=k,R=!0),R){let L;D===0||D<0!=f.strides[b]<0?L=0:L=Math.trunc(D/f.strides[b])+(D%f.strides[b]!==0?1:0),y.push(L)}else y.push(-1)}for(let b=0;b<f.finalShapeGatherIndices.length;++b){const w=f.finalShapeGatherIndices[b];w>=0?g.push(y[w]):w===A_&&g.push(1)}return{finalShapeSparse:g.filter((b,w)=>f.finalShapeGatherIndices[w]!==A_),finalShape:g,isIdentity:h,sliceDim0:p,isSimpleSlice:m,begin:f.begin,end:f.end,strides:f.strides}}function YK(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let i=0;i<t.dims;i++)if(1<<i&t.ellipsisMask){const s=Math.min(e.dims-(t.dims-i)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<s;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=i}else if(1<<i&t.newAxisMask)e.finalShapeGatherIndices.push(A_),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[n]=t.begin[i]),t.end!=null&&(e.end[n]=t.end[i]),e.strides[n]=t.strides[i],t.beginMask&1<<i&&(e.beginMask|=1<<n),t.endMask&1<<i&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<i?(e.finalShapeGatherIndices.push(KK),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(i)),e.inputShapeGatherIndicesSparse[n]=i,n++}}function i$(t,e,n,i,s,a){if(s[e])return n>0?a[e]:a[e+1&1];{const r=t<0?i+t:t;return r<a[0]?a[0]:r>a[1]?a[1]:r}}var KR=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:pS,maskToAxes:XK,computeOutShape:mS,stridesWithElidedDims:zR,getNormalizedAxes:JK,startIndicesWithElidedDims:jR,stopIndicesWithElidedDims:HR,stridesForAxis:GR,startForAxis:UR,stopForAxis:qR,isSliceContinous:gS,computeFlatOffset:yS,parseSliceParams:lv,sliceInfo:vS},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Gl{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class zi{constructor(){this.classNameMap={}}static getMap(){return zi.instance==null&&(zi.instance=new zi),zi.instance}static register(e){zi.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function ae(t){E(t.className!=null,()=>"Class being registered does not have the static className property defined."),E(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),E(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),zi.register(t)}var QK=Object.freeze(Object.defineProperty({__proto__:null,Serializable:Gl,SerializationMap:zi,registerClass:ae},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZK=.001,XR=.1;function eX(t,e,n){return n==null&&(n=bS()),F_(t,e,(i,s)=>wS(i,s,n))}function bS(){return B.backend.floatPrecision()===32?ZK:XR}function F_(t,e,n){let i=!0;if((bn(t)||bn(e))&&(i=!1),bn(t)&&bn(e)&&(i=!0),i){const r=t.constructor.name,o=e.constructor.name;if(r!==o)throw new Error(`Arrays are of different type. Actual: ${r}. Expected: ${o}`)}if(Array.isArray(t)&&Array.isArray(e)){const r=Fa(t),o=Fa(e);if(!Ge(r,o))throw new Error(`Arrays have different shapes. Actual: [${r}]. Expected: [${o}]`)}const s=bn(t)?t:or(t),a=bn(e)?e:or(e);if(s.length!==a.length)throw new Error(`Arrays have different lengths actual: ${s.length} vs expected: ${a.length}.
Actual:   ${s}.
Expected: ${a}.`);for(let r=0;r<a.length;++r){const o=s[r],l=a[r];if(!n(o,l))throw new Error(`Arrays differ: actual[${r}] = ${o}, expected[${r}] = ${l}.
Actual:   ${s}.
Expected: ${a}.`)}typeof expect!="undefined"&&expect().nothing()}function tX(t,e){t().then(()=>e.fail(),()=>e()),typeof expect!="undefined"&&expect().nothing()}function nX(t,e){const n=typeof e=="string"||typeof e=="number"||typeof e=="boolean"?[e]:e;return ba(t)||ba(t[0])||ba(e)||ba(e[0])?F_(t,n,(i,s)=>i==s):F_(t,e,(i,s)=>wS(i,s,0))}function iX(t,e,n){if(n==null&&(n=bS()),!wS(t,e,n))throw new Error(`Numbers differ: actual === ${t}, expected === ${e}`);typeof expect!="undefined"&&expect().nothing()}function wS(t,e,n){return!isFinite(t)&&!isFinite(e)?!0:!(isNaN(t)||isNaN(e)||Math.abs(t-e)>n)}function sX(t,e,n){for(let i=0;i<t.length;i++)if(t[i]<e||t[i]>n)throw new Error(`Value out of range:${t[i]} low: ${e}, high: ${n}`)}function aX(t,e){const n=new Float32Array(t),i=new Float32Array(e);if(n.length!==i.length)throw new Error(`Expected ArrayBuffer to be of length ${i.length}, but it was ${n.length}`);for(let s=0;s<i.length;s++)if(n[s]!==i[s])throw new Error(`Expected ArrayBuffer value at ${s} to be ${i[s]} but got ${n[s]} instead`)}function JR(t){for(let e=0;e<t.length;e++){const n=t[e];Array.isArray(n)?JR(n):t[e]=Ia(n)}return t}function rX(t){const e=document.createElement("video");return"playsInline"in e&&(e.playsInline=!0),e.muted=!0,e.loop=!0,e.style.position="fixed",e.style.left="0px",e.style.top="0px",e.preload="auto",e.appendChild(t),new Promise(n=>{e.addEventListener("loadeddata",i=>n(e)),e.load()})}async function oX(t){await t.play(),"requestVideoFrameCallback"in t&&await new Promise(e=>{t.requestVideoFrameCallback(e)})}var lX=Object.freeze(Object.defineProperty({__proto__:null,TEST_EPSILON_FLOAT16:XR,expectArraysClose:eX,testEpsilon:bS,expectPromiseToFail:tX,expectArraysEqual:nX,expectNumbersClose:iX,expectValuesInRange:sX,expectArrayBuffersEqual:aX,encodeStrings:JR,createVideoElement:rX,play:oX},Symbol.toStringTag,{value:"Module"}));/** @license See the LICENSE file. */const YR="4.1.0";/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cX(t,e){let n=F(t,"a","add"),i=F(e,"b","add");[n,i]=Ft(n,i);const s={a:n,b:i};return B.runKernel(jl,s)}const oe=z({add_:cX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uX(t,e){let n=F(t,"a","floorDiv"),i=F(e,"b","floorDiv");[n,i]=Ft(n,i);const s={a:n,b:i};return B.runKernel(Ou,s)}const cv=z({floorDiv_:uX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dX(t,e){let n=F(t,"a","div"),i=F(e,"b","div");if([n,i]=Ft(n,i),n.dtype==="int32"&&i.dtype==="int32")return cv(n,i);const s={a:n,b:i},a={};return B.runKernel($u,s,a)}const Ce=z({div_:dX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fX(t,e){let n=F(t,"a","mul"),i=F(e,"b","mul");[n,i]=Ft(n,i);const s={a:n,b:i};return B.runKernel(Uu,s)}const W=z({mul_:fX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hX(t){const e=F(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return B.runKernel(jh,n)}else{const n={x:e};return B.runKernel(Oh,n)}}const Kt=z({abs_:hX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pX(t){const n={x:F(t,"x","acos")};return B.runKernel(yu,n)}const kS=z({acos_:pX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mX(t){const n={x:F(t,"x","acosh")};return B.runKernel(vu,n)}const _S=z({acosh_:mX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gX(t){E(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),E(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);const e=t.map((s,a)=>F(s,`tensors${a}`,"addN")),n=e[0];e.forEach(s=>{if(s.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(s=>{if(!Ge(s.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const i=e;return B.runKernel(Ph,i)}const QR=z({addN_:gX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yX(t,e=null,n=!1){const s={x:F(t,"x","all","bool")},a={axis:e,keepDims:n};return B.runKernel(ey,s,a)}const uv=z({all_:yX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vX(t,e=null,n=!1){const s={x:F(t,"x","any","bool")},a={axis:e,keepDims:n};return B.runKernel(ty,s,a)}const fh=z({any_:vX});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bX(t,e=0){const i={x:F(t,"x","argMax")},s={axis:e};return B.runKernel(Lh,i,s)}const Nl=z({argMax_:bX});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wX(t,e=0){const i={x:F(t,"x","argMin")},s={axis:e};return B.runKernel(Mh,i,s)}const xS=z({argMin_:wX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kX(t){const n={x:F(t,"x","asin")};return B.runKernel(bu,n)}const SS=z({asin_:kX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _X(t){const n={x:F(t,"x","asinh")};return B.runKernel(wu,n)}const CS=z({asinh_:_X});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xX(t){const n={x:F(t,"x","atan")};return B.runKernel(ku,n)}const NS=z({atan_:xX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SX(t,e){let n=F(t,"a","atan2"),i=F(e,"b","atan2");[n,i]=Ft(n,i);const s={a:n,b:i};return B.runKernel(xu,s)}const IS=z({atan2_:SX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CX(t){const n={x:F(t,"x","atanh")};return B.runKernel(_u,n)}const TS=z({atanh_:CX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bp(t,e,n,i,s="NHWC",a){const r=t[3],o=[...e,r],l=vr(s);return pn(t,o,n,a,i,null,null,l)}function Ns(t,e,n,i,s,a,r="channelsLast"){const[o,l]=X1(e);let c;if(r==="channelsLast")c=[o,l,t[3],t[3]];else if(r==="channelsFirst")c=[o,l,t[1],t[1]];else throw new Error(`Unknown dataFormat ${r}`);return pn(t,c,n,i,s,a,!1,r)}function yr(t,e,n,i,s,a,r="NDHWC"){const[o,l,c]=R_(e);let u,d;if(r==="NDHWC")d="channelsLast",u=[o,l,c,t[4],t[4]];else if(r==="NCDHW")d="channelsFirst",u=[o,l,c,t[1],t[1]];else throw new Error(`Unknown dataFormat ${r}`);return $o(t,u,n,i,s,!1,d,a)}function pn(t,e,n,i,s,a,r=!1,o="channelsLast"){let[l,c,u,d]=[-1,-1,-1,-1];if(o==="channelsLast")[l,c,u,d]=t;else if(o==="channelsFirst")[l,d,c,u]=t;else throw new Error(`Unknown dataFormat ${o}`);const[f,h,,p]=e,[m,y]=X1(n),[g,v]=X1(i),b=Ac(f,g),w=Ac(h,v),{padInfo:k,outHeight:x,outWidth:N}=TX(s,c,u,m,y,b,w,a,o),I=r?p*d:p;let D;return o==="channelsFirst"?D=[l,I,x,N]:o==="channelsLast"&&(D=[l,x,N,I]),{batchSize:l,dataFormat:o,inHeight:c,inWidth:u,inChannels:d,outHeight:x,outWidth:N,outChannels:I,padInfo:k,strideHeight:m,strideWidth:y,filterHeight:f,filterWidth:h,effectiveFilterHeight:b,effectiveFilterWidth:w,dilationHeight:g,dilationWidth:v,inShape:t,outShape:D,filterShape:e}}function $o(t,e,n,i,s,a=!1,r="channelsLast",o){let[l,c,u,d,f]=[-1,-1,-1,-1,-1];if(r==="channelsLast")[l,c,u,d,f]=t;else if(r==="channelsFirst")[l,f,c,u,d]=t;else throw new Error(`Unknown dataFormat ${r}`);const[h,p,m,,y]=e,[g,v,b]=R_(n),[w,k,x]=R_(i),N=Ac(h,w),I=Ac(p,k),D=Ac(m,x),{padInfo:R,outDepth:L,outHeight:O,outWidth:T}=$X(s,c,u,d,g,v,b,N,I,D,o),A=a?y*f:y;let S;return r==="channelsFirst"?S=[l,A,L,O,T]:r==="channelsLast"&&(S=[l,L,O,T,A]),{batchSize:l,dataFormat:r,inDepth:c,inHeight:u,inWidth:d,inChannels:f,outDepth:L,outHeight:O,outWidth:T,outChannels:A,padInfo:R,strideDepth:g,strideHeight:v,strideWidth:b,filterDepth:h,filterHeight:p,filterWidth:m,effectiveFilterDepth:N,effectiveFilterHeight:I,effectiveFilterWidth:D,dilationDepth:w,dilationHeight:k,dilationWidth:x,inShape:t,outShape:S,filterShape:e}}function NX(t,e,n,i,s){i==null&&(i=$S(t,e,n));const a=t[0],r=t[1],o=ul((a-e+2*i)/n+1,s),l=ul((r-e+2*i)/n+1,s);return[o,l]}function IX(t,e,n,i,s,a){s==null&&(s=$S(t,e,i));const r=t[0],o=t[1],l=t[2],c=ul((r-e+2*s)/i+1,a),u=ul((o-e+2*s)/i+1,a),d=ul((l-e+2*s)/i+1,a);return[c,u,d,n]}function $S(t,e,n,i=1){const s=Ac(e,i);return Math.floor((t[0]*(n-1)-n+s)/2)}function X1(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function R_(t){return typeof t=="number"?[t,t,t]:t}function Ac(t,e){return e<=1?t:t+(t-1)*(e-1)}function TX(t,e,n,i,s,a,r,o,l){let c,u,d;if(typeof t=="number"){c={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const h=NX([e,n],a,i,t,o);u=h[0],d=h[1]}else if(t==="same"){u=Math.ceil(e/i),d=Math.ceil(n/s);const f=Math.max(0,(u-1)*i+a-e),h=Math.max(0,(d-1)*s+r-n),p=Math.floor(f/2),m=f-p,y=Math.floor(h/2),g=h-y;c={top:p,bottom:m,left:y,right:g,type:"SAME"}}else if(t==="valid")c={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((e-a+1)/i),d=Math.ceil((n-r+1)/s);else if(typeof t=="object"){const f=l==="channelsLast"?t[1][0]:t[2][0],h=l==="channelsLast"?t[1][1]:t[2][1],p=l==="channelsLast"?t[2][0]:t[3][0],m=l==="channelsLast"?t[2][1]:t[3][1];c={top:f,bottom:h,left:p,right:m,type:f===0&&h===0&&p===0&&m===0?"VALID":"EXPLICIT"},u=ul((e-a+f+h)/i+1,o),d=ul((n-r+p+m)/s+1,o)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:c,outHeight:u,outWidth:d}}function $X(t,e,n,i,s,a,r,o,l,c,u){let d,f,h,p;if(typeof t=="number"){d={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const y=IX([e,n,i,1],o,1,s,t,u);f=y[0],h=y[1],p=y[2]}else if(t==="same"){f=Math.ceil(e/s),h=Math.ceil(n/a),p=Math.ceil(i/r);const m=(f-1)*s+o-e,y=(h-1)*a+l-n,g=(p-1)*r+c-i,v=Math.floor(m/2),b=m-v,w=Math.floor(y/2),k=y-w,x=Math.floor(g/2),N=g-x;d={top:w,bottom:k,left:x,right:N,front:v,back:b,type:"SAME"}}else if(t==="valid")d={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},f=Math.ceil((e-o+1)/s),h=Math.ceil((n-l+1)/a),p=Math.ceil((i-c+1)/r);else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:d,outDepth:f,outHeight:h,outWidth:p}}function ul(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function go(t){const[e,n,i]=X1(t);return e===1&&n===1&&i===1}function Cn(t,e){return go(t)||go(e)}function vr(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function ei(t,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")E(kl(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(i=>{i.forEach(s=>{E(kl(s),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${s}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EX(t,e){const i={x:F(t,"x","reshape","string_or_numeric")},s={shape:e};return B.runKernel(xp,i,s)}const j=z({reshape_:EX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DX(t,e,n,i,s){const a=F(t,"x","avgPool","float32"),r=1;E(Cn(n,r),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${r}'`);let o=a,l=!1;a.rank===3&&(l=!0,o=j(a,[1,a.shape[0],a.shape[1],a.shape[2]])),E(o.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${o.rank}.`),ei("avgPool",i,s);const c={x:o},u={filterSize:e,strides:n,pad:i,dimRoundingMode:s};let d=B.runKernel(Bh,c,u);return d=fe(d,a.dtype),l?j(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const zp=z({avgPool_:DX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AX(t,e,n,i,s,a="NDHWC"){const r=F(t,"x","avgPool3d","float32");let o=r,l=!1;r.rank===4&&(l=!0,o=j(r,[1,r.shape[0],r.shape[1],r.shape[2],r.shape[3]])),E(o.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${o.rank}.`),E(a==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`),ei("avgPool3d",i,s);const c={x:o},u={filterSize:e,strides:n,pad:i,dimRoundingMode:s,dataFormat:a};let d=B.runKernel(zh,c,u);return d=fe(d,o.dtype),l?j(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const ES=z({avgPool3d_:AX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FX(t,e=0){E(t.length>=1,()=>"Pass at least one tensor to concat");const n=dh(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(a=>{if(a.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${a.dtype}. `)}),n.length===1)return Ta(n[0]);const i=n,s={axis:e};return B.runKernel(Hh,i,s)}const Lt=z({concat_:FX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RX(t){const n={x:F(t,"x","sigmoid","float32")};return B.runKernel(id,n)}const Xs=z({sigmoid_:RX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OX(t,e,n){const i=F(t,"x","slice","string_or_numeric");if(i.rank===0)throw new Error("Slicing scalar is not possible");const s={x:i},a={begin:e,size:n};return B.runKernel(Tp,s,a)}const qe=z({slice_:OX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PX(t){const n={x:F(t,"x","tanh","float32")};return B.runKernel(cd,n)}const Il=z({tanh_:PX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LX(t,e,n,i,s,a){const r=F(t,"forgetBias","basicLSTMCell"),o=F(e,"lstmKernel","basicLSTMCell"),l=F(n,"lstmBias","basicLSTMCell"),c=F(i,"data","basicLSTMCell"),u=F(s,"c","basicLSTMCell"),d=F(a,"h","basicLSTMCell"),f=Lt([c,d],1),h=Be(f,o),p=oe(h,l),m=p.shape[0],y=p.shape[1]/4,g=[m,y],v=qe(p,[0,0],g),b=qe(p,[0,y],g),w=qe(p,[0,y*2],g),k=qe(p,[0,y*3],g),x=oe(W(Xs(v),Il(b)),W(u,Xs(oe(r,w)))),N=W(Il(x),Xs(k));return[x,N]}const ZR=z({basicLSTMCell_:LX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MX(t,e,n){const i=F(t,"x","batchToSpaceND"),s=e.reduce((o,l)=>o*l);E(i.rank>=1+e.length,()=>`input rank is ${i.rank} but should be > than blockShape.length ${e.length}`),E(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),E(i.shape[0]%s===0,()=>`input tensor batch is ${i.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${s}`);const a={x:i},r={blockShape:e,crops:n};return B.runKernel(Wh,a,r)}const Vp=z({batchToSpaceND_:MX});function BX(t){let e;return t.rank===0||t.rank===1?e=j(t,[1,1,1,t.size]):t.rank===2?e=j(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=j(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zX(t,e,n,i,s,a){a==null&&(a=.001);const r=F(t,"x","batchNorm"),o=F(e,"mean","batchNorm"),l=F(n,"variance","batchNorm");let c;s!=null&&(c=F(s,"scale","batchNorm"));let u;i!=null&&(u=F(i,"offset","batchNorm")),E(o.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),E(u==null||o.rank===u.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),E(c==null||o.rank===c.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const f={x:BX(r),scale:c,offset:u,mean:o,variance:l},h={varianceEpsilon:a},p=B.runKernel(Zh,f,h);return j(p,r.shape)}const hd=z({batchNorm_:zX});function VX(t,e,n,i,s,a){const r=F(t,"x","batchNorm"),o=F(e,"mean","batchNorm"),l=F(n,"variance","batchNorm");let c;s!=null&&(c=F(s,"scale","batchNorm"));let u;return i!=null&&(u=F(i,"offset","batchNorm")),E(r.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${r.rank}.`),E(o.rank===2||o.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${o.rank}.`),E(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),c!=null&&E(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${c.rank}.`),u!=null&&E(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${u.rank}.`),hd(r,o,l,u,c,a)}const DS=z({batchNorm2d_:VX});function WX(t,e,n,i,s,a){const r=F(t,"x","batchNorm"),o=F(e,"mean","batchNorm"),l=F(n,"variance","batchNorm");let c;s!=null&&(c=F(s,"scale","batchNorm"));let u;return i!=null&&(u=F(i,"offset","batchNorm")),E(r.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${r.rank}.`),E(o.rank===3||o.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${o.rank}.`),E(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),c!=null&&E(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${c.rank}.`),u!=null&&E(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${u.rank}.`),hd(r,o,l,u,c,a)}const AS=z({batchNorm3d_:WX});function jX(t,e,n,i,s,a){const r=F(t,"x","batchNorm"),o=F(e,"mean","batchNorm"),l=F(n,"variance","batchNorm");let c;s!=null&&(c=F(s,"scale","batchNorm"));let u;return i!=null&&(u=F(i,"offset","batchNorm")),E(r.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${r.rank}.`),E(o.rank===4||o.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${o.rank}.`),E(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),c!=null&&E(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${c.rank}.`),u!=null&&E(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${u.rank}.`),hd(r,o,l,u,c,a)}const FS=z({batchNorm4d_:jX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HX(t,e,n){const i=F(t,"x","bincount"),s=F(e,"weights","bincount");E(i.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${i.dtype}`),E(n>=0,()=>`size must be non-negative, but got ${n}.`),E(s.size===i.size||s.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${i.shape}, weights shape: ${s.shape}.`);const a={x:i,weights:s},r={size:n};return B.runKernel(sy,a,r)}const RS=z({bincount_:HX});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GX(t,e){const n=F(t,"s0","broadcastArgs","int32"),i=F(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(i.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${i.rank}`);const s={s0:n,s1:i};return B.runKernel(ay,s)}const eO=z({broadcastArgs_:GX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UX(t,e){let n=F(t,"broadcastTo","x");const i=n.shape;if(Ri(e),e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const c=n.shape.slice();for(;c.length<e.length;)c.unshift(1);n=j(n,c)}const s=n.shape,a=Array.from(e);for(let c=e.length-1;c>=0;c--)if(s[c]===e[c])a[c]=1;else if(n.shape[c]!==1)throw new Error(`broadcastTo(): [${i}] cannot be broadcast to [${e}].`);if(a.map((c,u)=>c>1?u:-1).filter(c=>c>=0).length===0)return Ta(n);const o={x:n},l={reps:a};return B.runKernel(ud,o,l)}const dl=z({broadcastTo_:UX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qX(t){const n={x:F(t,"x","ceil","float32")};return B.runKernel(Cu,n)}const OS=z({ceil_:qX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eo(t,e,n){Ri(t);const i={shape:t,value:e,dtype:n};return B.runKernel(wy,{},i)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KX(t,e,n){const i=F(t,"x","clipByValue");if(E(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`),e===n)return Eo(i.shape,e,i.dtype);const s={x:i},a={clipValueMin:e,clipValueMax:n};return B.runKernel(Nu,s,a)}const ci=z({clipByValue_:KX});function XX(t){return Lt(t,0)}const PS=z({concat1d_:XX});function JX(t,e){return Lt(t,e)}const LS=z({concat2d_:JX});function YX(t,e){return Lt(t,e)}const MS=z({concat3d_:YX});function QX(t,e){return Lt(t,e)}const BS=z({concat4d_:QX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZX(t,e,n,i,s="NHWC",a=[1,1],r){const o=F(t,"x","conv2d","float32"),l=F(e,"filter","conv2d","float32");let c=o,u=!1;o.rank===3&&(u=!0,c=j(o,[1,o.shape[0],o.shape[1],o.shape[2]])),E(c.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${c.rank}.`),E(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),ei("conv2d",i,r);const d=s==="NHWC"?c.shape[3]:c.shape[1];E(d===l.shape[2],()=>`Error in conv2d: depth of input (${d}) must match input depth for filter ${l.shape[2]}.`),E(Cn(n,a),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`);const f={x:c,filter:l},h={strides:n,pad:i,dataFormat:s,dilations:a,dimRoundingMode:r},p=B.runKernel(Gh,f,h);return u?j(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const dr=z({conv2d_:ZX});function eJ(t,e,n,i,s="NWC",a=1,r){const o=F(t,"x","conv1d"),l=F(e,"filter","conv1d");let c=o,u=!1;o.rank===2&&(u=!0,c=j(o,[1,o.shape[0],o.shape[1]])),E(c.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${c.rank}.`),E(l.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),ei("conv1d",i,r),E(c.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${c.shape[2]}) must match input depth for filter ${l.shape[1]}.`),E(Cn(n,a),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${a}'`),E(s==="NWC",()=>`Error in conv1d: got dataFormat of ${s} but only NWC is currently supported.`);const d=j(l,[1,l.shape[0],l.shape[1],l.shape[2]]),f=j(c,[c.shape[0],1,c.shape[1],c.shape[2]]),y=dr(f,d,[1,n],i,"NHWC",[1,a],r);return u?j(y,[y.shape[2],y.shape[3]]):j(y,[y.shape[0],y.shape[2],y.shape[3]])}const dv=z({conv1d_:eJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tJ(t,e,n,i,s,a="NHWC",r){E(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let o=t,l=e,c=!1;e.rank===3&&(c=!0,l=j(e,[1,e.shape[0],e.shape[1],e.shape[2]]),o=[1,t[0],t[1],t[2]]),E(o.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${o.length}.`),E(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),E(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const u=a==="NHWC"?o[3]:o[1],d=a==="NHWC"?l.shape[3]:l.shape[1];E(u===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${u}) must match input depth for filter ${n.shape[2]}.`),E(d===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${d}) must match output depth for filter ${n.shape[3]}.`),ei("conv2dDerInput",s,r);const f={dy:l,filter:n},h={strides:i,pad:s,dataFormat:a,dimRoundingMode:r,inputShape:o},p=B.runKernel(Uh,f,h);return c?j(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const zS=z({conv2DBackpropInput_:tJ});function nJ(t,e,n,i,s,a){const r=F(t,"x","conv2dTranspose"),o=F(e,"filter","conv2dTranspose");return zS(n,r,o,i,s,"NHWC",a)}const fv=z({conv2dTranspose_:nJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iJ(t,e,n,i,s="NDHWC",a=[1,1,1]){const r=F(t,"x","conv3d"),o=F(e,"filter","conv3d");let l=r,c=!1;r.rank===4&&(c=!0,l=j(r,[1,r.shape[0],r.shape[1],r.shape[2],r.shape[3]])),E(l.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),E(o.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${o.rank}.`),E(l.shape[4]===o.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${o.shape[3]}.`),E(Cn(n,a),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`),E(s==="NDHWC",()=>`Error in conv3d: got dataFormat of ${s} but only NDHWC is currently supported.`);const u={x:l,filter:o},d={strides:n,pad:i,dataFormat:s,dilations:a},f=B.runKernel(qh,u,d);return c?j(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const VS=z({conv3d_:iJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sJ(t,e,n,i,s){E(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let a=t,r=e,o=!1;e.rank===4&&(o=!0,r=j(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),a=[1,t[0],t[1],t[2],t[3]]);const l=a[4],c=r.shape[4];E(a.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${a.length}.`),E(r.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${r.rank}`),E(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),E(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),E(c===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${c}) must match output depth for filter ${n.shape[4]}.`);const u={dy:r,filter:n},d={pad:s,strides:i,inputShape:a},f=B.runKernel(cy,u,d);return o?j(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const tO=z({conv3DBackpropInput_:sJ});function aJ(t,e,n,i,s){const a=F(t,"x","conv3dTranspose"),r=F(e,"filter","conv3dTranspose");return tO(n,a,r,i,s)}const WS=z({conv3dTranspose_:aJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rJ(t){const n={x:F(t,"x","cos","float32")};return B.runKernel(Iu,n)}const Wp=z({cos_:rJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oJ(t){const n={x:F(t,"x","cosh","float32")};return B.runKernel(Tu,n)}const hv=z({cosh_:oJ});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lJ(t,e=0,n=!1,i=!1){const a={x:F(t,"x","cumprod")},r={axis:e,exclusive:n,reverse:i};return B.runKernel(uy,a,r)}const hh=z({cumprod_:lJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cJ(t,e=0,n=!1,i=!1){const a={x:F(t,"x","cumsum")},r={axis:e,exclusive:n,reverse:i};return B.runKernel(Kh,a,r)}const pv=z({cumsum_:cJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uJ(t,e,n,i=!1){const s=F(t,"x","denseBincount"),a=F(e,"weights","denseBincount");E(s.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${s.dtype}`),E(s.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${s.rank}.`),E(n>=0,()=>`size must be non-negative, but got ${n}.`),E(a.size===s.size||a.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${s.shape}, weights shape: ${a.shape}.`);const r={x:s,weights:a},o={size:n,binaryOutput:i};return B.runKernel(fy,r,o)}const J1=z({denseBincount_:uJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dJ(t,e,n="NHWC"){const i=F(t,"x","depthToSpace","float32"),s=n==="NHWC"?i.shape[1]:i.shape[2],a=n==="NHWC"?i.shape[2]:i.shape[3],r=n==="NHWC"?i.shape[3]:i.shape[1];E(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),E(s*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${s} and ${e}  for depthToSpace with input shape
    ${i.shape}`),E(a*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${a} and ${e} for depthToSpace with input shape
        ${i.shape}`),E(r%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${r} for depthToSpace with input shape ${i.shape}`);const o={x:i},l={blockSize:e,dataFormat:n};return B.runKernel(hy,o,l)}const jS=z({depthToSpace_:dJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fJ(t,e,n,i,s="NHWC",a=[1,1],r){const o=F(t,"x","depthwiseConv2d","float32"),l=F(e,"filter","depthwiseConv2d","float32");let c=o,u=!1;o.rank===3&&(u=!0,c=j(o,[1,o.shape[0],o.shape[1],o.shape[2]])),E(c.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${c.rank}.`),E(l.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const d=s==="NHWC"?c.shape[3]:c.shape[1];E(d===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${d}) must match the inChannels dimension in filter ${l.shape[2]}.`),ei("depthwiseConv2d",i,r);const f={x:c,filter:l},h={strides:n,pad:i,dataFormat:s,dilations:a,dimRoundingMode:r},p=B.runKernel(Xh,f,h);return u?j(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const pd=z({depthwiseConv2d_:fJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hJ(t){const n={x:F(t,"x","diag")};return B.runKernel(gy,n)}const nO=z({diag_:hJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pJ(t,e,n,i,s=[1,1],a="NHWC"){const r=F(t,"x","dilation2d"),o=F(e,"filter","dilation2d");E(r.rank===3||r.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${r.rank}.`),E(o.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${o.rank}.`),E(a==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${a}`);let l=r,c=!1;r.rank===3&&(l=j(r,[1,r.shape[0],r.shape[1],r.shape[2]]),c=!0);const u={x:l,filter:o},d={strides:n,pad:i,dilations:s},f=B.runKernel(Jh,u,d);return c?j(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const HS=z({dilation2d_:pJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mJ(t,e){let n=F(t,"a","equal","string_or_numeric"),i=F(e,"b","equal","string_or_numeric");[n,i]=Ft(n,i),Pe(n.shape,i.shape);const s={a:n,b:i};return B.runKernel(Yh,s)}const $i=z({equal_:mJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gJ(t,e,n){const i=F(e,"a","where"),s=F(n,"b","where"),a=F(t,"condition","where","bool"),r=Pe(Pe(a.shape,i.shape),s.shape),o=dl(a,r),l=dl(i,r),c=dl(s,r),u={condition:o,t:l,e:c};return B.runKernel(Ip,u)}const Mn=z({where_:gJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yJ(t){const n={x:F(t,"x","zerosLike")};return B.runKernel(Op,n)}const Ke=z({zerosLike_:yJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vJ(t,e){let n=F(t,"a","div"),i=F(e,"b","div");[n,i]=Ft(n,i);const s=Ce(n,i),a=Ke(s),r=$i(i,a);return Mn(r,a,s)}const GS=z({divNoNan_:vJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bJ(t,e){const n=F(t,"t1","dot"),i=F(e,"t2","dot");E((n.rank===1||n.rank===2)&&(i.rank===1||i.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${i.rank}.`);const s=n.rank===1?n.size:n.shape[1],a=i.rank===1?i.size:i.shape[0];if(E(s===a,()=>`Error in dot: inner dimensions of inputs must match, but got ${s} and ${a}.`),n.rank===1&&i.rank===1){const r=j(n,[1,-1]),o=j(i,[-1,1]),l=Be(r,o);return j(l,[])}else if(n.rank===1&&i.rank===2){const r=j(n,[1,-1]),o=j(i,[i.shape[0],i.shape[1]]),l=Be(r,o);return j(l,[l.size])}else if(n.rank===2&&i.rank===1){const r=j(i,[-1,1]),o=Be(n,r);return j(o,[o.size])}else{const r=j(i,[i.shape[0],i.shape[1]]);return Be(n,r)}}const US=z({dot_:bJ});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wJ(t,...e){const n=e.map((s,a)=>F(s,`tensors${a}`,"einsum")),i={equation:t};return B.runKernel(yy,n,i)}const iO=z({einsum_:wJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kJ(t){const n={x:F(t,"x","elu","float32")};return B.runKernel(Eu,n)}const md=z({elu_:kJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _J(t){let e=F(t,"x","erf");E(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=fe(e,"float32"));const n={x:e};return B.runKernel(Du,n)}const qS=z({erf_:_J});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KS(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function sO(t,e,n){const i=t.length+e.length,s=[];let a=0,r=0;for(let o=0;o<i;o++)n.indexOf(o)===-1?s.push(t[a++]):s.push(e[r++]);return s}function mn(t,e){const n=[],i=t.length;for(let a=0;a<i;a++)e.indexOf(a)===-1&&n.push(t[a]);const s=e.map(a=>t[a]);return[n,s]}function Ht(t,e){const n=e.map(i=>1);return sO(t,n,e)}function Nn(t,e,n){E(KS(e,n),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function Rt(t,e){if(KS(t,e))return null;const n=[];for(let i=0;i<e;++i)t.indexOf(i)===-1&&n.push(i);return t.forEach(i=>n.push(i)),n}function Do(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function Gt(t,e){const n=[];for(let i=e-t;i<e;++i)n.push(i);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xJ(t,e=null,n=!1){const s={x:F(t,"x","max")},a={reductionIndices:e,keepDims:n};return B.runKernel(cp,s,a)}const Ui=z({max_:xJ});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SJ(t,e=null,n=!1){const s={x:F(t,"x","min")},a={axis:e,keepDims:n};return B.runKernel(hp,s,a)}const Zc=z({min_:SJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CJ(t,e){let n=F(t,"base","pow"),i=F(e,"exp","pow");[n,i]=Ft(n,i);const s={a:n,b:i};return B.runKernel(qu,s)}const fr=z({pow_:CJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Te(t,e){if((bn(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&bn(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return To(t,[],[],e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NJ(t){const n={x:F(t,"x","sqrt","float32")};return B.runKernel(ad,n)}const xn=z({sqrt_:NJ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IJ(t){const e=F(t,"x","square"),n={};return B.runKernel("Square",{x:e},n)}const lt=z({square_:IJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TJ(t,e=null,n=!1){let i=F(t,"x","sum");i.dtype==="bool"&&(i=fe(i,"int32"));const s={x:i},a={axis:e,keepDims:n};return B.runKernel($p,s,a)}const ke=z({sum_:TJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $J(t,e="euclidean",n=null,i=!1){t=F(t,"x","norm");const s=aO(t,e,n);let a=s.shape;if(i){const r=ze(n,t.shape);a=Ht(s.shape,r)}return j(s,a)}function aO(t,e,n=null){if(t.rank===0)return Kt(t);if(t.rank!==1&&n===null)return aO(j(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return ke(Kt(t),n);if(e===1/0)return Ui(Kt(t),n);if(e===-1/0)return Zc(Kt(t),n);if(e==="euclidean"||e===2)return xn(ke(fr(Kt(t),Te(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return Ui(ke(Kt(t),n[0]),n[1]-1);if(e===1/0)return Ui(ke(Kt(t),n[1]),n[0]);if(e===-1/0)return Zc(ke(Kt(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return xn(ke(lt(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const gd=z({norm_:$J});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EJ(t,e=null,n=!1){return gd(t,"euclidean",e,n)}const XS=z({euclideanNorm_:EJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DJ(t){const n={x:F(t,"x","exp")};return B.runKernel(Au,n)}const Ei=z({exp_:DJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AJ(t,e=0){const n=F(t,"x","expandDims","string_or_numeric");E(e<=n.rank,()=>"Axis must be <= rank of the tensor");const i={input:n},s={dim:e};return B.runKernel(Qh,i,s)}const Fn=z({expandDims_:AJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FJ(t){const n={x:F(t,"x","expm1")};return B.runKernel(Fu,n)}const JS=z({expm1_:FJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RJ(t,e){const n=F(t,"x","tile","string_or_numeric");E(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);const i={x:n},s={reps:e};return B.runKernel(ud,i,s)}const Wi=z({tile_:RJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OJ(t,e,n,i="float32"){e==null&&(e=t);const s=Me([t,e],i),a=t<=e?t:e;for(let o=0;o<a;++o)s.set(1,o,o);const r=j(s.toTensor(),[t,e]);if(n==null)return r;if(n.length===1)return Wi(Fn(r,0),[n[0],1,1]);if(n.length===2)return Wi(Fn(Fn(r,0),0),[n[0],n[1],1,1]);if(n.length===3)return Wi(Fn(Fn(Fn(r,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const mv=z({eye_:OJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PJ(t){const n={x:F(t,"x","floor","float32")};return B.runKernel(Ru,n)}const yd=z({floor_:PJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LJ(t,e,n=0,i=0){const s=F(t,"x","gather"),a=F(e,"indices","gather","int32"),r={x:s,indices:a},o={axis:n,batchDims:i};return B.runKernel(ep,r,o)}const vd=z({gather_:LJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MJ(t,e){let n=F(t,"a","greater","string_or_numeric"),i=F(e,"b","greater","string_or_numeric");[n,i]=Ft(n,i),Pe(n.shape,i.shape);const s={a:n,b:i};return B.runKernel(tp,s)}const ti=z({greater_:MJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BJ(t,e){let n=F(t,"a","greaterEqual","string_or_numeric"),i=F(e,"b","greaterEqual","string_or_numeric");[n,i]=Ft(n,i),Pe(n.shape,i.shape);const s={a:n,b:i};return B.runKernel(Pu,s)}const br=z({greaterEqual_:BJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zJ(t){const n={x:F(t,"x","isFinite")};return B.runKernel(Mu,n)}const YS=z({isFinite_:zJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VJ(t){const n={x:F(t,"x","isInf")};return B.runKernel(Bu,n)}const QS=z({isInf_:VJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WJ(t){const n={x:F(t,"x","isNaN")};return B.runKernel(zu,n)}const ZS=z({isNaN_:WJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jJ(t,e=.2){const i={x:F(t,"x","leakyRelu")},s={alpha:e};return B.runKernel(np,i,s)}const jp=z({leakyRelu_:jJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HJ(t,e){let n=F(t,"a","less","string_or_numeric"),i=F(e,"b","less","string_or_numeric");[n,i]=Ft(n,i),Pe(n.shape,i.shape);const s={a:n,b:i};return B.runKernel(ip,s)}const gv=z({less_:HJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GJ(t,e){let n=F(t,"a","lessEqual","string_or_numeric"),i=F(e,"b","lessEqual","string_or_numeric");[n,i]=Ft(n,i),Pe(n.shape,i.shape);const s={a:n,b:i};return B.runKernel(sp,s)}const Ao=z({lessEqual_:GJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rO(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const i={start:t,stop:e,num:n};return B.runKernel(Cy,{},i)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UJ(t,e=5,n=1,i=1,s=.5){const a=F(t,"x","localResponseNormalization");E(a.rank===4||a.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${a.rank}.`),E(kl(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let r=a,o=!1;a.rank===3&&(o=!0,r=j(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const l={x:r},c={depthRadius:e,bias:n,alpha:i,beta:s},u=B.runKernel(lp,l,c);return o?j(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const e3=z({localResponseNormalization_:UJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qJ(t){const n={x:F(t,"x","log","float32")};return B.runKernel(Vu,n)}const Di=z({log_:qJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KJ(t){const n={x:F(t,"x","log1p")};return B.runKernel(Wu,n)}const Hp=z({log1p_:KJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XJ(t){return E(po(t),()=>"The f passed in grad(f) must be a function"),(e,n)=>{const i=F(e,"x","tf.grad","string_or_numeric"),s=n!=null?F(n,"dy","tf.grad"):null;return B.tidy(()=>{const{value:a,grads:r}=B.gradients(()=>t(i),[i],s);return s!=null&&Sn(a.shape,s.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),yv(r),r[0]})}}function JJ(t){return E(po(t),()=>"The f passed in grads(f) must be a function"),(e,n)=>{E(Array.isArray(e),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");const i=dh(e,"args","tf.grads","string_or_numeric"),s=n!=null?F(n,"dy","tf.grads"):null;return B.tidy(()=>{const{value:a,grads:r}=B.gradients(()=>t(...i),i,s);return s!=null&&Sn(a.shape,s.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),yv(r),r})}}function YJ(t){return E(po(t),()=>"The f passed in valueAndGrad(f) must be a function"),(e,n)=>{E(e instanceof Xe,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),E(n==null||n instanceof Xe,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");const{grads:i,value:s}=B.gradients(()=>t(e),[e],n);return yv(i),{grad:i[0],value:s}}}function QJ(t){return E(po(t),()=>"The f passed in valueAndGrads(f) must be a function"),(e,n)=>{E(Array.isArray(e)&&e.every(s=>s instanceof Xe),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),E(n==null||n instanceof Xe,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");const i=B.gradients(()=>t(...e),e,n);return n!=null&&Sn(i.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),yv(i.grads),i}}function oO(t,e){E(po(t),()=>"The f passed in variableGrads(f) must be a function"),E(e==null||Array.isArray(e)&&e.every(c=>c instanceof uh),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const c in B.registeredVariables)e.push(B.registeredVariables[c])}const i=n?e.filter(c=>!c.trainable):null,s=e.length;e=e.filter(c=>c.trainable),E(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${s} variables is trainable.`);const a=!0,{value:r,grads:o}=B.gradients(t,e,null,a);E(o.some(c=>c!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),E(r.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${r.rank} tensor`);const l={};return e.forEach((c,u)=>{o[u]!=null&&(l[c.name]=o[u])}),i!=null&&i.forEach(c=>l[c.name]=null),{value:r,grads:l}}function Ra(t){return B.customGrad(t)}function yv(t){if(t.filter(n=>n==null).length>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZJ(t){const n={x:F(t,"x","softplus")};return B.runKernel(sd,n)}const Ul=z({softplus_:ZJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eY(t){const e=F(t,"x","logSigmoid");return Ra(i=>({value:wt(Ul(wt(i))),gradFunc:r=>W(r,Xs(wt(i)))}))(e)}const t3=z({logSigmoid_:eY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tY(t,e){let n=F(t,"a","sub"),i=F(e,"b","sub");[n,i]=Ft(n,i);const s={a:n,b:i};return B.runKernel(od,s)}const be=z({sub_:tY});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nY(t,e=-1){const n=F(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return Ra((s,a)=>{const o=Ui(s,e,!0),l=be(s,o),c=be(fe(l,"float32"),Di(ke(Ei(l),e,!0)));return a([c]),{value:c,gradFunc:(d,f)=>{const[h]=f,p=!0,m=Ei(h);return be(d,W(ke(d,e,p),m))}}})(n)}const vv=z({logSoftmax_:nY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iY(t,e=null,n=!1){const i=F(t,"x","logSumExp"),s=ze(e,i.shape),a=Ui(i,s,!0),r=be(i,a),o=Ei(r),l=ke(o,s),c=Di(l),u=oe(j(a,c.shape),c);if(n){const d=Ht(u.shape,s);return j(u,d)}return u}const bv=z({logSumExp_:iY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sY(t,e){const n=F(t,"a","logicalAnd","bool"),i=F(e,"b","logicalAnd","bool");Pe(n.shape,i.shape);const s={a:n,b:i};return B.runKernel(ap,s)}const Cs=z({logicalAnd_:sY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aY(t){const n={x:F(t,"x","logicalNot","bool")};return B.runKernel(rp,n)}const Gp=z({logicalNot_:aY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rY(t,e){const n=F(t,"a","logicalOr","bool"),i=F(e,"b","logicalOr","bool");Pe(n.shape,i.shape);const s={a:n,b:i};return B.runKernel(op,s)}const wv=z({logicalOr_:rY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oY(t,e){const n=F(t,"a","logicalXor","bool"),i=F(e,"b","logicalXor","bool");return Pe(n.shape,i.shape),Cs(wv(t,e),Gp(Cs(t,e)))}const n3=z({logicalXor_:oY});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ag=2147483648;function lY(t,e,n="left"){const i=F(t,"sortedSequence","searchSorted"),s=F(e,"values","searchSorted"),a=i.shape[i.shape.length-1],r=s.shape[s.shape.length-1],o=j(i,[-1,a]),l=j(s,[-1,r]);if(o.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(o.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(te(l.shape)>=ag)throw new Error(`values tensor size must less than ${ag}`);if(o.shape[1]>=ag)throw new Error(`trailing dim_size must less than ${ag} for int32 output type, was ${o.shape[1]}`);const c={sortedSequence:o,values:l},u={side:n};return B.runKernel(Wy,c,u)}const kv=z({searchSorted_:lY});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lO(t,e){return kv(t,e,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cY(t,e,n,i,s){const a=F(t,"x","maxPool"),r=1;let o=a,l=!1;a.rank===3&&(l=!0,o=j(a,[1,a.shape[0],a.shape[1],a.shape[2]])),E(o.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${o.rank}.`),E(Cn(n,r),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${r}'`),ei("maxPool",i,s);const c={x:o},u={filterSize:e,strides:n,pad:i,dimRoundingMode:s},d=B.runKernel(up,c,u);return l?j(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const Up=z({maxPool_:cY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uY(t,e=[1,1,1],n,i,s,a="NDHWC"){const r=F(t,"x","maxPool3d");let o=r,l=!1;r.rank===4&&(l=!0,o=j(r,[1,r.shape[0],r.shape[1],r.shape[2],r.shape[3]])),E(o.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${o.rank}.`),E(a==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`),ei("maxPool3d",i,s);const c={x:o},u={filterSize:e,strides:n,pad:i,dimRoundingMode:s,dataFormat:a},d=B.runKernel(dp,c,u);return l?j(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const i3=z({maxPool3d_:uY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dY(t,e,n,i,s=!1){const r={x:F(t,"x","maxPoolWithArgmax")},o={filterSize:e,strides:n,pad:i,includeBatchInIndex:s},l=B.runKernel($y,r,o);return{result:l[0],indexes:l[1]}}const cO=z({maxPoolWithArgmax_:dY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fY(t,e){let n=F(t,"a","maximum"),i=F(e,"b","maximum");[n,i]=Ft(n,i),n.dtype==="bool"&&(n=fe(n,"int32"),i=fe(i,"int32")),Pe(n.shape,i.shape);const s={a:n,b:i};return B.runKernel(ju,s)}const La=z({maximum_:fY});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hY(t,e=null,n=!1){const s={x:F(t,"x","mean")},a={axis:e,keepDims:n};return B.runKernel(fp,s,a)}const Et=z({mean_:hY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vt(t,e="float32"){if(Ri(t),e==="complex64"){const i=Vt(t,"float32"),s=Vt(t,"float32");return ur(i,s)}const n=_n(te(t),e);return B.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Si(t,e="float32"){if(Ri(t),e==="complex64"){const i=Si(t,"float32"),s=Vt(t,"float32");return ur(i,s)}const n=Z0(te(t),e);return B.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uO(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(t===void 0)return[];let i=F(t,"x","meshgrid",t instanceof Xe?t.dtype:"float32");if(e===void 0)return[i];let s=F(e,"y","meshgrid",e instanceof Xe?e.dtype:"float32");const a=te(i.shape),r=te(s.shape);return n==="xy"?(i=j(i,[1,-1]),s=j(s,[-1,1]),[Be(Si([r,1],i.dtype),i),Be(s,Si([1,a],s.dtype))]):(i=j(i,[-1,1]),s=j(s,[1,-1]),[Be(i,Si([1,r],i.dtype)),Be(Si([a,1],s.dtype),s)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pY(t,e){let n=F(t,"a","minimum"),i=F(e,"b","minimum");[n,i]=Ft(n,i),n.dtype==="bool"&&(n=fe(n,"int32"),i=fe(i,"int32")),Pe(n.shape,i.shape);const s={a:n,b:i};return B.runKernel(Hu,s)}const bd=z({minimum_:pY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mY(t,e,n){E(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const i=F(t,"x","mirrorPad");if(i.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");E(e.length===i.rank,()=>`Padding doesn't match input. Must be ${i.rank}. Got ${e.length}.`);const s=n==="reflect"?1:0;for(let o=0;o<i.rank;o++)E(e[o].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),E(e[o][0]>=0&&e[o][0]<=i.shape[o]-s&&e[o][1]>=0&&e[o][1]<=i.shape[o]-s,()=>`Padding in dimension ${o} cannot be greater than or equal to ${i.shape[o]-s} or less than 0 for input of shape ${i.shape}`);const a={paddings:e,mode:n},r={x:i};return B.runKernel(pp,r,a)}const s3=z({mirrorPad_:mY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gY(t,e){let n=F(t,"a","mod"),i=F(e,"b","mod");[n,i]=Ft(n,i);const s={a:n,b:i};return B.runKernel(Gu,s)}const a3=z({mod_:gY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yY(t,e=null,n=!1){t=F(t,"x","moments");const i=ze(e,t.shape),s=Et(t,i,n);let a=s.shape;n||(a=Ht(s.shape,i));const r=lt(be(fe(t,"float32"),j(s,a))),o=Et(r,i,n);return{mean:s,variance:o}}const qp=z({moments_:yY});function vY(t,e,n,i){const s=F(e,"data","multiRNNCell"),a=dh(n,"c","multiRNNCell"),r=dh(i,"h","multiRNNCell");let o=s;const l=[];for(let d=0;d<t.length;d++){const f=t[d](o,a[d],r[d]);l.push(f[0]),l.push(f[1]),o=f[1]}const c=[],u=[];for(let d=0;d<l.length;d+=2)c.push(l[d]),u.push(l[d+1]);return[c,u]}const dO=z({multiRNNCell_:vY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bY(t,e,n,i=!1){const s=F(t,"logits","multinomial"),a=s.size,r=s.rank;if(a<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${a}.`);if(r>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${r}`);n=n||Math.random();const l={logits:r===1?j(s,[1,-1]):s},c={numSamples:e,seed:n,normalized:i},u=B.runKernel(Ey,l,c);return r===1?j(u,[u.size]):u}const fO=z({multinomial_:bY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wY(t,e){let n=F(t,"a","notEqual","string_or_numeric"),i=F(e,"b","notEqual","string_or_numeric");[n,i]=Ft(n,i),Pe(n.shape,i.shape);const s={a:n,b:i};return B.runKernel(gp,s)}const Tl=z({notEqual_:wY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kY(t){const n={x:F(t,"x","onesLike")};return B.runKernel(yp,n)}const Ai=z({onesLike_:kY});function _Y(t,e){const n=F(t,"v1","outerProduct"),i=F(e,"v2","outerProduct");E(n.rank===1&&i.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${i.rank}.`);const s=j(n,[-1,1]),a=j(i,[1,-1]);return Be(s,a)}const hO=z({outerProduct_:_Y});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xY(t,e,n=0){const i=F(t,"x","pad");if(i.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const s={paddings:e,constantValue:n},a={x:i};return B.runKernel(wp,a,s)}const wr=z({pad_:xY});function SY(t,e,n=0){return E(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),wr(t,[e],n)}const pO=z({pad1d_:SY});function CY(t,e,n=0){return E(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),wr(t,e,n)}const mO=z({pad2d_:CY});function NY(t,e,n=0){return E(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),wr(t,e,n)}const gO=z({pad3d_:NY});function IY(t,e,n=0){return E(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),wr(t,e,n)}const yO=z({pad4d_:IY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TY(t,e,n){const i=F(t,"x","spaceToBatchND");E(i.rank>=1+e.length,()=>`input rank ${i.rank} should be > than [blockShape] ${e.length}`),E(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),E(i.shape.reduce((r,o,l)=>l>0&&l<=e.length?r&&(o+n[l-1][0]+n[l-1][1])%e[l-1]===0:r,!0),()=>`input spatial dimensions ${i.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);const s={x:i},a={blockShape:e,paddings:n};return B.runKernel(Ep,s,a)}const Kp=z({spaceToBatchND_:TY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Y(t,e,n,i,s,a,r){s==null&&(s=[1,1]),a==null&&(a=1),i===0&&(i="valid");const o=F(t,"x","maxPool");let l=o,c=!1;o.rank===3&&(c=!0,l=j(o,[1,o.shape[0],o.shape[1],o.shape[2]])),E(Cn(a,s),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${a} and dilations '${s}'`);const u=Ns(l.shape,e,a,s,i),d=[u.dilationHeight,u.dilationWidth];let f;i==="same"?f=DY([u.filterHeight,u.filterWidth],d):f=[[0,0],[0,0]];const h=d[0]===1&&d[1]===1,[p,m]=EY([u.inHeight,u.inWidth],d,f),y=h?i:"valid",g=h?l:Kp(l,d,p),b=(n==="avg"?()=>zp(g,e,a,y,r):()=>Up(g,e,a,y,r))(),w=h?b:Vp(b,d,m);return c?j(w,[w.shape[1],w.shape[2],w.shape[3]]):w}function EY(t,e,n){const i=n.map(u=>u[0]),s=n.map(u=>u[1]),a=t.concat(i,s),r=e.map((u,d)=>(u-a[d]%u)%u),o=s.map((u,d)=>u+r[d]),l=e.map((u,d)=>[i[d],o[d]]),c=e.map((u,d)=>[0,r[d]]);return[l,c]}function DY(t,e){const i=t.map((r,o)=>r+(r-1)*(e[o]-1)).map(r=>r-1),s=i.map(r=>Math.floor(r/2)),a=i.map((r,o)=>r-s[o]);return i.map((r,o)=>[s[o],a[o]])}const r3=z({pool_:$Y});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AY(t,e){const n=F(t,"x","prelu"),i=F(e,"alpha","prelu"),s={x:n,alpha:i};return B.runKernel(kp,s)}const Xp=z({prelu_:AY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FY(t,e=null,n=!1){let i=F(t,"x","prod");i.dtype==="bool"&&(i=fe(i,"int32"));const s={x:i},a={axis:e,keepDims:n};return B.runKernel(_p,s,a)}const o3=z({prod_:FY});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RY(t,e,n,i){const s=t.map((u,d)=>F(u,`tensors${d}`,"raggedGather","int32")),a=F(e,"paramsDenseValues","raggedGather"),r=F(n,"indices","raggedGather","int32"),o={paramsNestedSplits:s,paramsDenseValues:a,indices:r},l={outputRaggedRank:i},c=B.runKernel(Ry,o,l);return{outputNestedSplits:c.slice(0,c.length-1),outputDenseValues:c[c.length-1]}}const vO=z({raggedGather_:RY});/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OY(t,e,n){const i=F(t,"starts","raggedRange"),s=F(e,"limits","raggedRange",i.dtype),a=F(n,"deltas","raggedRange",i.dtype),r={starts:i,limits:s,deltas:a},o=B.runKernel(Oy,r);return{rtNestedSplits:o[0],rtDenseValues:o[1]}}const bO=z({raggedRange_:OY});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PY(t,e,n,i,s){const a=F(t,"shape","raggedTensorToTensor","int32"),r=F(e,"values","raggedTensorToTensor"),o=F(n,"defaultValue","raggedTensorToTensor",r.dtype),l=i.map((d,f)=>F(d,`tensors${f}`,"raggedTensorToTensor","int32")),c={shape:a,values:r,defaultValue:o,rowPartitionTensors:l},u={rowPartitionTypes:s};return B.runKernel(Py,c,u)}const wO=z({raggedTensorToTensor_:PY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LY(t,e,n){Ri(t);const i=te(t);let s=null;if(n==null||n==="float32")s=new Float32Array(i);else if(n==="int32")s=new Int32Array(i);else if(n==="bool")s=new Uint8Array(i);else throw new Error(`Unknown data type ${n}`);for(let a=0;a<i;a++)s[a]=e();return B.makeTensor(s,t,n)}const kO=z({rand_:LY});var _O={exports:{}};(function(t){(function(e,n,i){function s(l){var c=this,u=o();c.next=function(){var d=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=d-(c.c=d|0)},c.c=1,c.s0=u(" "),c.s1=u(" "),c.s2=u(" "),c.s0-=u(l),c.s0<0&&(c.s0+=1),c.s1-=u(l),c.s1<0&&(c.s1+=1),c.s2-=u(l),c.s2<0&&(c.s2+=1),u=null}function a(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function r(l,c){var u=new s(l),d=c&&c.state,f=u.next;return f.int32=function(){return u.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,d&&(typeof d=="object"&&a(d,u),f.state=function(){return a(u,{})}),f}function o(){var l=4022871197,c=function(u){u=String(u);for(var d=0;d<u.length;d++){l+=u.charCodeAt(d);var f=.02519603282416938*l;l=f>>>0,f-=l,f*=l,l=f>>>0,f-=l,l+=f*4294967296}return(l>>>0)*23283064365386963e-26};return c}n&&n.exports?n.exports=r:i&&i.amd?i(function(){return r}):this.alea=r})(Pl,t,!1)})(_O);var xO={exports:{}};(function(t){(function(e,n,i){function s(o){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},o===(o|0)?l.x=o:c+=o;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,l.next()}function a(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l}function r(o,l){var c=new s(o),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&a(u,c),d.state=function(){return a(c,{})}),d}n&&n.exports?n.exports=r:i&&i.amd?i(function(){return r}):this.xor128=r})(Pl,t,!1)})(xO);var SO={exports:{}};(function(t){(function(e,n,i){function s(o){var l=this,c="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,o===(o|0)?l.x=o:c+=o;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,u==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function a(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l.v=o.v,l.d=o.d,l}function r(o,l){var c=new s(o),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&a(u,c),d.state=function(){return a(c,{})}),d}n&&n.exports?n.exports=r:i&&i.amd?i(function(){return r}):this.xorwow=r})(Pl,t,!1)})(SO);var CO={exports:{}};(function(t){(function(e,n,i){function s(o){var l=this;l.next=function(){var u=l.x,d=l.i,f,h;return f=u[d],f^=f>>>7,h=f^f<<24,f=u[d+1&7],h^=f^f>>>10,f=u[d+3&7],h^=f^f>>>3,f=u[d+4&7],h^=f^f<<7,f=u[d+7&7],f=f^f<<13,h^=f^f<<9,u[d]=h,l.i=d+1&7,h};function c(u,d){var f,h=[];if(d===(d|0))h[0]=d;else for(d=""+d,f=0;f<d.length;++f)h[f&7]=h[f&7]<<15^d.charCodeAt(f)+h[f+1&7]<<13;for(;h.length<8;)h.push(0);for(f=0;f<8&&h[f]===0;++f);for(f==8?h[7]=-1:h[f],u.x=h,u.i=0,f=256;f>0;--f)u.next()}c(l,o)}function a(o,l){return l.x=o.x.slice(),l.i=o.i,l}function r(o,l){o==null&&(o=+new Date);var c=new s(o),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=c.next,d.quick=d,u&&(u.x&&a(u,c),d.state=function(){return a(c,{})}),d}n&&n.exports?n.exports=r:i&&i.amd?i(function(){return r}):this.xorshift7=r})(Pl,t,!1)})(CO);var NO={exports:{}};(function(t){(function(e,n,i){function s(o){var l=this;l.next=function(){var u=l.w,d=l.X,f=l.i,h,p;return l.w=u=u+1640531527|0,p=d[f+34&127],h=d[f=f+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,p=d[f]=p^h,l.i=f,p+(u^u>>>16)|0};function c(u,d){var f,h,p,m,y,g=[],v=128;for(d===(d|0)?(h=d,d=null):(d=d+"\0",h=0,v=Math.max(v,d.length)),p=0,m=-32;m<v;++m)d&&(h^=d.charCodeAt((m+32)%d.length)),m===0&&(y=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,m>=0&&(y=y+1640531527|0,f=g[m&127]^=h+y,p=f==0?p+1:0);for(p>=128&&(g[(d&&d.length||0)&127]=-1),p=127,m=4*128;m>0;--m)h=g[p+34&127],f=g[p=p+1&127],h^=h<<13,f^=f<<17,h^=h>>>15,f^=f>>>12,g[p]=h^f;u.w=y,u.X=g,u.i=p}c(l,o)}function a(o,l){return l.i=o.i,l.w=o.w,l.X=o.X.slice(),l}function r(o,l){o==null&&(o=+new Date);var c=new s(o),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=c.next,d.quick=d,u&&(u.X&&a(u,c),d.state=function(){return a(c,{})}),d}n&&n.exports?n.exports=r:i&&i.amd?i(function(){return r}):this.xor4096=r})(Pl,t,!1)})(NO);var IO={exports:{}};(function(t){(function(e,n,i){function s(o){var l=this,c="";l.next=function(){var d=l.b,f=l.c,h=l.d,p=l.a;return d=d<<25^d>>>7^f,f=f-h|0,h=h<<24^h>>>8^p,p=p-d|0,l.b=d=d<<20^d>>>12^f,l.c=f=f-h|0,l.d=h<<16^f>>>16^p,l.a=p-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,o===Math.floor(o)?(l.a=o/4294967296|0,l.b=o|0):c+=o;for(var u=0;u<c.length+20;u++)l.b^=c.charCodeAt(u)|0,l.next()}function a(o,l){return l.a=o.a,l.b=o.b,l.c=o.c,l.d=o.d,l}function r(o,l){var c=new s(o),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&a(u,c),d.state=function(){return a(c,{})}),d}n&&n.exports?n.exports=r:i&&i.amd?i(function(){return r}):this.tychei=r})(Pl,t,!1)})(IO);var TO={exports:{}};(function(t){(function(e,n,i){var s=256,a=6,r=52,o="random",l=i.pow(s,a),c=i.pow(2,r),u=c*2,d=s-1,f;function h(w,k,x){var N=[];k=k==!0?{entropy:!0}:k||{};var I=g(y(k.entropy?[w,b(n)]:w==null?v():w,3),N),D=new p(N),R=function(){for(var L=D.g(a),O=l,T=0;L<c;)L=(L+T)*s,O*=s,T=D.g(1);for(;L>=u;)L/=2,O/=2,T>>>=1;return(L+T)/O};return R.int32=function(){return D.g(4)|0},R.quick=function(){return D.g(4)/4294967296},R.double=R,g(b(D.S),n),(k.pass||x||function(L,O,T,A){return A&&(A.S&&m(A,D),L.state=function(){return m(D,{})}),T?(i[o]=L,O):L})(R,I,"global"in k?k.global:this==i,k.state)}function p(w){var k,x=w.length,N=this,I=0,D=N.i=N.j=0,R=N.S=[];for(x||(w=[x++]);I<s;)R[I]=I++;for(I=0;I<s;I++)R[I]=R[D=d&D+w[I%x]+(k=R[I])],R[D]=k;(N.g=function(L){for(var O,T=0,A=N.i,S=N.j,$=N.S;L--;)O=$[A=d&A+1],T=T*s+$[d&($[A]=$[S=d&S+O])+($[S]=O)];return N.i=A,N.j=S,T})(s)}function m(w,k){return k.i=w.i,k.j=w.j,k.S=w.S.slice(),k}function y(w,k){var x=[],N=typeof w,I;if(k&&N=="object")for(I in w)try{x.push(y(w[I],k-1))}catch{}return x.length?x:N=="string"?w:w+"\0"}function g(w,k){for(var x=w+"",N,I=0;I<x.length;)k[d&I]=d&(N^=k[d&I]*19)+x.charCodeAt(I++);return b(k)}function v(){try{var w;return f&&(w=f.randomBytes)?w=w(s):(w=new Uint8Array(s),(e.crypto||e.msCrypto).getRandomValues(w)),b(w)}catch{var k=e.navigator,x=k&&k.plugins;return[+new Date,e,x,e.screen,b(n)]}}function b(w){return String.fromCharCode.apply(0,w)}if(g(i.random(),n),t.exports){t.exports=h;try{f=require("crypto")}catch{}}else i["seed"+o]=h})(typeof self!="undefined"?self:Pl,[],Math)})(TO);var MY=_O.exports,BY=xO.exports,zY=SO.exports,VY=CO.exports,WY=NO.exports,jY=IO.exports,ql=TO.exports;ql.alea=MY;ql.xor128=BY;ql.xorwow=zY;ql.xorshift7=VY;ql.xor4096=WY;ql.tychei=jY;var wd=ql;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class l3{constructor(e,n,i,s,a){this.mean=e,this.stdDev=n,this.dtype=i,this.nextVal=NaN,this.truncated=s,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const r=a||Math.random();this.random=wd.alea(r.toString())}nextValue(){if(!isNaN(this.nextVal)){const s=this.nextVal;return this.nextVal=NaN,s}let e,n,i=!1;for(;!i;){let s,a,r;do s=2*this.random()-1,a=2*this.random()-1,r=s*s+a*a;while(r>=1||r===0);const o=Math.sqrt(-2*Math.log(r)/r);e=this.mean+this.stdDev*s*o,n=this.mean+this.stdDev*a*o,(!this.truncated||this.isValidTruncated(e))&&(i=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class HY{constructor(e,n,i,s){this.alpha=e,this.beta=1/n,this.dtype=i;const a=s||Math.random();this.randu=wd.alea(a.toString()),this.randn=new l3(0,1,i,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,i,s,a,r;for(;;){do s=this.randn.nextValue(),r=1+this.c*s;while(r<=0);if(r*=r*r,e=s*s,n=1-.331*e*e,i=.5*e+this.d*(1-r+Math.log(r)),a=this.randu(),a<n||Math.log(a)<i)break}return r=1/this.beta*this.d*r,this.alpha<1&&(r*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(r)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class GY{constructor(e=0,n=1,i,s){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=i,s==null&&(s=Math.random()),typeof s=="number"&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=wd.alea(s)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UY(t,e,n=1,i="float32",s){if(Ri(t),n==null&&(n=1),i==null&&(i="float32"),i!=="float32"&&i!=="int32")throw new Error(`Unsupported data type ${i}`);const a=new HY(e,n,i,s),r=Me(t,i);for(let o=0;o<r.values.length;o++)r.values[o]=a.nextValue();return r.toTensor()}const $O=z({randomGamma_:UY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qY(t,e=0,n=1,i,s){if(Ri(t),i!=null&&i==="bool")throw new Error(`Unsupported data type ${i}`);const a=new l3(e,n,i,!1,s),r=Me(t,i);for(let o=0;o<r.values.length;o++)r.values[o]=a.nextValue();return r.toTensor()}const _v=z({randomNormal_:qY});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KY(t,e,n){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return _v(t,0,1,e,n)}const EO=z({randomStandardNormal_:KY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XY(t,e=0,n=1,i="float32",s){Ri(t);const a=Me(t,i),r=new GY(e,n,null,s);for(let o=0;o<a.values.length;o++)a.values[o]=r.nextValue();return a.toTensor()}const kd=z({randomUniform_:XY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $l(t,e,n=1,i="float32"){if(n===0)throw new Error("Cannot have a step of zero");const s={start:t,stop:e,step:n,dtype:i};return B.runKernel(Ly,{},s)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JY(t){const n={x:F(t,"x","reciprocal")};return B.runKernel(Ku,n)}const c3=z({reciprocal_:JY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YY(t){const n={x:F(t,"x","relu")};return B.runKernel(Xu,n)}const sa=z({relu_:YY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QY(t){const n={x:F(t,"x","relu6")};return B.runKernel(Ju,n)}const xv=z({relu6_:QY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZY(t,e){const i={x:F(t,"x","reverse")},s={dims:e};return B.runKernel(Np,i,s)}const Xi=z({reverse_:ZY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eQ(t){const e=F(t,"x","reverse");return E(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),Xi(e,0)}const DO=z({reverse1d_:eQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tQ(t,e){const n=F(t,"x","reverse");return E(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),Xi(n,e)}const AO=z({reverse2d_:tQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nQ(t,e){const n=F(t,"x","reverse");return E(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),Xi(n,e)}const FO=z({reverse3d_:nQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iQ(t,e){const n=F(t,"x","reverse");return E(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),Xi(n,e)}const RO=z({reverse4d_:iQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sQ(t){const n={x:F(t,"x","round")};return B.runKernel(Yu,n)}const Sv=z({round_:sQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aQ(t){const n={x:F(t,"x","rsqrt","float32")};return B.runKernel(Qu,n)}const Cv=z({rsqrt_:aQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rQ(t){const n={x:F(t,"x","selu")};return B.runKernel(Zu,n)}const Nv=z({selu_:rQ});function oQ(t,e,n,i,s,a=[1,1],r="NHWC"){const o=F(t,"x","separableConv2d"),l=F(e,"depthwiseFilter","separableConv2d"),c=F(n,"pointwiseFilter","separableConv2d");let u=o,d=!1;if(o.rank===3&&(d=!0,u=j(o,[1,o.shape[0],o.shape[1],o.shape[2]])),r==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");E(u.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${u.rank}.`),E(l.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),E(c.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),E(c.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${c.shape[0]}.`),E(c.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${c.shape[1]}.`);const f=l.shape[2],h=l.shape[3];E(c.shape[2]===f*h,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${f*h}, but got ${c.shape[2]}.`);const p=pd(u,l,i,s,r,a),y=dr(p,c,1,"valid",r);return d?j(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const Iv=z({separableConv2d_:oQ});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function lQ(t,e){const n=F(t,"x","setdiff1d"),i=F(e,"y","setdiff1d");E(n.dtype===i.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${i.dtype}).`),E(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),E(i.rank===1,()=>`y should be 1D tensor, but got y (${i.shape}).`);const s=await n.data(),a=await i.data(),r=new Set(a);let o=0;for(let u=0;u<s.length;u++)r.has(s[u])||o++;const l=new sn([o],n.dtype),c=new sn([o],"int32");for(let u=0,d=0;u<s.length;u++)r.has(s[u])||(l.values[d]=s[u],c.values[d]=u,d++);return[l.toTensor(),c.toTensor()]}const OO=lQ;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cQ(t){const n={x:F(t,"x","sign")};return B.runKernel(nd,n)}const u3=z({sign_:cQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uQ(t){const n={x:F(t,"x","sin","float32")};return B.runKernel(ed,n)}const Tv=z({sin_:uQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dQ(t){const n={x:F(t,"x","sinh")};return B.runKernel(td,n)}const $v=z({sinh_:dQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fQ(t,e,n){const i=F(t,"x","slice1d");return E(i.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${i.rank} tensor`),qe(i,[e],[n])}const Jp=z({slice1d_:fQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hQ(t,e,n){const i=F(t,"x","slice2d");return E(i.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${i.rank} tensor`),qe(i,e,n)}const Ev=z({slice2d_:hQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pQ(t,e,n){const i=F(t,"x","slice3d");return E(i.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${i.rank} tensor`),qe(i,e,n)}const Yp=z({slice3d_:pQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mQ(t,e,n){const i=F(t,"x","slice4d");return E(i.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${i.rank} tensor`),qe(i,e,n)}const eu=z({slice4d_:mQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gQ(t,e=-1){const n=F(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const i={logits:n},s={dim:e};return B.runKernel(Ap,i,s)}const Qp=z({softmax_:gQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yQ(t){E(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return B.runKernel(by,e)}const Zp=z({fft_:yQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vQ(t){E(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return B.runKernel(xy,e)}const tu=z({ifft_:vQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bQ(t){const e=t.shape[t.shape.length-1],n=t.size/e;let i;if(e<=2){const s=j(t,[n,e]);i=tu(s)}else{const s=[n,2*(e-1)],a=j(Qc(t),[n,e]),r=j(Mp(t),[n,e]),o=Xi(qe(a,[0,1],[n,e-2]),1),l=W(Xi(qe(r,[0,1],[n,e-2]),1),Te(-1)),c=Lt([a,o],1),u=Lt([r,l],1),d=j(ur(c,u),[s[0],s[1]]);i=tu(d)}if(i=Qc(i),t.rank===3&&t.shape[0]!==0){const s=i,a=t.shape[0];i=j(i,[a,i.shape[0]/a,i.shape[1]]),s.dispose()}return i}const Dv=z({irfft_:bQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wQ(t,e,n=0){const s={x:F(t,"x","split")},a={numOrSizeSplits:e,axis:n};return B.runKernel(Dp,s,a)}const oi=z({split_:wQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kQ(t,e){E(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let n=t.shape[t.shape.length-1];const i=t.size/n;let s;if(e!=null&&e<n){const p=t.shape.map(y=>0),m=t.shape.map(y=>y);m[t.shape.length-1]=e,s=qe(t,p,m),n=e}else if(e!=null&&e>n){const p=t.shape.map(m=>m);p[t.shape.length-1]=e-n,s=Lt([t,Vt(p)],t.shape.length-1),n=e}else s=t;const a=Ke(s),r=j(ur(s,a),[i,n]),o=Zp(r),l=Math.floor(n/2)+1,c=Qc(o),u=Mp(o),d=oi(c,[l,n-l],c.shape.length-1),f=oi(u,[l,n-l],u.shape.length-1),h=s.shape.slice();return h[s.shape.length-1]=l,j(ur(d[0],f[0]),h)}const em=z({rfft_:kQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Q(t,e){let n=F(t,"a","squaredDifference"),i=F(e,"b","squaredDifference");[n,i]=Ft(n,i),Pe(n.shape,i.shape);const s={a:n,b:i},a={};return B.runKernel(rd,s,a)}const Av=z({squaredDifference_:_Q});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xQ(t,e){const n=F(t,"x","squeeze","string_or_numeric");return j(n,mr(n.shape,e).newShape)}const Fo=z({squeeze_:xQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SQ(t,e=0){const n=dh(t,"tensors","stack","string_or_numeric");E(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&E(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const i=n,s={axis:e};return B.runKernel(bp,i,s)}const ui=z({stack_:SQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CQ(t,e=0){const i={x:F(t,"x","step")},s={alpha:e};return B.runKernel(dd,i,s)}const Kl=z({step_:CQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NQ(t,e,n,i,s=0,a=0,r=0,o=0,l=0){const u={x:F(t,"x","stridedSlice","string_or_numeric")},d={begin:e,end:n,strides:i,beginMask:s,endMask:a,ellipsisMask:r,newAxisMask:o,shrinkAxisMask:l};return B.runKernel(Xy,u,d)}const d3=z({stridedSlice_:NQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IQ(t){const n={x:F(t,"x","tan","float32")};return B.runKernel(ld,n)}const f3=z({tan_:IQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rn(t,e){Vl(t);const n=Fa(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return To(t,null,n,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function so(t,e,n){if(Vl(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const i=Fa(t,n);if(i.length!==2&&i.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return To(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PO(t,e,n){if(Vl(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const i=Fa(t,n);if(i.length!==4&&i.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return To(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LO(t,e,n){if(Vl(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const i=Fa(t,n);if(i.length!==5&&i.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return To(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MO(t,e,n){if(Vl(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const i=Fa(t,n);if(i.length!==6&&i.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(i.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||i,To(t,e,i,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TQ(t,e=1,n=!0){const i=F(t,"x","topk");if(i.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const s=i.shape[i.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>s)throw new Error(`'k' passed to topk() must be <= the last dimension (${s}) but got ${e}`);const a={x:i},r={k:e,sorted:n},[o,l]=B.runKernel(Zy,a,r);return{values:o,indices:l}}const h3=z({topk_:TQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Q(t,e=0,n=1,i,s){if(Ri(t),i!=null&&i==="bool")throw new Error("Unsupported data type $ { dtype }");const a=new l3(e,n,i,!0,s),r=Me(t,i);for(let o=0;o<r.values.length;o++)r.values[o]=a.nextValue();return r.toTensor()}const Fv=z({truncatedNormal_:$Q});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EQ(t,e=0){const n=F(t,"x","unique","string_or_numeric");E(n.rank>0,()=>"The input tensor must be at least 1D");const i={x:n},s={axis:e},[a,r]=B.runKernel(tv,i,s);return{values:a,indices:r}}const p3=z({unique_:EQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DQ(t,e,n){const i=F(t,"x","unsortedSegmentSum"),s=F(e,"segmentIds","unsortedSegmentSum","int32");E(kl(n),()=>"numSegments must be of dtype int");const a={x:i,segmentIds:s},r={numSegments:n};return B.runKernel(Rp,a,r)}const Rv=z({unsortedSegmentSum_:DQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AQ(t,e=0){const n=F(t,"x","unstack","string_or_numeric");E(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);const i={value:n},s={axis:e};return B.runKernel(Fp,i,s)}const Ji=z({unstack_:AQ});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BO(t,e){return kv(t,e,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m3(t,e=!0,n,i){return B.makeVariable(t,e,n,i)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ov(t,e){const n=[];for(let a=0;a<e.length;a++)e[a]&&n.push(a);const i=Me(t,"int32"),s=Me([n.length,t.length],"int32");for(let a=0;a<n.length;a++){const r=i.indexToLoc(n[a]),o=a*t.length;s.values.set(r,o)}return s.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function FQ(t){const e=F(t,"condition","whereAsync","bool"),n=await e.data(),i=Ov(e.shape,n);return t!==e&&e.dispose(),i}const g3=FQ;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function RQ(t,e,n){const i=F(t,"tensor","boolMask"),s=F(e,"mask","boolMask","bool"),a=n==null?0:n,r=s.rank,o=i.shape;E(r>0,()=>"mask cannot be scalar"),Sn(o.slice(a,a+r),s.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=a;m<a+r;m++)l*=o[m];const c=o.slice(0,a).concat([l],o.slice(a+r)),u=j(i,c),d=j(s,[-1]),f=await g3(d),h=Fo(f,[1]),p=vd(u,h,a);return t!==i&&i.dispose(),e!==s&&s.dispose(),h.dispose(),u.dispose(),d.dispose(),f.dispose(),p}const zO=RQ;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OQ(t,e,n,i,s=!0){const a=F(t,"v","movingAverage"),r=F(e,"x","movingAverage"),o=F(n,"decay","movingAverage");vR(a,r),E(Ge(a.shape,r.shape),()=>"Shape mismatch in v and x");const l=Te(1),c=be(l,o);let u=W(be(r,a),c);if(s){E(i!=null,()=>"When using zeroDebias: true, step is required.");const d=F(i,"step","movingAverage");u=Ce(u,be(l,fr(o,d)))}return oe(a,u)}const VO=z({movingAverage_:OQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PQ(t,e,n){Ri(n);const i=F(t,"indices","scatterND","int32"),s=F(e,"updates","scatterND");hS(s,i,n);const a={indices:i,updates:s},r={shape:n};return B.runKernel(Vy,a,r)}const WO=z({scatterND_:PQ});function LQ(t,e,n,i){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const s=t.rank>0?t.shape[0]:1,a=t.rank>1?t.shape[1]:1;if(n.length!==a)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${a}.`);const r=e.size;if(!(e.rank===0||e.rank===1&&r===s))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${s}]`);if(e.dtype!==i.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MQ(t,e,n,i=0){Ri(n);const s=F(t,"sparseIndices","sparseToDense","int32"),a=F(e,"sparseValues","sparseToDense","string_or_numeric"),r=F(i,"defaultValue","sparseToDense",a.dtype);LQ(s,a,n,r);const o={sparseIndices:s,sparseValues:a,defaultValue:r},l={outputShape:n};return B.runKernel(qy,o,l)}const jO=z({sparseToDense_:MQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BQ(t,e){const n=F(e,"indices","gatherND","int32"),s={params:F(t,"x","gatherND","string_or_numeric"),indices:n};return B.runKernel(_y,s)}const HO=z({gatherND_:BQ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zQ(t,e){if(e==null)return t.shape.slice();if(Ge(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let i=0;i<t.shape.length;i++)e[i]==null&&t.shape[i]!=null?n.push(t.shape[i]):n.push(e[i]);return n}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VQ(t,e,n,i){const s=F(t,"x","dropout");if(E(s.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${s.dtype} tensor instead.`),E(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof Xe?s.clone():s;const a=zQ(s,n),r=1-e,o=Ce(yd(oe(kd(a,0,1,"float32",i),r)),r);return W(s,o)}const y3=z({dropout_:VQ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v3(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function Pv(t,e,n){const i=1-t%2,s=new Float32Array(t);for(let a=0;a<t;++a){const r=2*Math.PI*a/(t+i-1);s[a]=e-n*Math.cos(r)}return Rn(s,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function WQ(t,e,n=1){const i=F(t,"predictions","inTopK"),s=F(e,"targets","inTopK");E(i.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${i.rank}`),E(i.rank-1===s.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${i.rank} and targets rank ${s.rank}`),Sn(i.shape.slice(0,i.shape.length-1),s.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const a=i.shape[i.shape.length-1];E(n>0&&n<=a,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${a}), but got ${n}`);const r=await i.data(),o=await s.data(),[l,c]=[r.length/a,a],u=on("bool",l);for(let d=0;d<l;d++){const f=d*c,h=r.subarray(f,f+c),p=[];for(let m=0;m<h.length;m++)p.push({value:h[m],index:m});p.sort((m,y)=>y.value-m.value),u[d]=0;for(let m=0;m<n;m++)if(p[m].index===o[d]){u[d]=1;break}}return t!==i&&i.dispose(),e!==s&&s.dispose(),Ti(u,s.shape,"bool")}const GO=WQ;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jQ(t,e,n,i,s,a="NHWC",r){let o=t;t.rank===3&&(o=j(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=j(e,[1,e.shape[0],e.shape[1],e.shape[2]])),E(o.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${o.shape}.`),E(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),E(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const c=a==="NHWC"?o.shape[3]:o.shape[1],u=a==="NHWC"?l.shape[3]:l.shape[1];E(c===n[2],()=>`Error in conv2dDerFilter: depth of input ${c}) must match input depth in filter (${n[2]}.`),E(u===n[3],()=>`Error in conv2dDerFilter: depth of dy (${u}) must match output depth for filter (${n[3]}).`),ei("conv2dDerFilter",s,r);const d={x:o,dy:l},f={strides:i,pad:s,dataFormat:a,dimRoundingMode:r,filterShape:n};return B.runKernel(oy,d,f)}const b3=z({conv2DBackpropFilter_:jQ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lv(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return W(t,Kl(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function Mv(t,e){let n=e;const i=Yt(t.shape,e.shape);return i.length>0&&(n=ke(n,i)),j(n,t.shape)}function Bv(t,e,n,i){if(e==="linear")return t;if(e==="relu")return sa(t);if(e==="elu")return md(t);if(e==="relu6")return xv(t);if(e==="prelu")return Xp(t,n);if(e==="leakyrelu")return jp(t,i);if(e==="sigmoid")return Xs(t);throw new Error(`Unknown fused activation ${e}.`)}const zv=(t,e)=>!(t>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HQ({x:t,filter:e,strides:n,pad:i,dataFormat:s="NHWC",dilations:a=[1,1],dimRoundingMode:r,bias:o,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(l=l||"linear",zv(B.state.gradientDepth,l)===!1){E(s==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${s} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let x=dr(t,e,n,i,s,a,r);return o!=null&&(x=oe(x,o)),Bv(x,l,c,u)}const d=F(t,"x","conv2d","float32"),f=F(e,"filter","conv2d","float32");let h=d,p=!1;d.rank===3&&(p=!0,h=j(d,[1,d.shape[0],d.shape[1],d.shape[2]])),E(h.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${h.rank}.`),E(f.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${f.rank}.`),ei("fused conv2d",i,r);const m=s==="NHWC"?h.shape[3]:h.shape[1];E(f.shape[2]===m,()=>`Error in conv2d: depth of input (${m}) must match input depth for filter ${f.shape[2]}.`),E(Cn(n,a),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`);const y=pn(h.shape,f.shape,n,a,i,r);let g;o!=null&&(g=F(o,"bias","fused conv2d"),[g]=Ft(g,d),s==="NHWC"?Pe(y.outShape,g.shape):(E(g.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${g.shape.length}.`),E(g.shape.length===0||g.shape[0]===y.outChannels||g.shape[0]===1,()=>`Error in fused conv2d: bias shape (${g.shape}) is not compatible with the number of output channels (${y.outChannels})`)));let v;if(c!=null){const x=c.shape;if(E(x.length<=1||x.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${x.length}.`),x.length===1)E(x[0]===1||x[0]===y.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${x}) is not compatible with the number of output channels (${y.outChannels}).`);else if(x.length===3)try{Pe(x,y.outShape)}catch{const I=`Error in fused conv2d: PReLU activation weights (${x}) is not compatible with the output shape of the conv2d (${y.outShape}).`;throw Error(I)}v=F(c,"prelu weights","fused conv2d")}const b=(x,N)=>{E(s==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${s} but only NHWC is currently supported.`);const[I,D,R,L]=N,O=Lv(x,R,l);E(go(a),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`);const T=zS(D.shape,O,I,n,i),A=b3(D,O,I.shape,n,i),S=[T,A];if(L!=null){const $=Mv(L,O);S.push($)}return S},w={x:h,filter:f,bias:g,preluActivationWeights:v},k={strides:n,pad:i,dataFormat:s,dilations:a,dimRoundingMode:r,activation:l,leakyreluAlpha:u};return o==null?Ra((N,I,D)=>{let R=B.runKernel(oh,w,k);return D([I,N,R]),p&&(R=j(R,[R.shape[1],R.shape[2],R.shape[3]])),{value:R,gradFunc:b}})(h,f):Ra((N,I,D,R)=>{let L=B.runKernel(oh,w,k);return R([I,N,L,D]),p&&(L=j(L,[L.shape[1],L.shape[2],L.shape[3]])),{value:L,gradFunc:b}})(h,f,g)}const UO=z({fusedConv2d_:HQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GQ(t,e,n,i,s,a=[1,1],r){let o=t;t.rank===3&&(o=j(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=j(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const c={x:o,dy:l},u={strides:i,pad:s,dimRoundingMode:r,dilations:a,filterShape:n};return B.runKernel(py,c,u)}const qO=z({depthwiseConv2dNativeBackpropFilter_:GQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UQ(t,e,n,i,s,a=[1,1],r){let o=e,l=!1;e.rank===3&&(l=!0,o=j(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const c={dy:o,filter:n},u={strides:i,pad:s,dimRoundingMode:r,dilations:a,inputShape:t},d=B.runKernel(my,c,u);return l?j(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const KO=z({depthwiseConv2dNativeBackpropInput_:UQ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qQ({x:t,filter:e,strides:n,pad:i,dataFormat:s="NHWC",dilations:a=[1,1],dimRoundingMode:r,bias:o,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:u}){if(zv(B.state.gradientDepth,l)===!1){let k=pd(t,e,n,i,s,a,r);return o!=null&&(k=oe(k,o)),Bv(k,l,c,u)}const d=F(t,"x","depthwiseConv2d","float32"),f=F(e,"filter","depthwiseConv2d","float32");let h=d,p=!1;d.rank===3&&(p=!0,h=j(d,[1,d.shape[0],d.shape[1],d.shape[2]])),E(h.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${h.rank}.`),E(f.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${f.rank}.`),E(h.shape[3]===f.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${h.shape[3]}) must match the inChannels dimension in filter ${f.shape[2]}.`),a==null&&(a=[1,1]),E(Cn(n,a),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`),ei("fused depthwiseConv2d",i,r);const m=pn(h.shape,f.shape,n,a,i,r,!0);let y;o!=null&&(y=F(o,"bias","fused conv2d"),[y]=Ft(y,d),Pe(m.outShape,y.shape));let g;c!=null&&(g=F(c,"prelu weights","fused depthwiseConv2d"));const v=(k,x)=>{E(go(a),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${a}'`);const[N,I,D,R]=x,L=Lv(k,D,l),O=KO(I.shape,L,N,n,i,a,r),T=qO(I,L,N.shape,n,i,a,r);if(R!=null){const A=Mv(y,L);return[O,T,A]}return[O,T]},b={x:h,filter:f,bias:y,preluActivationWeights:g},w={strides:n,pad:i,dataFormat:s,dilations:a,dimRoundingMode:r,activation:l,leakyreluAlpha:u};return o==null?Ra((x,N,I)=>{let D=B.runKernel(lh,b,w);return I([N,x,D]),p&&(D=j(D,[D.shape[1],D.shape[2],D.shape[3]])),{value:D,gradFunc:v}})(h,f):Ra((x,N,I,D)=>{let R=B.runKernel(lh,b,w);return D([N,x,R,I]),p&&(R=j(R,[R.shape[1],R.shape[2],R.shape[3]])),{value:R,gradFunc:v}})(h,f,y)}const KQ=z({fusedDepthwiseConv2d_:qQ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XQ({a:t,b:e,transposeA:n=!1,transposeB:i=!1,bias:s,activation:a="linear",preluActivationWeights:r,leakyreluAlpha:o=.2}){if(zv(B.state.gradientDepth,a)===!1){let L=Be(t,e,n,i);return s!=null&&(L=oe(L,s)),Bv(L,a,r,o)}let l=F(t,"a","fused matMul"),c=F(e,"b","fused matMul");[l,c]=Ft(l,c);const u=n?l.shape[l.rank-2]:l.shape[l.rank-1],d=i?c.shape[c.rank-1]:c.shape[c.rank-2],f=n?l.shape[l.rank-1]:l.shape[l.rank-2],h=i?c.shape[c.rank-2]:c.shape[c.rank-1],p=l.shape.slice(0,-2),m=c.shape.slice(0,-2),y=te(p),g=te(m);E(u===d,()=>`Error in fused matMul: inner shapes (${u}) and (${d}) of Tensors with shapes ${l.shape} and ${c.shape} and transposeA=${n} and transposeB=${i} must match.`);const b=Pe(l.shape.slice(0,-2),c.shape.slice(0,-2)).concat([f,h]),w=n?j(l,[y,u,f]):j(l,[y,f,u]),k=i?j(c,[g,h,d]):j(c,[g,d,h]);let x;s!=null&&(x=F(s,"bias","fused matMul"),[x]=Ft(x,l),Pe(b,x.shape));let N;r!=null&&(N=F(r,"prelu weights","fused matMul"));const I=(L,O)=>{const[T,A,S,$]=O,K=Lv(j(L,S.shape),S,a);let M,U;if(!n&&!i?(M=Be(K,A,!1,!0),U=Be(T,K,!0,!1)):!n&&i?(M=Be(K,A,!1,!1),U=Be(K,T,!0,!1)):n&&!i?(M=Be(A,K,!1,!0),U=Be(T,K,!1,!1)):(M=Be(A,K,!0,!0),U=Be(K,T,!0,!0)),s!=null){const Q=Mv($,K);return[M,U,Q]}else return[M,U]},D={a:w,b:k,bias:x,preluActivationWeights:N},R={transposeA:n,transposeB:i,activation:a,leakyreluAlpha:o};return s==null?Ra((O,T,A)=>{const S=B.runKernel(rh,D,R);return A([O,T,S]),{value:j(S,b),gradFunc:I}})(w,k):Ra((O,T,A,S)=>{const $=B.runKernel(rh,D,R);return S([O,T,$,A]),{value:j($,b),gradFunc:I}})(w,k,x)}const O_=z({fusedMatMul_:XQ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var XO=Object.freeze(Object.defineProperty({__proto__:null,conv2d:UO,depthwiseConv2d:KQ,matMul:O_},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JQ(t){return Pv(t,.54,.46)}const YQ=z({hammingWindow_:JQ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QQ(t){return Pv(t,.5,.5)}const JO=z({hannWindow_:QQ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZQ(t,e,n,i=!1,s=0){let a=0;const r=[];for(;a+e<=t.size;)r.push(qe(t,a,e)),a+=n;if(i)for(;a<t.size;){const o=a+e-t.size,l=Lt([qe(t,a,e-o),Eo([o],s)]);r.push(l),a+=n}return r.length===0?so([],[0,e]):j(Lt(r),[r.length,e])}const YO=z({frame_:ZQ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eZ(t,e,n,i,s=JO){i==null&&(i=v3(e));const a=YO(t,e,n),r=W(a,s(e));return em(r,i)}const tZ=z({stft_:eZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nZ(t,e,n,i,s="bilinear",a=0){const r=F(t,"image","cropAndResize"),o=F(e,"boxes","cropAndResize","float32"),l=F(n,"boxInd","cropAndResize","int32"),c=o.shape[0];E(r.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${r.rank}.`),E(o.rank===2&&o.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${c},4] but had shape ${o.shape}.`),E(l.rank===1&&l.shape[0]===c,()=>`Error in cropAndResize: boxInd must be have size [${c}] but had shape ${o.shape}.`),E(i.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${i.length}.`),E(i[0]>=1&&i[1]>=1,()=>`cropSize must be atleast [1,1], but was ${i}`),E(s==="bilinear"||s==="nearest",()=>`method must be bilinear or nearest, but was ${s}`);const u={image:r,boxes:o,boxInd:l},d={method:s,extrapolationValue:a,cropSize:i};return B.runKernel(dy,u,d)}const iZ=z({cropAndResize_:nZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sZ(t){const e=F(t,"image","flipLeftRight","float32");E(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const n={image:e};return B.runKernel(ky,n,{})}const aZ=z({flipLeftRight_:sZ});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rZ(t){const e=F(t,"image","grayscaleToRGB"),n=e.rank-1,i=e.shape[n];E(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),E(i===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${i}.`);const s=new Array(e.rank);return s.fill(1,0,n),s[n]=3,Wi(e,s)}const oZ=z({grayscaleToRGB_:rZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lZ(t,e,n=0,i=.5){const s=F(t,"image","rotateWithOffset","float32");E(s.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${s.rank}.`);const a={image:s},r={radians:e,fillValue:n,center:i};return B.runKernel(nv,a,r)}const cZ=z({rotateWithOffset_:lZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _d(t,e,n,i,s,a){i==null&&(i=.5),s==null&&(s=Number.NEGATIVE_INFINITY),a==null&&(a=0);const r=t.shape[0];return n=Math.min(n,r),E(0<=i&&i<=1,()=>`iouThreshold must be in [0, 1], but was '${i}'`),E(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),E(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),E(e.rank===1,()=>"scores must be a 1D tensor"),E(e.shape[0]===r,()=>`scores has incompatible shape with boxes. Expected ${r}, but was ${e.shape[0]}`),E(0<=a&&a<=1,()=>`softNmsSigma must be in [0, 1], but was '${a}'`),{maxOutputSize:n,iouThreshold:i,scoreThreshold:s,softNmsSigma:a}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uZ(t,e,n,i=.5,s=Number.NEGATIVE_INFINITY){const a=F(t,"boxes","nonMaxSuppression","float32"),r=F(e,"scores","nonMaxSuppression","float32"),o=_d(a,r,n,i,s);n=o.maxOutputSize,i=o.iouThreshold,s=o.scoreThreshold;const l={maxOutputSize:n,iouThreshold:i,scoreThreshold:s};return B.runKernel(Dy,{boxes:a,scores:r},l)}const dZ=z({nonMaxSuppression_:uZ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fZ(t,e,n){const i=hZ(t,e,n),s=i<0?-(i+1):i;t.splice(s,0,e)}function hZ(t,e,n){return mZ(t,e,n||pZ)}function pZ(t,e){return t>e?1:t<e?-1:0}function mZ(t,e,n){let i=0,s=t.length,a=0,r=!1;for(;i<s;){a=i+(s-i>>>1);const o=n(e,t[a]);o>0?i=a+1:(s=a,r=!o)}return r?i:-i-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vv(t,e,n,i,s){return w3(t,e,n,i,s,0)}function Wv(t,e,n,i,s,a){return w3(t,e,n,i,s,0,!1,a,!0)}function jv(t,e,n,i,s,a){return w3(t,e,n,i,s,a,!0)}function w3(t,e,n,i,s,a,r=!1,o=!1,l=!1){const c=[];for(let y=0;y<e.length;y++)e[y]>s&&c.push({score:e[y],boxIndex:y,suppressBeginIndex:0});c.sort(s$);const u=a>0?-.5/a:0,d=[],f=[];for(;d.length<n&&c.length>0;){const y=c.pop(),{score:g,boxIndex:v,suppressBeginIndex:b}=y;if(g<s)break;let w=!1;for(let k=d.length-1;k>=b;--k){const x=gZ(t,v,d[k]);if(x>=i){w=!0;break}if(y.score=y.score*yZ(i,u,x),y.score<=s)break}y.suppressBeginIndex=d.length,w||(y.score===g?(d.push(v),f.push(y.score)):y.score>s&&fZ(c,y,s$))}const h=d.length,p=n-h;o&&p>0&&(d.push(...new Array(p).fill(0)),f.push(...new Array(p).fill(0)));const m={selectedIndices:d};return r&&(m.selectedScores=f),l&&(m.validOutputs=h),m}function gZ(t,e,n){const i=t.subarray(e*4,e*4+4),s=t.subarray(n*4,n*4+4),a=Math.min(i[0],i[2]),r=Math.min(i[1],i[3]),o=Math.max(i[0],i[2]),l=Math.max(i[1],i[3]),c=Math.min(s[0],s[2]),u=Math.min(s[1],s[3]),d=Math.max(s[0],s[2]),f=Math.max(s[1],s[3]),h=(o-a)*(l-r),p=(d-c)*(f-u);if(h<=0||p<=0)return 0;const m=Math.max(a,c),y=Math.max(r,u),g=Math.min(o,d),v=Math.min(l,f),b=Math.max(g-m,0)*Math.max(v-y,0);return b/(h+p-b)}function yZ(t,e,n){const i=Math.exp(e*n*n);return n<=t?i:0}function s$(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function vZ(t,e,n,i=.5,s=Number.NEGATIVE_INFINITY){const a=F(t,"boxes","nonMaxSuppressionAsync"),r=F(e,"scores","nonMaxSuppressionAsync"),o=_d(a,r,n,i,s);n=o.maxOutputSize,i=o.iouThreshold,s=o.scoreThreshold;const l=await Promise.all([a.data(),r.data()]),c=l[0],u=l[1],{selectedIndices:d}=Vv(c,u,n,i,s);return a!==t&&a.dispose(),r!==e&&r.dispose(),Rn(d,"int32")}const bZ=vZ;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wZ(t,e,n,i=.5,s=Number.NEGATIVE_INFINITY,a=0){const r=F(t,"boxes","nonMaxSuppression"),o=F(e,"scores","nonMaxSuppression"),l=_d(r,o,n,i,s,a);n=l.maxOutputSize,i=l.iouThreshold,s=l.scoreThreshold,a=l.softNmsSigma;const c={boxes:r,scores:o},u={maxOutputSize:n,iouThreshold:i,scoreThreshold:s,softNmsSigma:a},d=B.runKernel(Fy,c,u);return{selectedIndices:d[0],selectedScores:d[1]}}const kZ=z({nonMaxSuppressionWithScore_:wZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function _Z(t,e,n,i=.5,s=Number.NEGATIVE_INFINITY,a=0){const r=F(t,"boxes","nonMaxSuppressionAsync"),o=F(e,"scores","nonMaxSuppressionAsync"),l=_d(r,o,n,i,s,a);n=l.maxOutputSize,i=l.iouThreshold,s=l.scoreThreshold,a=l.softNmsSigma;const c=await Promise.all([r.data(),o.data()]),u=c[0],d=c[1],{selectedIndices:f,selectedScores:h}=jv(u,d,n,i,s,a);return r!==t&&r.dispose(),o!==e&&o.dispose(),{selectedIndices:Rn(f,"int32"),selectedScores:Rn(h)}}const xZ=_Z;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SZ(t,e,n,i=.5,s=Number.NEGATIVE_INFINITY,a=!1){const r=F(t,"boxes","nonMaxSuppression"),o=F(e,"scores","nonMaxSuppression"),l=_d(r,o,n,i,s,null),c=l.maxOutputSize,u=l.iouThreshold,d=l.scoreThreshold,f={boxes:r,scores:o},h={maxOutputSize:c,iouThreshold:u,scoreThreshold:d,padToMaxOutputSize:a},p=B.runKernel(Ay,f,h);return{selectedIndices:p[0],validOutputs:p[1]}}const CZ=z({nonMaxSuppressionPadded_:SZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function NZ(t,e,n,i=.5,s=Number.NEGATIVE_INFINITY,a=!1){const r=F(t,"boxes","nonMaxSuppressionAsync"),o=F(e,"scores","nonMaxSuppressionAsync"),l=_d(r,o,n,i,s,null),c=l.maxOutputSize,u=l.iouThreshold,d=l.scoreThreshold,[f,h]=await Promise.all([r.data(),o.data()]),{selectedIndices:p,validOutputs:m}=Wv(f,h,c,u,d,a);return r!==t&&r.dispose(),o!==e&&o.dispose(),{selectedIndices:Rn(p,"int32"),validOutputs:Te(m,"int32")}}const IZ=NZ;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TZ(t,e,n=!1,i=!1){const s=F(t,"images","resizeBilinear");E(s.rank===3||s.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${s.rank}.`),E(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),E(i===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let a=s,r=!1;s.rank===3&&(r=!0,a=j(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const o={images:a},l={alignCorners:n,halfPixelCenters:i,size:e},c=B.runKernel(Cp,o,l);return r?j(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const QO=z({resizeBilinear_:TZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Z(t,e,n=!1,i=!1){const s=F(t,"images","resizeNearestNeighbor");E(s.rank===3||s.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${s.rank}.`),E(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),E(s.dtype==="float32"||s.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),E(i===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let a=s,r=!1;s.rank===3&&(r=!0,a=j(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const o={images:a},l={alignCorners:n,halfPixelCenters:i,size:e},c=B.runKernel(Sp,o,l);return r?j(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const ZO=z({resizeNearestNeighbor_:$Z});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EZ(t,e="binary",n=!1,i=.5){const s=F(t,"image","threshold"),a=.2989,r=.587,o=.114,l=s.shape[0]*s.shape[1];let c=W(Rn([i]),255),u,d,f,h;if(E(s.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${s.rank}.`),E(s.shape[2]===3||s.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${s.shape[2]}.`),E(s.dtype==="int32"||s.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${s.dtype}.`),E(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),s.shape[2]===3){[u,d,f]=oi(s,[1,1,1],-1);const y=W(u,a),g=W(d,r),v=W(f,o);h=oe(oe(y,g),v)}else h=t;if(e==="otsu"){const y=RS(fe(Sv(h),"int32"),Ti([]),256);c=DZ(y,l)}const p=n?Ao(h,c):ti(h,c);return fe(W(p,255),"int32")}function DZ(t,e){let n=Rn([-1]),i=Rn([0]),s=Rn([0]),a,r,o,l,c,u;for(let d=0;d<t.size-1;d++){a=qe(t,0,d+1),r=qe(t,d+1),c=Ce(ke(a),e),u=Ce(ke(r),e);const f=ke(W(a,$l(0,a.size)));o=Ce(f,ke(a));const h=Eo(r.shape,a.size),p=oe($l(0,r.size),h),m=W(r,p);l=Ce(ke(m),ke(r));const y=be(o,l),g=be(o,l),v=W(c,u);s=W(W(v,y),g);const b=ti(s,i);i=Mn(b,s,i),n=Mn(b,Rn([d]),n)}return n}const AZ=z({threshold_:EZ});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FZ(t,e,n="nearest",i="constant",s=0,a){const r=F(t,"image","transform","float32"),o=F(e,"transforms","transform","float32");E(r.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${r.rank}.`),E(o.rank===2&&(o.shape[0]===r.shape[0]||o.shape[0]===1)&&o.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),E(a==null||a.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${a}.`);const l={image:r,transforms:o},c={interpolation:n,fillMode:i,fillValue:s,outputShape:a};return B.runKernel(ev,l,c)}const RZ=z({transform_:FZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OZ(t,e,n){E(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),E(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`);const i=F(t,"a","bandPart");E(i.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${i.rank}.`);const s=i.shape,[a,r]=i.shape.slice(-2);if(!(e<=a))throw new Error(`bandPart(): numLower (${e}) must not be greater than the number of rows (${a}).`);if(!(n<=r))throw new Error(`bandPart(): numUpper (${n}) must not be greater than the number of columns (${r}).`);e<0&&(e=a),n<0&&(n=r);const o=j($l(0,a,1,"int32"),[-1,1]),l=$l(0,r,1,"int32"),c=be(o,l),u=Cs(Ao(c,Te(+e,"int32")),br(c,Te(-n,"int32"))),d=Vt([a,r],i.dtype);return j(ui(Ji(j(i,[-1,a,r])).map(f=>Mn(u,f,d))),s)}const PZ=z({bandPart_:OZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LZ(t){let e;if(Array.isArray(t)){e=!1,E(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const s=t[0].shape[0];for(let a=1;a<t.length;++a)E(t[a].shape[0]===s,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[a].shape[0]} vs. ${s})`)}else e=!0,t=oi(t,t.shape[0],0).map(s=>Fo(s,[0]));E(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const n=[],i=t;for(let s=0;s<t.length;++s)n.push(B.tidy(()=>{let a=i[s];if(s>0)for(let r=0;r<s;++r){const o=W(ke(W(n[r],a)),n[r]);a=be(a,o)}return Ce(a,gd(a,"euclidean"))}));return e?ui(n,0):n}const MZ=z({gramSchmidt_:LZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BZ(t,e=!1){if(E(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return a$(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((l,c)=>l*c),i=Ji(j(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),s=[],a=[];i.forEach(l=>{const[c,u]=a$(l,e);s.push(c),a.push(u)});const r=j(ui(s,0),t.shape),o=j(ui(a,0),t.shape);return[r,o]}}function a$(t,e=!1){return B.tidy(()=>{E(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const n=t.shape[0],i=t.shape[1];let s=mv(n),a=Ta(t);const r=so([[1]],[1,1]);let o=Ta(r);const l=n>=i?i:n;for(let c=0;c<l;++c){const u=a,d=o,f=s;[o,a,s]=B.tidy(()=>{const h=qe(a,[c,c],[n-c,1]),p=gd(h),m=qe(a,[c,c],[1,1]),y=Mn(ti(m,0),so([[-1]]),so([[1]])),g=be(m,W(y,p)),v=Ce(h,g);v.shape[0]===1?o=Ta(r):o=Lt([r,qe(v,[1,0],[v.shape[0]-1,v.shape[1]])],0);const b=wt(Ce(Be(y,g),p)),w=qe(a,[c,0],[n-c,i]),k=W(b,o),x=He(o);if(c===0)a=be(w,Be(k,Be(x,w)));else{const D=be(w,Be(k,Be(x,w)));a=Lt([qe(a,[0,0],[c,i]),D],0)}const N=He(k),I=qe(s,[0,c],[n,s.shape[1]-c]);if(c===0)s=be(I,Be(Be(I,o),N));else{const D=be(I,Be(Be(I,o),N));s=Lt([qe(s,[0,0],[n,c]),D],1)}return[o,a,s]}),Oe([u,d,f])}return!e&&n>i&&(s=qe(s,[0,0],[n,i]),a=qe(a,[0,0],[i,i])),[s,a]})}const zZ=z({qr_:BZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var qn;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(qn||(qn={}));function VZ(t,e,n=qn.SUM_BY_NONZERO_WEIGHTS){const i=F(t,"losses","computeWeightedLoss");let s=null;e!=null&&(s=F(e,"weights","computeWeightedLoss"));const a=s==null?i:W(i,s);if(n===qn.NONE)return a;if(n===qn.SUM)return ke(a);if(n===qn.MEAN){if(s==null)return Et(a);{const r=i.size/s.size,o=Ce(ke(a),ke(s));return r>1?Ce(o,Te(r)):o}}if(n===qn.SUM_BY_NONZERO_WEIGHTS){if(s==null)return Ce(ke(a),Te(i.size));{const r=W(s,Si(i.shape)),o=fe(ke(Tl(r,Te(0))),"float32");return Ce(ke(a),o)}}throw Error(`Unknown reduction: ${n}`)}const kr=z({computeWeightedLoss_:VZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WZ(t,e,n,i=qn.SUM_BY_NONZERO_WEIGHTS){const s=F(t,"labels","absoluteDifference"),a=F(e,"predictions","absoluteDifference");let r=null;n!=null&&(r=F(n,"weights","absoluteDifference")),Sn(s.shape,a.shape,"Error in absoluteDifference: ");const o=Kt(be(s,a));return kr(o,r,i)}const jZ=z({absoluteDifference_:WZ});function HZ(t,e,n,i,s=qn.SUM_BY_NONZERO_WEIGHTS){const a=F(t,"labels","cosineDistance"),r=F(e,"predictions","cosineDistance");let o=null;i!=null&&(o=F(i,"weights","cosineDistance")),Sn(a.shape,r.shape,"Error in cosineDistance: ");const l=Te(1),c=be(l,ke(W(a,r),n,!0));return kr(c,o,s)}const GZ=z({cosineDistance_:HZ});function UZ(t,e,n,i=qn.SUM_BY_NONZERO_WEIGHTS){let s=F(t,"labels","hingeLoss");const a=F(e,"predictions","hingeLoss");let r=null;n!=null&&(r=F(n,"weights","hingeLoss")),Sn(s.shape,a.shape,"Error in hingeLoss: ");const o=Te(1);s=be(W(Te(2),s),o);const l=sa(be(o,W(s,a)));return kr(l,r,i)}const qZ=z({hingeLoss_:UZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KZ(t,e,n,i=1,s=qn.SUM_BY_NONZERO_WEIGHTS){const a=F(t,"labels","huberLoss"),r=F(e,"predictions","huberLoss");let o=null;n!=null&&(o=F(n,"weights","huberLoss")),Sn(a.shape,r.shape,"Error in huberLoss: ");const l=Te(i),c=Kt(be(r,a)),u=bd(c,l),d=be(c,u),f=oe(W(Te(.5),lt(u)),W(l,d));return kr(f,o,s)}const XZ=z({huberLoss_:KZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JZ(t,e,n,i=1e-7,s=qn.SUM_BY_NONZERO_WEIGHTS){const a=F(t,"labels","logLoss"),r=F(e,"predictions","logLoss");let o=null;n!=null&&(o=F(n,"weights","logLoss")),Sn(a.shape,r.shape,"Error in logLoss: ");const l=Te(1),c=Te(i),u=wt(W(a,Di(oe(r,c)))),d=W(be(l,a),Di(oe(be(l,r),c))),f=be(u,d);return kr(f,o,s)}const YZ=z({logLoss_:JZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QZ(t,e,n,i=qn.SUM_BY_NONZERO_WEIGHTS){const s=F(t,"labels","meanSquaredError"),a=F(e,"predictions","meanSquaredError");let r=null;n!=null&&(r=F(n,"weights","meanSquaredError")),Sn(s.shape,a.shape,"Error in meanSquaredError: ");const o=Av(s,a);return kr(o,r,i)}const ZZ=z({meanSquaredError_:QZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eee(t,e){const n=F(t,"labels","sigmoidCrossEntropyWithLogits"),i=F(e,"logits","sigmoidCrossEntropyWithLogits");Sn(n.shape,i.shape,"Error in sigmoidCrossEntropyWithLogits: ");const s=sa(i),a=W(i,n),r=Hp(Ei(wt(Kt(i))));return oe(be(s,a),r)}function tee(t,e,n,i=0,s=qn.SUM_BY_NONZERO_WEIGHTS){let a=F(t,"multiClassLabels","sigmoidCrossEntropy");const r=F(e,"logits","sigmoidCrossEntropy");let o=null;if(n!=null&&(o=F(n,"weights","sigmoidCrossEntropy")),Sn(a.shape,r.shape,"Error in sigmoidCrossEntropy: "),i>0){const c=Te(i),u=Te(1),d=Te(.5);a=oe(W(a,be(u,c)),W(d,c))}const l=eee(a,r);return kr(l,o,s)}const nee=z({sigmoidCrossEntropy_:tee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iee(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return Ra((s,a,r)=>{const l=bv(a,[n],!0),c=be(fe(a,"float32"),l);r([s,c]);const u=wt(W(c,s));return{value:ke(u,[n]),gradFunc:(h,p)=>{const[m,y]=p,g=Ht(h.shape,[n]);return[W(j(h,g),be(fe(m,"float32"),Ei(y))),W(j(h,g),be(Ei(y),fe(m,"float32")))]}}})(t,e)}function see(t,e,n,i=0,s=qn.SUM_BY_NONZERO_WEIGHTS){let a=F(t,"onehotLabels","softmaxCrossEntropy");const r=F(e,"logits","softmaxCrossEntropy");let o=null;if(n!=null&&(o=F(n,"weights","softmaxCrossEntropy")),Sn(a.shape,r.shape,"Error in softmaxCrossEntropy: "),i>0){const c=Te(i),u=Te(1),d=Te(a.shape[1]);a=oe(W(a,be(u,c)),Ce(c,d))}const l=iee(a,r);return kr(l,o,s)}const aee=z({softmaxCrossEntropy_:see});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ree(t,e,n,i){const s=F(t,"indices","sparseFillEmptyRows","int32"),a=F(e,"values","sparseFillEmptyRows"),r=F(n,"denseShape","sparseFillEmptyRows","int32"),o=F(i,"defaultValue","sparseFillEmptyRows",a.dtype);if(s.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${s.shape}`);if(a.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${a.shape}`);if(r.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${r.shape}`);if(o.rank!==0)throw new Error(`Default value should be a scalar but received shape ${o.shape}`);const l={indices:s,values:a,denseShape:r,defaultValue:o},c=B.runKernel(jy,l);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}const oee=z({sparseFillEmptyRows_:ree});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lee(t,e,n){const i=F(t,"inputIndices","sparseReshape","int32"),s=F(e,"inputShape","sparseReshape","int32"),a=F(n,"newShape","sparseReshape","int32");if(i.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${i.shape}`);if(s.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${s.shape}`);if(a.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${a.shape}`);const r={inputIndices:i,inputShape:s,newShape:a},o=B.runKernel(Hy,r);return{outputIndices:o[0],outputShape:o[1]}}const cee=z({sparseReshape_:lee});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uee(t,e,n){const i=F(t,"data","sparseSegmentMean"),s=F(e,"indices","sparseSegmentMean","int32"),a=F(n,"segmentIds","sparseSegmentMean","int32");if(i.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${s.shape}`);if(a.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${a.shape}`);const r={data:i,indices:s,segmentIds:a};return B.runKernel(Gy,r)}const dee=z({sparseSegmentMean_:uee});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fee(t,e,n){const i=F(t,"data","sparseSegmentSum"),s=F(e,"indices","sparseSegmentSum","int32"),a=F(n,"segmentIds","sparseSegmentSum","int32");if(i.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${s.shape}`);if(a.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${a.shape}`);const r={data:i,indices:s,segmentIds:a};return B.runKernel(Uy,r)}const hee=z({sparseSegmentSum_:fee});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pee(t,e,n,i,s,a,r,o){const l=F(t,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error(`Data must be a vector, saw: ${l.shape}`);const c=F(e,"dataSplits","stringNGrams");if(c.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const u={separator:n,nGramWidths:i,leftPad:s,rightPad:a,padWidth:r,preserveShortSequences:o},d={data:l,dataSplits:c},f=B.runKernel(Jy,d,u);return{nGrams:f[0],nGramsSplits:f[1]}}const mee=z({stringNGrams_:pee});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gee(t,e,n=!0){const i=F(t,"input","stringSplit","string"),s=F(e,"delimiter","stringSplit","string");if(i.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${i.shape}`);if(s.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${s.shape}`);const a={skipEmpty:n},r={input:i,delimiter:s},o=B.runKernel(Yy,r,a);return{indices:o[0],values:o[1],shape:o[2]}}const yee=z({stringSplit_:gee});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vee(t,e){const n=F(t,"input","stringToHashBucketFast","string"),i={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const s={input:n};return B.runKernel(Qy,s,i)}const bee=z({stringToHashBucketFast_:vee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e5={fft:Zp,ifft:tu,rfft:em,irfft:Dv},t5={hammingWindow:YQ,hannWindow:JO,frame:YO,stft:tZ},wa={flipLeftRight:aZ,grayscaleToRGB:oZ,resizeNearestNeighbor:ZO,resizeBilinear:QO,rotateWithOffset:cZ,cropAndResize:iZ,nonMaxSuppression:dZ,nonMaxSuppressionAsync:bZ,nonMaxSuppressionWithScore:kZ,nonMaxSuppressionWithScoreAsync:xZ,nonMaxSuppressionPadded:CZ,nonMaxSuppressionPaddedAsync:IZ,threshold:AZ,transform:RZ},k3={bandPart:PZ,gramSchmidt:MZ,qr:zZ},n5={absoluteDifference:jZ,computeWeightedLoss:kr,cosineDistance:GZ,hingeLoss:qZ,huberLoss:XZ,logLoss:YZ,meanSquaredError:ZZ,sigmoidCrossEntropy:nee,softmaxCrossEntropy:aee},i5={sparseFillEmptyRows:oee,sparseReshape:cee,sparseSegmentMean:dee,sparseSegmentSum:hee},s5={stringNGrams:mee,stringSplit:yee,stringToHashBucketFast:bee};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _r extends Gl{minimize(e,n=!1,i){const{value:s,grads:a}=this.computeGradients(e,i);if(i!=null){const r=i.map(o=>({name:o.name,tensor:a[o.name]}));this.applyGradients(r)}else this.applyGradients(a);return Oe(a),n?s:(s.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return oO(e,n)}dispose(){this.iterations_!=null&&Oe(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:Te(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(_r,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Hv extends _r{constructor(e,n,i=null){super(),this.learningRate=e,this.rho=n,this.epsilon=i,this.accumulatedGrads=[],this.accumulatedUpdates=[],i==null&&(this.epsilon=B.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,s)=>{const a=B.registeredVariables[i],r=!1;this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${i}/accum_grad`,variable:X(()=>Ke(a).variable(r))}),this.accumulatedUpdates[s]==null&&(this.accumulatedUpdates[s]={originalName:`${i}/accum_var`,variable:X(()=>Ke(a).variable(r))});const o=Array.isArray(e)?e[s].tensor:e[i];if(o==null)return;const l=this.accumulatedGrads[s].variable,c=this.accumulatedUpdates[s].variable;X(()=>{const u=oe(W(l,this.rho),W(lt(o),1-this.rho)),d=W(Ce(xn(oe(c,this.epsilon)),xn(oe(l,this.epsilon))),o),f=oe(W(c,this.rho),W(lt(d),1-this.rho));l.assign(u),c.assign(f);const h=oe(W(d,-this.learningRate),a);a.assign(h)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(Oe(this.accumulatedGrads.map(e=>e.variable)),Oe(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,i=!1;this.accumulatedGrads=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(i)})),this.accumulatedUpdates=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(i)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}Hv.className="Adadelta";ae(Hv);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Gv extends _r{constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,s)=>{const a=B.registeredVariables[i];this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${i}/accumulator`,variable:X(()=>Eo(a.shape,this.initialAccumulatorValue).variable(!1))});const r=Array.isArray(e)?e[s].tensor:e[i];if(r==null)return;const o=this.accumulatedGrads[s].variable;X(()=>{const l=oe(o,lt(r));o.assign(l);const c=oe(W(Ce(r,xn(oe(l,B.backend.epsilon()))),-this.learningRate),a);a.assign(c)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&Oe(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(i=>({originalName:i.name,variable:i.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}Gv.className="Adagrad";ae(Gv);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Uv extends _r{constructor(e,n,i,s=null){super(),this.learningRate=e,this.beta1=n,this.beta2=i,this.epsilon=s,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],X(()=>{this.accBeta1=Te(n).variable(),this.accBeta2=Te(i).variable()}),s==null&&(this.epsilon=B.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(i=>i.name):Object.keys(e);X(()=>{const i=be(1,this.accBeta1),s=be(1,this.accBeta2);n.forEach((a,r)=>{const o=B.registeredVariables[a],l=!1;this.accumulatedFirstMoment[r]==null&&(this.accumulatedFirstMoment[r]={originalName:`${a}/m`,variable:X(()=>Ke(o).variable(l))}),this.accumulatedSecondMoment[r]==null&&(this.accumulatedSecondMoment[r]={originalName:`${a}/v`,variable:X(()=>Ke(o).variable(l))});const c=Array.isArray(e)?e[r].tensor:e[a];if(c==null)return;const u=this.accumulatedFirstMoment[r].variable,d=this.accumulatedSecondMoment[r].variable,f=oe(W(u,this.beta1),W(c,1-this.beta1)),h=oe(W(d,this.beta2),W(lt(c),1-this.beta2)),p=Ce(f,i),m=Ce(h,s);u.assign(f),d.assign(h);const y=oe(W(Ce(p,oe(xn(m),this.epsilon)),-this.learningRate),o);o.assign(y)}),this.accBeta1.assign(W(this.accBeta1,this.beta1)),this.accBeta2.assign(W(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Oe(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&Oe(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),X(()=>{this.accBeta1.assign(fr(this.beta1,this.iterations_+1)),this.accBeta2.assign(fr(this.beta2,this.iterations_+1))});const n=e.length/2,i=!1;this.accumulatedFirstMoment=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(i)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(i)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}Uv.className="Adam";ae(Uv);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qv extends _r{constructor(e,n,i,s=null,a=0){super(),this.learningRate=e,this.beta1=n,this.beta2=i,this.epsilon=s,this.decay=a,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],X(()=>{this.iteration=Te(0).variable(),this.accBeta1=Te(n).variable()}),s==null&&(this.epsilon=B.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(i=>i.name):Object.keys(e);X(()=>{const i=be(1,this.accBeta1),s=Ce(-this.learningRate,oe(W(this.iteration,this.decay),1));n.forEach((a,r)=>{const o=B.registeredVariables[a],l=!1;this.accumulatedFirstMoment[r]==null&&(this.accumulatedFirstMoment[r]={originalName:`${a}/m`,variable:Ke(o).variable(l)}),this.accumulatedWeightedInfNorm[r]==null&&(this.accumulatedWeightedInfNorm[r]={originalName:`${a}/v`,variable:Ke(o).variable(l)});const c=Array.isArray(e)?e[r].tensor:e[a];if(c==null)return;const u=this.accumulatedFirstMoment[r].variable,d=this.accumulatedWeightedInfNorm[r].variable,f=oe(W(u,this.beta1),W(c,1-this.beta1)),h=W(d,this.beta2),p=Kt(c),m=La(h,p);u.assign(f),d.assign(m);const y=oe(W(Ce(s,i),Ce(f,oe(m,this.epsilon))),o);o.assign(y)}),this.iteration.assign(oe(this.iteration,1)),this.accBeta1.assign(W(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Oe(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&Oe(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}qv.className="Adamax";ae(qv);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tm extends _r{constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,s)=>{const a=Array.isArray(e)?e[s].tensor:e[i];if(a==null)return;const r=B.registeredVariables[i];X(()=>{const o=oe(W(this.c,a),r);r.assign(o)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=tn(Te(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}tm.className="SGD";ae(tm);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Kv extends tm{constructor(e,n,i=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=i,this.accumulations=[],this.m=Te(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,s)=>{const a=B.registeredVariables[i];this.accumulations[s]==null&&(this.accumulations[s]={originalName:`${i}/momentum`,variable:X(()=>Ke(a).variable(!1))});const r=this.accumulations[s].variable,o=Array.isArray(e)?e[s].tensor:e[i];o!=null&&X(()=>{let l;const c=oe(W(this.m,r),o);this.useNesterov?l=oe(W(this.c,oe(o,W(c,this.m))),a):l=oe(W(this.c,c),a),r.assign(c),a.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&Oe(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(i=>({originalName:i.name,variable:i.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}Kv.className="Momentum";ae(Kv);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Xv extends _r{constructor(e,n=.9,i=0,s=null,a=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=i,this.epsilon=s,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=a,s==null&&(this.epsilon=B.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(i=>i.name):Object.keys(e)).forEach((i,s)=>{const a=B.registeredVariables[i],r=!1;this.accumulatedMeanSquares[s]==null&&(this.accumulatedMeanSquares[s]={originalName:`${i}/rms`,variable:X(()=>Ke(a).variable(r))}),this.accumulatedMoments[s]==null&&(this.accumulatedMoments[s]={originalName:`${i}/momentum`,variable:X(()=>Ke(a).variable(r))}),this.accumulatedMeanGrads[s]==null&&this.centered&&(this.accumulatedMeanGrads[s]={originalName:`${i}/mg`,variable:X(()=>Ke(a).variable(r))});const o=Array.isArray(e)?e[s].tensor:e[i];if(o==null)return;const l=this.accumulatedMeanSquares[s].variable,c=this.accumulatedMoments[s].variable;X(()=>{const u=oe(W(l,this.decay),W(lt(o),1-this.decay));if(this.centered){const d=this.accumulatedMeanGrads[s].variable,f=oe(W(d,this.decay),W(o,1-this.decay)),h=Ce(W(o,this.learningRate),xn(be(u,oe(lt(f),this.epsilon)))),p=oe(W(c,this.momentum),h);l.assign(u),d.assign(f),c.assign(p);const m=be(a,p);a.assign(m)}else{const d=oe(W(l,this.decay),W(lt(o),1-this.decay)),f=oe(W(c,this.momentum),Ce(W(o,this.learningRate),xn(oe(d,this.epsilon))));l.assign(d),c.assign(f);const h=be(a,f);a.assign(h)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&Oe(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&Oe(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&Oe(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,i=!1;this.accumulatedMeanSquares=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(i)})),this.accumulatedMoments=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(i)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(s=>({originalName:s.name,variable:s.tensor.variable(i)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}Xv.className="RMSProp";ae(Xv);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Tr{static sgd(e){return new tm(e)}static momentum(e,n,i=!1){return new Kv(e,n,i)}static rmsprop(e,n=.9,i=0,s=null,a=!1){return new Xv(e,n,i,s,a)}static adam(e=.001,n=.9,i=.999,s=null){return new Uv(e,n,i,s)}static adadelta(e=.001,n=.95,i=null){return new Hv(e,n,i)}static adamax(e=.002,n=.9,i=.999,s=null,a=0){return new qv(e,n,i,s,a)}static adagrad(e,n=.1){return new Gv(e,n)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qo={sgd:Tr.sgd,momentum:Tr.momentum,adadelta:Tr.adadelta,adagrad:Tr.adagrad,rmsprop:Tr.rmsprop,adamax:Tr.adamax,adam:Tr.adam};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wee=(()=>typeof requestAnimationFrame!="undefined"?requestAnimationFrame:typeof setImmediate!="undefined"?setImmediate:t=>t())();function Jv(){return new Promise(t=>wee(()=>t()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _3(t,e){const n=t[0].length;t.forEach((s,a)=>{E(s.length===n,()=>`Error in concat${n}D: rank of tensors[${a}] must be the same as the rank of the rest (${n})`)}),E(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const i=t[0];t.forEach((s,a)=>{for(let r=0;r<n;r++)E(r===e||s[r]===i[r],()=>`Error in concat${n}D: Shape of tensors[${a}] (${s}) does not match the shape of the rest (${i}) along the non-concatenated axis ${a}.`)})}function $a(t,e){const n=t[0].slice();for(let i=1;i<t.length;i++)n[e]+=t[i][e];return n}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Ws;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(Ws||(Ws={}));function a5(t,e,n){let i=new Array;if(n==null&&e==null)return i;if(e==null)for(;i.length<t+n.length;)i.push(-1);else i=e.slice();if(n==null)return i;if(t+n.length!==i.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${i.length}`);for(let s=1;s<n.length;++s){const a=n[s],r=i[i.length-n.length+s],o=i[r];if(a>=0)if(o>=0){if(o!==a)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${s+t}] = ${a} but shape[${s+t}] = ${o}`)}else i[r]=a}return i}function r5(t){const e={FIRST_DIM_SIZE:Ws.FIRST_DIM_SIZE,VALUE_ROWIDS:Ws.VALUE_ROWIDS,ROW_LENGTHS:Ws.ROW_LENGTHS,ROW_SPLITS:Ws.ROW_SPLITS,ROW_LIMITS:Ws.ROW_LIMITS,ROW_STARTS:Ws.ROW_STARTS},n=[];for(const i of t)if(i in e)n.push(e[i]);else break;return n}function o5(t){return t.length===0?0:t[0]===Ws.FIRST_DIM_SIZE?t.length-1:t.length}function l5(t,e){if(t==null||e==null)return;const n=t.length,i=e.length;if(n>=i)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${i})`);for(let s=0;s<Math.min(n,i-1);++s){const a=t[s],r=e[s+1];if(a>=0&&r>=0&&a!==1&&a!==r)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${s-t.length}] = ${a} but ragged tensor input.flatValues.shape[${s-t.length}] = ${r}`)}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x3=30;function Yv(t){return t<=x3?t:M1(t,Math.floor(Math.sqrt(t)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S3(t,e,n){const i=n*(typeof t=="number"?t:t[0]),s=e*(typeof t=="number"?t:t[1]);return[i,s]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nm(t,e,n,i=!0){let s=[];if(i)s=s.concat(e.slice(0)),s.push(t[0]/n),s=s.concat(t.slice(1));else{s=s.concat(t[0]);const a=e.length;for(let r=0;r<a;++r)s=s.concat([t[r+1]/e[r],e[r]]);s=s.concat(t.slice(a+1))}return s}function im(t,e,n=!0){const i=[];if(n){i.push(e);for(let s=e+1;s<t;++s)s<=2*e?(i.push(s),i.push(s-(e+1))):i.push(s)}else{const s=[],a=[];for(let r=1;r<t;++r)r>=e*2+1||r%2===1?a.push(r):s.push(r);i.push(...s),i.push(0),i.push(...a)}return i}function sm(t,e,n,i=!0){const s=[];i?s.push(t[0]/n):s.push(t[0]*n);for(let a=1;a<t.length;++a)a<=e.length?i?s.push(e[a-1]*t[a]):s.push(t[a]/e[a-1]):s.push(t[a]);return s}function C3(t,e){const n=[0];for(let i=0;i<e;++i)n.push(t[i][0]);return n}function N3(t,e,n){const i=t.slice(0,1);for(let s=0;s<n;++s)i.push(t[s+1]-e[s][0]-e[s][1]);return i}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qv=1.7580993408473768,Zv=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I3=.3275911,T3=.254829592,$3=-.284496736,E3=1.421413741,D3=-1.453152027,A3=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hr(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(t.length*2);for(let i=0;i<n.length;i+=2)n[i]=t[i/2],n[i+1]=e[i/2];return n}function c5(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let i=0;i<t.length;i+=2)e[i/2]=t[i],n[i/2]=t[i+1];return{real:e,imag:n}}function u5(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),i=new Float32Array(e);for(let s=0;s<t.length;s+=4)n[Math.floor(s/4)]=t[s],i[Math.floor(s/4)]=t[s+1];return{real:n,imag:i}}function d5(t){const e=Math.floor(t.length/4),n=new Float32Array(e),i=new Float32Array(e);for(let s=2;s<t.length;s+=4)n[Math.floor(s/4)]=t[s],i[Math.floor(s/4)]=t[s+1];return{real:n,imag:i}}function F3(t,e){const n=t[e*2],i=t[e*2+1];return{real:n,imag:i}}function f5(t,e,n,i){t[i*2]=e,t[i*2+1]=n}function h5(t,e){const n=new Float32Array(t/2),i=new Float32Array(t/2);for(let s=0;s<Math.ceil(t/2);s++){const a=(e?2:-2)*Math.PI*(s/t);n[s]=Math.cos(a),i[s]=Math.sin(a)}return{real:n,imag:i}}function p5(t,e,n){const i=(n?2:-2)*Math.PI*(t/e),s=Math.cos(i),a=Math.sin(i);return{real:s,imag:a}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bw="->",kee=/->/g,r$=",",o$="...";function R3(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(kee,"").length)/Bw.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${Bw}").`);const[i,s]=t.split(Bw);E(i.indexOf(o$)===-1,()=>`The ellipsis notation ("${o$}") is not supported yet.`);const a=i.split(r$),r=a.length;if(e!==r)throw new Error(`Expected ${r} input tensors, received ${e}`);if(r>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const o=[];for(let f=0;f<s.length;++f){const h=s[f];if(!a.some(p=>p.indexOf(h)!==-1))throw new Error(`Output subscripts contain the label ${h} not present in the input subscripts.`);o.indexOf(h)===-1&&o.push(h)}for(let f=0;f<i.length;++f){const h=i[f];o.indexOf(h)===-1&&h!==r$&&o.push(h)}const l=new Array(a.length);for(let f=0;f<r;++f){if(new Set(a[f].split("")).size!==a[f].length)throw new Error(`Found duplicate axes in input component ${a[f]}. Support for duplicate axes in input is not implemented yet.`);l[f]=[];for(let h=0;h<a[f].length;++h)l[f].push(o.indexOf(a[f][h]))}const c=o.length,u=s.length,d=[];for(let f=u;f<c;++f)d.push(f);return{allDims:o,summedDims:d,idDims:l}}function O3(t,e){let n=new Array(t);n.fill(-1);for(let s=0;s<e.length;++s)n[e[s]]=s;const i=[];for(let s=0;s<t;++s)n[s]===-1&&i.push(s);return n=n.filter(s=>s!==-1),{permutationIndices:n,expandDims:i}}function P3(t,e,n){const i=new Array(t);for(let s=0;s<n.length;++s){const a=n[s].shape;for(let r=0;r<e[s].length;++r)i[e[s][r]]===void 0?i[e[s][r]]=a[r]:E(i[e[s][r]]===a[r],()=>`Expected dimension ${i[e[s][r]]} at axis ${r} of input shaped ${JSON.stringify(a)}, but got dimension ${a[r]}`)}}function L3(t,e){const n=t,i=[];let s=0;t.length===0&&n.push(-1),s=t.length+1;for(let r=0;r<s;++r)i.push([]);const a=[];for(let r=0;r<n.length;++r){const o=n[r],l=_ee(e,o);for(const c of l)a.indexOf(c)===-1&&(i[r].push(c),a.push(c))}return{path:n,steps:i}}function M3(t){return t.every((e,n)=>e===n)}function _ee(t,e){const n=[];for(let i=0;i<t.length;++i)(t[i].length===0||t[i].indexOf(e)!==-1||e===-1)&&n.push(i);return n}function B3(t,e,n=0){let i=[];if(typeof e=="number")E(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),i=new Array(e).fill(t.shape[n]/e);else{const s=e.reduce((r,o)=>(o===-1&&(r+=1),r),0);E(s<=1,()=>"There should be only one negative value in split array.");const a=e.indexOf(-1);if(a!==-1){const r=e.reduce((o,l)=>l>0?o+l:o);e[a]=t.shape[n]-r}E(t.shape[n]===e.reduce((r,o)=>r+o),()=>"The sum of sizes must match the size of the axis dimension."),i=e}return i}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m5(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function g5(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function y5(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v5(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function b5(t,e){return`size ${t} must be non-negative, not ${e}`}function w5(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function k5(t,e){const n=te(t),i=te(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${i}. inputShape=${t} outputShape= ${e}`}function _5(t,e){const n=te(t),i=te(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${i}. inputShape=${t} outputShape=${e}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P_(){return"segment ids must be >= 0"}function x5(){return"segment ids are not increasing"}function S5(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function C5(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N5(t,e){let n=!1,i;for(t<=x3?(i=t,n=!0):i=M1(t,Math.floor(Math.sqrt(t)));!n;)i>e||i===t?n=!0:i=M1(t,i+1);return i}function I5(t,e,n){const i=[],s=t.length;for(let a=0;a<s;a++)a!==e?i.push(t[a]):i.push(n);return i}function z3(t,e,n,i){const s=e.shape.length,a=t.shape.length;if(i!==0&&(i<-s||i>s))throw new Error(`Expect batchDims in the range of [-${s}, ${s}], but got ${i}`);if(i<0&&(i+=s),i>a)throw new Error(`batchDims (${i}) must be less than rank(x) (
    ${a}).`);if(n<i)throw new Error(`batchDims (${i}) must be less than or equal to axis (${n}).`);for(let d=0;d<i;++d)if(t.shape[d]!==e.shape[d])throw new Error(`x.shape[${d}]: ${t.shape[d]} should be equal to indices.shape[${d}]: ${e.shape[d]}.`);const r=t.shape[n],o=[];let l=1,c=1,u=1;for(let d=0;d<i;++d)o.push(t.shape[d]),l*=t.shape[d];for(let d=i;d<n;d++)o.push(t.shape[d]),c*=t.shape[d];for(let d=i;d<s;d++)o.push(e.shape[d]);for(let d=n+1;d<a;d++)o.push(t.shape[d]),u*=t.shape[d];return{batchSize:l,sliceSize:u,outerSize:c,dimSize:r,outputShape:o}}var xee=Object.freeze(Object.defineProperty({__proto__:null,segOpComputeOptimalWindowSize:N5,computeOutShape:I5,collectGatherOpShapeInfo:z3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function El(t){try{return t.map(e=>lr(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function T5(t){return t.map(e=>Ia(e))}var $5=Object.freeze(Object.defineProperty({__proto__:null,slice_util:KR,segment_util:xee,fromUint8ToStringArray:El,fromStringArrayToUint8:T5,upcastType:li,axesAreInnerMostDims:KS,combineLocations:sO,computeOutAndReduceShapes:mn,expandShapeToKeepDim:Ht,assertAxesAreInnerMostDims:Nn,getAxesPermutation:Rt,getUndoAxesPermutation:Do,getInnerMostAxes:Gt,getBroadcastDims:Cl,getReductionAxes:Yt,assertAndGetBroadcastShape:Pe,assertParamsConsistent:_3,computeOutShape:$a,computeDilation2DInfo:Bp,computePool2DInfo:Ns,computePool3DInfo:yr,computeConv2DInfo:pn,computeConv3DInfo:$o,computeDefaultPad:$S,tupleValuesAreOne:go,eitherStridesOrDilationsAreOne:Cn,convertConv2DDataFormat:vr,checkPadOnDimRoundingMode:ei,getFusedDyActivation:Lv,getFusedBiasGradient:Mv,applyActivation:Bv,shouldFuse:zv,get RowPartitionType(){return Ws},combineRaggedTensorToTensorShapes:a5,getRowPartitionTypesHelper:r5,getRaggedRank:o5,validateDefaultValueShape:l5,PARALLELIZE_THRESHOLD:x3,computeOptimalWindowSize:Yv,getImageCenter:S3,getReshaped:nm,getPermuted:im,getReshapedPermuted:sm,getSliceBeginCoords:C3,getSliceSize:N3,prepareAndValidate:ov,validateUpdateShape:fS,validateInput:hS,calculateShapes:fd,SELU_SCALEALPHA:Qv,SELU_SCALE:Zv,ERF_P:I3,ERF_A1:T3,ERF_A2:$3,ERF_A3:E3,ERF_A4:D3,ERF_A5:A3,warn:Bi,log:XU,mergeRealAndImagArrays:hr,splitRealAndImagArrays:c5,complexWithEvenIndex:u5,complexWithOddIndex:d5,getComplexWithIndex:F3,assignToTypedArray:f5,exponents:h5,exponent:p5,decodeEinsumEquation:R3,getEinsumPermutation:O3,checkEinsumDimSizes:P3,getEinsumComputePath:L3,isIdentityPermutation:M3,prepareSplitSize:B3,getSparseFillEmptyRowsIndicesDenseShapeMismatch:m5,getSparseFillEmptyRowsNegativeIndexErrorMessage:g5,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:y5,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:v5,getSparseReshapeNegativeOutputDimErrorMessage:b5,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:w5,getSparseReshapeInputOutputMultipleErrorMessage:k5,getSparseReshapeInputOutputMismatchErrorMessage:_5,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:P_,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:x5,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:S5,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:C5},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var See=Object.freeze(Object.defineProperty({__proto__:null,nonMaxSuppressionV3Impl:Vv,nonMaxSuppressionV4Impl:Wv,nonMaxSuppressionV5Impl:jv,whereImpl:Ov},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E5={kernelName:Oh,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>W(t,Kl(fe(n,"float32"),-1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cee={kernelName:yu,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const i=lt(fe(n,"float32")),s=xn(be(Te(1),i));return wt(Ce(t,s))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nee={kernelName:vu,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const i=xn(be(lt(fe(n,"float32")),1));return Ce(t,i)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Iee={kernelName:jl,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,s=Pe(n.shape,i.shape);return{a:()=>{let o=t;const l=Yt(n.shape,s);return l.length>0&&(o=ke(o,l)),j(o,n.shape)},b:()=>{let o=t;const l=Yt(i.shape,s);return l.length>0&&(o=ke(o,l)),j(o,i.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tee={kernelName:Ph,saveAllInputs:!0,gradFunc:(t,e)=>{const n={};return e.forEach((i,s)=>{n[s]=()=>t.clone()}),n}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $ee={kernelName:Lh,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ke(n)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eee={kernelName:Mh,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ke(n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dee={kernelName:bu,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ce(t,xn(be(Te(1),lt(fe(n,"float32")))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Aee={kernelName:wu,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const i=xn(oe(Te(1),lt(fe(n,"float32"))));return Ce(t,i)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fee={kernelName:xu,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,s=Pe(n.shape,i.shape);return{a:()=>{const o=oe(lt(n),lt(i));let l=W(t,Ce(i,o));const c=Yt(n.shape,s);return c.length>0&&(l=ke(l,c)),j(l,n.shape)},b:()=>{const o=oe(lt(n),lt(i));let l=wt(W(t,Ce(n,o)));const c=Yt(i.shape,s);return c.length>0&&(l=ke(l,c)),j(l,i.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ree={kernelName:ku,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ce(t,oe(lt(fe(n,"float32")),1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oee={kernelName:_u,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ce(t,be(Te(1),lt(fe(n,"float32"))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pee(t,e,n,i,s,a){const r=F(t,"dy","avgPool3dGrad"),o=F(e,"input","avgPool3dGrad");let l=r,c=o,u=!1;o.rank===4&&(u=!0,l=j(r,[1,r.shape[0],r.shape[1],r.shape[2],r.shape[3]]),c=j(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),E(l.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`),E(c.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${c.rank}.`),ei("avgPool3dGrad",s,a);const d={dy:l,input:c},f={filterSize:n,strides:i,pad:s,dimRoundingMode:a},h=B.runKernel(iy,d,f);return u?j(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const Lee=z({avgPool3dGrad_:Pee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mee={kernelName:zh,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{filterSize:s,strides:a,pad:r,dimRoundingMode:o}=n;return{x:()=>Lee(t,i,s,a,r,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bee(t,e,n,i,s){const a=F(t,"dy","avgPoolGrad"),r=F(e,"input","avgPoolGrad");E(r.rank===a.rank,()=>`Rank of input (${r.rank}) does not match rank of dy (${a.rank})`);let o=r,l=a,c=!1;r.rank===3&&(c=!0,o=j(r,[1,r.shape[0],r.shape[1],r.shape[2]]),l=j(a,[1,a.shape[0],a.shape[1],a.shape[2]])),E(l.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`),E(o.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${o.rank}.`);const u={dy:l,input:o},d={filterSize:n,strides:i,pad:s},f=B.runKernel(ny,u,d);return c?j(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const zee=z({avgPoolGrad_:Bee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vee={kernelName:Bh,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{filterSize:s,strides:a,pad:r}=n;return{x:()=>zee(t,i,s,a,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wee={kernelName:Vh,inputsToSave:["a","b"],gradFunc:(t,e,n)=>{const[i,s]=e,{transposeA:a,transposeB:r}=n;return!a&&!r?{a:()=>Be(t,s,!1,!0),b:()=>Be(i,t,!0,!1)}:!a&&r?{a:()=>Be(t,s,!1,!1),b:()=>Be(t,i,!0,!1)}:a&&!r?{a:()=>Be(s,t,!1,!0),b:()=>Be(i,t,!1,!1)}:{a:()=>Be(s,t,!0,!0),b:()=>Be(t,i,!0,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jee={kernelName:Wh,gradFunc:(t,e,n)=>{const{blockShape:i,crops:s}=n;return{x:()=>Kp(t,i,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hee={kernelName:rR,gradFunc:(t,e,n)=>{const i=n,s=i.inputShape,a=i.shape,r=Array.from(a);for(let l=s.length-1;l>=0;l--)if(s[l]===a[l])r[l]=1;else if(s[l]!==1)throw new Error(`broadcastTo(): [${s}] cannot be broadcast to [${a}].`);const o=[];for(let l=0;l<r.length;l++)r[l]>1&&o.push(l);return{x:()=>ke(t,o,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gee={kernelName:Su,gradFunc:t=>({x:()=>t.clone()})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uee={kernelName:Cu,gradFunc:t=>({x:()=>Ke(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qee={kernelName:Nu,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{clipValueMin:s,clipValueMax:a}=n;return{x:()=>Mn(Cs(br(i,s),Ao(i,a)),t,Ke(t))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kee={kernelName:jh,inputsToSave:["x"],gradFunc:E5.gradFunc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xee={kernelName:Hh,saveAllInputs:!0,gradFunc:(t,e,n)=>{const i=e.map(l=>l.shape),{axis:s}=n,a=ze(s,e[0].shape)[0],r=i.map(l=>l[a]);return oi(t,r,a).map(l=>()=>l)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jee={kernelName:Gh,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[i,s]=e,{dilations:a,strides:r,pad:o,dataFormat:l}=n;return E(go(a),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`),{x:()=>zS(i.shape,t,s,r,o,l),filter:()=>b3(i,t,s.shape,r,o,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yee={kernelName:Uh,inputsToSave:["dy","filter"],gradFunc:(t,e,n)=>{const[i,s]=e,{strides:a,pad:r,dataFormat:o,dimRoundingMode:l}=n;return{dy:()=>dr(t,s,a,r,o,1,l),filter:()=>b3(t,i,s.shape,a,r,o,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qee(t,e,n,i,s){let a=t;t.rank===4&&(a=j(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let r=e;r.rank===4&&(r=j(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),E(a.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${a.shape}.`),E(r.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${r.shape}.`),E(n.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`),E(a.shape[4]===n[3],()=>`Error in conv3dDerFilter: depth of input ${a.shape[4]}) must match input depth in filter (${n[3]}.`),E(r.shape[4]===n[4],()=>`Error in conv3dDerFilter: depth of dy (${r.shape[4]}) must match output depth for filter (${n[4]}).`);const o={x:a,dy:r},l={strides:i,pad:s,filterShape:n};return B.runKernel(ly,o,l)}const Zee=z({conv3DBackpropFilter_:Qee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ete={kernelName:qh,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:i,strides:s,pad:a}=n;E(go(i),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`);const[r,o]=e;return{x:()=>tO(r.shape,t,o,s,a),filter:()=>Zee(r,t,o.shape,s,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tte={kernelName:Iu,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>W(wt(Tv(fe(n,"float32"))),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nte={kernelName:Tu,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>W($v(fe(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ite={kernelName:Kh,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{axis:s,exclusive:a,reverse:r}=n;return{x:()=>{const o=Rt([s],i.rank);let l=pv(t,s,a,!r);return o!=null&&(l=He(l,o)),l}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ste={kernelName:Xh,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:i,strides:s,pad:a,dimRoundingMode:r}=n,o=i==null?[1,1]:i;E(go(o),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);const[l,c]=e;return E(l.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`),E(c.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${c.rank}.`),E(l.shape[3]===c.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${c.shape[2]}.`),E(Cn(s,o),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${s} and dilations '${o}'.`),ei("depthwiseConv2d",a,r),{x:()=>KO(l.shape,t,c,s,a,o,r),filter:()=>qO(l,t,c.shape,s,a,o,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ate={kernelName:Jh,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[i,s]=e,a={x:i,filter:s,dy:t},r={x:i,filter:s,dy:t};return{x:()=>B.runKernel(B1,a,n),filter:()=>B.runKernel(z1,r,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rte={kernelName:Eu,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e,i={dy:t,y:n};return{x:()=>B.runKernel(vy,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ote={kernelName:Du,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,i=W(Ei(wt(lt(n))),2/Math.sqrt(Math.PI));return{x:()=>W(t,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lte={kernelName:Au,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>W(t,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cte={kernelName:Qh,inputsToSave:["input"],gradFunc:(t,e)=>{const[n]=e;return{input:()=>j(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ute={kernelName:Fu,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>W(t,Ei(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dte={kernelName:Ru,gradFunc:t=>({x:()=>Ke(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fte={kernelName:Ou,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,s=Pe(n.shape,i.shape);return{a:()=>{const o=Ce(t,fe(i,"float32")),l=Yt(n.shape,s);return l.length>0?j(ke(o,l),n.shape):o},b:()=>{let o=W(t,fe(n,"float32"));const l=Yt(i.shape,s);l.length>0&&(o=j(ke(o,l),i.shape));const c=lt(i);return wt(Ce(o,fe(c,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hte={kernelName:Zh,inputsToSave:["x","mean","variance","scale"],gradFunc:(t,e,n)=>{const{varianceEpsilon:i}=n,[s,a,r,o]=e,l=o==null?Te(1):o,c=Yt(a.shape,s.shape),u=[];if(a.rank===1){for(let w=0;w<s.shape.length-1;++w)u.push(s.shape[w]);u.push(1)}const d=be(s,a),f=W(t,l),h=Cv(oe(r,Te(i))),p=W(W(W(h,h),h),Te(-.5));return{x:()=>a.rank===1?j(W(W(t,Wi(j(h,[1,1,1,a.shape[0]]),u)),l),s.shape):j(W(W(t,h),l),s.shape),mean:()=>{let w=W(W(h,Te(-1)),f);return a.rank===1&&(w=ke(w,c)),j(w,a.shape)},variance:()=>{let w=W(W(p,d),f);return a.rank===1&&(w=ke(w,c)),j(w,a.shape)},scale:()=>{const w=W(d,h);let k=W(t,w);return a.rank===1&&(k=ke(k,c)),j(k,a.shape)},offset:()=>{let w=t;return a.rank===1&&(w=ke(w,c)),j(w,a.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pte={kernelName:ep,inputsToSave:["x","indices"],gradFunc:(t,e,n)=>{const[i,s]=e,{axis:a}=n,r=ze(a,i.shape)[0];return{x:()=>{const l=i.shape,c=s.size,u=l.slice(0,r),d=u.length,f=l.slice(a,l.length).slice(1),h=f.length,p=l$(0,d),m=l$(d+1,d+1+h),y=c$([u,[c],f]),g=j(t,y),v=j(s,[c]),b=c$([[d],p,m]),w=He(g,b);let k=Rv(w,v,i.shape[r]);const x=Do(b);return k=He(k,x),k},indices:()=>s}}};function l$(t,e){const n=[];for(let i=t;i<e;++i)n.push(i);return n}function c$(t){const e=[];for(let n=0;n<t.length;++n)for(let i=0;i<t[n].length;++i)e.push(t[n][i]);return e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mte={kernelName:Pu,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e;return{a:()=>Ke(n),b:()=>Ke(i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gte={kernelName:Lu,gradFunc:t=>({x:()=>fe(t,"float32")})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yte={kernelName:Mu,gradFunc:t=>({x:()=>Ke(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vte={kernelName:Bu,gradFunc:t=>({x:()=>Ke(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bte={kernelName:zu,gradFunc:t=>({x:()=>Ke(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wte={kernelName:np,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{alpha:s}=n,a=ti(i,0);return{x:()=>Mn(a,t,W(t,s))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kte={kernelName:Wu,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ce(t,oe(n,1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _te={kernelName:Vu,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ce(t,fe(n,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xte={kernelName:oR,inputsToSave:[],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i]=e,{axis:s}=n;return{logits:()=>{const r=Ei(i);return be(t,W(ke(t,s,!0),r))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ste(t,e,n,i=5,s=1,a=1,r=.5){const o={x:t,y:e,dy:n},l={depthRadius:i,bias:s,alpha:a,beta:r};return B.runKernel(Ny,o,l)}const Cte=z({localResponseNormalizationBackprop_:Ste});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nte={kernelName:lp,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i,s]=e,{depthRadius:a,bias:r,alpha:o,beta:l}=n;return{x:()=>Cte(i,s,t,a,r,o,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D5(t,e,n,i){return e.rank<n.rank&&(e=j(e,Ht(e.shape,i))),t.rank<n.rank&&(t=j(t,Ht(t.shape,i))),{x:()=>W(t,fe($i(n,e),t.dtype))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u$={kernelName:cp,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const i=n,{reductionIndices:s}=i,a=e[0],r=e[1],o=ze(s,a.shape),l=D5(t,r,a,o);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ite={kernelName:ju,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e;return{a:()=>W(t,fe(br(n,i),"float32")),b:()=>W(t,fe(gv(n,i),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tte(t,e,n,i,s,a,r){const o=F(t,"dy","maxPool3dGrad"),l=F(e,"input","maxPool3dGrad"),c=F(n,"output","maxPool3dGrad");let u=o,d=l,f=c,h=!1;l.rank===4&&(h=!0,u=j(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),d=j(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),f=j(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),E(u.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${u.rank}.`),E(d.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${d.rank}.`),E(f.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${f.rank}.`),ei("maxPool3dGrad",a,r);const p={dy:u,input:d,output:f},m={filterSize:i,strides:s,pad:a,dimRoundingMode:r},y=B.runKernel(Ty,p,m);return h?j(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}const $te=z({maxPool3dGrad_:Tte});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ete={kernelName:dp,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i,s]=e,{filterSize:a,strides:r,pad:o,dimRoundingMode:l}=n;return{x:()=>$te(t,i,s,a,r,o,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dte(t,e,n,i,s,a,r){const o=F(t,"dy","maxPoolGrad"),l=F(e,"input","maxPoolGrad"),c=F(n,"output","maxPoolGrad");E(l.rank===o.rank,()=>`Rank of input (${l.rank}) does not match rank of dy (${o.rank})`),E(o.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${o.rank}.`),E(l.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`),ei("maxPoolGrad",a,r);const u={dy:o,input:l,output:c},d={filterSize:i,strides:s,pad:a,dimRoundingMode:r};return B.runKernel(Iy,u,d)}const Ate=z({maxPoolGrad_:Dte});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fte={kernelName:up,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i,s]=e,{filterSize:a,strides:r,pad:o}=n;return{x:()=>Ate(t,i,s,a,r,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rte={kernelName:fp,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{axis:s}=n,a=ze(s,i.shape),o=mn(i.shape,a)[1],l=te(o);return{x:()=>{const u=i.shape.slice();a.forEach(h=>{u[h]=1});const d=j(t,u);return Ce(W(d,Si(i.shape,"float32")),l)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ote={kernelName:hp,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const i=n,{axis:s}=i,[a,r]=e,o=ze(s,a.shape),l=D5(t,r,a,o);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pte={kernelName:Hu,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e;return{a:()=>W(t,fe(Ao(n,i),"float32")),b:()=>W(t,fe(ti(n,i),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lte={kernelName:pp,inputsToSave:["x"],gradFunc:(t,e,n)=>{const i=e[0],{paddings:s}=n,a=s.map(r=>r[0]);return{x:()=>qe(t,a,i.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mte={kernelName:Gu,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,s=Pe(n.shape,i.shape);return{a:()=>{const o=Yt(n.shape,s);return o.length>0?j(ke(t,o),n.shape):t},b:()=>{const o=W(t,wt(yd(Ce(n,i)))),l=Yt(i.shape,s);return l.length>0?j(ke(o,l),i.shape):o}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bte={kernelName:Uu,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,s=Pe(n.shape,i.shape);return{a:()=>{const o=W(t,fe(i,"float32")),l=Yt(n.shape,s);return l.length>0?j(ke(o,l),n.shape):o},b:()=>{const o=W(t,fe(n,"float32")),l=Yt(i.shape,s);return l.length>0?j(ke(o,l),i.shape):o}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zte={kernelName:mp,gradFunc:t=>({x:()=>wt(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vte={kernelName:vp,inputsToSave:["indices"],gradFunc:(t,e)=>{const n=e[0];return{indices:()=>Vt(n.shape,"float32")}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wte={kernelName:yp,gradFunc:t=>({x:()=>Ke(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jte={kernelName:bp,saveAllInputs:!0,gradFunc:(t,e,n)=>{const{axis:i}=n;return Ji(t,i).map(a=>()=>a)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d$={kernelName:wp,inputsToSave:["x"],gradFunc:(t,e,n)=>{const i=e[0],{paddings:s}=n,a=s.map(r=>r[0]);return{x:()=>qe(t,a,i.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hte={kernelName:qu,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(t,e)=>{const[n,i,s]=e,a=n,r=i,o=Pe(a.shape,r.shape);return{a:()=>{const u=fe(r,"float32");let d=W(t,W(u,fr(a,be(u,Te(1)))));const f=Yt(a.shape,o);return f.length>0&&(d=ke(d,f)),j(d,a.shape)},b:()=>{const u=ti(a,0),d=Mn(u,Di(a),Ke(a));let f=W(t,W(s,d));const h=Yt(r.shape,o);return h.length>0&&(f=ke(f,h)),j(f,r.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gte={kernelName:kp,inputsToSave:["x","alpha"],gradFunc:(t,e)=>{const[n,i]=e,s=ti(n,0);return{x:()=>Mn(s,t,W(t,i)),alpha:()=>{let a=Mn(s,Ke(t),W(t,n));const r=Yt(i.shape,t.shape);return r.length>0&&(a=ke(a,r)),j(a,i.shape)}}}};/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ute(t,e,n){const i=t.shape.slice();i[n]=1;const s=j(e,i),a=hh(t,n,!0,!1),r=hh(t,n,!0,!0),o=W(a,r);return W(s,o)}function qte(t,e,n){const i=t.shape.length,s=i-n.length,a=Rt(n,i);let r=t;a!=null&&(r=He(t,a));const o=r.shape.slice(),c=o.splice(i-n.length,n.length).reduce((f,h)=>f*h,1);o.push(c);const u=r.reshape(o);let d=Ute(u,e,s);if(d=d.reshape(r.shape),a!=null){const f=Do(a);d=He(d,f)}return d}const Kte={kernelName:_p,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{axis:s}=n;let a=[];return s==null?a=i.shape.map((r,o)=>o):typeof s=="number"?a=[s]:a=s,{x:()=>qte(i,t,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xte={kernelName:$u,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,s=Pe(n.shape,i.shape);return{a:()=>{const o=Ce(t,fe(i,"float32")),l=Yt(n.shape,s);return l.length>0?j(ke(o,l),n.shape):o},b:()=>{let o=W(t,fe(n,"float32"));const l=Yt(i.shape,s);l.length>0&&(o=j(ke(o,l),i.shape));const c=lt(i);return wt(Ce(o,fe(c,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jte={kernelName:Ku,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ce(t,wt(lt(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yte={kernelName:Ju,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,i=W(Ao(n,6),Kl(n));return{x:()=>W(t,fe(i,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qte={kernelName:Xu,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>W(t,fe(Kl(n),"float32"))}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zte={kernelName:xp,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>j(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ene={kernelName:Cp,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[i]=e,s={dy:t,images:i};return{images:()=>B.runKernel(zy,s,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tne={kernelName:Sp,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[i]=e,s={dy:t,images:i};return{images:()=>B.runKernel(By,s,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nne={kernelName:Np,gradFunc:(t,e,n)=>{const{dims:i}=n,s=ze(i,t.shape);return{x:()=>Xi(t,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ine={kernelName:Yu,gradFunc:t=>({x:()=>Ke(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sne={kernelName:Qu,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>wt(Ce(t,W(fr(n,1.5),2)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ane={kernelName:Ip,inputsToSave:["condition"],gradFunc:(t,e)=>{const[n]=e;return{condition:()=>fe(Ke(n),"float32"),t:()=>W(t,fe(n,t.dtype)),e:()=>W(t,fe(Gp(n),t.dtype))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rne={kernelName:Zu,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const i=ti(n,Te(0)),s=Te(Qv),a=Te(Zv),r=W(t,a),o=W(W(t,s),Ei(fe(n,"float32")));return Mn(i,r,o)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const one={kernelName:id,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>W(t,W(n,be(Te(1),n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lne={kernelName:nd,gradFunc:t=>({x:()=>Ke(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cne={kernelName:ed,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>W(Wp(fe(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const une={kernelName:td,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>W(hv(fe(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dne={kernelName:Tp,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{begin:s,size:a}=n,r=i.shape,[o,l]=lv(i,s,a),c=[];for(let u=0;u<t.rank;u++)c.push([o[u],r[u]-o[u]-l[u]]);return{x:()=>wr(t,c)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fne={kernelName:Ap,outputsToSave:[!0],gradFunc:(t,e,n)=>{const[i]=e,{dim:s}=n,a=!0,r=W(t,i);return{logits:()=>be(r,W(ke(r,[s],a),i))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hne={kernelName:sd,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>W(t,Xs(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f$={kernelName:Ep,gradFunc:(t,e,n)=>{const{blockShape:i,paddings:s}=n;return{x:()=>Vp(t,i,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h$={kernelName:Dp,gradFunc:(t,e,n)=>{const{axis:i}=n;return{x:()=>Lt(t,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pne={kernelName:ad,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ce(t,W(xn(fe(n,"float32")),2))}}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mne={kernelName:Ky,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>W(t,W(fe(n,"float32"),2))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gne={kernelName:rd,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,s=Te(2);return{a:()=>W(t,W(s,be(n,i))),b:()=>W(t,W(s,be(i,n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yne={kernelName:dd,gradFunc:t=>({x:()=>Ke(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vne={kernelName:od,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,i]=e,s=Pe(n.shape,i.shape);return{a:()=>{let o=t;const l=Yt(n.shape,s);return l.length>0&&(o=ke(o,l)),j(o,n.shape)},b:()=>{let o=t;const l=Yt(i.shape,s);return l.length>0&&(o=ke(o,l)),j(wt(o),i.shape)}}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bne={kernelName:$p,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,s=i.shape.slice(),{axis:a}=n;ze(a,i.shape).forEach(c=>{s[c]=1});const o=j(t,s),l=W(o,Si(i.shape,"float32"));return{x:()=>l}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wne={kernelName:ld,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ce(t,lt(Wp(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kne={kernelName:cd,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>W(be(Te(1),lt(n)),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _ne={kernelName:ud,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[i]=e,{reps:s}=n;return{x:()=>{let r=Ke(i);if(i.rank===1)for(let o=0;o<s[0];++o)r=oe(r,qe(t,[o*i.shape[0]],[i.shape[0]]));else if(i.rank===2)for(let o=0;o<s[0];++o)for(let l=0;l<s[1];++l)r=oe(r,qe(t,[o*i.shape[0],l*i.shape[1]],[i.shape[0],i.shape[1]]));else if(i.rank===3)for(let o=0;o<s[0];++o)for(let l=0;l<s[1];++l)for(let c=0;c<s[2];++c)r=oe(r,qe(t,[o*i.shape[0],l*i.shape[1],c*i.shape[2]],[i.shape[0],i.shape[1],i.shape[2]]));else if(i.rank===4)for(let o=0;o<s[0];++o)for(let l=0;l<s[1];++l)for(let c=0;c<s[2];++c)for(let u=0;u<s[3];++u)r=oe(r,qe(t,[o*i.shape[0],l*i.shape[1],c*i.shape[2],u*i.shape[3]],[i.shape[0],i.shape[1],i.shape[2],i.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${i.rank} tensors yet.`);return r}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xne={kernelName:cl,gradFunc:(t,e,n)=>{const i=n,{perm:s}=i,a=Do(s);return{x:()=>He(t,a)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sne={kernelName:Fp,gradFunc:(t,e,n)=>{const i=n,{axis:s}=i;return{value:()=>ui(t,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cne={kernelName:Rp,inputsToSave:["segmentIds"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Nne(t,n)}}};function Nne(t,e){const n=La(e,Ke(e)),i=vd(t,n);let s=br(e,Te(0,"int32"));const a=i.rank-s.rank;for(let o=0;o<a;++o)s=Fn(s,o+1);s=Cs(s,Si(i.shape,"bool"));const r=Ke(i);return Mn(s,i,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ine={kernelName:Op,gradFunc:t=>({x:()=>Ke(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tne=[E5,Cee,Nee,Iee,Tee,$ee,Eee,Dee,Aee,Fee,Ree,Oee,Mee,Vee,Wee,jee,Hee,Gee,Uee,qee,Kee,Xee,Yee,Jee,ete,tte,nte,ite,ste,ate,Xte,rte,ote,lte,cte,ute,fte,dte,hte,pte,mte,gte,yte,vte,bte,wte,kte,_te,xte,Nte,u$,u$,Ite,Ete,Fte,Rte,Ote,Pte,Lte,Mte,Bte,zte,Vte,Wte,jte,d$,d$,Hte,Gte,Kte,Jte,Yte,Qte,Zte,ene,tne,nne,ine,sne,ane,rne,one,lne,cne,une,dne,fne,hne,f$,f$,h$,h$,pne,gne,mne,yne,vne,bne,wne,kne,_ne,xne,Sne,Cne,Ine];for(const t of Tne)lR(t);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.abs=function(){return this.throwIfDisposed(),Kt(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.acos=function(){return this.throwIfDisposed(),kS(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.acosh=function(){return this.throwIfDisposed(),_S(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.add=function(t){return this.throwIfDisposed(),oe(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.all=function(t,e){return this.throwIfDisposed(),uv(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.any=function(t,e){return this.throwIfDisposed(),fh(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.argMax=function(t){return this.throwIfDisposed(),Nl(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.argMin=function(t){return this.throwIfDisposed(),xS(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.asScalar=function(){return this.throwIfDisposed(),E(this.size===1,()=>"The array must have only 1 element."),j(this,[])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.asType=function(t){return this.throwIfDisposed(),fe(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.as1D=function(){return this.throwIfDisposed(),j(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.as2D=function(t,e){return this.throwIfDisposed(),j(this,[t,e])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.as3D=function(t,e,n){return this.throwIfDisposed(),j(this,[t,e,n])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.as4D=function(t,e,n,i){return this.throwIfDisposed(),j(this,[t,e,n,i])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.as5D=function(t,e,n,i,s){return this.throwIfDisposed(),j(this,[t,e,n,i,s])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.asin=function(){return this.throwIfDisposed(),SS(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.asinh=function(){return this.throwIfDisposed(),CS(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.atan=function(){return this.throwIfDisposed(),NS(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.atan2=function(t){return this.throwIfDisposed(),IS(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.atanh=function(){return this.throwIfDisposed(),TS(this)};ne().prototype.avgPool=function(t,e,n,i){return this.throwIfDisposed(),zp(this,t,e,n,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),Vp(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.batchNorm=function(t,e,n,i,s){return this.throwIfDisposed(),hd(this,t,e,n,i,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.broadcastTo=function(t){return this.throwIfDisposed(),dl(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.cast=function(t){return this.throwIfDisposed(),fe(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.ceil=function(){return this.throwIfDisposed(),OS(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.clipByValue=function(t,e){return this.throwIfDisposed(),ci(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.concat=function(t,e){return this.throwIfDisposed(),t instanceof Xe&&(t=[t]),Lt([this,...t],e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.conv1d=function(t,e,n,i,s,a){return this.throwIfDisposed(),dv(this,t,e,n,i,s,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.conv2dTranspose=function(t,e,n,i,s){return this.throwIfDisposed(),fv(this,t,e,n,i,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.conv2d=function(t,e,n,i,s,a){return this.throwIfDisposed(),dr(this,t,e,n,i,s,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.cos=function(){return this.throwIfDisposed(),Wp(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.cosh=function(){return this.throwIfDisposed(),hv(this)};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.cumprod=function(t,e,n){return this.throwIfDisposed(),hh(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.cumsum=function(t,e,n){return this.throwIfDisposed(),pv(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),jS(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.depthwiseConv2d=function(t,e,n,i,s,a){return this.throwIfDisposed(),pd(this,t,e,n,i,s,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.dilation2d=function(t,e,n,i,s){return this.throwIfDisposed(),HS(this,t,e,n,i,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.divNoNan=function(t){return this.throwIfDisposed(),GS(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.div=function(t){return this.throwIfDisposed(),Ce(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.dot=function(t){return this.throwIfDisposed(),US(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.elu=function(){return this.throwIfDisposed(),md(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.equal=function(t){return this.throwIfDisposed(),$i(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.erf=function(){return this.throwIfDisposed(),qS(this)};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.euclideanNorm=function(t,e){return this.throwIfDisposed(),XS(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.exp=function(){return this.throwIfDisposed(),Ei(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.expandDims=function(t){return this.throwIfDisposed(),Fn(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.expm1=function(){return this.throwIfDisposed(),JS(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.fft=function(){return this.throwIfDisposed(),Zp(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.flatten=function(){return this.throwIfDisposed(),j(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.floor=function(){return this.throwIfDisposed(),yd(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.floorDiv=function(t){return this.throwIfDisposed(),cv(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.gather=function(t,e){return this.throwIfDisposed(),vd(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.greaterEqual=function(t){return this.throwIfDisposed(),br(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.greater=function(t){return this.throwIfDisposed(),ti(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.ifft=function(){return this.throwIfDisposed(),tu(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.irfft=function(){return this.throwIfDisposed(),Dv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.isFinite=function(){return this.throwIfDisposed(),YS(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.isInf=function(){return this.throwIfDisposed(),QS(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.isNaN=function(){return this.throwIfDisposed(),ZS(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.leakyRelu=function(t){return this.throwIfDisposed(),jp(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.lessEqual=function(t){return this.throwIfDisposed(),Ao(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.less=function(t){return this.throwIfDisposed(),gv(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.localResponseNormalization=function(t,e,n,i){return this.throwIfDisposed(),e3(this,t,e,n,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.logSigmoid=function(){return this.throwIfDisposed(),t3(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.logSoftmax=function(t){return this.throwIfDisposed(),vv(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.logSumExp=function(t,e){return this.throwIfDisposed(),bv(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.log=function(){return this.throwIfDisposed(),Di(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.log1p=function(){return this.throwIfDisposed(),Hp(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.logicalAnd=function(t){return this.throwIfDisposed(),Cs(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.logicalNot=function(){return this.throwIfDisposed(),Gp(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.logicalOr=function(t){return this.throwIfDisposed(),wv(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.logicalXor=function(t){return this.throwIfDisposed(),n3(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.matMul=function(t,e,n){return this.throwIfDisposed(),Be(this,t,e,n)};ne().prototype.maxPool=function(t,e,n,i){return this.throwIfDisposed(),Up(this,t,e,n,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.max=function(t,e){return this.throwIfDisposed(),Ui(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.maximum=function(t){return this.throwIfDisposed(),La(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.mean=function(t,e){return this.throwIfDisposed(),Et(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.min=function(t,e){return this.throwIfDisposed(),Zc(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.minimum=function(t){return this.throwIfDisposed(),bd(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.mirrorPad=function(t,e){return this.throwIfDisposed(),s3(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.mod=function(t){return this.throwIfDisposed(),a3(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.mul=function(t){return this.throwIfDisposed(),W(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.neg=function(){return this.throwIfDisposed(),wt(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.norm=function(t,e,n){return this.throwIfDisposed(),gd(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.notEqual=function(t){return this.throwIfDisposed(),Tl(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.oneHot=function(t,e=1,n=0){return this.throwIfDisposed(),Yc(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.onesLike=function(){return this.throwIfDisposed(),Ai(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.pad=function(t,e){return this.throwIfDisposed(),wr(this,t,e)};ne().prototype.pool=function(t,e,n,i,s,a){return this.throwIfDisposed(),r3(this,t,e,n,i,s,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.pow=function(t){return this.throwIfDisposed(),fr(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.prelu=function(t){return this.throwIfDisposed(),Xp(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.prod=function(t,e){return this.throwIfDisposed(),o3(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.reciprocal=function(){return this.throwIfDisposed(),c3(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.relu=function(){return this.throwIfDisposed(),sa(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.relu6=function(){return this.throwIfDisposed(),xv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.reshapeAs=function(t){return this.throwIfDisposed(),j(this,t.shape)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.reshape=function(t){return this.throwIfDisposed(),j(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.resizeBilinear=function(t,e,n){return this.throwIfDisposed(),QO(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.resizeNearestNeighbor=function(t,e,n){return this.throwIfDisposed(),ZO(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.reverse=function(t){return this.throwIfDisposed(),Xi(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.rfft=function(){return this.throwIfDisposed(),em(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.round=function(){return this.throwIfDisposed(),Sv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.rsqrt=function(){return this.throwIfDisposed(),Cv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.selu=function(){return this.throwIfDisposed(),Nv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.separableConv2d=function(t,e,n,i,s,a){return this.throwIfDisposed(),Iv(this,t,e,n,i,s,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.sigmoid=function(){return this.throwIfDisposed(),Xs(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.sign=function(){return this.throwIfDisposed(),u3(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.sin=function(){return this.throwIfDisposed(),Tv(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.sinh=function(){return this.throwIfDisposed(),$v(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.slice=function(t,e){return this.throwIfDisposed(),qe(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.softmax=function(t){return this.throwIfDisposed(),Qp(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.softplus=function(){return this.throwIfDisposed(),Ul(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),Kp(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.split=function(t,e){return this.throwIfDisposed(),oi(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.sqrt=function(){return this.throwIfDisposed(),xn(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.square=function(){return this.throwIfDisposed(),lt(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.squaredDifference=function(t){return this.throwIfDisposed(),Av(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.squeeze=function(t){return this.throwIfDisposed(),Fo(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.stack=function(t,e){this.throwIfDisposed();const n=t instanceof Xe?[this,t]:[this,...t];return ui(n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.step=function(t){return this.throwIfDisposed(),Kl(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.stridedSlice=function(t,e,n,i,s,a,r,o){return this.throwIfDisposed(),d3(this,t,e,n,i,s,a,r,o)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.sub=function(t){return this.throwIfDisposed(),be(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.sum=function(t,e){return this.throwIfDisposed(),ke(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.tan=function(){return this.throwIfDisposed(),f3(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.tanh=function(){return this.throwIfDisposed(),Il(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.tile=function(t){return this.throwIfDisposed(),Wi(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.toBool=function(){return this.throwIfDisposed(),fe(this,"bool")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.toFloat=function(){return this.throwIfDisposed(),fe(this,"float32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.toInt=function(){return this.throwIfDisposed(),fe(this,"int32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.topk=function(t,e){return this.throwIfDisposed(),h3(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.transpose=function(t){return this.throwIfDisposed(),He(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.unique=function(t){return this.throwIfDisposed(),p3(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),Rv(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.unstack=function(t){return this.throwIfDisposed(),Ji(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.where=function(t,e){return this.throwIfDisposed(),Mn(t,this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ne().prototype.zerosLike=function(){return this.throwIfDisposed(),Ke(this)};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class ha extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ha.prototype)}}class bs extends Error{constructor(e){super(e),Object.setPrototypeOf(this,bs.prototype)}}class H extends Error{constructor(e){super(e),Object.setPrototypeOf(this,H.prototype)}}class Le extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Le.prototype)}}class V3 extends Error{constructor(e){super(e),Object.setPrototypeOf(this,V3.prototype)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class A5{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let n;return this.cache.has(e)&&(n=this.cache.get(e),this.cache.delete(e),this.cache.set(e,n)),n}put(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(e,n)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let n=0;n<this.maxEntries-e;n++){const i=this.cache.keys().next().value;this.cache.delete(i)}this.maxEntries=e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Dl(t,e){if(Array.isArray(t)){let n=[];for(let i=0;i<e;i++)n=n.concat(t);return n}else{const n=new Array(e);return n.fill(t),n}}function pa(t,e){if(!t)throw new V3(e)}function p$(t,e){let n=0;for(const i of t)i===e&&n++;return n}function ai(t){return t.length===1?t[0]:t}function mt(t){return Array.isArray(t)?t:[t]}function Ua(t){const n=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return n[0]!=="_"?n:"private"+n}function Xo(t){return t.length<=1||t.indexOf("_")===-1?t:t.replace(/[_]+(\w|$)/g,(e,n)=>n.toUpperCase())}let rs={};function W3(t){if(t==null)return null;const e={};return e.className=t.getClassName(),e.config=t.getConfig(),e}function L_(t){if(!(t==null||typeof t!="object"))if(Array.isArray(t))t.forEach(e=>L_(e));else{const e=Object.keys(t);for(const n of e){const i=t[n];i!=null&&typeof i=="object"&&(!Array.isArray(i)&&i.type==="ndarray"&&typeof i.value=="number"?t[n]=i.value:L_(i))}}}function am(t,e={},n={},i="object",s=!1){if(typeof t=="string"){const a=t;let r;if(a in n)r=n[a];else if(a in rs)r=rs[a];else if(r=e[a],r==null)throw new H(`Unknown ${i}: ${t}. This may be due to one of the following reasons:
1. The ${i} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${i} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return r}else{const a=t;if(a.className==null||a.config==null)throw new H(`${i}: Improper config format: ${JSON.stringify(a)}.
'className' and 'config' must set.`);const r=a.className;let o,l;if(r in n?[o,l]=n[r]:r in rs?[o,l]=rs.className:r in e&&([o,l]=e[r]),o==null)throw new H(`Unknown ${i}: ${r}. This may be due to one of the following reasons:
1. The ${i} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${i} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(l!=null){const c={};for(const h of Object.keys(rs))c[h]=rs[h];for(const h of Object.keys(n))c[h]=n[h];const u=a.config;u.customObjects=c;const d=Object.assign({},rs);for(const h of Object.keys(n))rs[h]=n[h];L_(a.config);const f=l(o,a.config,n,s);return rs=Object.assign({},d),f}else{const c=Object.assign({},rs);for(const d of Object.keys(n))rs[d]=n[d];const u=new o(a.config);return rs=Object.assign({},c),u}}}function $ne(t,e){return t<e?-1:t>e?1:0}function rg(t,e){return-1*$ne(t,e)}function ao(t){if(t==null)return t;const e=[];for(const n of t)e.indexOf(n)===-1&&e.push(n);return e}function Ene(t){if(t==null)throw new H(`Invalid value in obj: ${JSON.stringify(t)}`);for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}function Xl(t,e,n){if(n!=null&&t.indexOf(n)<0)throw new H(`${n} is not a valid ${e}.  Valid values are ${t} or null/undefined.`)}function j3(t,e,n=0,i=1/0){return pa(n>=0),pa(i>=n),Array.isArray(t)&&t.length>=n&&t.length<=i&&t.every(s=>typeof s===e)}function fn(t,e){Array.isArray(t)?(E(t.length>0,()=>`${e} is unexpectedly an empty array.`),t.forEach((n,i)=>fn(n,`element ${i+1} of ${e}`))):E(Number.isInteger(t)&&t>0,()=>`Expected ${e} to be a positive integer, but got ${F5(t)}.`)}function F5(t){return t===null?"null":Array.isArray(t)?"["+t.map(e=>F5(e)).join(",")+"]":typeof t=="string"?`"${t}"`:`${t}`}function Dne(t,e,n){let i=n!=null?n():vn(),s;return(...r)=>{const o=n!=null?n():vn();return o-i<e||(i=o,s=t(...r)),s}}function R5(t){return t==="relu"?"relu":t==="linear"?"linear":t==="elu"?"elu":null}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let Ane=0;function O5(){return Ane++}const og={};function eb(t=""){return t in og||(og[t]=0),og[t]+=1,t+og[t].toString()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Fne=["channelsFirst","channelsLast"],Rne=["nearest","bilinear"],One=["valid","same","causal"],Pne=["max","avg"],Lne=["sum","mul","concat","ave"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const sc=new Map;function Ut(t){Xl(Fne,"DataFormat",t)}function Mne(t){Xl(Rne,"InterpolationFormat",t)}function es(t){Xl(One,"PaddingMode",t)}function P5(t){Xl(Pne,"PoolMode",t)}const Of=[],m$="/";function fl(t,e){Of.push(t);try{const n=e();return Of.pop(),n}catch(n){throw Of.pop(),n}}function Bne(){return Of.length===0?"":Of.join(m$)+m$}function L5(t){if(!B5(t))throw new Error("Not a valid tensor name: '"+t+"'");return Bne()+t}function M5(t){if(!B5(t))throw new Error("Not a valid tensor name: '"+t+"'");sc.has(t)||sc.set(t,0);const e=sc.get(t);if(sc.set(t,sc.get(t)+1),e>0){const n=`${t}_${e}`;return sc.set(n,1),n}else return t}const zne=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function B5(t){return!!t.match(zne)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Vne(t){return t===parseInt(t.toString(),10)}function ro(t,e,n){e==null&&(e=0),n==null&&(n=t.length);let i=1;for(let s=e;s<n;++s)i*=t[s];return i}function nu(t){if(t.length===0)return Number.NaN;let e=Number.POSITIVE_INFINITY;for(let n=0;n<t.length;n++){const i=t[n];i<e&&(e=i)}return e}function yo(t){if(t.length===0)return Number.NaN;let e=Number.NEGATIVE_INFINITY;for(let n=0;n<t.length;n++){const i=t[n];i>e&&(e=i)}return e}function Zs(t,e){if(e<t)throw new H(`end (${e}) < begin (${t}) is forbidden.`);const n=[];for(let i=t;i<e;++i)n.push(i);return n}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let zw;function nn(){return zw==null&&(zw=MR().epsilon()),zw}function ea(){return"channelsLast"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Ea(t,e){return fe(t,e)}function rm(t,e=-1){const n=t.shape.slice();return e<0&&(e=n.length+e+1),n.splice(e,0,1),j(t,n)}function Wne(t,e){return X(()=>{if(t.shape.length!==2)throw new H(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);const n=rm(t,1);return M_(n,[1,e,1])})}function jne(t){const e=[ro(t.shape)];return j(t,e)}function Hne(t){if(t.rank<=1)throw new H(`batchFlatten requires a minimum rank of 2. Got rank: ${t.rank}.`);const e=[t.shape[0],ro(t.shape,1)];return j(t,e)}function hl(t,e,n){return X(()=>{switch(t.rank){case 1:return Jp(t,e,n);case 2:return Ev(t,[e,0],[n,t.shape[1]]);case 3:return Yp(t,[e,0,0],[n,t.shape[1],t.shape[2]]);case 4:return eu(t,[e,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3]]);case 5:return qe(t,[e,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4]]);case 6:return qe(t,[e,0,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4],t.shape[5]]);default:throw new H(`sliceAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}})}function Vw(t,e,n){return X(()=>{switch(t.rank){case 1:return Jp(t,e,n);case 2:return Ev(t,[0,e],[t.shape[0],n]);case 3:return Yp(t,[0,0,e],[t.shape[0],t.shape[1],n]);case 4:return eu(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],n]);default:throw new H(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function lg(t,e,n,i){return X(()=>{switch(t.rank){case 1:return Jp(t,e,n);case 2:switch(i){case 1:return hl(t,e,n);case 2:return Vw(t,e,n);default:throw new H(`The axis is not within the rank of the tensor ${i}`)}case 3:switch(i){case 1:return hl(t,e,n);case 2:return Yp(t,[0,e,0],[t.shape[0],n,t.shape[2]]);case 3:return Vw(t,e,n);default:throw new H(`The axis is not within the rank of the tensor ${i}`)}case 4:switch(i){case 1:return hl(t,e,n);case 2:return eu(t,[0,e,0,0],[t.shape[0],n,t.shape[2],t.shape[3]]);case 3:return eu(t,[0,0,e,0],[t.shape[0],t.shape[1],n,t.shape[3]]);case 4:return Vw(t,e,n);default:throw new H(`The axis is not within the rank of the tensor ${i}`)}default:throw new H(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function H3(t,e=-1){let n;return e<0&&(n=t[0].rank,n!==0?e=n:e=0),e===t[0].rank&&(e=-1),Lt(t,e)}function g$(t,e){switch(t.rank){case 1:return PS([t,e]);case 2:return LS([t,e],0);case 3:return MS([t,e],0);case 4:return BS([t,e],0);default:throw new H(`concatAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}}function M_(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new H(`The length of input n (${e.length}) does not match the number of dimensions in input x (${t.rank})`);return Wi(t,e)}function tb(t,e=0,n=1,i,s){return _v(t,e,n,i,s)}function Da(t,e,n,i){if(t.rank<2||e.rank<2)throw new Le(`dot requires both inputs to be rank >= 2 but got x shape = ${t.shape} and y shape = ${e.shape}`);if(e.rank>=3){const s=t.shape.slice(-1)[0],a=e.shape.slice(-2)[0];if(s!==a)throw new Le(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${t.shape} and  y shape = ${e.shape}`)}if(t.rank===2&&e.rank===2)return O_({a:t,b:e,transposeA:!1,transposeB:!1,bias:i?B_(t.rank,i,ea()):null,activation:n});{const s=t.shape.slice(),a=s.pop();t=j(t,[-1,a]);const r=e.shape.slice(),o=r.pop(),l=r.pop(),c=[...r,o],u=Array.from({length:e.rank},(p,m)=>m===0?e.rank-2:m<=e.rank-2?m-1:m);e=j(He(e,u),[l,-1]);const d=[...s,...c];return j(O_({a:t,b:e,transposeA:!1,transposeB:!1,bias:i?B_(t.rank,i,ea()):null,activation:n}),d)}}function z5(t,e,n){return X(()=>(Array.isArray(e)?e=Rn(e,"int32"):e=fe(e,"int32"),vd(t,e,n)))}function om(t){return W(t,t)}function B_(t,e,n){const i=e.shape;if(e.rank!==1&&e.rank!==t)throw new H(`Unexpected bias dimensions: ${e.rank}; expected it to be 1 or ${t}`);if(t===5){if(n==="channelsFirst")return i.length===1?j(e,[1,i[0],1,1,1]):j(e,[1,i[3],i[0],i[1],i[2]]);if(n==="channelsLast")return i.length===1?j(e,[1,1,1,1,i[0]]):j(e,[1].concat(i))}else if(t===4){if(n==="channelsFirst")return i.length===1?j(e,[1,i[0],1,1]):j(e,[1,i[2],i[0],i[1]]);if(n==="channelsLast")return i.length===1?j(e,[1,1,1,i[0]]):j(e,[1].concat(i))}else if(t===3){if(n==="channelsFirst")return i.length===1?j(e,[1,i[0],1]):j(e,[1,i[1],i[0]]);if(n==="channelsLast")return i.length===1?j(e,[1,1,i[0]]):j(e,[1].concat(i))}else if(t<3)return e;throw new H(`Unsupported input rank by biasAdd: ${e.rank}`)}function aa(t,e,n){return X(()=>(n==null&&(n=ea()),Ut(n),oe(t,B_(t.rank,e,n))))}function Gne(t,e=1){if(e!==1)throw new Le(`Support for alpha values other than 1 (${e}) is not implemented yet.`);return md(t)}function Une(t){return X(()=>Ce(t,oe(Kt(t),1)))}function V5(t,e,n,i){return X(()=>y3(t,e,n,i))}function qne(t){return X(()=>{const e=oe(.5,W(.2,t));return ci(e,0,1)})}function lm(t,e,n=!1){return n?t():e()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Kne=["fanIn","fanOut","fanAvg"],Xne=["normal","uniform","truncatedNormal"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Jne(t){Xl(Kne,"FanMode",t)}function Yne(t){Xl(Xne,"Distribution",t)}class Is extends Gl{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class G3 extends Is{apply(e,n){return Vt(e,n)}}G3.className="Zeros";ae(G3);class nb extends Is{apply(e,n){return Si(e,n)}}nb.className="Ones";ae(nb);class U3 extends Is{constructor(e){if(super(),typeof e!="object")throw new H(`Expected argument of type ConstantConfig but got ${e}`);if(e.value===void 0)throw new H(`config must have value set but got ${e}`);this.value=e.value}apply(e,n){return X(()=>W(Te(this.value),Si(e,n)))}getConfig(){return{value:this.value}}}U3.className="Constant";ae(U3);class q3 extends Is{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,n){return kd(e,this.minval,this.maxval,n)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}q3.className="RandomUniform";ae(q3);class K3 extends Is{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Le(`randomNormal does not support dType ${n}.`);return tb(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}K3.className="RandomNormal";ae(K3);class X3 extends Is{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Le(`truncatedNormal does not support dType ${n}.`);return Fv(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}X3.className="TruncatedNormal";ae(X3);class J3 extends Is{constructor(e){super(),this.gain=e.gain!=null?e.gain:1}apply(e,n){return X(()=>{if(e.length!==2||e[0]!==e[1])throw new H("Identity matrix initializer can only be used for 2D square matrices.");return W(this.gain,mv(e[0]))})}getConfig(){return{gain:this.gain}}}J3.className="Identity";ae(J3);function Qne(t,e="channelsLast"){let n,i;if(Ut(e),t.length===2)n=t[0],i=t[1];else if([3,4,5].indexOf(t.length)!==-1){if(e==="channelsFirst"){const s=ro(t,2);n=t[1]*s,i=t[0]*s}else if(e==="channelsLast"){const s=ro(t,0,t.length-2);n=t[t.length-2]*s,i=t[t.length-1]*s}}else{const s=ro(t);n=Math.sqrt(s),i=Math.sqrt(s)}return[n,i]}class di extends Is{constructor(e){if(super(),e.scale<0)throw new H(`scale must be a positive float. Got: ${e.scale}`);this.scale=e.scale==null?1:e.scale,this.mode=e.mode==null?"fanIn":e.mode,Jne(this.mode),this.distribution=e.distribution==null?"normal":e.distribution,Yne(this.distribution),this.seed=e.seed}apply(e,n){const i=Qne(e),s=i[0],a=i[1];let r=this.scale;if(this.mode==="fanIn"?r/=Math.max(1,s):this.mode==="fanOut"?r/=Math.max(1,a):r/=Math.max(1,(s+a)/2),this.distribution==="normal"){const o=Math.sqrt(r);if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Le(`${this.getClassName()} does not support dType ${n}.`);return Fv(e,0,o,n,this.seed)}else{const o=Math.sqrt(3*r);return kd(e,-o,o,n)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}di.className="VarianceScaling";ae(di);class ib extends di{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return di.className}}ib.className="GlorotUniform";ae(ib);class sb extends di{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return di.className}}sb.className="GlorotNormal";ae(sb);class ab extends di{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return di.className}}ab.className="HeNormal";ae(ab);class rb extends di{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return di.className}}rb.className="HeUniform";ae(rb);class ob extends di{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return di.className}}ob.className="LeCunNormal";ae(ob);class lb extends di{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return di.className}}lb.className="LeCunNormal";ae(lb);class Y3 extends Is{constructor(e){if(super(),this.DEFAULT_GAIN=1,this.gain=e.gain==null?this.DEFAULT_GAIN:e.gain,this.seed=e.seed,this.seed!=null)throw new Le("Random seed is not implemented for Orthogonal Initializer yet.")}apply(e,n){return X(()=>{if(e.length<2)throw new Le("Shape must be at least 2D.");e[0]*e[1]>2e3&&console.warn(`Orthogonal initializer is being called on a matrix with more than 2000 (${e[0]*e[1]}) elements: Slowness may result.`);const i=e[0]>e[1]?[e[1],e[0]]:e,s=tb(i,0,1,"float32");let a=k3.gramSchmidt(s);return e[0]>e[1]&&(a=He(a)),W(this.gain,a)})}getConfig(){return{gain:this.gain,seed:this.seed}}}Y3.className="Orthogonal";ae(Y3);const y$={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function v$(t,e={}){return am(t,zi.getMap().classNameMap,e,"initializer")}function Dt(t){return W3(t)}function Ct(t){if(typeof t=="string"){const e=t in y$?y$[t]:t;if(e==="GlorotNormal")return new sb;if(e==="GlorotUniform")return new ib;if(e==="HeNormal")return new ab;if(e==="HeUniform")return new rb;if(e==="LeCunNormal")return new ob;if(e==="LeCunUniform")return new lb;{const n={};return n.className=e,n.config={},v$(n)}}else return t instanceof Is?t:v$(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function z_(t){return Array.isArray(t)&&Array.isArray(t[0])}function Y1(t){return t.length===0?[]:Array.isArray(t[0])?t:[t]}function Re(t){let e;if(Array.isArray(t)){if(t.length!==1)throw new H(`Expected Tensor length to be 1; got ${t.length}`);e=t[0]}else e=t;return e}function nt(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(t.length===1)return t=t,t[0];throw new H(`Expected exactly 1 Shape; got ${t.length}`)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Q1(t){let e=0;for(const n of t)n.shape.length===0?e+=1:e+=n.shape.reduce((i,s)=>i*s);return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const b$="Variable";class W5{constructor(e,n="float32",i=b$,s=!0,a=null){this.dtype=n==null?"float32":n,this.shape=e.shape,this.id=O5(),i=i==null?b$:i,this.originalName=L5(i),this.name=M5(this.originalName),this.trainable_=s,this.constraint=a,this.val=m3(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),Zne(this.val,e),this.val.id!==e.id&&(this.val.assign(e),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function Zne(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}function V_(t){return t.map(e=>e.read())}function Q3(t){t.forEach(e=>{e[0].write(e[1])})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Jt{constructor(e){this.dtype=e.dtype,this.shape=e.shape,e.shape!=null?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class Gs{constructor(e,n,i,s,a,r,o){this.dtype=e,this.shape=n,this.sourceLayer=i,this.inputs=s,this.callArgs=a,this.outputTensorIndex=o,this.id=O5(),r!=null&&(this.originalName=L5(r),this.name=M5(this.originalName)),this.rank=n.length}}let eie=0;class cb{constructor(e,n){this.callArgs=n,this.id=eie++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const i of e.inboundLayers)i!=null&&i.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const n of this.inboundLayers)n!=null?e.push(n.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let tie=0;class We extends Gl{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=tie++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let n=e.name;if(!n){const i=this.getClassName();n=Ua(i)+"_"+eb(i)}if(this.name=n,this.trainable_=e.trainable==null?!0:e.trainable,e.inputShape!=null||e.batchInputShape!=null){let i;if(e.batchInputShape!=null)i=e.batchInputShape;else if(e.inputShape!=null){let a=null;e.batchSize!=null&&(a=e.batchSize),i=[a].concat(e.inputShape)}this.batchInputShape=i;let s=e.dtype;s==null&&(s=e.inputDType),s==null&&(s="float32"),this.dtype=s}e.weights!=null?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,n){return e.name+"_ib-"+n.toString()}getNodeAtIndex(e,n){if(this.inboundNodes.length===0)throw new bs(`The layer has never been called and thus has no defined ${n}.`);if(this.inboundNodes.length<=e)throw new H(`Asked to get ${n} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return ai(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return ai(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new ha(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new ha(`Layer ${this.name} is not connected, no input to return.`);return ai(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new ha(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new ha(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return ai(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(n=>n.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){if(e=mt(e),this.inputSpec==null||this.inputSpec.length===0)return;const n=mt(this.inputSpec);if(e.length!==n.length)throw new H(`Layer ${this.name} expects ${n.length} inputs, but it received ${e.length} input tensors. Input received: ${e}`);for(let i=0;i<e.length;i++){const s=e[i],a=n[i];if(a==null)continue;const r=s.rank;if(a.ndim!=null&&r!==a.ndim)throw new H(`Input ${i} is incompatible with layer ${this.name}: expected ndim=${a.ndim}, found ndim=${r}`);if(a.maxNDim!=null&&r>a.maxNDim)throw new H(`Input ${i} is incompatible with layer ${this.name}: expected max_ndim=${a.maxNDim}, found ndim=${r}`);if(a.minNDim!=null&&r<a.minNDim)throw new H(`Input ${i} is incompatible with layer ${this.name}: expected min_ndim=${a.minNDim}, found ndim=${r}.`);if(a.dtype!=null&&s.dtype!==a.dtype)throw new H(`Input ${i} is incompatible with layer ${this.name} : expected dtype=${a.dtype}, found dtype=${s.dtype}.`);if(a.axes){const o=s.shape;for(const l in a.axes){const c=Number(l),u=a.axes[l],d=c>=0?o[c]:o[o.length+c];if(u!=null&&[u,null].indexOf(d)===-1)throw new H(`Input ${i} is incompatible with layer ${this.name}: expected axis ${c} of input shape to have value ${u} but got shape ${o}.`)}}if(a.shape!=null)for(let o=0;o<a.shape.length;++o){const l=a.shape[o],c=s.shape[o];if(l!=null&&c!=null&&l!==c)throw new H(`Input ${i} is incompatible with layer ${this.name}: expected shape=${a.shape}, found shape=${s.shape}.`)}}}call(e,n){return e}invokeCallHook(e,n){this._callHook!=null&&this._callHook(e,n)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,n){n=n||{},this.assertNotDisposed();const i=mt(e);let s=!0;for(const r of i)if(!(r instanceof Gs)){s=!1;break}let a=!0;for(const r of i)if(r instanceof Gs){a=!1;break}if(s===a)throw new H("Arguments to apply() must be all SymbolicTensors or all Tensors");return fl(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);const r=[];for(const o of mt(e))r.push(o.shape);this.build(ai(r)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&a&&(this._refCount=1)}if(this.assertInputCompatibility(e),a){let r=this.call(e,n);const o=mt(r),l=[];for(let c of o)i.indexOf(c)!==-1&&(c=c.clone()),l.push(c);if(r=ai(l),this.activityRegularizer!=null)throw new Le("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return r}else{const r=nie(e),o=this.computeOutputShape(r);let l;const c=iie(e);if(this.warnOnIncompatibleInputShape(Array.isArray(e)?r[0]:r),o!=null&&o.length>0&&Array.isArray(o[0])?l=o.map((u,d)=>new Gs(c,u,this,mt(e),n,this.name,d)):l=new Gs(c,o,this,mt(e),n,this.name),this.addInboundNode(e,l,null,null,r,o,n),this._refCount++,this.activityRegularizer!=null)throw new Le("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return l}})}warnOnIncompatibleInputShape(e){if(this.batchInputShape!=null)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let n=!1;this.batchInputShape.forEach((i,s)=>{i!=null&&e[s]!=null&&e[s]!==i&&(n=!0)}),n&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new ha(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const n of this.inboundNodes){const i=JSON.stringify(n.outputShapes);e.indexOf(i)===-1&&e.push(i)}if(e.length===1){const n=this.inboundNodes[0].outputShapes;return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n}else throw new ha(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new bs(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return Q1(this.weights)}build(e){this.built=!0}getWeights(e=!1){return V_(e?this.trainableWeights:this.weights)}setWeights(e){X(()=>{const n=this.weights;if(n.length!==e.length)throw new H(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${n.length} weights. Provided weights: ${e}...`);if(n.length===0)return;const i=[],s=V_(n);for(let a=0;a<s.length;++a){const r=s[a],o=n[a],l=e[a];if(!Ge(r.shape,l.shape))throw new H(`Layer weight shape ${r.shape} not compatible with provided weight shape ${l.shape}`);i.push([o,l])}Q3(i)})}addWeight(e,n,i,s,a,r,o,l){if(this._addedWeightNames.indexOf(e)!==-1)throw new H(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),i==null&&(i="float32"),this.fastWeightInitDuringBuild&&(s=l!=null?l():Ct("zeros"));const c=s.apply(n,i),u=new W5(c,i,e,r,o);return c.dispose(),a!=null&&this.addLoss(()=>a.apply(u.read())),r==null&&(r=!0),r?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){e==null||Array.isArray(e)&&e.length===0||(e=mt(e),this._losses!==void 0&&this._losses!==null&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,n){if(!this.supportsMasking){if(n!=null)if(Array.isArray(n))n.forEach(i=>{if(i!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return n}addInboundNode(e,n,i,s,a,r,o=null){const l=mt(e);n=mt(n),i=mt(i),s=mt(s),a=Y1(a),r=Y1(r);const c=[],u=[],d=[];for(const f of l)c.push(f.sourceLayer),u.push(f.nodeIndex),d.push(f.tensorIndex);new cb({outboundLayer:this,inboundLayers:c,nodeIndices:u,tensorIndices:d,inputTensors:l,outputTensors:n,inputMasks:i,outputMasks:s,inputShapes:a,outputShapes:r},o);for(let f=0;f<n.length;f++)n[f].sourceLayer=this,n[f].nodeIndex=this.inboundNodes.length-1,n[f].tensorIndex=f}getConfig(){const e={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(e.batchInputShape=this.batchInputShape),this.dtype!=null&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return--this._refCount===0&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function nie(t){t=mt(t);const e=[];for(const n of t)e.push(n.shape);return ai(e)}function iie(t){return"float32"}function j5(t,e,n){if((e==null||n!=null&&n>0)&&(e=t.sourceLayer,n=t.nodeIndex),e.inboundNodes.length===0)return[t];{const i=e.inboundNodes[n];if(i.inboundLayers.length===0)return i.inputTensors;{const s=[];for(let a=0;a<i.inboundLayers.length;a++){const r=i.inputTensors[a],o=i.inboundLayers[a],l=i.nodeIndices[a],c=j5(r,o,l);for(const u of c)s.indexOf(u)===-1&&s.push(u)}return s}}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class xd extends We{constructor(e){if(super({dtype:e.dtype,name:e.name!=null?e.name:eb("input").toString()}),e.batchSize==null&&(e.batchSize=null),e.sparse==null&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,e.inputShape!=null&&e.batchInputShape!=null)throw new H("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let n=e.batchInputShape;if(n==null){if(e.inputShape==null)throw new H("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[e.batchSize].concat(e.inputShape)}else if(e.batchSize!=null)throw new H("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const i=e.dtype||"float32";this.batchInputShape=n,this.dtype=i,this.inputSpec=[{shape:n}];const s=new Gs(this.dtype,this.batchInputShape,this,[],{},this.name);s.nodeIndex=0,s.tensorIndex=0,new cb({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[s],outputTensors:[s],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]})}apply(e,n){throw new H(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}xd.className="InputLayer";ae(xd);function H5(t){if(t.batchShape==null&&t.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(t.batchShape!=null&&t.shape!=null)throw new H("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let e=t.batchShape;t.shape!=null&&e==null&&(e=[null].concat(t.shape));let n=t.dtype;return n==null&&(n="float32"),new xd({batchInputShape:e,name:t.name,dtype:n,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function sie(t,e){if(t.dtype==null||t.dtype===e.dtype)return e;try{return fe(e,t.dtype)}catch{throw new H(`The dtype of the feed (${e.dtype}) can not be cast to the dtype of the key '${t.name}' (${t.dtype}).`)}}class Hr{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof Hr)for(const n in e.id2Value)this.id2Value[n]=e.id2Value[n],n in e.id2Mask&&(this.id2Mask[n]=e.id2Mask[n]);else{if(e==null)return;for(const n of e)this.add(n.key,n.value)}}add(e,n,i){if(this.id2Value[e.id]==null)this.id2Value[e.id]=sie(e,n),this.name2Id[e.name]=e.id,i!=null&&(this.id2Mask[e.id]=i);else throw new H(`Duplicate key: name=${e.name}, id=${e.id}`);return this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return this.id2Value[e.id]!=null}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof Gs){if(this.id2Value[e.id]==null)throw new H(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}else{const n=this.name2Id[e];if(n==null)throw new H(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[n]}}getMask(e){if(e instanceof Gs){if(this.id2Value[e.id]==null)throw new H(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}else{const n=this.name2Id[e];if(n==null)throw new H(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[n]}}disposeMasks(){this.id2Mask!=null&&Oe(this.id2Mask)}}const Z1=new A5,e0=new A5;function aie(t){Z1!=null&&Z1.setMaxEntries(t),e0!=null&&e0.setMaxEntries(t)}function mf(t,e,n,i){const s=n==null?!1:n.training,a=Array.isArray(t),r=a?t:[t],o=r.map(p=>p.name),l=[],c=e.names();for(const p of o)c.indexOf(p)!==-1?l.push(e.getValue(p)):l.push(null);i!=null&&(i.maxNumTensors=-1/0,i.minNumTensors=1/0);const u=o.join(",")+"|"+e.names().sort().join(",");let d=Z1.get(u),f;if(d==null){const p=rie(r,e);d=p.sorted,f=p.recipientCounts,Z1.put(u,d),e0.put(u,f)}f={},s||Object.assign(f,e0.get(u));const h=new Hr(e);for(let p=0;p<d.length;++p){if(i!=null){const D=q1().numTensors;D>i.maxNumTensors&&(i.maxNumTensors=D),D<i.minNumTensors&&(i.minNumTensors=D)}const m=d[p],y=m.sourceLayer;if(y instanceof xd)continue;const g=[],v=[],b=[];let w=!1;for(const D of m.inputs){const R=h.getValue(D),L=h.getMask(D);g.push(R),v.push(L),L!=null&&(w=!0),s||(f[D.name]--,f[D.name]===0&&!e.hasKey(D)&&o.indexOf(D.name)===-1&&!R.isDisposed&&D.sourceLayer.stateful!==!0&&b.push(R))}w&&(n=n||{},n.mask=v[0]);const k=mt(y.apply(g,n));let x=null;y.supportsMasking&&(x=y.computeMask(g,v));const N=lie(m),I=Array.isArray(N)?N:[N];for(let D=0;D<I.length;++D){h.hasKey(I[D])||h.add(I[D],k[D],Array.isArray(x)?x[0]:x);const R=o.indexOf(I[D].name);R!==-1&&(l[R]=k[D])}s||Oe(b)}return h.disposeMasks(),a?l:l[0]}function rie(t,e){E(t!=null&&t.length>0,()=>"Expected at least one fetch, got none");let n=[],i={};if(t.length===1){const s=w$(t[0],e);n=s.sorted,i=s.recipientMap}else{const s=new Set;for(const a of t){const{sorted:r,recipientMap:o}=w$(a,e);for(const l of r)s.has(l.name)||(n.push(l),s.add(l.name));for(const l in o)i[l]==null&&(i[l]=new Set),o[l].forEach(c=>i[l].add(c))}}return{sorted:n,recipientCounts:oie(i)}}function oie(t){const e={};for(const n in t)e[n]=t[n].size;return e}function w$(t,e){const n=new Set,i=[],s={};for(const o of e.names())n.add(o);const a=[],r=[];for(a.push(t);a.length>0;){const o=a[a.length-1];if(n.has(o.name)){a.pop();continue}const l=r[r.length-1]===a.length-1;if(o.inputs.length===0||l)a.pop(),i.push(o),n.add(o.name),l&&r.pop();else{r.push(a.length-1);for(const c of o.inputs)s[c.name]==null&&(s[c.name]=new Set),s[c.name].add(o.name),!n.has(c.name)&&a.push(c)}}return{sorted:i,recipientMap:s}}function lie(t){let e;if(t.sourceLayer.inboundNodes.length===1)e=t.sourceLayer.output;else{let n=null;for(let i=0;i<t.sourceLayer.inboundNodes.length;++i)for(const s of t.sourceLayer.inboundNodes[i].outputTensors)if(s.id===t.id){n=i;break}e=t.sourceLayer.getOutputAt(n)}return e}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cie=J();cie.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,aie);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Z3(t,e){return X(()=>xn(ke(W(t,t),e,!0)))}class cm extends Gl{getConfig(){return{}}}class eC extends cm{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return X(()=>{const n=Z3(e,this.axis),i=ci(n,0,this.maxValue);return W(e,Ce(i,oe(nn(),n)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}eC.className="MaxNorm";ae(eC);class tC extends cm{constructor(e){super(),this.defaultAxis=0,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return X(()=>Ce(e,oe(nn(),Z3(e,this.axis))))}getConfig(){return{axis:this.axis}}}tC.className="UnitNorm";ae(tC);class nC extends cm{apply(e){return sa(e)}}nC.className="NonNeg";ae(nC);class iC extends cm{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=e.minValue!=null?e.minValue:this.defaultMinValue,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.rate=e.rate!=null?e.rate:this.defaultRate,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return X(()=>{const n=Z3(e,this.axis),i=oe(W(this.rate,ci(n,this.minValue,this.maxValue)),W(1-this.rate,n));return W(e,Ce(i,oe(nn(),n)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}iC.className="MinMaxNorm";ae(iC);const k$={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function an(t){return W3(t)}function _$(t,e={}){return am(t,zi.getMap().classNameMap,e,"constraint")}function rn(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in k$?k$[t]:t,config:{}};return _$(n)}else return t instanceof cm?t:_$(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function uie(t){return new eC(t)}function die(t){return new tC(t)}function fie(){return new nC}function hie(t){return new iC(t)}var pie=Object.freeze(Object.defineProperty({__proto__:null,maxNorm:uie,unitNorm:die,nonNeg:fie,minMaxNorm:hie},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function mie(){return new G3}function gie(){return new nb}function yie(t){return new U3(t)}function vie(t){return new q3(t)}function bie(t){return new K3(t)}function wie(t){return new X3(t)}function kie(t){return new J3(t)}function _ie(t){return new di(t)}function xie(t){return new ib(t)}function Sie(t){return new sb(t)}function Cie(t){return new ab(t)}function Nie(t){return new rb(t)}function Iie(t){return new ob(t)}function Tie(t){return new lb(t)}function $ie(t){return new Y3(t)}var Eie=Object.freeze(Object.defineProperty({__proto__:null,zeros:mie,ones:gie,constant:yie,randomUniform:vie,randomNormal:bie,truncatedNormal:wie,identity:kie,varianceScaling:_ie,glorotUniform:xie,glorotNormal:Sie,heNormal:Cie,heUniform:Nie,leCunNormal:Iie,leCunUniform:Tie,orthogonal:$ie},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function $r(t){if(t==null)return;const e=[],n=[],i=[];for(const s in t){const a=t[s];if(typeof a!="number"){const r=a;e.push(r.data()),n.push(s),i.push(r)}}if(e.length>0){const s=await Promise.all(e);for(let a=0;a<s.length;++a)t[n[a]]=s[a][0];Oe(i)}}function G5(t){if(t!=null)for(const e in t){const n=t[e];typeof n!="number"&&n.dispose()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var x$;(function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"})(x$||(x$={}));const Die=125;class iu{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,n){}async onEpochEnd(e,n){}async onBatchBegin(e,n){}async onBatchEnd(e,n){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class U5{constructor(e,n=10){e==null&&(e=[]),this.callbacks=e,this.queueLength=n}append(e){this.callbacks.push(e)}setParams(e){for(const n of this.callbacks)n.setParams(e)}setModel(e){for(const n of this.callbacks)n.setModel(e)}async onEpochBegin(e,n){n==null&&(n={});for(const i of this.callbacks)await i.onEpochBegin(e,n)}async onEpochEnd(e,n){n==null&&(n={});for(const i of this.callbacks)await i.onEpochEnd(e,n)}async onBatchBegin(e,n){n==null&&(n={});for(const i of this.callbacks)await i.onBatchBegin(e,n)}async onBatchEnd(e,n){n==null&&(n={});for(const i of this.callbacks)await i.onBatchEnd(e,n)}async onTrainBegin(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainBegin(e)}async onTrainEnd(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainEnd(e)}}class Aie extends iu{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,n){n==null&&(n={});const i=n.size==null?0:n.size;this.seen+=i;for(const s in n){const a=n[s];if(typeof a=="number")this.totals.hasOwnProperty(s)||(this.totals[s]=0),this.totals[s]=this.totals[s]+a*i;else{let r;s in this.totals?r=this.totals[s]:this.totals[s]=0;const o=X(()=>oe(this.totals[s],W(a,i)));this.totals[s]=o,r!=null&&r.dispose()}}}async onEpochEnd(e,n){if(n!=null)for(const i of this.params.metrics)this.totals[i]!=null&&(typeof this.totals[i]=="number"?n[i]=this.totals[i]/this.seen:X(()=>{const s=W(Ce(1,this.seen),this.totals[i]);n[i]=s,this.totals[i].dispose(),tn(n[i])}))}}class q5 extends iu{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,n){n==null&&(n={}),this.epoch.push(e);for(const i in n)this.history[i]==null&&(this.history[i]=[]),this.history[i].push(n[i])}async syncData(){const e=[],n=[],i=[];for(const a in this.history){const r=this.history[a];for(let o=0;o<r.length;++o)if(typeof r[o]!="number"){const l=r[o];e.push(l.data()),n.push(a),i.push(o)}}const s=await Promise.all(e);for(let a=0;a<s.length;++a)this.history[n[a]][i[a]].dispose(),this.history[n[a]][i[a]]=s[a][0]}}class K5 extends iu{constructor(e,n){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||Jv,this.yieldEvery=n||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=Die),this.yieldEvery==="never"&&e.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");L1(this.yieldEvery)&&(this.maybeWait=Dne(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,n,i){const s=[];this.yield!=null&&(await $r(i),s.push(this.yield(e,n,i))),s.push(this.nextFrameFunc()),await Promise.all(s)}async onEpochBegin(e,n){this.currentEpoch=e,this.epochBegin!=null&&(await $r(n),await this.epochBegin(e,n))}async onEpochEnd(e,n){const i=[];this.epochEnd!=null&&(await $r(n),i.push(this.epochEnd(e,n))),this.yieldEvery==="epoch"&&i.push(this.nextFrameFunc()),await Promise.all(i)}async onBatchBegin(e,n){this.batchBegin!=null&&(await $r(n),await this.batchBegin(e,n))}async onBatchEnd(e,n){const i=[];this.batchEnd!=null&&(await $r(n),i.push(this.batchEnd(e,n))),this.yieldEvery==="batch"?i.push(this.nextFrameFunc()):L1(this.yieldEvery)&&i.push(this.maybeWait(this.currentEpoch,e,n)),await Promise.all(i)}async onTrainBegin(e){this.trainBegin!=null&&(await $r(e),await this.trainBegin(e))}async onTrainEnd(e){this.trainEnd!=null&&(await $r(e),await this.trainEnd(e))}}function X5(t,e){return t==null&&(t={}),t instanceof iu?[t]:Array.isArray(t)&&t[0]instanceof iu?t:mt(t).map(i=>new K5(i,e))}class Li{constructor(){}static registerCallbackConstructor(e,n){E(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),Li.checkForDuplicate(n),Li.constructors[e]==null&&(Li.constructors[e]=[]),Li.constructors[e].push(n)}static checkForDuplicate(e){for(const n in Li.constructors)Li.constructors[+n].forEach(s=>{if(s===e)throw new H("Duplicate callback constructor.")})}static clear(){Li.constructors={}}static createCallbacks(e){const n=[];for(const i in Li.constructors){const s=+i;e>=s&&n.push(...Li.constructors[s])}return n.map(i=>new i)}}Li.constructors={};function J5(t,e,n,i,s,a,r,o,l){const c=new q5,u=[new Aie,...Li.createCallbacks(e)];t!=null&&u.push(...t),u.push(c);const d=new U5(u);return d.setParams({epochs:n,initialEpoch:i,samples:s,steps:a,batchSize:r,verbose:e,doValidation:o,metrics:l}),{callbackList:d,history:c}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Js(t,e={},n=!1){return am(t,zi.getMap().classNameMap,e,"layer",n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function t0(t,e){return X(()=>{t.dtype!=="float32"&&(t=fe(t,"float32"));const n=ke(om(t),e,!0),i=Eo(n.shape,nn()),s=xn(La(n,i));return Ce(t,s)})}function Jl(t,e){return X(()=>Et(om(be(e,t)),-1))}function ub(t,e){return X(()=>Et(Kt(be(e,t)),-1))}function Sd(t,e){return X(()=>{const n=be(t,e),i=ci(Kt(t),nn(),Number.MAX_VALUE),s=Kt(Ce(n,i));return W(100,Et(s,-1))})}function Fie(t,e){return X(()=>{const n=ci(e,nn(),Number.MAX_VALUE),i=Di(oe(1,n)),s=ci(t,nn(),Number.MAX_VALUE),a=Di(oe(1,s));return Et(om(be(i,a)),-1)})}function Rie(t,e){return X(()=>{const n=La(0,be(1,W(t,e)));return Et(om(n),-1)})}function Oie(t,e){return X(()=>{const n=La(0,be(1,W(t,e)));return Et(n,-1)})}function Pie(t,e){return X(()=>{const n=ke(W(t,e),-1),i=Ui(W(be(1,t),e),-1);return La(0,oe(1,be(i,n)))})}function Lie(t,e){return X(()=>{const n=Math.log(2),i=be(e,t),s=be(oe(i,Ul(W(-2,i))),n);return Et(s,-1)})}function ph(t,e,n=!1){return X(()=>{if(n)e=Qp(e);else{const i=ke(e,e.shape.length-1,!0);e=Ce(e,i)}return e=ci(e,nn(),1-nn()),wt(ke(W(fe(t,"float32"),Di(e)),e.shape.length-1))})}function n0(t,e,n=!1){return X(()=>{const i=fe(yd(jne(t)),"int32");e=ci(e,nn(),1-nn());const s=e.shape,a=j(Yc(i,s[s.length-1]),s);return ph(a,e,n)})}function Mie(t,e){if(!Ge(t.shape,e.shape))throw new H(`logits and labels must have the same shape, but got shapes ${JSON.stringify(t.shape)} and ${JSON.stringify(e.shape)}`);return X(()=>{const n=sa(e),i=wt(Kt(e));return oe(be(n,W(e,t)),Hp(Ei(i)))})}function db(t,e){return X(()=>{let n;return n=ci(e,nn(),1-nn()),n=Di(Ce(n,be(1,n))),Et(Mie(t,n),-1)})}function Bie(t,e){return X(()=>{const n=ci(t,nn(),1),i=ci(e,nn(),1);return ke(W(t,Di(Ce(n,i))),-1)})}function zie(t,e){return X(()=>{const n=Di(oe(nn(),e));return Et(be(e,W(t,n)),-1)})}function sC(t,e){return X(()=>{const n=t0(t,-1),i=t0(e,-1),s=W(n,i);return wt(ke(s,-1))})}const i0={meanSquaredError:Jl,meanAbsoluteError:ub,meanAbsolutePercentageError:Sd,meanSquaredLogarithmicError:Fie,squaredHinge:Rie,hinge:Oie,categoricalHinge:Pie,logcosh:Lie,categoricalCrossentropy:ph,sparseCategoricalCrossentropy:n0,binaryCrossentropy:db,kullbackLeiblerDivergence:Bie,poisson:zie,cosineProximity:sC};function Ww(t){if(typeof t=="string"){if(t in i0)return i0[t];let e=`Unknown loss ${t}`;throw t.toLowerCase().includes("softmaxcrossentropy")&&(e=`Unknown loss ${t}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new H(e)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function aC(t,e){return X(()=>{const n=W(.5,Ai(e)),i=Ea(ti(e,n),t.dtype);return Et($i(t,i),-1)})}function rC(t,e){return X(()=>Ea($i(Nl(t,-1),Nl(e,-1)),"float32"))}function Y5(t,e){return X(()=>fe(ke(Cs($i(t,1),$i(e,1))),"float32"))}function Vie(t,e){return X(()=>fe(ke(Cs($i(t,1),$i(e,0))),"float32"))}function Wie(t,e){return X(()=>fe(ke(Cs($i(t,0),$i(e,1))),"float32"))}function Q5(t,e){return X(()=>{const n=Y5(t,e),i=Wie(t,e),s=oe(n,i);return fe(Mn(ti(s,0),Ce(n,s),0),"float32")})}function jie(t,e){return X(()=>{const n=Y5(t,e),i=Vie(t,e),s=oe(n,i);return fe(Mn(ti(s,0),Ce(n,s),0),"float32")})}function Z5(t,e){return db(t,e)}function eP(t,e){return t.rank===e.rank&&(t=Fo(t,[t.rank-1])),e=Nl(e,-1),e.dtype!==t.dtype&&(e=fe(e,t.dtype)),fe($i(t,e),"float32")}const Hie=Jl,Gie=Jl,Uie=ub,qie=ub,Kie=Sd,Xie=Sd,oC=ph,Jie=sC,tP=n0,s0={binaryAccuracy:aC,categoricalAccuracy:rC,precision:Q5,categoricalCrossentropy:oC,sparseCategoricalCrossentropy:tP,mse:Hie,MSE:Gie,mae:Uie,MAE:qie,mape:Kie,MAPE:Xie,cosine:Jie};function Yie(t){if(typeof t=="string"&&t in s0)return s0[t];if(typeof t!="string"&&t!=null)return t;throw new H(`Unknown metric ${t}`)}function cg(t){if(pa(t!==null,`Unknown LossOrMetricFn ${t}`),typeof t=="string")return t;{let e;for(const n of Object.keys(i0))if(i0[n]===t){e=n;break}if(e!==void 0)return e;for(const n of Object.keys(s0))if(s0[n]===t){e=n;break}return e!==void 0?e:t.name}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Qie(t){const e={Adagrad:()=>qo.adagrad(.01),Adadelta:()=>qo.adadelta(1,.95,nn()),Adam:()=>qo.adam(.001,.9,.999,nn()),Adamax:()=>qo.adamax(.002,.9,.999,nn(),0),RMSProp:()=>qo.rmsprop(.001,.9,0,nn()),SGD:()=>qo.sgd(.01)};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new H(`Unknown Optimizer ${t}`)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const S$=1*1024*1024;function C$(t,e,n=!1){if(t==null||typeof t!="object"||Object.getPrototypeOf(t)!==Object.prototype||!W_(t))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const i=JSON.stringify(t);i.length>S$&&console.warn(`User-defined metadata of model "${e}" is too large in size (length=${i.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ${S$}.`)}}function W_(t){if(t===null)return!0;if(typeof t=="object")if(Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);for(const n of e)if(typeof n!="string"||!W_(t[n]))return!1;return!0}else if(Array.isArray(t)){for(const e of t)if(!W_(e))return!1;return!0}else return!1;else{const e=typeof t;return e==="string"||e==="number"||e==="boolean"}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Zie(t,e,n,i=console.log){const s=tse(t),a=["Layer (type)","Input Shape","Output shape","Param #"];s?(e=e||90,n=n||[.32,.61,.89,1]):(e=e||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(u=>Math.floor(e*u)));let r;if(!s){a.push("Receives inputs"),r=[];for(const u in t.nodesByDepth)r.push(...t.nodesByDepth[u])}i("_".repeat(e)),a0(a,n,i),i("=".repeat(e));const o=t.layers;for(let u=0;u<o.length;++u)s?nse(o[u],n,i):ise(o[u],n,r,i),i((u===o.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();const l=ese(t),c=Q1(t.nonTrainableWeights);i(`Total params: ${l+c}`),i(`Trainable params: ${l}`),i(`Non-trainable params: ${c}`),i("_".repeat(e))}function ese(t){let e;return t.collectedTrainableWeights!=null?e=Q1(t.collectedTrainableWeights):e=Q1(t.trainableWeights),e}function tse(t){let e=!0;const n=[],i=[];for(const s in t.nodesByDepth)n.push(t.nodesByDepth[s]);for(const s of n){if(s.length>1||s.length===1&&s[0].inboundLayers.length>1){e=!1;break}i.push(...s)}if(e)for(const s of t.layers){let a=!1;for(const r of s.inboundNodes)if(i.indexOf(r)!==-1)if(a){e=!1;break}else a=!0;if(!e)break}return e}function a0(t,e,n=console.log){let i="";for(let s=0;s<t.length;++s)s>0&&(i=i.slice(0,i.length-1)+" "),i+=t[s],i=i.slice(0,e[s]),i+=" ".repeat(e[s]-i.length);n(i)}function nse(t,e,n){let i,s;try{s=t.inboundNodes.map(l=>JSON.stringify(l.inputShapes)).join(",")}catch{s="multiple"}try{i=JSON.stringify(t.outputShape)}catch{i="multiple"}const a=t.name,r=t.getClassName(),o=[`${a} (${r})`,s,i,t.countParams().toString()];a0(o,e,n)}function ise(t,e,n,i){let s,a;try{a=t.inboundNodes.map(d=>JSON.stringify(d.inputShapes)).join(",")}catch{a="multiple"}try{s=JSON.stringify(t.outputShape)}catch{s="multiple"}const r=[];for(const d of t.inboundNodes)if(!(n!=null&&n.length>0&&n.indexOf(d)===-1))for(let f=0;f<d.inboundLayers.length;++f){const h=d.inboundLayers[f].name,p=d.nodeIndices[f],m=d.tensorIndices[f];r.push(`${h}[${p}][${m}]`)}const o=t.name,l=t.getClassName(),c=r.length===0?"":r[0],u=[`${o} (${l})`,a,s,t.countParams().toString(),c];a0(u,e,i);for(let d=1;d<r.length;++d)a0(["","","","",r[d]],e,i)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function nP(t,e,n){return(t==="inboundNodes"||t==="outputLayers"||t==="inputLayers")&&e===0&&typeof n=="string"}function mh(t,e){if(t===null)return null;if(typeof t=="string")return Xo(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],i=t.length;for(let s=0;s<i;++s){const a=t[s];nP(e,s,a)?n.push(a):n.push(mh(a,e))}return n}else{const n={};for(const i of Object.keys(t)){const s=t[i];if(i==="name"&&typeof s=="string")n[i]=s;else{const a=Xo(i);n[a]=mh(s,a)}}return n}}function j_(t,e){if(t==null)return null;if(typeof t=="string")return Ua(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],i=t.length;for(let s=0;s<i;++s){const a=t[s];nP(e,s,a)?n.push(a):n.push(j_(a,e))}return n}else{const n={};for(const i of Object.keys(t)){const s=t[i],a=Ua(i);(i==="name"||i==="className")&&typeof s=="string"?n[a]=s:n[a]=j_(s,i)}return n}}/** @license See the LICENSE file. */const fb="4.1.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Rs extends We{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,this.name==null){const v=this.getClassName().toLowerCase();this.name=eb(v)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],ao(this.inputs).length!==this.inputs.length)throw new H(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(v=>v.name)}`);ao(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(v=>v.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const v of this.outputs){const b=v.sourceLayer,w=v.nodeIndex,k=v.tensorIndex;this.outputLayers.push(b),this.outputLayersNodeIndices.push(w),this.outputLayersTensorIndices.push(k)}for(const v of this.inputs){const b=v.sourceLayer,w=v.nodeIndex,k=v.tensorIndex;pa(w===0,"input layer has >1 nodes"),pa(k===0,"input layer has >1 tensors"),this.inputLayers.push(b),this.inputLayersNodeIndices.push(w),this.inputLayersTensorIndices.push(k)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let v=0;v<this.inputLayers.length;v++){const b=this.inputLayers[v];if(!(b instanceof xd))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${v} (0-based) originates from layer type ${b.getClassName()}.`);this.inputNames.push(b.name),this.feedInputShapes.push(b.batchInputShape),this.feedInputNames.push(b.name)}for(const v of this.outputLayers)this.outputNames.push(v.name);this.internalInputShapes=this.inputs.map(v=>v.shape),this.internalOutputShapes=this.outputs.map(v=>v.shape);const n={},i={},s={},a={},r={},o=[],l=(v,b,w,k,x,N)=>{(k==null||x==null||N==null)&&(k=v.sourceLayer,x=v.nodeIndex,N=v.tensorIndex);const I=k.inboundNodes[x];if(w.indexOf(I)!==-1)throw new bs(`The tensor ${v.name} at layer "${k.name}" is part of a cycle.`);if(b.indexOf(I)!==-1)return;this.containerNodes.add(Rs.nodeKey(k,x)),k.id in r||(r[k.id]=Object.keys(r).length),w.indexOf(I)===-1&&w.push(I);const D=I.inboundLayers.length;for(let R=0;R<D;R++){const L=I.inputTensors[R],O=I.inboundLayers[R],T=I.nodeIndices[R],A=I.tensorIndices[R];l(L,b,w,O,T,A)}for(b.push(I);w.indexOf(I)>=0;)w.splice(w.indexOf(I),1);o.push(I)},c=[],u=[];for(const v of this.outputs)l(v,c,u);const d=o.slice().reverse();for(const v of d){i[v.id]=v,v.id in n||(n[v.id]=0);let b=n[v.id];const w=s[v.outboundLayer.id]==null?0:s[v.outboundLayer.id];b=Math.max(b,w),s[v.outboundLayer.id]=b,a[v.outboundLayer.id]=v.outboundLayer,n[v.id]=b;for(let k=0;k<v.inboundLayers.length;k++){const x=v.inboundLayers[k],N=v.nodeIndices[k],I=x.inboundNodes[N],D=n[I.id]==null?0:n[I.id];n[I.id]=Math.max(b+1,D),i[I.id]=I}}const f={};for(const v in n){const b=n[v];b in f||(f[b]=[]),f[b].push(i[v])}const h={};for(const v in s){const b=s[v];b in h||(h[b]=[]),h[b].push(a[v])}let p=Object.keys(h).map(v=>parseInt(v,10)).sort(rg);this.layers=[];for(const v of p){const b=h[v];b.sort((w,k)=>{const x=r[w.id],N=r[k.id];return x<N?-1:x>N?1:0});for(const w of b)w instanceof Rs&&this.internalContainerRefs.push(w),this.layers.push(w)}this.layersByDepth=h,p=Object.keys(f).map(v=>parseInt(v,10)).sort(rg);const m=this.inputs.slice(),y=[];for(const v of p)for(const b of f[v]){const w=b.outboundLayer;if(w!=null){for(const k of b.inputTensors)if(m.indexOf(k)===-1)throw new bs(`Graph disconnected: cannot obtain value for tensor ${k} at layer "${w.name}". The following previous layers were accessed without issue: ${y}`);for(const k of b.outputTensors)m.push(k);y.push(w.name)}}this.nodesByDepth=f;const g=this.layers.map(v=>v.name);for(const v of g){const b=g.filter(w=>w===v).length;if(b!==1)throw new bs(`The name "${v}" is used ${b} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new cb({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(v=>null),outputMasks:this.outputs.map(v=>null),inputShapes:this.inputs.map(v=>v.shape),outputShapes:this.outputs.map(v=>v.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const n of this.layers)e.numDisposedVariables+=n.dispose().numDisposedVariables;for(const n of this.internalContainerRefs)e.numDisposedVariables+=n.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(n=>{n._trainableWeights.forEach(i=>i.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new H("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const n of this.layers)e=e.concat(n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.layers)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const i of this.layers)n.push(...i.trainableWeights);return n.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,n=!0){const i={};let s=0;for(const r of this.layers)for(const o of r.weights){if(i[o.originalName]!=null)throw new H(`Duplicate weight name: ${o.originalName}`);i[o.originalName]=o,s++}const a=[];for(const r in e){let o=r;if(i[r]==null){const l=r.split("/");o=l.slice(0,-2).concat([l[l.length-1]]).join("/")}if(i[o]!=null)a.push([i[o],e[r]]);else if(n)throw new H(`Provided weight data has no target variable: ${r}`);delete i[o]}if(n){const r=[];for(const o in i)r.push(o);if(r.length>0)throw new H(`${r.length} of ${s} weights are not set: ${r}`)}Q3(a)}updatedConfig(){const e=this.getConfig(),n={};return n.className=this.getClassName(),n.config=e,n.kerasVersion=`tfjs-layers ${fb}`,n.backend="TensorFlow.js",n}toJSON(e,n=!0){const i=j_(this.updatedConfig());return n?JSON.stringify(i):i}call(e,n){return X(()=>{e=mt(e);const i=new Hr;for(let s=0;s<this.inputs.length;++s)i.add(this.inputs[s],e[s]);return mf(this.outputs,i,n)})}computeMask(e,n){return X(()=>{e=mt(e);let i;return n==null?i=Dl(null,e.length):i=mt(n),this.runInternalGraph(e,i)[1]})}computeOutputShape(e){const n=Y1(e);if(n.length!==this.inputLayers.length)throw new H(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const i={};for(let o=0;o<n.length;o++){const l=this.inputLayers[o],c=n[o],u=l.name+"_0_0";i[u]=c}const s=Object.keys(this.nodesByDepth).map(o=>parseInt(o,10)).sort(rg);if(s.length>1)for(const o of s){const l=this.nodesByDepth[o];for(const c of l){const u=c.outboundLayer;if(this.inputLayers.map(m=>m.id).indexOf(u.id)!==-1)continue;const d=[];for(let m=0;m<c.inboundLayers.length;m++){const y=c.inboundLayers[m],g=c.nodeIndices[m],v=c.tensorIndices[m],b=`${y.name}_${g}_${v}`,w=i[b];d.push(w)}const f=u.computeOutputShape(ai(d)),h=Y1(f),p=u.inboundNodes.indexOf(c);for(let m=0;m<h.length;m++){const y=`${u.name}_${p}_${m}`;i[y]=h[m]}}}const a=[],r=[];for(let o=0;o<this.outputLayers.length;o++){const l=this.outputLayers[o],c=this.outputLayersNodeIndices[o],u=this.outputLayersTensorIndices[o],d=`${l.name}_${c}_${u}`;r.push(d)}for(let o=0;o<r.length;o++){const l=r[o];pa(l in i),a.push(i[l])}return ai(a)}runInternalGraph(e,n){n==null&&(n=Dl(null,e.length));const i={};for(let l=0;l<this.inputs.length;++l){const c=this.inputs[l],u=e[l],d=n[l];i[c.id]=[u,d]}const s=Object.keys(this.nodesByDepth).map(l=>parseInt(l,10)).sort(rg);for(const l of s){const c=this.nodesByDepth[l];for(const u of c){const d=u.outboundLayer,f=u.inputTensors,h=u.outputTensors,p=new Array;for(const m of f)m.id in i&&p.push(i[m.id]);if(p.length===f.length){let m={},y,g,v,b;if(u.callArgs!=null&&(m=u.callArgs),p.length===1){const[w,k]=p[0];m.mask==null&&(m.mask=k),v=mt(d.call(w,m)),b=mt(d.computeMask(w,k)),y=[w],g=[k]}else y=p.map(w=>w[0]),g=p.map(w=>w[1]),m.mask==null&&(m.mask=g),v=mt(d.call(y,m)),b=mt(d.computeMask(y,g));if(d.activityRegularizer)throw new Le("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let w=0;w<h.length;++w){const k=h[w],x=v[w],N=b[w];i[k.id]=[x,N]}}}}const a=[],r=[],o=[];for(const l of this.outputs){pa(l.id in i,`Could not compute output ${l.name} : ${l.id}`);const[c,u]=i[l.id];o.push(c.shape),a.push(c),r.push(u)}return[a,r,o]}buildNodeConversionMap(e){const n={};let i;for(const s of this.layers){i=s instanceof Rs?1:0;for(let a=0;a<s.inboundNodes.length;a++){const r=Rs.nodeKey(s,a);this.containerNodes.has(r)&&(n[r]=i,i+=1)}}return n}getLayer(e,n){if(n!=null){if(this.layers.length<=n)throw new H(`Was asked to retrieve layer at index ${n}, but model only has ${this.layers.length} layer(s).`);return this.layers[n]}else if(e==null)throw new H("Provide either a layer name or layer index");for(const i of this.layers)if(i.name===e)return i;throw new H(`No such layer: ${e}`)}calculateLosses(){return X(()=>{const e=[];for(const n of this.layers)for(let i=0;i<n.inboundNodes.length;++i){const s=Rs.nodeKey(n,i);this.containerNodes.has(s)&&e.push(...n.calculateLosses())}return e})}getConfig(){const e={name:this.name},n=this.buildNodeConversionMap(this.layers),i=[];for(const r of this.layers){const o=r.getClassName(),l=r.getConfig(),c=[];for(let d=0;d<r.inboundNodes.length;d++){const f=r.inboundNodes[d],h=Rs.nodeKey(r,d);let p={};if(this.containerNodes.has(h)){if(f.callArgs)try{JSON.stringify(f.callArgs),p=f.callArgs}catch{console.warn(`Layer ${r.name} was passed non-serializable keyword arguments: ${f.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),p={}}if(f.inboundLayers.length>0){const m=[];for(let y=0;y<f.inboundLayers.length;y++){const g=f.inboundLayers[y],v=f.nodeIndices[y],b=f.tensorIndices[y],w=Rs.nodeKey(g,v);let k=n[w];k==null&&(k=0),m.push([g.name,k,b,p])}c.push(m)}}}const u={};u.name=r.name,u.className=o,u.config=l,u.inboundNodes=c,i.push(u)}e.layers=i;const s=[];for(let r=0;r<this.inputLayers.length;r++){const o=this.inputLayers[r],l=this.inputLayersNodeIndices[r],c=Rs.nodeKey(o,l);if(!this.containerNodes.has(c))continue;let u=n[c];u==null&&(u=0);const d=this.inputLayersTensorIndices[r];s.push([o.name,u,d])}e.inputLayers=s;const a=[];for(let r=0;r<this.outputLayers.length;r++){const o=this.outputLayers[r],l=this.outputLayersNodeIndices[r],c=Rs.nodeKey(o,l);if(!this.containerNodes.has(c))continue;let u=n[c];u==null&&(u=0);const d=this.outputLayersTensorIndices[r];a.push([o.name,u,d])}return e.outputLayers=a,e}static fromConfig(e,n,i={},s=!1){const a={},r={};function o(y,g){y.name in r?r[y.name].push(g):r[y.name]=[g]}function l(y,g){const v=[];let b;for(const w of g){const k=w[0],x=w[1],N=w[2];if(b=w[3]==null?{}:w[3],!(k in a)){o(y,g);return}const I=a[k];if(I.inboundNodes.length<=x){o(y,g);return}const D=I.inboundNodes[x];v.push(D.outputTensors[N])}v.length>0&&y.apply(ai(v),b)}function c(y){const g=y.name,v=Js(y,n.customObjects!=null?n.customObjects:{});v.setFastWeightInitDuringBuild(s),a[g]=v,y.inboundNodes.forEach(w=>{if(!(w instanceof Array))throw new H(`Corrupted configuration, expected array for nodeData: ${w}`);o(v,w)})}const u=n.name,d=n.layers;for(const y of d)c(y);for(;!Ene(r);)for(const y of d){const g=a[y.name];if(g.name in r){const v=r[g.name];delete r[g.name];for(const b of v)l(g,b)}}const f=[],h=[],p=n.inputLayers;for(const y of p){const g=y[0],v=y[1],b=y[2];pa(g in a);const k=a[g].inboundNodes[v].outputTensors;f.push(k[b])}const m=n.outputLayers;for(const y of m){const g=y[0],v=y[1],b=y[2];pa(g in a);const k=a[g].inboundNodes[v].outputTensors;h.push(k[b])}return new e({inputs:f,outputs:h,name:u})}get stateful(){if(this._stateful)throw new H("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){X(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function sse(t,e,n){const i=e.length;if(t==null||Array.isArray(t)&&t.length===0)return e.map(s=>null);if(i===1)return Array.isArray(t)&&t.length===1?t:typeof t=="object"&&e[0]in t?[t[e[0]]]:[t];if(Array.isArray(t)){if(t.length!==i)throw new Error(`Provided ${n} is an array of ${t.length} element(s), but the model has ${i} outputs. Make sure a set of weights is provided for each model output.`);return t}else if(typeof t=="object"&&Object.keys(t).length>0&&typeof t[Object.keys(t)[0]]=="object"){const s=[];return e.forEach(a=>{a in t?s.push(t[a]):s.push(null)}),s}else throw new Error(`The model has multiple (${i}) outputs, so ${n} must be either an array with ${i} elements or an object with ${e} keys. Provided ${n} not understood: ${JSON.stringify(t)}`)}function iP(t,e){return sse(t,e,"classWeight")}async function sP(t,e,n,i){if(e!=null||i!=null)throw new Error("Support sampleWeight is not implemented yet");if(n!=null){const s=X(()=>{if(t.shape.length===1)return Ta(t);if(t.shape.length===2){if(t.shape[1]>1)return Nl(t,1);if(t.shape[1]===1)return j(t,[t.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${t.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${t.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),a=Array.from(await s.data());Oe(s);const r=[];return a.forEach(o=>{if(n[o]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${o} exists in the data but not in classWeight`);r.push(n[o])}),Rn(r,"float32")}else return null}function ase(t,e){return W(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const rse=32;function aP(t,e){let n,i;const s=e;n=s.xs,i=s.ys,E(n!=null&&i!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${e}`);const a=N$("input",t.inputNames,n),r=N$("output",t.outputNames,i),o=a[0].shape[0];E(a.length===t.inputs.length,()=>`LayersModel has ${t.inputs.length} inputs, but the dataset provides ${a.length} inputs.  (Expected input keys: ${JSON.stringify(t.inputNames)})`),E(r.length===t.outputs.length,()=>`LayersModel has ${t.outputs.length} outputs, but the dataset provides ${r.length} outputs.  (Expected output keys: ${JSON.stringify(t.outputNames)})`);for(let l=0;l<a.length;l++)E(a[l].shape[0]===o,()=>`Batch size mismatch: input ${t.inputNames[l]} has ${a[l].shape[0]}; expected  ${o} based on input ${t.inputNames[0]}.`);for(let l=0;l<r.length;l++)E(r[l].shape[0]===o,()=>`Batch size mismatch: output ${t.outputNames[l]} has ${r[l].shape[0]}; expected  ${o} based on input ${t.inputNames[0]}.`);return{xs:a,ys:r}}function N$(t,e,n){if(n instanceof Xe)return[n];if(Array.isArray(n))return E(n.length===e.length,()=>`Received an array of ${n.length} Tensors, but expected ${e.length} to match the ${t} keys ${e}.`),n;{const i=[];for(const s of e){if(n[s]==null)throw new H(`The feature data generated by the dataset lacks the required ${t} key '${s}'.`);i.push(n[s])}return i}}function ose(t){if(t.length===3)throw new Le("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}async function lse(t,e,n){const i=n.batchesPerEpoch!=null;if(E(t.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),E(n!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),E(n.epochs!=null&&n.epochs>0&&Number.isInteger(n.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`),E(!i||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`),E(n.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;try{const s=n.validationData!=null;let a,r;if(s)if(I$(n.validationData))E(n.validationBatches==null||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`);else{const y=ose(n.validationData);a=y.xs,r=y.ys}const o=t.makeTrainFunction(),l=t.getDedupedMetricsNames();let c;s?c=l.slice().concat(l.map(y=>"val_"+y)):c=l.slice();const u=X5(n.callbacks,n.yieldEvery),d=n.verbose==null?1:n.verbose,{callbackList:f,history:h}=J5(u,d,n.epochs,null,null,cse(e,n),null,s,c);f.setModel(t),t.history=h,await f.onTrainBegin(),t.stopTraining_=!1;let p=n.initialEpoch==null?0:n.initialEpoch,m=await e.iterator();for(;p<n.epochs;){const y={};await f.onEpochBegin(p);let g=0,v=0;for(i||(m=await e.iterator());!i||g<n.batchesPerEpoch;){const b=await m.next();if(i&&b.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${g} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${n.batchesPerEpoch*n.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(b.value!=null){const{xs:w,ys:k}=aP(t,b.value),x={};x.batch=v,x.size=w[0].shape[0],await f.onBatchBegin(v,x);const N=[];if(n.classWeight!=null){const R=iP(n.classWeight,t.outputNames);for(let L=0;L<R.length;++L)N.push(await sP(k[L],null,R[L]))}const I=w.concat(k).concat(N),D=o(I);Oe(I);for(let R=0;R<l.length;++R){const L=l[R],O=D[R];x[L]=O,tn(O)}await f.onBatchEnd(v,x),G5(x),v++,g++}if(i?g>=n.batchesPerEpoch:b.done){if(s){let w;I$(n.validationData)?w=mt(await t.evaluateDataset(n.validationData,{batches:n.validationBatches})):w=mt(t.evaluate(a,r,{batchSize:n.validationBatchSize==null?rse:n.validationBatchSize,verbose:0}));for(let k=0;k<t.metricsNames.length;++k)y[`val_${t.metricsNames[k]}`]=w[k]}break}if(t.stopTraining_)break}if(await f.onEpochEnd(p,y),p++,t.stopTraining_)break}return await f.onTrainEnd(),await t.history.syncData(),t.history}finally{t.isTraining=!1}}function cse(t,e){let n=null;return e.batchesPerEpoch!=null?n=e.batchesPerEpoch:Number.isFinite(t.size)&&(n=t.size),n}function I$(t){return typeof t.iterator=="function"}function use(t){return typeof t.next=="function"}async function dse(t,e,n){n=n||{};const i=n.batches!=null,s=t.testFunction;let a=[];if(n.verbose>0)throw new Le("Verbose mode is not implemented yet.");E(!i||n.batches>0&&Number.isInteger(n.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`);const r=use(e)?e:await e.iterator();let o=0,l=0;for(;!i||l<n.batches;){const c=await r.next();if(a=X(()=>{if(c.value){const{xs:u,ys:d}=aP(t,c.value),f=u.concat(d),h=X(()=>s(f));if(Oe(f),l===0)for(let m=0;m<h.length;++m)a.push(Te(0));const p=f[0].shape[0];for(let m=0;m<h.length;++m){const y=h[m],g=a[m];a[m]=X(()=>oe(a[m],W(p,y))),l>0&&Oe(g)}Oe(h),o+=p,++l}return a}),c.done){i&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let c=0;c<a.length;++c){const u=a[c];a[c]=Ce(a[c],o),Oe(u)}return ai(a)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function jw(t){E(t>0&&Number.isInteger(t),()=>`batchSize is required to be a positive integer, but got ${t}`)}function ef(t,e,n){return t==null?[null]:Array.isArray(t)?t.map(i=>hl(i,e,n-e)):hl(t,e,n-e)}function H_(t,e){return X(()=>t==null?null:Array.isArray(t)?t.map(n=>H_(n,e)):z5(t,e.dtype==="int32"?e:fe(e,"int32")))}function Hw(t,e){const n=[];let i=0,s=null;for(;i<t;)s=i+e,s>=t&&(s=t),n.push([i,s]),i=s;return n}function rP(t){const e=[];t instanceof Xe&&(t=[t]);for(let n=0;n<t.length;++n){const i=t[n];if(i.rank===1)e.push(rm(i,1));else{if(i.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(i)}}return e}function As(t,e){if(t==null)return;const n=[];if(e instanceof Xe)n.push(e.id);else if(Array.isArray(e))e.forEach(s=>n.push(s.id));else if(e!=null)for(const s in e){const a=e[s];n.push(a.id)}const i=[];if(t instanceof Xe)n.indexOf(t.id)===-1&&i.push(t);else if(Array.isArray(t))t.forEach(s=>{n.indexOf(s.id)===-1&&i.push(s)});else if(t!=null)for(const s in t){const a=t[s];n.indexOf(a.id)===-1&&i.push(a)}i.forEach(s=>{s.isDisposed||s.dispose()})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function fse(t){return t instanceof Xe}function G_(t){return Array.isArray(t)}function T$(t){return!fse(t)&&!G_(t)}function $$(t,e,n,i=!0,s=""){if(e==null||e.length===0){if(t!=null){let r=!1;if(G_(t)&&t.length>0)r=!0;else if(T$(t)){for(const o in t)if(t.hasOwnProperty(o)){r=!0;break}}else r=!0;if(r)throw new H(`Error when checking model ${s} expected no data, but got ${t}`)}return[]}if(t==null)return e.map(r=>null);let a;if(T$(t)){t=t,a=[];for(const r of e){if(t[r]==null)throw new H(`No data provided for "${r}". Need data for each key in: ${e}`);a.push(t[r])}}else if(G_(t)){if(t=t,t.length!==e.length)throw new H(`Error when checking model ${s}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${e.length} Tensor(s), but instead got the following list of Tensor(s): ${t}`);a=t}else{if(t=t,e.length>1)throw new H(`The model ${s} expects ${e.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${t.shape}`);a=[t]}if(a=rP(a),n!=null)for(let r=0;r<e.length;++r){if(n[r]==null)continue;const o=a[r];if(o.shape.length!==n[r].length)throw new H(`Error when checking ${s}: expected ${e[r]} to have ${n[r].length} dimension(s). but got array with shape ${o.shape}`);for(let l=0;l<n[r].length;++l){if(l===0&&!i)continue;const c=o.shape[l],u=n[r][l];if(u!=null&&u>=0&&c!==u)throw new H(`${s} expected a batch of elements where each example has shape [${n[r].slice(1,n[r].length)}] (i.e.,tensor shape [*,${n[r].slice(1,n[r].length)}]) but the ${s} received an input with ${o.shape[0]} examples, each with shape [${o.shape.slice(1,o.shape.length)}] (tensor shape [${o.shape}])`)}}return a}function hse(t,e,n){const i=ao(t.map(a=>a.shape[0]));i.sort();const s=ao(e.map(a=>a.shape[0]));if(s.sort(),i.length>1)throw new H(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(a=>a.shape))}`);if(s.length>1)throw new H(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(a=>a.shape))}`);if(i.length>0&&s.length>0&&!Ge(i,s))throw new H(`Input Tensors should have the same number of samples as target Tensors. Found ${i[0]} input sample(s) and ${s[0]} target sample(s).`)}function pse(t,e,n){const i=[Jl,db,ph];for(let s=0;s<t.length;++s){const a=t[s],r=e[s],o=n[s];if(r!=null){if(r===ph&&a.shape[a.shape.length-1]===1)throw new H(`You are passing a target array of shape ${a.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(i.indexOf(r)!==-1){const l=a.shape.slice(1),c=o.slice(1);for(let u=0;u<l.length;++u){const d=l[u],f=c[u];if(f!=null&&d!==f)throw new H(`A target Tensor with shape ${a.shape} was passed for an output of shape ${o}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function E$(t,e,n,i=!0,s=""){let a;if(Array.isArray(t)){if(t.length!==e.length)throw new H(`Error when checking model ${s}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${e.length} Tensor(s), but instead got ${t.length} Tensors(s).`);a=t}else{if(e.length>1)throw new H(`The model expects ${e.length} ${s} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(t.shape)}.`);a=[t]}if(n!=null)for(let r=0;r<e.length;++r){if(n[r]==null)continue;const o=a[r];if(o.shape.length!==n[r].length)throw new H(`Error when checking ${s}: expected ${e[r]} to have ${n[r].length} dimension(s), but got array with shape ${JSON.stringify(o.shape)}`);for(let l=0;l<n[r].length;++l){if(l===0&&!i)continue;const c=o.shape[l],u=n[r][l];if(u!=null&&u!==c)throw new H(`Error when checking ${s}: expected ${e[r]} to have shape ${JSON.stringify(n[r])} but got array with shape ${JSON.stringify(o.shape)}.`)}}}function mse(t,e){if(t==null||Array.isArray(t)&&t.length===0)return e.map(i=>[]);let n;if(typeof t=="string"||typeof t=="function")n=[t];else if(Array.isArray(t)||typeof t=="object")n=t;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${t}`);if(Array.isArray(n))return e.map(i=>n);{const i=[];for(const s of e){let a=n.hasOwnProperty(s)?n[s]:[];Array.isArray(a)||(a=[a]),i.push(a)}return i}}const gse="layers-model";class nr extends Rs{constructor(e){super(e),this.isTraining=!1}summary(e,n,i=console.log){if(!this.built)throw new H("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Zie(this,e,n,i)}compile(e){if(e.loss==null&&(e.loss=[]),this.loss=e.loss,typeof e.optimizer=="string")this.optimizer_=Qie(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof _r))throw new H("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let n=[];if(!Array.isArray(e.loss)&&typeof e.loss!="string"&&typeof e.loss!="function"){e.loss=e.loss;for(const r in e.loss)if(this.outputNames.indexOf(r)===-1)throw new H(`Unknown entry in loss dictionary: "${r}". Only expected the following keys: ${this.outputNames}`);for(const r of this.outputNames)e.loss[r]==null&&console.warn(`Output "${r}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${r} during training`),n.push(Ww(e.loss[r]))}else if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new H(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);n=e.loss.map(o=>Ww(o))}else{const r=Ww(e.loss);this.outputs.forEach(o=>{n.push(r)})}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let r=0;r<this.outputs.length;++r){const o=this.internalOutputShapes[r],l=this.outputNames[r];this.feedOutputNames.push(l),this.feedOutputShapes.push(o),this.feedLossFns.push(this.lossFunctions[r])}const i=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],fl("loss",()=>{for(let r=0;r<this.outputs.length;++r){if(i.indexOf(r)!==-1)continue;const o=this.lossFunctions[r];this.outputs.length>1&&(this.metricsTensors.push([o,r]),this.metricsNames.push(this.outputNames[r]+"_loss"))}});const s=mse(e.metrics,this.outputNames),a=(r,o,l)=>{this.outputNames.length>1&&(o=this.outputNames[r]+"_"+o),this.metricsNames.push(o),this.metricsTensors.push([l,r])};fl("metric",()=>{for(let r=0;r<this.outputs.length;++r){if(i.indexOf(r)!==-1)continue;const o=s[r];(c=>{const u="";let d,f,h;for(const p of c){if(typeof p=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(p)!==-1){const y=this.internalOutputShapes[r];y[y.length-1]===1||this.lossFunctions[r]===db?["accuracy","acc"].indexOf(p)!==-1?f=aC:["crossentropy","ce"].indexOf(p)!==-1&&(f=Z5):this.lossFunctions[r]===n0?["accuracy","acc"].indexOf(p)!==-1?f=eP:["crossentropy","ce"].indexOf(p)!==-1&&(f=tP):["accuracy","acc"].indexOf(p)!==-1?f=rC:["crossentropy","ce"].indexOf(p)!==-1&&(f=oC);let g;["accuracy","acc"].indexOf(p)!==-1?g="acc":["crossentropy","ce"].indexOf(p)!==-1&&(g="ce"),h=f,d=u+g}else h=Yie(p),d=u+cg(p);let m;fl(d,()=>{m=h}),a(r,d,m)}})(o)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,n,i={}){const s=i.batchSize==null?32:i.batchSize;jw(s);const a=!0,r=this.standardizeUserDataXY(e,n,a,s);try{const o=r[0].concat(r[1]);this.makeTestFunction();const l=this.testFunction,c=this.testLoop(l,o,s,i.verbose,i.steps);return ai(c)}finally{As(r[0],e),As(r[1],n)}}async evaluateDataset(e,n){return this.makeTestFunction(),dse(this,e,n)}checkNumSamples(e,n,i,s="steps"){let a;if(i!=null){if(a=null,n!=null)throw new H(`If ${s} is set, batchSize must be null or undefined.Got batchSize = ${n}`)}else if(e!=null)Array.isArray(e)?a=e[0].shape[0]:a=e.shape[0];else throw new H(`Either the input data should have a defined shape, or ${s} shoud be specified.`);return a}execute(e,n){if(Array.isArray(n)&&n.length===0)throw new H("`outputs` is an empty Array, which is not allowed.");const i=Array.isArray(n),s=i?n:[n],a=this.retrieveSymbolicTensors(s),r=new Hr;if(e instanceof Xe&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new H(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let l=0;l<this.inputs.length;++l)r.add(this.inputs[l],e[l])}else for(const l of this.inputs){const c=e[l.name];if(c==null)throw new H(`No value is provided for the model's input ${l.name}`);r.add(l,c)}const o=mf(a,r);return i?o:o[0]}retrieveSymbolicTensors(e){const n=Dl(null,e.length);let i=e.length;for(const s of this.layers){const a=Array.isArray(s.output)?s.output:[s.output],r=a.map(o=>o.name);for(let o=0;o<e.length;++o){const l=r.indexOf(e[o]);if(l!==-1&&(n[o]=a[l],i--),i===0)break}if(i===0)break}if(i>0){const s=[];throw n.forEach((a,r)=>{a==null&&s.push(e[r])}),new H(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(s)}`)}return n}predictLoop(e,n=32,i=!1){return X(()=>{const s=this.checkNumSamples(e);if(i)throw new Le("Verbose predictLoop() is not implemented yet.");const a=Hw(s,n),r=this.outputs.map(o=>[]);for(let o=0;o<a.length;++o)X(()=>{const c=a[o][0],u=a[o][1],d=ef(e,c,u),f=[];if(Array.isArray(d))for(let p=0;p<d.length;++p)f.push({key:this.inputs[p],value:d[p]});else f.push({key:this.inputs[0],value:d});const h=new Hr(f);return mf(this.outputs,h)}).forEach((c,u)=>r[u].push(c));return ai(r.map(o=>Lt(o,0)))})}predict(e,n={}){const i=rP(e);E$(i,this.inputNames,this.feedInputShapes,!1);try{const s=n.batchSize==null?32:n.batchSize;return jw(s),this.predictLoop(i,s)}finally{As(i,e)}}predictOnBatch(e){E$(e,this.inputNames,this.feedInputShapes,!0);const n=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,n)}standardizeUserDataXY(e,n,i=!0,s){if(this.optimizer_==null)throw new bs("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const a=[];for(let r=0;r<this.feedOutputShapes.length;++r){const o=this.feedOutputShapes[r];this.feedLossFns[r]===n0?a.push(o.slice(0,o.length-1).concat([1])):a.push(o)}if(e=$$(e,this.feedInputNames,this.feedInputShapes,!1,"input"),n=$$(n,this.feedOutputNames,a,!1,"target"),hse(e,n),pse(n,this.feedLossFns,this.feedOutputShapes),this.stateful&&s!=null&&s>0&&e[0].shape[0]%s!==0)throw new H(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${s}. Found: ${e[0].shape[0]} sample(s).`);return[e,n]}async standardizeUserData(e,n,i,s,a=!0,r){const[o,l]=this.standardizeUserDataXY(e,n,a,r);if(i!=null)throw new Error("sample weight is not supported yet.");let c=null;if(s!=null){const u=iP(s,this.outputNames);c=[];for(let d=0;d<u.length;++d)c.push(await sP(l[d],null,u[d]))}return[o,l,c]}testLoop(e,n,i,s=0,a){return X(()=>{const r=this.checkNumSamples(n,i,a,"steps"),o=[];if(s>0)throw new Le("Verbose mode is not implemented yet.");if(a!=null)throw new Le("steps mode in testLoop() is not implemented yet");{const l=Hw(r,i),c=Rn(Zs(0,r));for(let u=0;u<l.length;++u){const d=l[u][0],f=l[u][1],h=hl(c,d,f-d),p=H_(n,h),m=e(p);if(u===0)for(let y=0;y<m.length;++y)o.push(Te(0));for(let y=0;y<m.length;++y){const g=m[y];o[y]=oe(o[y],W(f-d,g))}}for(let u=0;u<o.length;++u)o[u]=Ce(o[u],r)}return o})}getDedupedMetricsNames(){const e=this.metricsNames,n=[];for(let i=0;i<e.length;++i){const s=e[i];let a=s;p$(e,s)>1&&(a+=`_${p$(e.slice(0,i),s)}`),n.push(a)}return n}makeTrainFunction(){return e=>{const n=[],i=e.slice(0,this.inputs.length),s=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),a=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),r=[],o=()=>{const d=[];for(let m=0;m<this.inputs.length;++m)d.push({key:this.inputs[m],value:i[m]});const f=new Hr(d),h=mf(this.outputs,f,{training:!0});let p;for(let m=0;m<this.lossFunctions.length;++m){const y=this.lossFunctions[m];let g=y(s[m],h[m]);a[m]!=null&&(g=ase(g,a[m]));const v=Et(g);n.push(v),m===0?p=g:p=oe(p,g)}for(let m=0;m<this.metricsTensors.length;++m){let y;if(this.outputs.length>1&&m<this.outputs.length)y=n[m];else{const g=this.metricsTensors[m][0],v=this.metricsTensors[m][1];y=Et(g(s[v],h[v]))}tn(y),r.push(y)}return p=Et(p),this.calculateLosses().forEach(m=>{p=oe(p,m)}),p},l=this.collectedTrainableWeights.map(d=>d.read()),c=!0;return[this.optimizer_.minimize(o,c,l)].concat(r)}}makeTestFunction(){this.testFunction=e=>X(()=>{const n=[];let i;const s=e.slice(0,this.inputs.length),a=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),r=[];for(let c=0;c<this.inputs.length;++c)r.push({key:this.inputs[c],value:s[c]});const o=new Hr(r),l=mf(this.outputs,o);for(let c=0;c<this.lossFunctions.length;++c){const u=this.lossFunctions[c],d=Et(u(a[c],l[c]));c===0?i=d:i=oe(i,d),n.push(i)}for(let c=0;c<this.metricsTensors.length;++c){const u=this.metricsTensors[c][0],d=this.metricsTensors[c][1],f=Et(u(a[d],l[d]));n.push(f)}return n})}async fit(e,n,i={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;let s,a,r,o,l,c,u,d,f;try{const h=i.batchSize==null?32:i.batchSize;jw(h);const p=!1,m=await this.standardizeUserData(e,n,i.sampleWeight,i.classWeight,p,h);s=m[0],a=m[1],f=m[2];let y=!1,g;if(i.validationData!=null&&i.validationData.length>0){if(y=!0,i.validationData.length===2)l=i.validationData[0],c=i.validationData[1];else throw i.validationData.length===3?new Le("validationData including sample weights is not supported yet."):new H(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${i.validationData} is invalid.`);const D=!0,R=await this.standardizeUserData(l,c,null,null,D,h);u=R[0],d=R[1],g=u.concat(d)}else if(i.validationSplit!=null&&i.validationSplit>0&&i.validationSplit<1){y=!0;const D=Math.floor(s[0].shape[0]*(1-i.validationSplit)),R=s[0].shape[0];u=ef(s,D,R),r=s,s=ef(s,0,D),d=ef(a,D,R),o=a,a=ef(a,0,D),g=u.concat(d)}else i.validationSteps!=null&&(y=!0);const v=s.concat(a).concat(f);this.checkTrainableWeightsConsistency();const b=this.makeTrainFunction(),w=this.getDedupedMetricsNames();let k,x;y?(this.makeTestFunction(),k=this.testFunction,x=w.slice().concat(w.map(D=>"val_"+D))):(k=null,g=[],x=w.slice());const N=X5(i.callbacks,i.yieldEvery);return await this.fitLoop(b,v,w,h,i.epochs,i.verbose,N,k,g,i.shuffle,x,i.initialEpoch,null,null)}finally{this.isTraining=!1,As(s,e),As(a,n),As(r,e),As(o,n),As(u,l),As(d,c),f!=null&&Oe(f)}}async fitLoop(e,n,i,s,a,r,o,l,c,u,d,f,h,p){s==null&&(s=32),a==null&&(a=1),u==null&&(u=!0),f==null&&(f=0);let m=!1;if(l!=null&&c!=null&&(m=!0),p!=null&&(m=!0,h==null))throw new H("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const y=this.checkNumSamples(n,s,h,"steps_per_epoch");let g;y!=null&&(g=Zs(0,y)),r==null&&(r=1);const{callbackList:v,history:b}=J5(o,r,a,f,y,h,s,m,d);v.setModel(this),this.history=b,await v.onTrainBegin(),this.stopTraining_=!1;for(let w=f;w<a;++w){await v.onEpochBegin(w);const k={};if(h!=null)throw new Le("stepsPerEpoch mode is not implemented yet.");{if(u==="batch")throw new Le("batch shuffling is not implemneted yet");u&&H2(g);const x=Rn(g),N=Hw(y,s);for(let I=0;I<N.length;++I){const D={};if(await v.onBatchBegin(I,D),X(()=>{const R=N[I][0],L=N[I][1],O=hl(x,R,L-R);D.batch=I,D.size=L-R;const T=H_(n,O),A=e(T);for(let S=0;S<i.length;++S){const $=i[S],K=A[S];D[$]=K,tn(K)}if(I===N.length-1&&m){const S=this.testLoop(l,c,s);for(let $=0;$<i.length;++$){const K=i[$],M=S[$];tn(M),k["val_"+K]=M}}}),await v.onBatchEnd(I,D),G5(D),this.stopTraining_)break}x.dispose()}if(await v.onEpochEnd(w,k),this.stopTraining_)break}return await v.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,n){return lse(this,e,n)}async trainOnBatch(e,n){const i=await this.standardizeUserData(e,n),s=i[0],a=i[1],o=this.makeTrainFunction()(s.concat(a)),l=[];for(const c of o){const u=await c.data();l.push(u[0])}return Oe(o),As(i[0],e),As(i[1],n),ai(l)}getNamedWeights(e){const n=[],i=e!=null&&e.trainableOnly,s=i?this.trainableWeights:this.weights,a=this.getWeights(i);for(let r=0;r<s.length;++r)i&&!s[r].trainable||n.push({name:s[r].originalName,tensor:a[r]});return n}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(e.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const n=q1().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=n-q1().numTensors}return e}getLossIdentifiers(){let e;if(typeof this.loss=="string")e=Ua(this.loss);else if(Array.isArray(this.loss)){for(const n of this.loss)if(typeof n!="string")throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(n=>Ua(n))}else{const n=Object.keys(this.loss);e={};const i=this.loss;for(const s of n)if(typeof i[s]=="string")e[s]=Ua(i[s]);else throw new Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[Ua(cg(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>Ua(cg(e)));{const e={};for(const n in this.metrics)e[n]=Ua(cg(this.metrics[n]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(e.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(e.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(e.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const n=mh(e.optimizer_config),i=Js(n);let s;if(typeof e.loss=="string")s=Xo(e.loss);else if(Array.isArray(e.loss))s=e.loss.map(r=>Xo(r));else if(e.loss!=null){s={};for(const r in e.loss)s[r]=Xo(e.loss[r])}let a;if(Array.isArray(e.metrics))a=e.metrics.map(r=>Xo(r));else if(e.metrics!=null){a={};for(const r in e.metrics)a[r]=Xo(e.metrics[r])}this.compile({loss:s,metrics:a,optimizer:i})}async save(e,n){if(typeof e=="string"){const c=xR(e);if(c.length===0)throw new H(`Cannot find any save handlers for URL '${e}'`);if(c.length>1)throw new H(`Found more than one (${c.length}) save handlers for URL '${e}'`);e=c[0]}if(e.save==null)throw new H("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const i=await I_(this.getNamedWeights(n)),s=!1,a=null,o={modelTopology:this.toJSON(a,s),format:gse,generatedBy:`TensorFlow.js tfjs-layers v${fb}`,convertedBy:null};if((n==null?!1:n.includeOptimizer)&&this.optimizer!=null){o.trainingConfig=this.getTrainingConfig();const c="optimizer",{data:u,specs:d}=await I_(await this.optimizer.getWeights(),c);i.specs.push(...d),i.data=rv([i.data,u])}return this.userDefinedMetadata!=null&&(C$(this.userDefinedMetadata,this.name,!0),o.userDefinedMetadata=this.userDefinedMetadata),o.weightData=i.data,o.weightSpecs=i.specs,e.save(o)}setUserDefinedMetadata(e){C$(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}nr.className="Model";ae(nr);class oP extends nr{}oP.className="Functional";ae(oP);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function yse(t,e){"modelTopology"in t||(t={modelTopology:t}),t=t;let n=t.modelTopology;n.model_config!=null&&(n=n.model_config);const i=mh(n),s=Js(i,e);if(t.weightsManifest!=null){const a=await FR(t.weightsManifest,t.pathPrefix,s.weights.map(o=>o.originalName)),r={};for(const o of s.weights)r[o.originalName]=a[o.originalName];s.loadWeights(r),Oe(a)}return s}async function U_(t,e){if(e==null&&(e={}),typeof t=="string"){const n=SR(t,e);if(n.length===0)n.push(PR(t,e));else if(n.length>1)throw new H(`Found more than one (${n.length}) load handlers for URL '${t}'`);t=n[0]}return vse(t,void 0,e)}async function vse(t,e,n){if(n==null&&(n={}),t.load==null)throw new H("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const i=await t.load();let s=i.modelTopology;s.model_config!=null&&(s=s.model_config);const a=n.strict==null?!0:n.strict,r=i.weightData!=null&&i.weightSpecs!=null&&a,o=Js(mh(s),e,r),l=i.trainingConfig;if(l!=null&&o.loadTrainingConfig(l),i.userDefinedMetadata!=null&&o.setUserDefinedMetadata(i.userDefinedMetadata),i.weightData!=null){if(i.weightSpecs==null)throw new H("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");const{modelWeights:c,optimizerWeights:u}=bse(i.weightData,i.weightSpecs);o.loadWeights(c,a),o.optimizer!=null&&u.length>0&&await o.optimizer.setWeights(u),Oe(c),Oe(u.map(d=>d.tensor))}return o}function bse(t,e){const n=tS(t,e),i={},s=[];return e.forEach(a=>{a.group==="optimizer"?s.push({name:a.name,tensor:n[a.name]}):i[a.name]=n[a.name]}),{modelWeights:i,optimizerWeights:s}}class Al extends nr{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=e.name!=null?e.name:eb("sequential_"),e.layers!=null)for(const n of e.layers)this.add(n)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(i=>i<0))throw new H(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const n=e instanceof Al||e instanceof nr;let i;if(n){if(i=e,i.outputs.length!==1)throw new H("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(i.inputs.length!==1)throw new H("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(e.inboundNodes.length===0){if(e.batchInputShape==null)throw new H("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const s=H5({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(s)}if(n)this.outputs=i.outputs,this.inputs=i.inputs;else{if(e.inboundNodes.length!==1)throw new H(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(e.inboundNodes[0].outputTensors.length!==1)throw new H("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=j5(this.outputs[0])}this.inboundNodes=[],new cb({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:Dl(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(s=>s.shape),outputShapes:this.outputs[0].shape})}else{const s=e.apply(this.outputs[0]);if(Array.isArray(s))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[s],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,n){return this.model==null&&this.build(),this.model.call(e,n)}build(e){if(nt(e),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new nr({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,n,i=console.log){this.built||this.build(),super.summary(e,n,i)}setWeights(e){this.model==null&&this.build(),this.model.setWeights(e)}evaluate(e,n,i={}){if(!this.built)throw new bs("The model needs to be compiled before being used.");return this.model.evaluate(e,n,i)}async evaluateDataset(e,n){if(!this.built)throw new bs("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,n)}predict(e,n={}){return this.model==null&&this.build(),this.model.predict(e,n)}predictOnBatch(e){return this.model==null&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,n,i={}){if(!this.built)throw new bs("The model needs to be compiled before being used.");return this.model.fit(e,n,i)}async fitDataset(e,n){if(!this.built)throw new bs("The model needs to be compiled before being used.");return this.model.fitDataset(e,n)}async trainOnBatch(e,n){return this.model.trainOnBatch(e,n)}static fromConfig(e,n,i={},s=!1){let a,r={};if(n instanceof Array){if(n[0].className==null||n[0].className==="Merge")throw new H("Legacy serialization format not supported yet.");a=n}else E(n.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),a=n.layers,delete n.layers,r=n;const o=new e(r);if(!(o instanceof Al))throw new Le(`Sequential.fromConfig called on non-Sequential input: ${o}`);for(const l of a){const u=Js(l,void 0,s);s&&u.setFastWeightInitDuringBuild(!0),o.add(u)}return o}set stopTraining(e){if(this.model==null)throw new H("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(this.model==null)throw new H("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const n of this.layers){const i={};i.className=n.getClassName(),i.config=n.getConfig(),e.push(i)}return{name:this.name,layers:e}}}Al.className="Sequential";ae(Al);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function wse(t){return new nr(t)}function kse(t){return new Al(t)}function lP(t){return H5(t)}function _se(t,e){Li.registerCallbackConstructor(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class mi extends Gl{getConfig(){return{}}}class cP extends mi{apply(e,n=1){return Gne(e,n)}}cP.className="elu";ae(cP);class uP extends mi{apply(e){return Nv(e)}}uP.className="selu";ae(uP);class dP extends mi{apply(e){return sa(e)}}dP.className="relu";ae(dP);class fP extends mi{apply(e){return X(()=>bd(6,sa(e)))}}fP.className="relu6";ae(fP);class hP extends mi{apply(e){return e}}hP.className="linear";ae(hP);class pP extends mi{apply(e){return Xs(e)}}pP.className="sigmoid";ae(pP);class mP extends mi{apply(e){return qne(e)}}mP.className="hardSigmoid";ae(mP);class gP extends mi{apply(e){return Ul(e)}}gP.className="softplus";ae(gP);class yP extends mi{apply(e){return Une(e)}}yP.className="softsign";ae(yP);class vP extends mi{apply(e){return Il(e)}}vP.className="tanh";ae(vP);class lC extends mi{apply(e,n=-1){return Qp(e,n)}}lC.className="softmax";ae(lC);class bP extends mi{apply(e,n=-1){return vv(e,n)}}bP.className="logSoftmax";ae(bP);class wP extends mi{apply(e,n=1){return X(()=>W(Xs(W(e,n)),e))}}wP.className="swish";ae(wP);class kP extends mi{apply(e){return X(()=>W(e,Il(Ul(e))))}}kP.className="mish";ae(kP);function vo(t){return t.getClassName()}function Gw(t,e={}){return am(t,zi.getMap().classNameMap,e,"activation")}function bo(t){if(t==null){const e={};return e.className="linear",e.config={},Gw(e)}if(typeof t=="string"){const e={};return e.className=t,e.config={},Gw(e)}else return t instanceof mi?t:Gw(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function cC(t){if(t!=null&&typeof t!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${t}`)}class _P extends Gl{}class um extends _P{constructor(e){super(),cC(e),this.l1=e==null||e.l1==null?.01:e.l1,this.l2=e==null||e.l2==null?.01:e.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(e){return X(()=>{let n=Vt([1]);return this.hasL1&&(n=oe(n,ke(W(this.l1,Kt(e))))),this.hasL2&&(n=oe(n,ke(W(this.l2,om(e))))),j(n,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,n){return new e({l1:n.l1,l2:n.l2})}}um.className="L1L2";ae(um);function xse(t){return cC(t),new um({l1:t!=null?t.l1:null,l2:0})}function Sse(t){return cC(t),new um({l2:t!=null?t.l2:null,l1:0})}const D$={l1l2:"L1L2"};function ut(t){return W3(t)}function A$(t,e={}){return am(t,zi.getMap().classNameMap,e,"regularizer")}function Nt(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in D$?D$[t]:t,config:{}};return A$(n)}else return t instanceof _P?t:A$(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class uC extends We{constructor(e){super(e==null?{}:e),this.supportsMasking=!0,e!=null&&(this.maxValue=e.maxValue)}call(e,n){e=Re(e);let i=sa(e);return this.maxValue!=null&&(i=ci(i,0,this.maxValue)),i}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},n=super.getConfig();return Object.assign(e,n),e}}uC.className="ReLU";ae(uC);class dC extends We{constructor(e){super(e==null?{}:e),this.DEFAULT_ALPHA=.3,e==null&&(e={}),this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const i=Re(e);return jp(i,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}}dC.className="LeakyReLU";ae(dC);class fC extends We{constructor(e){if(super(e==null?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",e==null&&(e={}),this.supportsMasking=!0,this.alphaInitializer=Ct(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=Nt(e.alphaRegularizer),this.alphaConstraint=rn(e.alphaConstraint),e.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if(typeof e.sharedAxes=="number")this.sharedAxes=[e.sharedAxes];else throw new H(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`)}build(e){e=nt(e);const n=e.slice(1);if(this.sharedAxes!=null)for(const s of this.sharedAxes)n[s-1]=1;this.alpha=this.addWeight("alpha",n,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const i={};if(this.sharedAxes!=null)for(let s=1;s<e.length;++s)i[s]=e[s];this.inputSpec=[new Jt({ndim:e.length,axes:i})],this.built=!0}call(e,n){return e=Re(e),Xp(e,this.alpha.read())}getConfig(){const e={alphaInitializer:Dt(this.alphaInitializer),alphaRegularizer:ut(this.alphaRegularizer),alphaConstraint:an(this.alphaConstraint),sharedAxes:this.sharedAxes},n=super.getConfig();return Object.assign(e,n),e}}fC.className="PReLU";ae(fC);class hC extends We{constructor(e){if(super(e==null?{}:e),this.DEFAULT_ALPHA=1,e==null&&(e={}),e.alpha!=null&&e.alpha!==this.DEFAULT_ALPHA)throw new Le(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const i=Re(e);return md(i)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}}hC.className="ELU";ae(hC);class pC extends We{constructor(e){super(e==null?{}:e),this.DEFAULT_THETA=1,e==null&&(e={}),this.theta=e.theta==null?this.DEFAULT_THETA:e.theta}call(e,n){const i=Re(e);return W(i,fe(ti(i,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},n=super.getConfig();return Object.assign(e,n),e}}pC.className="ThresholdedReLU";ae(pC);class mC extends We{constructor(e){super(e==null?{}:e),this.DEFAULT_AXIS=1,e==null&&(e={}),this.softmax=new lC().apply,this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis}call(e,n){const i=Re(e);return this.softmax(i,this.axis)}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}mC.className="Softmax";ae(mC);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Fc(t,e,n){if(typeof t=="number")return Dl(t,e);if(t.length!==e)throw new H(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${t.length} elements.`);for(let i=0;i<e;++i){const s=t[i];if(!Vne(s))throw new H(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${JSON.stringify(t)} including a non-integer number ${s}`)}return t}function Ys(t,e,n,i,s=1){if(t==null)return t;const a=e+(e-1)*(s-1);let r;return n==="same"?r=t:r=t-a+1,Math.floor((r+i-1)/i)}function ma(t,e,n,i){if(t==null)return null;if(i==="valid")t=t*e+yo([n-e,0]);else if(i==="same")t=t*e;else throw new H(`Unsupport padding mode: ${i}.`);return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function gC(t,e){return X(()=>(Ut(e),e==="channelsFirst"?He(t,[0,2,3,1]):t))}function xP(t,e){return X(()=>(Ut(e),e==="channelsFirst"?He(t,[0,2,3,4,1]):t))}function Cse(t,e,n,i=1,s="valid",a,r=1){return X(()=>{if(a==null&&(a=ea()),Ut(a),t.shape.length!==3)throw new H(`The input of a conv1dWithBias operation should be 3, but is ${t.shape.length} instead.`);if(e.shape.length!==3)throw new H(`The kernel for a conv1dWithBias operation should be 3, but is ${e.shape.length} instead`);if(n!=null&&n.shape.length!==1)throw new H(`The bias for a conv1dWithBias operation should be 1, but is ${e.shape.length} instead`);if(a==="channelsFirst"&&(t=He(t,[0,2,1])),s==="causal")throw new Le("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let o=dv(t,e,i,s==="same"?"same":"valid","NWC",r);return n!=null&&(o=aa(o,n)),o})}function F$(t,e,n,i=[1,1],s="valid",a,r,o=null){return X(()=>{if(a==null&&(a=ea()),Ut(a),t.rank!==3&&t.rank!==4)throw new H(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${t.rank}.`);if(e.rank!==3&&e.rank!==4)throw new H(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${t.rank}.`);let l=gC(t,a);if(s==="causal")throw new Le("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=UO({x:l,filter:e,strides:i,pad:s==="same"?"same":"valid",dilations:r,dataFormat:"NHWC",bias:n,activation:o}),a==="channelsFirst"&&(l=He(l,[0,3,1,2])),l})}function Nse(t,e,n,i=[1,1,1],s="valid",a,r){return X(()=>{if(a==null&&(a=ea()),Ut(a),t.rank!==4&&t.rank!==5)throw new H(`conv3dWithBias expects input to be of rank 4 or 5, but received ${t.rank}.`);if(e.rank!==4&&e.rank!==5)throw new H(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${t.rank}.`);let o=xP(t,a);if(s==="causal")throw new Le("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return o=VS(o,e,i,s==="same"?"same":"valid","NDHWC",r),n!=null&&(o=aa(o,n)),a==="channelsFirst"&&(o=He(o,[0,4,1,2,3])),o})}class hb extends We{constructor(e,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",hb.verifyArgs(n),this.rank=e,fn(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new Le(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=Fc(n.kernelSize,e,"kernelSize"),this.strides=Fc(n.strides==null?1:n.strides,e,"strides"),this.padding=n.padding==null?"valid":n.padding,es(this.padding),this.dataFormat=n.dataFormat==null?"channelsLast":n.dataFormat,Ut(this.dataFormat),this.activation=bo(n.activation),this.useBias=n.useBias==null?!0:n.useBias,this.biasInitializer=Ct(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=rn(n.biasConstraint),this.biasRegularizer=Nt(n.biasRegularizer),this.activityRegularizer=Nt(n.activityRegularizer),this.dilationRate=Fc(n.dilationRate==null?1:n.dilationRate,e,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new H(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new H(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new H(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(e){if(pa("kernelSize"in e,"required key 'kernelSize' not in config"),typeof e.kernelSize!="number"&&!j3(e.kernelSize,"number",1,3))throw new H(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:vo(this.activation),useBias:this.useBias,biasInitializer:Dt(this.biasInitializer),biasRegularizer:ut(this.biasRegularizer),activityRegularizer:ut(this.activityRegularizer),biasConstraint:an(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}class Cd extends hb{constructor(e,n){super(e,n),this.kernel=null,Cd.verifyArgs(n),this.filters=n.filters,fn(this.filters,"filters"),this.kernelInitializer=Ct(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=rn(n.kernelConstraint),this.kernelRegularizer=Nt(n.kernelRegularizer)}build(e){e=nt(e);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new H(`The channel dimension of the input should be defined. Found ${e[n]}`);const i=e[n],s=this.kernelSize.concat([i,this.filters]);this.kernel=this.addWeight("kernel",s,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:i}}],this.built=!0}call(e,n){return X(()=>{e=Re(e);let i;const s=this.bias==null?null:this.bias.read(),a=R5(this.activation.getClassName());if(a!=null&&this.rank===2)i=F$(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate,a);else{if(this.rank===1)i=Cse(e,this.kernel.read(),s,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)i=F$(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)i=Nse(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new Le("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(i=this.activation.apply(i))}return i})}computeOutputShape(e){e=nt(e);const n=[],i=this.dataFormat==="channelsLast"?e.slice(1,e.length-1):e.slice(2);for(let a=0;a<i.length;++a){const r=Ys(i[a],this.kernelSize[a],this.padding,this.strides[a],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[a]);n.push(r)}let s=[e[0]];return this.dataFormat==="channelsLast"?(s=s.concat(n),s.push(this.filters)):(s.push(this.filters),s=s.concat(n)),s}getConfig(){const e={filters:this.filters,kernelInitializer:Dt(this.kernelInitializer),kernelRegularizer:ut(this.kernelRegularizer),kernelConstraint:an(this.kernelConstraint)},n=super.getConfig();return Object.assign(e,n),e}static verifyArgs(e){if(!("filters"in e)||typeof e.filters!="number"||e.filters<1)throw new H(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class Nd extends Cd{constructor(e){super(2,e),Nd.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!j3(e.kernelSize,"number",1,2))throw new H(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}Nd.className="Conv2D";ae(Nd);class Id extends Cd{constructor(e){super(3,e),Id.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!(Array.isArray(e.kernelSize)&&(e.kernelSize.length===1||e.kernelSize.length===3)))throw new H(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}Id.className="Conv3D";ae(Id);class yC extends Nd{constructor(e){if(super(e),this.inputSpec=[new Jt({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new H(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=nt(e),e.length!==4)throw new H("Input should have rank 4; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new H("The channel dimension of the inputs should be defined. Found `None`.");const i=e[n],s=this.kernelSize.concat([this.filters,i]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Jt({ndim:4,axes:{[n]:i}})],this.built=!0}call(e,n){return X(()=>{let i=Re(e);if(i.shape.length!==4)throw new H(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${i.shape.length}`);const s=i.shape,a=s[0];let r,o;this.dataFormat==="channelsFirst"?(r=2,o=3):(r=1,o=2);const l=s[r],c=s[o],u=this.kernelSize[0],d=this.kernelSize[1],f=this.strides[0],h=this.strides[1],p=ma(l,f,u,this.padding),m=ma(c,h,d,this.padding),y=[a,p,m,this.filters];this.dataFormat!=="channelsLast"&&(i=He(i,[0,2,3,1]));let g=fv(i,this.kernel.read(),y,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(g=He(g,[0,3,1,2])),this.bias!=null&&(g=aa(g,this.bias.read(),this.dataFormat)),this.activation!=null&&(g=this.activation.apply(g)),g})}computeOutputShape(e){e=nt(e);const n=e.slice();let i,s,a;this.dataFormat==="channelsFirst"?(i=1,s=2,a=3):(i=3,s=1,a=2);const r=this.kernelSize[0],o=this.kernelSize[1],l=this.strides[0],c=this.strides[1];return n[i]=this.filters,n[s]=ma(n[s],l,r,this.padding),n[a]=ma(n[a],c,o,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}yC.className="Conv2DTranspose";ae(yC);class vC extends Id{constructor(e){if(super(e),this.inputSpec=[new Jt({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new H(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=nt(e),e.length!==5)throw new H("Input should have rank 5; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new H("The channel dimension of the inputs should be defined. Found `None`.");const i=e[n],s=this.kernelSize.concat([this.filters,i]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Jt({ndim:5,axes:{[n]:i}})],this.built=!0}call(e,n){return X(()=>{let i=Re(e);if(i.shape.length!==5)throw new H(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${i.shape.length}`);const s=i.shape,a=s[0];let r,o,l;this.dataFormat==="channelsFirst"?(l=2,r=3,o=4):(l=1,r=2,o=3);const c=s[l],u=s[r],d=s[o],f=this.kernelSize[0],h=this.kernelSize[1],p=this.kernelSize[2],m=this.strides[0],y=this.strides[1],g=this.strides[2],v=ma(c,m,f,this.padding),b=ma(u,y,h,this.padding),w=ma(d,g,p,this.padding),k=[a,v,b,w,this.filters];this.dataFormat!=="channelsLast"&&(i=He(i,[0,2,3,4,1]));let x=WS(i,this.kernel.read(),k,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(x=He(x,[0,4,1,2,3])),this.bias!==null&&(x=aa(x,this.bias.read(),this.dataFormat)),this.activation!==null&&(x=this.activation.apply(x)),x})}computeOutputShape(e){e=nt(e);const n=e.slice();let i,s,a,r;this.dataFormat==="channelsFirst"?(i=1,s=2,a=3,r=4):(i=4,s=1,a=2,r=3);const o=this.kernelSize[0],l=this.kernelSize[1],c=this.kernelSize[2],u=this.strides[0],d=this.strides[1],f=this.strides[2];return n[i]=this.filters,n[s]=ma(n[s],u,o,this.padding),n[a]=ma(n[a],d,l,this.padding),n[r]=ma(n[r],f,c,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}vC.className="Conv3DTranspose";ae(vC);class SP extends Cd{constructor(e,n){if(super(e,n),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,n.filters==null)throw new H("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(n.kernelInitializer!=null||n.kernelRegularizer!=null||n.kernelConstraint!=null)throw new H("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(n.padding!=null&&n.padding!=="same"&&n.padding!=="valid")throw new H(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(n.padding)}`);this.depthMultiplier=n.depthMultiplier==null?1:n.depthMultiplier,this.depthwiseInitializer=Ct(n.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=Nt(n.depthwiseRegularizer),this.depthwiseConstraint=rn(n.depthwiseConstraint),this.pointwiseInitializer=Ct(n.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=Nt(n.pointwiseRegularizer),this.pointwiseConstraint=rn(n.pointwiseConstraint)}build(e){if(e=nt(e),e.length<this.rank+2)throw new H(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null||e[n]<0)throw new H(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[n])}`);const i=e[n],s=this.kernelSize.concat([i,this.depthMultiplier]),a=[];for(let o=0;o<this.rank;++o)a.push(1);a.push(i*this.depthMultiplier,this.filters);const r=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",s,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,r,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,r,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,r,this.biasConstraint):this.bias=null,this.inputSpec=[new Jt({ndim:this.rank+2,axes:{[n]:i}})],this.built=!0}call(e,n){return X(()=>{e=Re(e);let i;if(this.rank===1)throw new Le("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(e=He(e,[0,2,3,1])),i=Iv(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(i=aa(i,this.bias.read(),this.dataFormat)),this.activation!=null&&(i=this.activation.apply(i)),this.dataFormat==="channelsFirst"&&(i=He(i,[0,3,1,2])),i})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=Dt(this.depthwiseInitializer),e.pointwiseInitializer=Dt(this.pointwiseInitializer),e.depthwiseRegularizer=ut(this.depthwiseRegularizer),e.pointwiseRegularizer=ut(this.pointwiseRegularizer),e.depthwiseConstraint=an(this.depthwiseConstraint),e.pointwiseConstraint=an(this.pointwiseConstraint),e}}SP.className="SeparableConv";class bC extends SP{constructor(e){super(2,e)}}bC.className="SeparableConv2D";ae(bC);class dm extends Cd{constructor(e){super(1,e),dm.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!j3(e.kernelSize,"number",1,1))throw new H(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}dm.className="Conv1D";ae(dm);class wC extends We{constructor(e){super(e),typeof e.cropping=="number"?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:typeof e.cropping[0]=="number"?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=e.dataFormat===void 0?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return this.dataFormat==="channelsFirst"?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,n){return X(()=>{if(e=Re(e),this.dataFormat==="channelsLast"){const i=lg(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return lg(i,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const i=lg(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return lg(i,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}wC.className="Cropping2D";ae(wC);class kC extends We{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=e.size==null?this.DEFAULT_SIZE:e.size,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Ut(this.dataFormat),this.interpolation=e.interpolation==null?"nearest":e.interpolation,Mne(this.interpolation)}computeOutputShape(e){if(this.dataFormat==="channelsFirst"){const n=e[2]==null?null:this.size[0]*e[2],i=e[3]==null?null:this.size[1]*e[3];return[e[0],e[1],n,i]}else{const n=e[1]==null?null:this.size[0]*e[1],i=e[2]==null?null:this.size[1]*e[2];return[e[0],n,i,e[3]]}}call(e,n){return X(()=>{let i=Re(e);const s=i.shape;if(this.dataFormat==="channelsFirst"){i=He(i,[0,2,3,1]);const a=this.size[0]*s[2],r=this.size[1]*s[3],o=this.interpolation==="nearest"?wa.resizeNearestNeighbor(i,[a,r]):wa.resizeBilinear(i,[a,r]);return He(o,[0,3,1,2])}else{const a=this.size[0]*s[1],r=this.size[1]*s[2];return this.interpolation==="nearest"?wa.resizeNearestNeighbor(i,[a,r]):wa.resizeBilinear(i,[a,r])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}}kC.className="UpSampling2D";ae(kC);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Ise(t,e,n=[1,1],i="valid",s,a){return X(()=>{s==null&&(s=ea()),Ut(s);let r=gC(t,s);if(t.rank!==4)throw new H(`Input for depthwiseConv2d is required to be 4-D, but is instead ${t.rank}-D`);if(e.rank!==4)throw new H(`depthwiseKernel is required to be 4-D, but is instead ${e.rank}-D`);return r=pd(r,e,n,i==="same"?"same":"valid","NHWC",a),s==="channelsFirst"&&(r=He(r,[0,3,1,2])),r})}class _C extends hb{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=e.depthMultiplier==null?1:e.depthMultiplier,this.depthwiseInitializer=Ct(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=rn(e.depthwiseConstraint),this.depthwiseRegularizer=Nt(e.depthwiseRegularizer)}build(e){if(e=nt(e),e.length<4)throw new H(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const n=this.dataFormat==="channelsFirst"?1:3;if(e[n]==null||e[n]<0)throw new H(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[n]}).`);const i=e[n],s=[this.kernelSize[0],this.kernelSize[1],i,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",s,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[i*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return X(()=>{e=Re(e);let i=Ise(e,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(i=aa(i,this.bias.read(),this.dataFormat)),this.activation!=null&&(i=this.activation.apply(i)),i})}computeOutputShape(e){e=nt(e);const n=this.dataFormat==="channelsFirst"?e[2]:e[1],i=this.dataFormat==="channelsFirst"?e[3]:e[2],s=this.dataFormat==="channelsFirst"?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,a=Ys(n,this.kernelSize[0],this.padding,this.strides[0]),r=Ys(i,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[e[0],s,a,r]:[e[0],a,r,s]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=Dt(this.depthwiseInitializer),e.depthwiseRegularizer=ut(this.depthwiseRegularizer),e.depthwiseConstraint=an(this.depthwiseRegularizer),e}}_C.className="DepthwiseConv2D";ae(_C);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function CP(t,e,n,i){if(Array.isArray(t)){if(e!=null||n!=null)throw new H("When inputs is an array, neither initialState or constants should be provided");i!=null&&(n=t.slice(t.length-i,t.length),t=t.slice(0,t.length-i)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}function s(a){return a==null||Array.isArray(a)?a:[a]}return e=s(e),n=s(n),{inputs:t,initialState:e,constants:n}}function NP(t,e,n,i=!1,s,a,r=!1,o=!1){return X(()=>{const l=e.shape.length;if(l<3)throw new H(`Input should be at least 3D, but is ${l}D.`);const c=[1,0].concat(Zs(2,l));if(e=He(e,c),a!=null)throw new Le("The rnn() functoin of the deeplearn.js backend does not support constants yet.");r&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),s!=null&&(s=fe(fe(s,"bool"),"float32"),s.rank===l-1&&(s=Fn(s,-1)),s=He(s,c)),i&&(e=Xi(e,0),s!=null&&(s=Xi(s,0)));const u=[];let d,f=n;const h=e.shape[0],p=Ji(e);let m;s!=null&&(m=Ji(s));for(let g=0;g<h;++g){const v=p[g],b=X(()=>t(v,f));if(s==null)d=b[0],f=b[1];else{const w=X(()=>{const k=m[g],x=be(Ai(k),k),N=oe(W(b[0],k),W(f[0],x)),I=f.map((D,R)=>oe(W(b[1][R],k),W(D,x)));return{output:N,newStates:I}});d=w.output,f=w.newStates}o&&u.push(d)}let y;return o&&(y=ui(u,1)),[d,y,f]})}class ra extends We{constructor(e){super(e);let n;if(e.cell==null)throw new H("cell property is missing for the constructor of RNN.");if(Array.isArray(e.cell)?n=new gb({cells:e.cell}):n=e.cell,n.stateSize==null)throw new H("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=e.returnSequences==null?!1:e.returnSequences,this.returnState=e.returnState==null?!1:e.returnState,this.goBackwards=e.goBackwards==null?!1:e.goBackwards,this._stateful=e.stateful==null?!1:e.stateful,this.unroll=e.unroll==null?!1:e.unroll,this.supportsMasking=!0,this.inputSpec=[new Jt({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return Zs(0,e).map(n=>null)}else return this.states_}setStates(e){this.states_=e}computeOutputShape(e){z_(e)&&(e=e[0]),e=e;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);const i=n[0];let s;if(this.returnSequences?s=[e[0],e[1],i]:s=[e[0],i],this.returnState){const a=[];for(const r of n)a.push([e[0],r]);return[s].concat(a)}else return s}computeMask(e,n){return X(()=>{Array.isArray(n)&&(n=n[0]);const i=this.returnSequences?n:null;if(this.returnState){const s=this.states.map(a=>null);return[i].concat(s)}else return i})}get states(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let i=0;i<e;++i)n.push(null);return n}else return this.states_}set states(e){this.states_=e}build(e){if(this.numConstants!=null)throw new Le("Constants support is not implemented in RNN yet.");z_(e)&&(e=e[0]),e=e;const n=this.stateful?e[0]:null,i=e.slice(2);this.inputSpec[0]=new Jt({shape:[n,null,...i]});const s=[e[0]].concat(e.slice(2));this.cell.build(s);let a;if(Array.isArray(this.cell.stateSize)?a=this.cell.stateSize:a=[this.cell.stateSize],this.stateSpec!=null){if(!Ge(this.stateSpec.map(r=>r.shape[r.shape.length-1]),a))throw new H(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=a.map(r=>new Jt({shape:[null,r]}));this.stateful&&this.resetStates()}resetStates(e,n=!1){X(()=>{if(!this.stateful)throw new ha("Cannot call resetStates() on an RNN Layer that is not stateful.");const i=this.inputSpec[0].shape[0];if(i==null)throw new H("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>Vt([i,s])):this.states_=[Vt([i,this.cell.stateSize])];else if(e==null)Oe(this.states_),this.keptStates!=null&&(Oe(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>Vt([i,s])):this.states_[0]=Vt([i,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new H(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n===!0?this.keptStates.push(this.states_.slice()):Oe(this.states_);for(let s=0;s<this.states_.length;++s){const a=e[s],r=Array.isArray(this.cell.stateSize)?this.cell.stateSize[s]:this.cell.stateSize,o=[i,r];if(!Ge(a.shape,o))throw new H(`State ${s} is incompatible with layer ${this.name}: expected shape=${o}, received shape=${a.shape}`);this.states_[s]=a}}this.states_=this.states_.map(s=>tn(s.clone()))})}apply(e,n){let i=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const a=CP(e,i,s,this.numConstants);e=a.inputs,i=a.initialState,s=a.constants;let r=[],o=[];if(i!=null){n.initialState=i,r=r.concat(i),this.stateSpec=[];for(const c of i)this.stateSpec.push(new Jt({shape:c.shape}));o=o.concat(this.stateSpec)}if(s!=null&&(n.constants=s,r=r.concat(s),this.numConstants=s.length),r[0]instanceof Gs){const c=[e].concat(r),u=this.inputSpec.concat(o),d=this.inputSpec;this.inputSpec=u;const f=super.apply(c,n);return this.inputSpec=d,f}else return super.apply(e,n)}call(e,n){return X(()=>{const i=n==null?null:n.mask,s=n==null?null:n.training;let a=n==null?null:n.initialState;e=Re(e),a==null&&(this.stateful?a=this.states_:a=this.getInitialState(e));const r=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(a.length!==r)throw new H(`RNN Layer has ${r} state(s) but was passed ${a.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const o={training:s},c=NP((p,m)=>{const y=this.cell.call([p].concat(m),o);return[y[0],y.slice(1)]},e,a,this.goBackwards,i,null,this.unroll,this.returnSequences),u=c[0],d=c[1],f=c[2];this.stateful&&this.resetStates(f,s);const h=this.returnSequences?d:u;return this.returnState?[h].concat(f):h})}getInitialState(e){return X(()=>{let n=Vt(e.shape);return n=ke(n,[1,2]),n=rm(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(i=>i>1?M_(n,[1,i]):n):this.cell.stateSize>1?[M_(n,[1,this.cell.stateSize])]:[n]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(n.numConstants=this.numConstants);const i=this.cell.getConfig();return this.getClassName()===ra.className&&(n.cell={className:this.cell.getClassName(),config:i}),Object.assign(Object.assign(Object.assign({},i),e),n)}static fromConfig(e,n,i={}){const s=n.cell,a=Js(s,i);return new e(Object.assign(n,{cell:a}))}}ra.className="RNN";ae(ra);class fm extends We{}class pb extends fm{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,fn(this.units,"units"),this.activation=bo(e.activation==null?this.DEFAULT_ACTIVATION:e.activation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Ct(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Ct(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Ct(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Nt(e.kernelRegularizer),this.recurrentRegularizer=Nt(e.recurrentRegularizer),this.biasRegularizer=Nt(e.biasRegularizer),this.kernelConstraint=rn(e.kernelConstraint),this.recurrentConstraint=rn(e.recurrentConstraint),this.biasConstraint=rn(e.biasConstraint),this.dropout=nu([1,yo([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=nu([1,yo([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=nt(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return X(()=>{if(e=e,e.length!==2)throw new H(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let i=e[1];e=e[0];const s=n.training==null?!1:n.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=wo({ones:()=>Ai(e),rate:this.dropout,training:s,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=wo({ones:()=>Ai(i),rate:this.recurrentDropout,training:s,dropoutFunc:this.dropoutFunc}));let a;const r=this.dropoutMask,o=this.recurrentDropoutMask;r!=null?a=Da(W(e,r),this.kernel.read()):a=Da(e,this.kernel.read()),this.bias!=null&&(a=aa(a,this.bias.read())),o!=null&&(i=W(i,o));let l=oe(a,Da(i,this.recurrentKernel.read()));return this.activation!=null&&(l=this.activation.apply(l)),[l,l]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:vo(this.activation),useBias:this.useBias,kernelInitializer:Dt(this.kernelInitializer),recurrentInitializer:Dt(this.recurrentInitializer),biasInitializer:Dt(this.biasInitializer),kernelRegularizer:ut(this.kernelRegularizer),recurrentRegularizer:ut(this.recurrentRegularizer),biasRegularizer:ut(this.biasRegularizer),activityRegularizer:ut(this.activityRegularizer),kernelConstraint:an(this.kernelConstraint),recurrentConstraint:an(this.recurrentConstraint),biasConstraint:an(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),n)}}pb.className="SimpleRNNCell";ae(pb);class xC extends ra{constructor(e){e.cell=new pb(e),super(e)}call(e,n){return X(()=>{this.cell.dropoutMask!=null&&(Oe(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Oe(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const i=n==null?null:n.mask,s=n==null?null:n.training,a=n==null?null:n.initialState;return super.call(e,{mask:i,training:s,initialState:a})})}static fromConfig(e,n){return new e(n)}}xC.className="SimpleRNN";ae(xC);class mb extends fm{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new H("GRUCell does not support reset_after parameter set to true.");this.units=e.units,fn(this.units,"units"),this.activation=bo(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=bo(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Ct(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Ct(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Ct(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Nt(e.kernelRegularizer),this.recurrentRegularizer=Nt(e.recurrentRegularizer),this.biasRegularizer=Nt(e.biasRegularizer),this.kernelConstraint=rn(e.kernelConstraint),this.recurrentConstraint=rn(e.recurrentConstraint),this.biasConstraint=rn(e.biasConstraint),this.dropout=nu([1,yo([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=nu([1,yo([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=nt(e);const n=e[e.length-1];this.kernel=this.addWeight("kernel",[n,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return X(()=>{if(e=e,e.length!==2)throw new H(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const i=n.training==null?!1:n.training;let s=e[1];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=wo({ones:()=>Ai(e),rate:this.dropout,training:i,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=wo({ones:()=>Ai(s),rate:this.recurrentDropout,training:i,count:3,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,r=this.recurrentDropoutMask;let o,l,c;0<this.dropout&&this.dropout<1&&(e=W(e,a[0]));let u=Da(e,this.kernel.read());this.useBias&&(u=aa(u,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(s=W(s,r[0]));const d=this.recurrentKernel.read(),[f,h]=oi(d,[2*this.units,this.units],d.rank-1),p=Da(s,f),[m,y,g]=oi(u,3,u.rank-1),[v,b]=oi(p,2,p.rank-1);o=this.recurrentActivation.apply(oe(m,v)),l=this.recurrentActivation.apply(oe(y,b));const w=Da(W(l,s),h);c=this.activation.apply(oe(g,w));const k=oe(W(o,s),W(oe(1,wt(o)),c));return[k,k]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:vo(this.activation),recurrentActivation:vo(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Dt(this.kernelInitializer),recurrentInitializer:Dt(this.recurrentInitializer),biasInitializer:Dt(this.biasInitializer),kernelRegularizer:ut(this.kernelRegularizer),recurrentRegularizer:ut(this.recurrentRegularizer),biasRegularizer:ut(this.biasRegularizer),activityRegularizer:ut(this.activityRegularizer),kernelConstraint:an(this.kernelConstraint),recurrentConstraint:an(this.recurrentConstraint),biasConstraint:an(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),n)}}mb.className="GRUCell";ae(mb);class SC extends ra{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new mb(e),super(e)}call(e,n){return X(()=>{this.cell.dropoutMask!=null&&(Oe(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Oe(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const i=n==null?null:n.mask,s=n==null?null:n.training,a=n==null?null:n.initialState;return super.call(e,{mask:i,training:s,initialState:a})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}SC.className="GRU";ae(SC);class hm extends fm{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,fn(this.units,"units"),this.activation=bo(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=bo(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Ct(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Ct(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Ct(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=Nt(e.kernelRegularizer),this.recurrentRegularizer=Nt(e.recurrentRegularizer),this.biasRegularizer=Nt(e.biasRegularizer),this.kernelConstraint=rn(e.kernelConstraint),this.recurrentConstraint=rn(e.recurrentConstraint),this.biasConstraint=rn(e.biasConstraint),this.dropout=nu([1,yo([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=nu([1,yo([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var n;e=nt(e);const i=e[e.length-1];this.kernel=this.addWeight("kernel",[i,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let s;if(this.useBias){if(this.unitForgetBias){const a=this.biasInitializer,r=this.units;s=new(n=class extends Is{apply(l,c){const u=a.apply([r]),d=new nb().apply([r]),f=a.apply([r*2]);return g$(g$(u,d),f)}},n.className="CustomInit",n)}else s=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,s,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,n){return X(()=>{const i=n.training==null?!1:n.training;if(e=e,e.length!==3)throw new H(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let s=e[1];const a=e[2];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=wo({ones:()=>Ai(e),rate:this.dropout,training:i,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=wo({ones:()=>Ai(s),rate:this.recurrentDropout,training:i,count:4,dropoutFunc:this.dropoutFunc}));const r=this.dropoutMask,o=this.recurrentDropoutMask;let l,c,u,d;0<this.dropout&&this.dropout<1&&(e=W(e,r[0]));let f=Da(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(s=W(s,o[0])),f=oe(f,Da(s,this.recurrentKernel.read())),this.useBias&&(f=aa(f,this.bias.read()));const[h,p,m,y]=oi(f,4,f.rank-1);l=this.recurrentActivation.apply(h),c=this.recurrentActivation.apply(p),u=oe(W(c,a),W(l,this.activation.apply(m))),d=this.recurrentActivation.apply(y);const g=W(d,this.activation.apply(u));return[g,g,u]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:vo(this.activation),recurrentActivation:vo(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Dt(this.kernelInitializer),recurrentInitializer:Dt(this.recurrentInitializer),biasInitializer:Dt(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:ut(this.kernelRegularizer),recurrentRegularizer:ut(this.recurrentRegularizer),biasRegularizer:ut(this.biasRegularizer),activityRegularizer:ut(this.activityRegularizer),kernelConstraint:an(this.kernelConstraint),recurrentConstraint:an(this.recurrentConstraint),biasConstraint:an(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),n)}}hm.className="LSTMCell";ae(hm);class CC extends ra{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new hm(e),super(e)}call(e,n){return X(()=>{this.cell.dropoutMask!=null&&(Oe(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Oe(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const i=n==null?null:n.mask,s=n==null?null:n.training,a=n==null?null:n.initialState;return super.call(e,{mask:i,training:s,initialState:a})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}CC.className="LSTM";ae(CC);class gb extends fm{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const n of this.cells.slice().reverse())Array.isArray(n.stateSize)?e.push(...n.stateSize):e.push(n.stateSize);return e}call(e,n){return X(()=>{e=e;let i=e.slice(1);const s=[];for(const o of this.cells.slice().reverse())Array.isArray(o.stateSize)?s.push(i.splice(0,o.stateSize.length)):s.push(i.splice(0,1));s.reverse();const a=[];let r;for(let o=0;o<this.cells.length;++o){const l=this.cells[o];i=s[o],o===0?r=[e[0]].concat(i):r=[r[0]].concat(i),r=l.call(r,n),a.push(r.slice(1))}i=[];for(const o of a.slice().reverse())i.push(...o);return[r[0]].concat(i)})}build(e){z_(e)&&(e=e[0]),e=e;let n;this.cells.forEach((i,s)=>{fl(`RNNCell_${s}`,()=>{i.build(e),Array.isArray(i.stateSize)?n=i.stateSize[0]:n=i.stateSize,e=[e[0],n]})}),this.built=!0}getConfig(){const e=super.getConfig(),n=a=>({className:a.getClassName(),config:a.getConfig()}),s={cells:this.cells.map(n)};return Object.assign(Object.assign({},e),s)}static fromConfig(e,n,i={}){const s=[];for(const a of n.cells)s.push(Js(a,i));return new e({cells:s})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const n of this.cells)e.push(...n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.cells)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const i of this.cells)n.push(...i.trainableWeights);return n.concat(e)}return e}getWeights(){const e=[];for(const n of this.cells)e.push(...n.weights);return V_(e)}setWeights(e){const n=[];for(const i of this.cells){const s=i.weights.length,a=e.splice(s);for(let r=0;r<i.weights.length;++r)n.push([i.weights[r],a[r]])}Q3(n)}}gb.className="StackedRNNCells";ae(gb);function wo(t){const{ones:e,rate:n,training:i=!1,count:s=1,dropoutFunc:a}=t,r=()=>a!=null?a(e(),n):V5(e(),n),o=()=>lm(r,e,i);return!s||s<=1?tn(o().clone()):Array(s).fill(void 0).map(o).map(c=>tn(c.clone()))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var Tse=globalThis&&globalThis.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};class IP extends ra{constructor(e){if(e.unroll)throw new Le("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new Le("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new Jt({ndim:5})]}call(e,n){return X(()=>{if(this.cell.dropoutMask!=null&&(Oe(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Oe(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),n&&n.constants)throw new H("ConvRNN2D cell does not support constants");const i=n==null?null:n.mask,s=n==null?null:n.training,a=n==null?null:n.initialState;return super.call(e,{mask:i,training:s,initialState:a})})}computeOutputShape(e){let n=this.computeSingleOutputShape(e);return this.returnSequences||(n=[n[0],...n.slice(2)]),this.returnState&&(n=[n,...Array(2).fill([e[0],...n.slice(-3)])]),n}getInitialState(e){return X(()=>{const{stateSize:n}=this.cell,i=e.shape,s=this.computeSingleOutputShape(i),a=[s[0],...s.slice(2)],r=Vt(a);return Array.isArray(n)?Array(n.length).fill(r):[r]})}resetStates(e,n=!1){X(()=>{if(!this.stateful)throw new ha("Cannot call resetStates() on an RNN Layer that is not stateful.");const i=this.inputSpec[0].shape,s=this.computeSingleOutputShape(i),a=[s[0],...s.slice(2)];if(i[0]==null)throw new H("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>Vt(a)):this.states_=[Vt(a)];else if(e==null)Oe(this.states_),this.keptStates!=null&&(Oe(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>Vt(a)):this.states_[0]=Vt(a);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new H(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n?this.keptStates.push(this.states_.slice()):Oe(this.states_);for(let o=0;o<this.states_.length;++o){const l=e[o],c=a;if(!Ge(l.shape,c))throw new H(`State ${o} is incompatible with layer ${this.name}: expected shape=${c}, received shape=${l.shape}`);this.states_[o]=l}}this.states_=this.states_.map(o=>tn(o.clone()))})}computeSingleOutputShape(e){const{dataFormat:n,filters:i,kernelSize:s,padding:a,strides:r,dilationRate:o}=this.cell,l=n==="channelsFirst",c=e[l?3:2],u=e[l?4:3],d=Ys(c,s[0],a,r[0],o[0]),f=Ys(u,s[1],a,r[1],o[1]);return[...e.slice(0,2),...l?[i,d,f]:[d,f,i]]}}IP.className="ConvRNN2D";class yb extends hm{constructor(e){const{filters:n,kernelSize:i,strides:s,padding:a,dataFormat:r,dilationRate:o}=e;super(Object.assign(Object.assign({},e),{units:n})),this.filters=n,fn(this.filters,"filters"),this.kernelSize=Fc(i,2,"kernelSize"),this.kernelSize.forEach(l=>fn(l,"kernelSize")),this.strides=Fc(s||1,2,"strides"),this.strides.forEach(l=>fn(l,"strides")),this.padding=a||"valid",es(this.padding),this.dataFormat=r||"channelsLast",Ut(this.dataFormat),this.dilationRate=Fc(o||1,2,"dilationRate"),this.dilationRate.forEach(l=>fn(l,"dilationRate"))}build(e){var n;e=nt(e);const i=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[i]==null)throw new H(`The channel dimension of the input should be defined. Found ${e[i]}`);const s=e[i],a=4,r=this.kernelSize.concat([s,this.filters*a]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const o=this.kernelSize.concat([this.filters,this.filters*a]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",o,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let l;if(this.unitForgetBias){const c=this.biasInitializer,u=this.filters;l=new(n=class extends Is{apply(f,h){const p=c.apply([u]),m=Si([u]),y=c.apply([u*2]);return H3([p,m,y])}},n.className="CustomInit",n)}else l=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*a],null,l,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,n){return X(()=>{if(e.length!==3)throw new H(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const i=n.training||!1,s=e[0],a=e[1],r=e[2],o=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=wo({ones:()=>Ai(s),rate:this.dropout,training:i,count:o,dropoutFunc:this.dropoutFunc}));const l=this.dropoutMask,c=(Q,ee,ie)=>!ee||!ee[ie]?Q:W(ee[ie],Q);let u=c(s,l,0),d=c(s,l,1),f=c(s,l,2),h=c(s,l,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=wo({ones:()=>Ai(a),rate:this.recurrentDropout,training:i,count:o,dropoutFunc:this.dropoutFunc}));const p=this.recurrentDropoutMask;let m=c(a,p,0),y=c(a,p,1),g=c(a,p,2),v=c(a,p,3);const b=3,[w,k,x,N]=oi(this.kernel.read(),o,b),[I,D,R,L]=this.useBias?oi(this.bias.read(),o):[null,null,null,null];u=this.inputConv(u,w,I,this.padding),d=this.inputConv(d,k,D,this.padding),f=this.inputConv(f,x,R,this.padding),h=this.inputConv(h,N,L,this.padding);const[O,T,A,S]=oi(this.recurrentKernel.read(),o,b);m=this.recurrentConv(m,O),y=this.recurrentConv(y,T),g=this.recurrentConv(g,A),v=this.recurrentConv(v,S);const $=this.recurrentActivation.apply(oe(u,m)),K=this.recurrentActivation.apply(oe(d,y)),M=oe(W(K,r),W($,this.activation.apply(oe(f,g)))),U=W(this.recurrentActivation.apply(oe(h,v)),this.activation.apply(M));return[U,U,M]})}getConfig(){const e=super.getConfig(),n=Tse(e,["units"]),i={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),i)}inputConv(e,n,i,s){const a=dr(e,n,this.strides,s||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return i?aa(a,i,this.dataFormat):a}recurrentConv(e,n){return dr(e,n,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}yb.className="ConvLSTM2DCell";ae(yb);class NC extends IP{constructor(e){const n=new yb(e);super(Object.assign(Object.assign({},e),{cell:n}))}static fromConfig(e,n){return new e(n)}}NC.className="ConvLSTM2D";ae(NC);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class vb extends We{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(this.noiseShape==null)return this.noiseShape;const n=e.shape,i=[];for(let s=0;s<this.noiseShape.length;++s)i.push(this.noiseShape[s]==null?n[s]:this.noiseShape[s]);return i}call(e,n){return X(()=>{this.invokeCallHook(e,n);const i=Re(e);if(0<this.rate&&this.rate<1){const s=n.training==null?!1:n.training,a=this.getNoiseShape(i);return lm(()=>V5(i,this.rate,a,this.seed),()=>i,s)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=super.getConfig();return Object.assign(e,n),e}dispose(){return super.dispose()}}vb.className="Dropout";ae(vb);class IC extends vb{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const n=e.shape;return[n[0],1,n[2]]}}IC.className="SpatialDropout1D";ae(IC);class TC extends We{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.batchInputShape==null&&e.inputShape==null&&e.inputDim!=null){let n=null;e.batchSize!=null&&(n=e.batchSize),this.batchInputShape=[n,e.inputDim]}this.units=e.units,fn(this.units,"units"),this.activation=bo(e.activation),e.useBias!=null&&(this.useBias=e.useBias),this.kernelInitializer=Ct(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=Ct(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=rn(e.kernelConstraint),this.biasConstraint=rn(e.biasConstraint),this.kernelRegularizer=Nt(e.kernelRegularizer),this.biasRegularizer=Nt(e.biasRegularizer),this.activityRegularizer=Nt(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){e=nt(e);const n=e[e.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:n}}],this.built=!0}computeOutputShape(e){e=nt(e);const n=e.slice();return n[n.length-1]=this.units,n}call(e,n){return X(()=>{this.invokeCallHook(e,n);const i=Re(e),s=R5(this.activation.getClassName());let a;return s!=null?a=Da(i,this.kernel.read(),s,this.bias?this.bias.read():null):(a=Da(i,this.kernel.read()),this.bias!=null&&(a=aa(a,this.bias.read())),this.activation!=null&&(a=this.activation.apply(a))),a})}getConfig(){const e={units:this.units,activation:vo(this.activation),useBias:this.useBias,kernelInitializer:Dt(this.kernelInitializer),biasInitializer:Dt(this.biasInitializer),kernelRegularizer:ut(this.kernelRegularizer),biasRegularizer:ut(this.biasRegularizer),activityRegularizer:ut(this.activityRegularizer),kernelConstraint:an(this.kernelConstraint),biasConstraint:an(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}TC.className="Dense";ae(TC);class $C extends We{constructor(e){e=e||{},super(e),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=nt(e);for(const n of e.slice(1))if(n==null)throw new H(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],ro(e,1)]}call(e,n){return X(()=>{this.invokeCallHook(e,n);let i=Re(e);if(this.dataFormat==="channelsFirst"&&i.rank>1){const s=[0];for(let a=2;a<i.rank;++a)s.push(a);s.push(1),i=He(i,s)}return Hne(i)})}getConfig(){const e={};this.dataFormat!=null&&(e.dataFormat=this.dataFormat);const n=super.getConfig();return Object.assign(e,n),e}}$C.className="Flatten";ae($C);class EC extends We{constructor(e){super(e),this.supportsMasking=!0,this.activation=bo(e.activation)}call(e,n){return X(()=>{this.invokeCallHook(e,n);const i=Re(e);return this.activation.apply(i)})}getConfig(){const e={activation:vo(this.activation)},n=super.getConfig();return Object.assign(e,n),e}}EC.className="Activation";ae(EC);class DC extends We{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,n){return X(()=>(e=Re(e),Wne(e,this.n)))}getConfig(){const e={n:this.n},n=super.getConfig();return Object.assign(e,n),e}}DC.className="RepeatVector";ae(DC);class AC extends We{constructor(e){super(e),this.targetShape=e.targetShape;for(let n=0;n<this.targetShape.length;++n)this.isUnknown(this.targetShape[n])&&(this.targetShape[n]=null)}isUnknown(e){return e<0||e==null}fixUnknownDimension(e,n){const i="Total size of new array must be unchanged.",s=n.slice();let a=1,r=null;for(let l=0;l<s.length;++l){const c=s[l];if(this.isUnknown(c))if(r===null)r=l;else throw new H("Can only specifiy one unknown dimension.");else a*=c}const o=ro(e);if(r!==null){if(a===0||o%a!==0)throw new H(i);s[r]=o/a}else if(o!==a)throw new H(i);return s}computeOutputShape(e){let n=!1;for(let i=0;i<e.length;++i)if(this.isUnknown(e[i])){n=!0;break}return n?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,n){return X(()=>{this.invokeCallHook(e,n);const i=Re(e),s=i.shape,a=s.slice(0,1).concat(this.fixUnknownDimension(s.slice(1),this.targetShape));return j(i,a)})}getConfig(){const e={targetShape:this.targetShape},n=super.getConfig();return Object.assign(e,n),e}}AC.className="Reshape";ae(AC);class FC extends We{constructor(e){if(super(e),e.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const n=Zs(1,e.dims.length+1);if(!Ge(e.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new Jt({ndim:this.dims.length+1})]}computeOutputShape(e){e=nt(e);const n=e.slice();return this.dims.forEach((i,s)=>{n[s+1]=e[i]}),n}call(e,n){return He(Re(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},n=super.getConfig();return Object.assign(e,n),e}}FC.className="Permute";ae(FC);class RC extends We{constructor(e){super(e==null?{}:e),this.supportsMasking=!0,e!=null?this.maskValue=e.maskValue==null?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={maskValue:this.maskValue};return Object.assign(n,e),n}computeMask(e,n){const i=Re(e),s=-1;return fh(Tl(i,this.maskValue),s)}call(e,n){return X(()=>{this.invokeCallHook(e,n);const i=Re(e),s=-1,a=!0,r=fh(Tl(i,this.maskValue),s,a);return W(i,fe(r,i.dtype))})}}RC.className="Masking";ae(RC);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class OC extends We{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",e.batchInputShape==null&&e.inputShape==null){let n=null;e.batchSize!=null&&(n=e.batchSize),e.inputLength==null?this.batchInputShape=[n,null]:this.batchInputShape=[n].concat(mt(e.inputLength))}this.inputDim=e.inputDim,fn(this.inputDim,"inputDim"),this.outputDim=e.outputDim,fn(this.outputDim,"outputDim"),this.embeddingsInitializer=Ct(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=Nt(e.embeddingsRegularizer),this.activityRegularizer=Nt(e.activityRegularizer),this.embeddingsConstraint=rn(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,n){return X(()=>this.maskZero?(e=Re(e),Tl(e,Ke(e))):null)}computeOutputShape(e){if(e=nt(e),this.inputLength==null)return[...e,this.outputDim];const n=mt(this.inputLength);if(n.length!==e.length-1)throw new H(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let i=0;for(let s=0;s<n.length;++s){const a=n[s],r=e[s+1];if(a!=null&&r!=null&&a!==r)throw new H(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);a==null&&(n[i]=r),i++}}return[e[0],...n,this.outputDim]}call(e,n){return X(()=>{this.invokeCallHook(e,n);let i=Re(e);i.dtype!=="int32"&&(i=Ea(i,"int32"));const s=z5(this.embeddings.read(),j(i,[i.size]));return j(s,nt(this.computeOutputShape(i.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Dt(this.embeddingsInitializer),embeddingsRegularizer:ut(this.embeddingsRegularizer),activityRegularizer:ut(this.activityRegularizer),embeddingsConstraint:an(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=super.getConfig();return Object.assign(e,n),e}}OC.className="Embedding";ae(OC);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Yl extends We{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new Le}computeElementwiseOpOutputShape(e,n){if(e==null||n==null)return null;if(e.length<n.length)return this.computeElementwiseOpOutputShape(n,e);if(n.length===0)return e;const i=e.slice(0,e.length-n.length);for(let s=0;s<n.length;++s){const a=e[e.length-n.length+s],r=n[s];if(a==null||r==null||a<0||r<0)i.push(null);else if(a===1)i.push(r);else if(r===1)i.push(a);else{if(a!==r)throw new H("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(n));i.push(a)}}return i}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[nt(e)]),e=e,e.length<2)throw new H(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let n=[];for(const a of e)a!=null&&a[0]!==null&&n.push(a[0]);if(n=ao(n),n.length>1)throw new H(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let i=e[0]==null?null:e[0].slice(1);for(let a=1;a<e.length;++a){const r=e[a]==null?null:e[a].slice(1);i=this.computeElementwiseOpOutputShape(i,r)}const s=e.map(a=>a.length);e.indexOf(null)===-1&&ao(s).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,n){return X(()=>{if(e=e,this.reshapeRequired){const i=[],s=e.map(a=>a.rank);if(s.indexOf(null)===-1){const a=yo(s);for(let r of e){const o=r.rank;for(let l=0;l<a-o;++l)r=rm(r,1);i.push(r)}return this.mergeFunction(i)}else{let a=!1;for(const l of e){const c=l.rank;if(c==null){const u=l.shape,d=u[0],f=u.slice(1).concat([d]);let h=j(l,[d].concat(ro(u.slice(1))));h=He(h,[1,0]),h=j(h,f),i.push(h),a=!0}else if(c>1){const u=Zs(1,c).concat([0]);i.push(He(l,u)),a=!0}else i.push(l)}let r=this.mergeFunction(i);const o=r.rank;if(a){if(o==null){const l=r.shape,c=l.length,u=l[c-1],d=[u].concat(l.slice(0,l.length-1));r=j(He(j(r,[-1,u]),[1,0]),d)}else if(o>1){const l=[o-1].concat(Zs(0,o-1));r=He(r,l)}}return r}}else return this.mergeFunction(e)})}computeOutputShape(e){e=e;let n;e[0]==null?n=null:n=e[0].slice(1);for(let s=1;s<e.length;++s){const a=e[s]==null?null:e[s].slice(1);n=this.computeElementwiseOpOutputShape(n,a)}let i=[];for(const s of e)s!=null&&s[0]!==null&&i.push(s[0]);return i=ao(i),i.length===1?n=i.concat(n):n=[null].concat(n),n}computeMask(e,n){return X(()=>{if(n==null)return null;if(!Array.isArray(n))throw new H("`mask` should be an Array");if(!Array.isArray(e))throw new H("`inputs` should be an Array");if(n.length!==e.length)throw new H(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${n.length})`);if(n.every(s=>s==null))return null;n=n.map(s=>s==null?s:Fn(s,0));let i=n[0];for(let s=1;s<n.length-1;++s)i=Cs(i,n[s]);return i})}}class PC extends Yl{constructor(e){super(e)}mergeFunction(e){return X(()=>{let n=e[0].clone();for(let i=1;i<e.length;++i)n=oe(n,e[i]);return n})}}PC.className="Add";ae(PC);class LC extends Yl{constructor(e){super(e)}mergeFunction(e){return X(()=>{let n=e[0].clone();for(let i=1;i<e.length;++i)n=W(n,e[i]);return n})}}LC.className="Multiply";ae(LC);class MC extends Yl{constructor(e){super(e)}mergeFunction(e){return X(()=>{let n=e[0].clone();for(let i=1;i<e.length;++i)n=oe(n,e[i]);return W(1/e.length,n)})}}MC.className="Average";ae(MC);class BC extends Yl{constructor(e){super(e)}mergeFunction(e){return X(()=>{let n=e[0];for(let i=1;i<e.length;++i)n=La(n,e[i]);return n})}}BC.className="Maximum";ae(BC);class zC extends Yl{constructor(e){super(e)}mergeFunction(e){return X(()=>{let n=e[0];for(let i=1;i<e.length;++i)n=bd(n,e[i]);return n})}}zC.className="Minimum";ae(zC);class VC extends Yl{constructor(e){super(e),this.DEFAULT_AXIS=-1,e==null&&(e={}),this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||e.length===1)throw new H("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let n=!0;for(const s of e)if(s!=null){n=!1;break}if(n)return;const i=[];for(let s=0;s<e.length;++s){const a=e[s].slice();a.splice(this.axis,1);let r=!1;for(const o of i)if(Ge(o,a)){r=!0;break}r||i.push(a)}if(i.length>1)throw new H("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return X(()=>H3(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new H("A `Concatenate` layer should be called on a list of inputs.");const n=e,i=n[0].slice(),s=this.axis<0?i.length+this.axis:this.axis;for(const a of n.slice(1)){if(i[s]==null||a[s]==null){i[s]=null;break}i[s]+=a[s]}return i}computeMask(e,n){if(n==null)return null;if(!Array.isArray(n))throw new H("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new H("`inputs` should be an array for Concatenate");if(n.length!==e.length)throw new H(`Mismatch in the length of mask (${n.length}) and the legnth of inputs (${e.length})`);return X(()=>{let i=!0;if(n.forEach(r=>{if(r!=null){i=!1;return}}),i)return null;const s=[];for(let r=0;r<e.length;++r)n[r]==null?s.push(fe(Ai(e[r]),"bool")):n[r].rank<e[r].rank?s.push(Fn(n[r],-1)):s.push(n[r]);const a=Lt(s,this.axis);return uv(a,-1,!1)})}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}VC.className="Concatenate";ae(VC);function tf(t,e){for(;t<0;)t+=e;return t}function $se(t,e,n){if(t.shape.length>3||e.shape.length>3)throw new Le("batchDot is not implemented for tensors of 4D or higher rank yet");if(E(t.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${t.shape.length}`),E(t.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${e.shape.length}`),typeof n=="number"&&(n=[n,n]),t.dtype==="complex64"||e.dtype==="complex64")throw new Le("batchDot is not implemented for complex64-type Tensors yet.");const i=t.shape.length,s=e.shape.length;n==null&&(n=[i-1,s-2]);const a=n;return X(()=>{let r;if(i>s){r=i-s;const l=[];for(let c=0;c<r;++c)l.push(1);e=j(e,e.shape.concat(l))}else if(s>i){r=s-i;const l=[];for(let c=0;c<r;++c)l.push(1);t=j(t,t.shape.concat(l))}else r=0;let o;if(t.shape.length===2&&e.shape.length===2)a[0]===a[1]?o=ke(W(t,e),a[0]):o=ke(W(He(t,[1,0]),e),a[1]);else{const l=a[0]!==t.shape.length-1,c=a[1]===e.shape.length-1;o=Be(t,e,l,c)}if(r>0){let l;i>s?l=i+s-3:l=i-1;const c=[];for(let u=l;u<l+r;++u)c.push(u);o=Fo(o,c)}return o.shape.length===1&&(o=Fn(o,1)),o})}class WC extends Yl{constructor(e){super(e),this.axes=e.axes,this.normalize=e.normalize==null?!1:e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){E(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0],i=e[1];if(n.length>3||i.length>3)throw new Le("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,i);if(n[s[0]]!==i[s[1]])throw new H(`Dimension incompatibility: ${n[s[0]]} !== ${i[s[1]]}`)}mergeFunction(e){if(e.length!==2)throw new H(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let n=e[0],i=e[1],s;return Array.isArray(this.axes)?s=this.axes.map((a,r)=>tf(a,e[r].shape.length)):s=[tf(this.axes,n.shape.length),tf(this.axes,i.shape.length)],this.normalize&&(n=t0(n,s[0]),i=t0(i,s[1])),$se(n,i,s)}interpretAxes(e,n){let i;return Array.isArray(this.axes)?i=this.axes:i=[tf(this.axes,e.length),tf(this.axes,n.length)],i}computeOutputShape(e){E(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0].slice(),i=e[1].slice();if(n.length>3||i.length>3)throw new Le("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,i);n.splice(s[0],1),i.splice(s[1],1),i.splice(0,1);const a=n.concat(i);return a.length===1&&a.push(1),a}computeMask(e,n){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},n=super.getConfig();return Object.assign(e,n),e}}WC.className="Dot";ae(WC);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class jC extends We{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={stddev:this.stddev};return Object.assign(n,e),n}call(e,n){return X(()=>{this.invokeCallHook(e,n);const i=Re(e);return lm(()=>oe(tb(i.shape,0,this.stddev),i),()=>i,n.training||!1)})}}jC.className="GaussianNoise";ae(jC);class HC extends We{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return X(()=>{this.invokeCallHook(e,n);const i=Re(e);return this.rate>0&&this.rate<1?lm(()=>{const a=Math.sqrt(this.rate/(1-this.rate));return W(i,tb(i.shape,1,a))},()=>i,n.training||!1):i})}}HC.className="GaussianDropout";ae(HC);class GC extends We{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||Re(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return X(()=>{if(this.rate<1&&this.rate>0){const i=this._getNoiseShape(e);return lm(()=>{const a=Re(e),r=1.6732632423543772,o=1.0507009873554805,l=-r*o;let c=br(kd(i),this.rate);c=Ea(c,"float32");const u=((1-this.rate)*(1+this.rate*l**2))**-.5,d=-u*l*this.rate,f=oe(W(a,c),W(oe(c,-1),l));return oe(W(f,u),d)},()=>Re(e),n.training||!1)}return e})}}GC.className="AlphaDropout";ae(GC);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function gh(t,e,n,i,s,a=.001){let r;if(t.rank===2)r=DS(t,e,n,i,s,a);else if(t.rank===3)r=AS(t,e,n,i,s,a);else if(t.rank===4)r=FS(t,e,n,i,s,a);else throw new Le(`batchNormalization is not implemented for array of rank ${t.rank} yet`);return r}function Ese(t,e,n,i,s=.001){return X(()=>{const a=qp(t,i),r=a.mean,o=a.variance;return[gh(t,r,o,n,e,s),r,o]})}function Dse(t,e,n,i,s=.001){return X(()=>{const a=qp(t,i),r=a.mean,o=a.variance,l=[];for(const p of Zs(0,t.rank))i.indexOf(p)!==-1?l.push(1):l.push(t.shape[p]);const c=j(r,l),u=j(o,l),d=e==null?null:j(e,l),f=n==null?null:j(n,l);return[gh(t,c,u,f,d,s),r,o]})}function Ase(t,e,n,i,s=.001){return Ge(i.slice().sort(),Zs(0,t.rank-1))?Ese(t,e,n,i,s):Dse(t,e,n,i,s)}class UC extends We{constructor(e){e==null&&(e={}),super(e),this.supportsMasking=!0,this.axis=e.axis==null?-1:e.axis,this.momentum=e.momentum==null?.99:e.momentum,this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=Ct(e.betaInitializer||"zeros"),this.gammaInitializer=Ct(e.gammaInitializer||"ones"),this.movingMeanInitializer=Ct(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=Ct(e.movingVarianceInitializer||"ones"),this.betaConstraint=rn(e.betaConstraint),this.gammaConstraint=rn(e.gammaConstraint),this.betaRegularizer=Nt(e.betaRegularizer),this.gammaRegularizer=Nt(e.gammaRegularizer)}build(e){e=nt(e);const n=this.axis>=0?this.axis:this.axis+e.length,i=e[n];if(i==null)throw new H(`Axis ${n} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new Jt({ndim:e.length,axes:{[n]:i}})];const s=[i];this.scale&&(this.gamma=this.addWeight("gamma",s,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",s,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",s,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",s,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,n){return X(()=>{const i=n.training==null?!1:n.training,s=Re(e),a=s.shape,r=a.length,o=Zs(0,r),l=this.axis>=0?this.axis:this.axis+r;o.splice(l,1);const c=Dl(1,r);c[l]=a[l];const u=o.slice();u.sort();const d=!Ge(u,Zs(0,r).slice(0,r-1)),f=()=>{if(d){const v=j(this.movingMean.read(),c),b=j(this.movingVariance.read(),c),w=this.center?j(this.beta.read(),c):null,k=this.scale?j(this.gamma.read(),c):null;return gh(s,v,b,w,k,this.epsilon)}else return gh(s,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!i)return f();const[h,p,m]=Ase(s,this.gamma.read(),this.beta.read(),o,this.epsilon),y=(v,b,w)=>{X(()=>{const k=1-w,x=v.read(),N=W(be(x,b),k);v.write(be(x,N))})};return(()=>{y(this.movingMean,p,this.momentum),y(this.movingVariance,m,this.momentum)})(),h})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Dt(this.betaInitializer),gammaInitializer:Dt(this.gammaInitializer),movingMeanInitializer:Dt(this.movingMeanInitializer),movingVarianceInitializer:Dt(this.movingVarianceInitializer),betaRegularizer:ut(this.betaRegularizer),gammaRegularizer:ut(this.gammaRegularizer),betaConstraint:an(this.betaConstraint),gammaConstraint:an(this.gammaConstraint)},n=super.getConfig();return Object.assign(e,n),e}}UC.className="BatchNormalization";ae(UC);class qC extends We{constructor(e){if(e==null&&(e={}),super(e),this.axis=e.axis==null?-1:e.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(const n of this.axis)if(!Number.isInteger(n))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=Ct(e.betaInitializer||"zeros"),this.gammaInitializer=Ct(e.gammaInitializer||"ones"),this.betaRegularizer=Nt(e.betaRegularizer),this.gammaRegularizer=Nt(e.gammaRegularizer),this.supportsMasking=!0}build(e){e=nt(e);const n=e.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let a=0;a<this.axis.length;++a)this.axis[a]<0&&(this.axis[a]+=n);for(const a of this.axis)if(a<0||a>=n)throw new Error(`Invalid axis: ${a}`);if(this.axis.length!==ao(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const i=this.axis.map(a=>e[a]),s=!0;this.scale?this.gamma=this.addWeight("gamma",i,"float32",this.gammaInitializer,this.gammaRegularizer,s):this.gamma=null,this.center?this.beta=this.addWeight("beta",i,"float32",this.betaInitializer,this.betaRegularizer,s):this.beta=null,this.built=!0}call(e,n){const i=Re(e),s=i.shape,a=s.length;return X(()=>{let{mean:o,variance:l}=qp(i,this.axis,!0);const c=Dl(1,a);for(const m of this.axis)c[m]=s[m];const u=m=>m!=null&&m.shape.length!==a?j(m,c):m;let d=this.scale?u(this.gamma.read()):null,f=this.center?u(this.beta.read()):null;const h=[],p=[];for(let m=0;m<a;++m)this.axis.indexOf(m)!==-1?(h.push(s[m]),p.push(1)):(h.push(1),p.push(s[m]));return o=Wi(o,h),l=Wi(l,h),d!=null&&(d=Wi(d,p)),f!=null&&(f=Wi(f,p)),gh(i,o,l,f,d,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Dt(this.betaInitializer),gammaInitializer:Dt(this.gammaInitializer),betaRegularizer:ut(this.betaRegularizer),gammaRegularizer:ut(this.gammaRegularizer)},n=super.getConfig();return Object.assign(e,n),e}}qC.className="LayerNormalization";ae(qC);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Fse(t,e,n){return X(()=>{if(t.rank!==4)throw new H(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(e==null&&(e=[[1,1],[1,1]]),e.length!==2||e[0].length!==2||e[1].length!==2)throw new H("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(n==null&&(n=ea()),n!=="channelsLast"&&n!=="channelsFirst")throw new H(`Unknown data format: ${n}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let i;return n==="channelsFirst"?i=[[0,0],[0,0],e[0],e[1]]:i=[[0,0],e[0],e[1],[0,0]],wr(t,i)})}class KC extends We{constructor(e){if(e==null&&(e={}),super(e),this.dataFormat=e.dataFormat==null?ea():e.dataFormat,e.padding==null)this.padding=[[1,1],[1,1]];else if(typeof e.padding=="number")this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,e.padding.length!==2)throw new H(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let n,i;if(typeof e.padding[0]=="number")n=[e.padding[0],e.padding[0]],i=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,e.padding[0].length!==2)throw new H(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(n=e.padding[0],e.padding[1].length!==2)throw new H(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);i=e.padding[1]}this.padding=[n,i]}this.inputSpec=[new Jt({ndim:4})]}computeOutputShape(e){e=nt(e);let n,i;return this.dataFormat==="channelsFirst"?(e[2]!=null&&e[2]>=0?n=e[2]+this.padding[0][0]+this.padding[0][1]:n=null,e[3]!=null&&e[3]>=0?i=e[3]+this.padding[1][0]+this.padding[1][1]:i=null,[e[0],e[1],n,i]):(e[1]!=null&&e[1]>=0?n=e[1]+this.padding[0][0]+this.padding[0][1]:n=null,e[2]!=null&&e[2]>=0?i=e[2]+this.padding[1][0]+this.padding[1][1]:i=null,[e[0],n,i,e[3]])}call(e,n){return X(()=>Fse(Re(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}KC.className="ZeroPadding2D";ae(KC);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function bb(t,e,n,i,s,a){return X(()=>{Ut(s),P5(a),es(i),n==null&&(n=[1,1]),i==null&&(i="valid"),s==null&&(s=ea()),a==null&&(a="max"),t=gC(t,s);let r;const o=i==="same"?"same":"valid";return a==="max"?r=Up(t,e,n,o):r=zp(t,e,n,o),s==="channelsFirst"&&(r=He(r,[0,3,1,2])),r})}function TP(t,e,n,i,s,a){return X(()=>{Ut(s),P5(a),es(i),n==null&&(n=[1,1,1]),i==null&&(i="valid"),s==null&&(s=ea()),a==null&&(a="max"),t=xP(t,s);let r;const o=i==="same"?"same":"valid";return a==="max"?r=i3(t,e,n,o):r=ES(t,e,n,o),s==="channelsFirst"&&(r=He(r,[0,4,1,2,3])),r})}class $P extends We{constructor(e){if(e.poolSize==null&&(e.poolSize=2),super(e),typeof e.poolSize=="number")this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&e.poolSize.length===1&&typeof e.poolSize[0]=="number")this.poolSize=e.poolSize;else throw new H(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);if(fn(this.poolSize,"poolSize"),e.strides==null)this.strides=this.poolSize;else if(typeof e.strides=="number")this.strides=[e.strides];else if(Array.isArray(e.strides)&&e.strides.length===1&&typeof e.strides[0]=="number")this.strides=e.strides;else throw new H(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);fn(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,es(this.padding),this.inputSpec=[new Jt({ndim:3})]}computeOutputShape(e){e=nt(e);const n=Ys(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],n,e[2]]}call(e,n){return X(()=>{this.invokeCallHook(e,n),e=rm(Re(e),2);const i=this.poolingFunction(Re(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return Fo(i,[2])})}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=super.getConfig();return Object.assign(e,n),e}}class XC extends $P{constructor(e){super(e)}poolingFunction(e,n,i,s,a){return Ut(a),es(s),bb(e,n,i,s,a,"max")}}XC.className="MaxPooling1D";ae(XC);class JC extends $P{constructor(e){super(e)}poolingFunction(e,n,i,s,a){return Ut(a),es(s),bb(e,n,i,s,a,"avg")}}JC.className="AveragePooling1D";ae(JC);class EP extends We{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==2)throw new H(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];fn(this.poolSize,"poolSize"),fn(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Ut(this.dataFormat),es(this.padding),this.inputSpec=[new Jt({ndim:4})]}computeOutputShape(e){e=nt(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],i=this.dataFormat==="channelsFirst"?e[3]:e[2];return n=Ys(n,this.poolSize[0],this.padding,this.strides[0]),i=Ys(i,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,i]:[e[0],n,i,e[3]]}call(e,n){return X(()=>(this.invokeCallHook(e,n),this.poolingFunction(Re(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class YC extends EP{constructor(e){super(e)}poolingFunction(e,n,i,s,a){return Ut(a),es(s),bb(e,n,i,s,a,"max")}}YC.className="MaxPooling2D";ae(YC);class QC extends EP{constructor(e){super(e)}poolingFunction(e,n,i,s,a){return Ut(a),es(s),bb(e,n,i,s,a,"avg")}}QC.className="AveragePooling2D";ae(QC);class DP extends We{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==3)throw new H(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];fn(this.poolSize,"poolSize"),fn(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Ut(this.dataFormat),es(this.padding),this.inputSpec=[new Jt({ndim:5})]}computeOutputShape(e){e=nt(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],i=this.dataFormat==="channelsFirst"?e[3]:e[2],s=this.dataFormat==="channelsFirst"?e[4]:e[3];return n=Ys(n,this.poolSize[0],this.padding,this.strides[0]),i=Ys(i,this.poolSize[1],this.padding,this.strides[1]),s=Ys(s,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,i,s]:[e[0],n,i,s,e[4]]}call(e,n){return X(()=>(this.invokeCallHook(e,n),this.poolingFunction(Re(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class ZC extends DP{constructor(e){super(e)}poolingFunction(e,n,i,s,a){return Ut(a),es(s),TP(e,n,i,s,a,"max")}}ZC.className="MaxPooling3D";ae(ZC);class eN extends DP{constructor(e){super(e)}poolingFunction(e,n,i,s,a){return Ut(a),es(s),TP(e,n,i,s,a,"avg")}}eN.className="AveragePooling3D";ae(eN);class AP extends We{constructor(e){super(e),this.inputSpec=[new Jt({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,n){throw new Le}}class tN extends AP{constructor(e){super(e||{})}call(e,n){return X(()=>{const i=Re(e);return Et(i,1)})}}tN.className="GlobalAveragePooling1D";ae(tN);class nN extends AP{constructor(e){super(e||{})}call(e,n){return X(()=>{const i=Re(e);return Ui(i,1)})}}nN.className="GlobalMaxPooling1D";ae(nN);class FP extends We{constructor(e){super(e),this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Ut(this.dataFormat),this.inputSpec=[new Jt({ndim:4})]}computeOutputShape(e){return e=e,this.dataFormat==="channelsLast"?[e[0],e[3]]:[e[0],e[1]]}call(e,n){throw new Le}getConfig(){const e={dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class iN extends FP{call(e,n){return X(()=>{const i=Re(e);return this.dataFormat==="channelsLast"?Et(i,[1,2]):Et(i,[2,3])})}}iN.className="GlobalAveragePooling2D";ae(iN);class sN extends FP{call(e,n){return X(()=>{const i=Re(e);return this.dataFormat==="channelsLast"?Ui(i,[1,2]):Ui(i,[2,3])})}}sN.className="GlobalMaxPooling2D";ae(sN);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class RP extends We{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(e){this.layer!=null&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=super.getConfig();return Object.assign(e,n),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,n,i={}){const s=n.layer,a=Js(s,i);delete n.layer;const r={layer:a};return Object.assign(r,n),new e(r)}}class aN extends RP{constructor(e){super(e),this.supportsMasking=!0}build(e){if(e=nt(e),e.length<3)throw new H(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),super.build(e)}computeOutputShape(e){e=nt(e);const n=[e[0]].concat(e.slice(2)),i=this.layer.computeOutputShape(n),s=e[1];return[i[0],s].concat(i.slice(1))}call(e,n){return X(()=>(e=Re(e),NP((r,o)=>[Re(this.layer.call(r,n)),[]],e,[],!1,null,null,!1,!0)[1]))}}aN.className="TimeDistributed";ae(aN);function Rse(t){Xl(Lne,"BidirectionalMergeMode",t)}const Ose="concat";class rN extends RP{constructor(e){super(e);const n=e.layer.getConfig(),i={};i.className=e.layer.getClassName(),i.config=n,this.forwardLayer=Js(i),n.goBackwards=n.goBackwards!==!0;const s={};if(s.className=e.layer.getClassName(),s.config=n,this.backwardLayer=Js(s),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=e.mergeMode===void 0?Ose:e.mergeMode,Rse(this.mergeMode),e.weights)throw new Le("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,this.forwardLayer!=null&&(this.forwardLayer.trainable=e),this.backwardLayer!=null&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const n=e.length,i=Math.floor(n/2);this.forwardLayer.setWeights(e.slice(0,i)),this.backwardLayer.setWeights(e.slice(i))}computeOutputShape(e){let n=this.forwardLayer.computeOutputShape(e);Array.isArray(n)&&Array.isArray(n[0])||(n=[n]),n=n;let i,s,a;return this.returnState&&(a=n.slice(1)),i=n[0],i=i,this.mergeMode==="concat"?(i[i.length-1]*=2,s=[i]):this.mergeMode==null?s=[i,i.slice()]:s=[i],this.returnState?this.mergeMode==null?s.concat(a).concat(a.slice()):[i].concat(a).concat(a.slice()):ai(s)}apply(e,n){let i=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const a=CP(e,i,s,this.numConstants);if(e=a.inputs,i=a.initialState,s=a.constants,Array.isArray(e)&&(i=e.slice(1),e=e[0]),(i==null||i.length===0)&&s==null)return super.apply(e,n);const r=[],o=[];if(i!=null){const c=i.length;if(c%2>0)throw new H("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=i,r.push(...i);const u=i.map(d=>new Jt({shape:d.shape}));this.forwardLayer.stateSpec=u.slice(0,c/2),this.backwardLayer.stateSpec=u.slice(c/2),o.push(...u)}if(s!=null)throw new Le("Support for constants in Bidirectional layers is not implemented yet.");const l=r[0]instanceof Gs;for(const c of r)if(c instanceof Gs!==l)throw new H("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(l){const c=[e].concat(r),u=this.inputSpec.concat(o),d=this.inputSpec;this.inputSpec=u;const f=super.apply(c,n);return this.inputSpec=d,f}else return super.apply(e,n)}call(e,n){return X(()=>{const i=n.initialState;let s,a;if(i==null)s=this.forwardLayer.call(e,n),a=this.backwardLayer.call(e,n);else{const l=i.slice(0,i.length/2),c=i.slice(i.length/2);s=this.forwardLayer.call(e,Object.assign(n,{initialState:l})),a=this.backwardLayer.call(e,Object.assign(n,{initialState:c}))}let r;this.returnState&&(Array.isArray(s)&&(r=s.slice(1).concat(a.slice(1))),s=s[0],a=a[0]),this.returnSequences&&(a=Xi(a,1));let o;return this.mergeMode==="concat"?o=H3([s,a]):this.mergeMode==="sum"?o=oe(s,a):this.mergeMode==="ave"?o=W(.5,oe(s,a)):this.mergeMode==="mul"?o=W(s,a):this.mergeMode==null&&(o=[s,a]),this.returnState?this.mergeMode==null?o.concat(r):[o].concat(r):o})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){fl(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),fl(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,n){Array.isArray(n)&&(n=n[0]);let i;if(this.returnSequences?this.mergeMode==null?i=[n,n]:i=n:this.mergeMode==null?i=[null,null]:i=null,this.returnState){const a=this.forwardLayer.states.map(r=>null);return Array.isArray(i)?i.concat(a).concat(a):[i].concat(a).concat(a)}else return i}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(e),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},n=super.getConfig();return Object.assign(e,n),e}static fromConfig(e,n){const i=Js(n.layer);if(delete n.layer,n.numConstants!=null)throw new Le("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const s=n;return s.layer=i,new e(s)}}rN.className="Bidirectional";ae(rN);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class oN extends We{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return X(()=>(e=Re(e),e.dtype!=="float32"&&(e=Ea(e,"float32")),oe(W(e,this.scale),this.offset)))}}oN.className="Rescaling";ae(oN);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const{resizeBilinear:Pse,cropAndResize:Lse}=wa;class lN extends We{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,n,i,s,a,r,o,l){return X(()=>{let c,u=!1;const d=n/r,f=i/o,h=(s+n)/r,p=(a+i)/o,m=[d,f,h,p],y=[];e.rank===3?(u=!0,c=ui([e])):c=e;for(let k=0;k<c.shape[0];k++)y.push(m);const g=Ti(y,[y.length,4]),v=$l(0,y.length,1,"int32"),w=Lse(c,g,v,[s,a],"nearest");return Ea(u?Re(Ji(w)):w,l)})}upsize(e,n,i,s){return X(()=>{const a=Pse(e,[n,i]);return Ea(a,s)})}call(e,n){return X(()=>{const i=Re(e),s=i.dtype,a=i.shape,r=a[a.length-3],o=a[a.length-2];let l=0;r!==this.height&&(l=Math.floor((r-this.height)/2));let c=0;return o!==this.width&&(c=Math.floor((o-this.width)/2),c===0&&(c=1)),l>=0&&c>=0?this.centerCrop(i,l,c,this.height,this.width,r,o,s):this.upsize(e,this.height,this.width,s)})}getConfig(){const e={height:this.height,width:this.width},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=nt(e);const n=e.length-3,i=e.length-2;return e[n]=this.height,e[i]=this.width,e}}lN.className="CenterCrop";ae(lN);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Mse(t,e,n,i){let s=Re(t);if(s.dtype!=="int32"&&(s=Ea(s,"int32")),e==="int")return s;const a=s.shape;if(s.rank===0&&(s=Fn(s,-1)),e==="oneHot"&&s.shape[s.shape.length-1]!==1&&(s=Fn(s,-1)),s.rank>2)throw new H(`When outputMode is not int, maximum output rank is 2 Received outputMode ${e} and input shape ${a} which would result in output rank ${s.rank}.`);const r=["multiHot","oneHot"].includes(e),o=s;let l;if(typeof i!="undefined"&&e==="count"?l=J1(o,i,n,r):l=J1(o,[],n,r),e!=="tfIdf")return l;if(i)return W(l,i);throw new H("When outputMode is 'tfIdf', weights must be provided.")}/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class cN extends We{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){return e=nt(e),e==null?[this.numTokens]:this.outputMode==="oneHot"&&e[e.length-1]!==1?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,n){return X(()=>{e=Re(e),e.dtype!=="int32"&&(e=Ea(e,"int32"));let i;if(typeof n.countWeights!="undefined"){if(this.outputMode!=="count")throw new H(`countWeights is not used when outputMode !== count.
              Received countWeights=${n.countWeights}`);i=Re(n.countWeights)}const s=Ui(e),a=Zc(e),r=ti(this.numTokens,s).bufferSync().get(0),o=br(a,0).bufferSync().get(0);if(!(r&&o))throw new H(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return Mse(e,this.outputMode,this.numTokens,i)})}}cN.className="CategoryEncoding";ae(cN);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Bse=["bilinear","nearest"],R$=new Set(Bse);class uN extends We{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation)if(R$.has(e.interpolation))this.interpolation=e.interpolation;else throw new H(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);else this.interpolation="bilinear";this.cropToAspectRatio=Boolean(e.cropToAspectRatio)}computeOutputShape(e){e=nt(e);const n=e[2];return[this.height,this.width,n]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return X(()=>{const i=[this.height,this.width];if(this.interpolation==="bilinear")return wa.resizeBilinear(e,i,!this.cropToAspectRatio);if(this.interpolation==="nearest")return wa.resizeNearestNeighbor(e,i,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...R$]} are supported`)})}}uN.className="Resizing";ae(uN);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function zse(t){return new xd(t)}function Vse(t){return new hC(t)}function Wse(t){return new uC(t)}function jse(t){return new dC(t)}function Hse(t){return new fC(t)}function Gse(t){return new mC(t)}function Use(t){return new pC(t)}function qse(t){return new dm(t)}function Kse(t){return new Nd(t)}function Xse(t){return new yC(t)}function Jse(t){return new Id(t)}function Yse(t){return new vC(t)}function Qse(t){return new bC(t)}function Zse(t){return new wC(t)}function eae(t){return new kC(t)}function tae(t){return new _C(t)}function nae(t){return new EC(t)}function iae(t){return new TC(t)}function sae(t){return new vb(t)}function aae(t){return new IC(t)}function rae(t){return new $C(t)}function oae(t){return new DC(t)}function lae(t){return new AC(t)}function cae(t){return new FC(t)}function uae(t){return new OC(t)}function dae(t){return new PC(t)}function fae(t){return new MC(t)}function hae(t){return new VC(t)}function pae(t){return new BC(t)}function mae(t){return new zC(t)}function gae(t){return new LC(t)}function yae(t){return new WC(t)}function vae(t){return new UC(t)}function bae(t){return new qC(t)}function wae(t){return new KC(t)}function dN(t){return new JC(t)}function kae(t){return dN(t)}function _ae(t){return dN(t)}function fN(t){return new QC(t)}function xae(t){return fN(t)}function Sae(t){return fN(t)}function hN(t){return new eN(t)}function Cae(t){return hN(t)}function Nae(t){return hN(t)}function Iae(t){return new tN(t)}function Tae(t){return new iN(t)}function OP(t){return new nN(t)}function PP(t){return new sN(t)}function LP(t){return new XC(t)}function MP(t){return new YC(t)}function $ae(t){return new ZC(t)}function Eae(t){return new SC(t)}function Dae(t){return new mb(t)}function Aae(t){return new CC(t)}function Fae(t){return new hm(t)}function Rae(t){return new xC(t)}function Oae(t){return new pb(t)}function Pae(t){return new NC(t)}function Lae(t){return new yb(t)}function Mae(t){return new ra(t)}function Bae(t){return new gb(t)}function zae(t){return new rN(t)}function Vae(t){return new aN(t)}const Wae=OP,jae=PP,Hae=LP,Gae=MP;function Uae(t){return new jC(t)}function qae(t){return new HC(t)}function Kae(t){return new GC(t)}function Xae(t){return new RC(t)}function Jae(t){return new oN(t)}function Yae(t){return new lN(t)}function Qae(t){return new uN(t)}function Zae(t){return new cN(t)}var ere=Object.freeze(Object.defineProperty({__proto__:null,inputLayer:zse,elu:Vse,reLU:Wse,leakyReLU:jse,prelu:Hse,softmax:Gse,thresholdedReLU:Use,conv1d:qse,conv2d:Kse,conv2dTranspose:Xse,conv3d:Jse,conv3dTranspose:Yse,separableConv2d:Qse,cropping2D:Zse,upSampling2d:eae,depthwiseConv2d:tae,activation:nae,dense:iae,dropout:sae,spatialDropout1d:aae,flatten:rae,repeatVector:oae,reshape:lae,permute:cae,embedding:uae,add:dae,average:fae,concatenate:hae,maximum:pae,minimum:mae,multiply:gae,dot:yae,batchNormalization:vae,layerNormalization:bae,zeroPadding2d:wae,averagePooling1d:dN,avgPool1d:kae,avgPooling1d:_ae,averagePooling2d:fN,avgPool2d:xae,avgPooling2d:Sae,averagePooling3d:hN,avgPool3d:Cae,avgPooling3d:Nae,globalAveragePooling1d:Iae,globalAveragePooling2d:Tae,globalMaxPooling1d:OP,globalMaxPooling2d:PP,maxPooling1d:LP,maxPooling2d:MP,maxPooling3d:$ae,gru:Eae,gruCell:Dae,lstm:Aae,lstmCell:Fae,simpleRNN:Rae,simpleRNNCell:Oae,convLstm2d:Pae,convLstm2dCell:Lae,rnn:Mae,stackedRNNCells:Bae,bidirectional:zae,timeDistributed:Vae,globalMaxPool1d:Wae,globalMaxPool2d:jae,maxPool1d:Hae,maxPool2d:Gae,Layer:We,RNN:ra,RNNCell:fm,input:lP,gaussianNoise:Uae,gaussianDropout:qae,alphaDropout:Kae,masking:Xae,rescaling:Jae,centerCrop:Yae,resizing:Qae,categoryEncoding:Zae},Symbol.toStringTag,{value:"Module"}));function tre(t,e){return aC(t,e)}function nre(t,e){return Z5(t,e)}function ire(t,e){return eP(t,e)}function sre(t,e){return rC(t,e)}function are(t,e){return oC(t,e)}function rre(t,e){return Q5(t,e)}function ore(t,e){return jie(t,e)}function lre(t,e){return sC(t,e)}function cre(t,e){return ub(t,e)}function ure(t,e){return Sd(t,e)}function dre(t,e){return Sd(t,e)}function fre(t,e){return Sd(t,e)}function hre(t,e){return Jl(t,e)}function pre(t,e){return Jl(t,e)}function mre(t,e){return Jl(t,e)}var gre=Object.freeze(Object.defineProperty({__proto__:null,binaryAccuracy:tre,binaryCrossentropy:nre,sparseCategoricalAccuracy:ire,categoricalAccuracy:sre,categoricalCrossentropy:are,precision:rre,recall:ore,cosineProximity:lre,meanAbsoluteError:cre,meanAbsolutePercentageError:ure,MAPE:dre,mape:fre,meanSquaredError:hre,MSE:pre,mse:mre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var yre=Object.freeze(Object.defineProperty({__proto__:null,modelFromJSON:yse},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function vre(t){return new um(t)}function bre(t){return xse(t)}function wre(t){return Sse(t)}var kre=Object.freeze(Object.defineProperty({__proto__:null,l1l2:vre,l1:bre,l2:wre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class BP extends iu{constructor(){super(...arguments),this.model=null}setModel(e){if(!(e instanceof nr))throw new Error("model must be a LayersModel, not some other Container");this.model=e}}function ug(t,e){return t<e}function O$(t,e){return t>e}class zP extends BP{constructor(e){if(super(),e==null&&(e={}),e.restoreBestWeights)throw new Le("restoreBestWeights = True is not implemented in EarlyStopping yet.");this.monitor=e.monitor||"val_loss",this.minDelta=Math.abs(e.minDelta||0),this.patience=e.patience||0,this.verbose=e.verbose||0,this.mode=e.mode||"auto",this.baseline=e.baseline,["auto","min","max"].indexOf(this.mode)===-1&&(console.warn(`EarlyStopping mode '${this.mode}' is invalid. Falling back to mode 'auto'.`),this.mode="auto"),this.mode==="min"?this.monitorFunc=ug:this.mode==="max"?this.monitorFunc=O$:this.monitor.indexOf("acc")!==-1?this.monitorFunc=O$:this.monitorFunc=ug,this.monitorFunc===ug&&(this.minDelta*=-1)}async onTrainBegin(e){this.wait=0,this.stoppedEpoch=0,this.baseline!=null?this.best=this.baseline:this.best=this.monitorFunc===ug?1/0:-1/0}async onEpochEnd(e,n){await $r(n);const i=this.getMonitorValue(n);i!=null&&(this.monitorFunc(i-this.minDelta,this.best)?(this.best=i,this.wait=0):(this.wait++,this.wait>=this.patience&&(this.stoppedEpoch=e,this.model.stopTraining=!0)))}async onTrainEnd(e){this.stoppedEpoch>0&&this.verbose&&console.log(`Epoch ${this.stoppedEpoch}: early stopping.`)}getMonitorValue(e){e==null&&(e={});const n=e[this.monitor];return n==null&&console.warn(`Metric for EarlyStopping ${this.monitor} is not available. Available metrics are: ${Object.keys(e)}`),n}}function _re(t){return new zP(t)}const xre={earlyStopping:_re};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sre=J();Sre.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var cs;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(cs||(cs={}));var P$;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(P$||(P$={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pN={};function Cre(t,e){const n={tfOpName:t,category:"custom",inputs:[],attrs:[],customExecutor:e};pN[t]=n}function VP(t){return pN[t]}function Nre(t){delete pN[t]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C(t,e,n,i,s){const a=e.inputParams[t];if(a&&a.inputIndexStart!==void 0){const o=a.inputIndexStart,l=a.inputIndexEnd===0?void 0:a.inputIndexEnd===void 0?o+1:a.inputIndexEnd;if(a.type==="tensor")return Kn(e.inputNames[a.inputIndexStart],n,i,s);if(a.type==="tensors")return e.inputNames.slice(o,l).map(f=>Kn(f,n,i,s));const c=Kn(e.inputNames.slice(o)[0],n,i,s),u=c.dataSync();return a.type==="number"?u[0]:Gi(c.shape,u)}const r=e.attrParams[t];return r&&r.value}function Kn(t,e,n,i){const[s,a]=vi(t);if(i!=null){const o=i.getHashTableHandleByName(s);if(o!=null)return o}const r=n.currentContextIds.find(o=>!!e[r0(s,o)]);return r!==void 0?e[r0(s,r)][a]:void 0}function Ire(t,e,n){return e[r0(t,n.currentContextId)]}function qa(t,e){const[n,i,s]=vi(t);return[r0(n,e&&e.currentContextId),i,s]}function r0(t,e){return e?`${t}-${e}`:t}function vi(t){const e=t.split(":");if(e.length===1)return[t,0,void 0];const n=e[0],i=e.length===3?e[1]:void 0,s=Number(e[e.length-1]);return[n,s,i]}function Hg(t,e,n){let i=C("pad",t,e,n);if(i==="explicit"){i=C("explicitPaddings",t,e,n);const s=[[0,0],[0,0],[0,0],[0,0]];for(let a=0;a<4;a++)s[a][0]=i[a*2],s[a][1]=i[a*2+1];return s}return i}function Ka(t){return t.kept?t:Ta(t)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tre=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];var $re=Object.freeze(Object.defineProperty({__proto__:null,json:Tre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ere=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];var Dre=Object.freeze(Object.defineProperty({__proto__:null,json:Ere},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Are=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}];var Fre=Object.freeze(Object.defineProperty({__proto__:null,json:Are},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rre=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}];var Ore=Object.freeze(Object.defineProperty({__proto__:null,json:Rre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pre=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}];var Lre=Object.freeze(Object.defineProperty({__proto__:null,json:Pre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mre=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];var Bre=Object.freeze(Object.defineProperty({__proto__:null,json:Mre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zre=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}];var Vre=Object.freeze(Object.defineProperty({__proto__:null,json:zre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wre=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}];var jre=Object.freeze(Object.defineProperty({__proto__:null,json:Wre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hre=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}];var Gre=Object.freeze(Object.defineProperty({__proto__:null,json:Hre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ure=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}];var qre=Object.freeze(Object.defineProperty({__proto__:null,json:Ure},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kre=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}];var Xre=Object.freeze(Object.defineProperty({__proto__:null,json:Kre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jre=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}];var Yre=Object.freeze(Object.defineProperty({__proto__:null,json:Jre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qre=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}];var Zre=Object.freeze(Object.defineProperty({__proto__:null,json:Qre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eoe=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}];var toe=Object.freeze(Object.defineProperty({__proto__:null,json:eoe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const noe=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}];var ioe=Object.freeze(Object.defineProperty({__proto__:null,json:noe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const soe=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}];var aoe=Object.freeze(Object.defineProperty({__proto__:null,json:soe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const roe=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}];var ooe=Object.freeze(Object.defineProperty({__proto__:null,json:roe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const loe=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}];var coe=Object.freeze(Object.defineProperty({__proto__:null,json:loe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uoe=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];var doe=Object.freeze(Object.defineProperty({__proto__:null,json:uoe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class L${constructor(){const e=[$re,Dre,Fre,Ore,Lre,Bre,Vre,jre,Gre,qre,Xre,Yre,Zre,toe,ioe,aoe,ooe,coe,doe],n=[].concat(...e.map(i=>i.json));this.opMappers=n.reduce((i,s)=>(i[s.tfOpName]=s,i),{})}static get Instance(){return this._instance||(this._instance=new this)}transformGraph(e,n={}){const i=e.node,s=[],a=[],r=[],o=i.reduce((m,y)=>(m[y.name]=this.mapNode(y),y.op.startsWith("Placeholder")?s.push(m[y.name]):y.op==="Const"?a.push(m[y.name]):(y.input==null||y.input.length===0)&&r.push(m[y.name]),m),{});let l=[];const c=[];let u={},d={};n!=null&&(u=this.mapSignatureEntries(n.inputs),d=this.mapSignatureEntries(n.outputs));const f=Object.keys(o);f.forEach(m=>{const y=o[m];y.inputNames.forEach((g,v)=>{const[b,,w]=qa(g),k=o[b];if(k.outputs!=null){const x=k.outputs.indexOf(w);if(x!==-1){const N=`${b}:${x}`;y.inputNames[v]=N}}y.inputs.push(k),k.children.push(y)})}),Object.keys(d).length===0?f.forEach(m=>{const y=o[m];y.children.length===0&&c.push(y)}):Object.keys(d).forEach(m=>{const[y]=qa(m),g=o[y];g!=null&&(g.signatureKey=d[m],c.push(g))}),Object.keys(u).length>0?Object.keys(u).forEach(m=>{const[y]=qa(m),g=o[y];g&&(g.signatureKey=u[m],l.push(g))}):l=s;let h={};e.library!=null&&e.library.function!=null&&(h=e.library.function.reduce((m,y)=>(m[y.signature.name]=this.mapFunction(y),m),{}));const p={nodes:o,inputs:l,outputs:c,weights:a,placeholders:s,signature:n,functions:h};return r.length>0&&(p.initNodes=r),p}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,i)=>(n[e[i].name]=i,n),{})}mapNode(e){const n=VP(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const i={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(s=>s.startsWith("^")?s.slice(1):s),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(i.inputParams=n.inputs.reduce((s,a)=>(s[a.name]={type:a.type,inputIndexStart:a.start,inputIndexEnd:a.end},s),{})),n.attrs!=null&&(i.attrParams=n.attrs.reduce((s,a)=>{const r=a.type;let o;switch(a.type){case"string":o=q_(e.attr,a.tfName,a.defaultValue),o===void 0&&!!a.tfDeprecatedName&&(o=q_(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"string[]":o=ex(e.attr,a.tfName,a.defaultValue),o===void 0&&!!a.tfDeprecatedName&&(o=ex(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"number":o=X_(e.attr,a.tfName,a.defaultValue||0),o===void 0&&!!a.tfDeprecatedName&&(o=X_(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"number[]":o=Z_(e.attr,a.tfName,a.defaultValue),o===void 0&&!!a.tfDeprecatedName&&(o=Z_(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"bool":o=K_(e.attr,a.tfName,a.defaultValue),o===void 0&&!!a.tfDeprecatedName&&(o=K_(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"bool[]":o=nx(e.attr,a.tfName,a.defaultValue),o===void 0&&!!a.tfDeprecatedName&&(o=nx(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"shape":o=Q_(e.attr,a.tfName,a.defaultValue),o===void 0&&!!a.tfDeprecatedName&&(o=Q_(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"shape[]":o=tx(e.attr,a.tfName,a.defaultValue),o===void 0&&!!a.tfDeprecatedName&&(o=tx(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"dtype":o=J_(e.attr,a.tfName,a.defaultValue),o===void 0&&!!a.tfDeprecatedName&&(o=J_(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"dtype[]":o=Y_(e.attr,a.tfName,a.defaultValue),o===void 0&&!!a.tfDeprecatedName&&(o=Y_(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"func":o=M$(e.attr,a.tfName,a.defaultValue),o===void 0&&!!a.tfDeprecatedName&&(o=M$(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${a.type} for op: ${e.op}`)}return s[a.name]={value:o,type:r},s},{})),i}mapFunction(e){const n=e.nodeDef,i=[],s=[];let a={};n!=null&&(a=n.reduce((d,f)=>(d[f.name]=this.mapNode(f),f.op==="Const"&&s.push(d[f.name]),d),{}));const r=[],o=[];e.signature.inputArg.forEach(d=>{const[f]=qa(d.name),h={name:f,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:mN(d.type),type:"dtype"}},children:[]};h.signatureKey=d.name,r.push(h),a[f]=h}),Object.keys(a).forEach(d=>{const f=a[d];f.inputNames.forEach((h,p)=>{const[m,,y]=qa(h),g=a[m];if(g.outputs!=null){const v=g.outputs.indexOf(y);if(v!==-1){const b=`${m}:${v}`;f.inputNames[p]=b}}f.inputs.push(g),g.children.push(f)})});const c=e.ret;e.signature.outputArg.forEach(d=>{const[f,h]=qa(c[d.name]),p=a[f];p!=null&&(p.defaultOutput=h,o.push(p))});const u=this.mapArgsToSignature(e);return{nodes:a,inputs:r,outputs:o,weights:s,placeholders:i,signature:u}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,i)=>(n[i.name]=this.mapArgToTensorInfo(i),n),{}),outputs:e.signature.outputArg.reduce((n,i)=>(n[i.name]=this.mapArgToTensorInfo(i,e.ret),n),{})}}mapArgToTensorInfo(e,n){let i=e.name;return n!=null&&(i=n[i]),{name:i,dtype:e.type}}}function foe(t){const e=J().global;if(typeof e.atob!="undefined")return e.atob(t);if(typeof Buffer!="undefined")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function WP(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):foe(t);return e?n:n.toLowerCase()}function q_(t,e,n,i=!1){const s=t[e];return s!=null?WP(s.s,i):n}function K_(t,e,n){const i=t[e];return i?i.b:n}function X_(t,e,n){const i=t[e]||{},s=i.i!=null?i.i:i.f!=null?i.f:n;return typeof s=="number"?s:parseInt(s,10)}function mN(t){switch(typeof t=="string"&&(t=cs[t]),t){case cs.DT_FLOAT:case cs.DT_HALF:return"float32";case cs.DT_INT32:case cs.DT_INT64:case cs.DT_INT8:case cs.DT_UINT8:return"int32";case cs.DT_BOOL:return"bool";case cs.DT_DOUBLE:return"float32";case cs.DT_STRING:return"string";default:return null}}function M$(t,e,n){const i=t[e];return i&&i.func?i.func.name:n}function J_(t,e,n){const i=t[e];return i&&i.type?mN(i.type):n}function Y_(t,e,n){const i=t[e];return i&&i.list&&i.list.type?i.list.type.map(s=>mN(s)):n}function jP(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function Q_(t,e,n){const i=t[e];return i&&i.shape?jP(i.shape):n}function Z_(t,e,n){const i=t[e];return i?((i.list.f&&i.list.f.length?i.list.f:i.list.i)||[]).map(s=>typeof s=="number"?s:parseInt(s,10)):n}function ex(t,e,n,i=!1){const s=t[e];return s&&s.list&&s.list.s?s.list.s.map(a=>WP(a,i)):n}function tx(t,e,n){const i=t[e];return i&&i.list&&i.list.shape?i.list.shape.map(s=>jP(s)):n}function nx(t,e,n){const i=t[e];return i&&i.list&&i.list.b?i.list.b:n}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hoe{constructor(e,n,i){this.node=e,this.tensorMap=n,this.context=i,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(s=>this.getInput(s)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((s,a)=>(s[a]=this.getAttr(a),s),{}))}getInput(e){return Kn(e,this.tensorMap,this.context)}getAttr(e,n){const i=this.node.rawAttrs[e];if(i.tensor!=null)return Kn(e,this.tensorMap,this.context);if(i.i!=null||i.f!=null)return X_(this.node.rawAttrs,e,n);if(i.s!=null)return q_(this.node.rawAttrs,e,n);if(i.b!=null)return K_(this.node.rawAttrs,e,n);if(i.shape!=null)return Q_(this.node.rawAttrs,e,n);if(i.type!=null)return J_(this.node.rawAttrs,e,n);if(i.list!=null){if(i.list.i!=null||i.list.f!=null)return Z_(this.node.rawAttrs,e,n);if(i.list.s!=null)return ex(this.node.rawAttrs,e,n);if(i.list.shape!=null)return tx(this.node.rawAttrs,e,n);if(i.list.b!=null)return nx(this.node.rawAttrs,e,n);if(i.list.type!=null)return Y_(this.node.rawAttrs,e,n)}return n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var In=Object.freeze(Object.defineProperty({__proto__:null,abs:Kt,acos:kS,acosh:_S,add:oe,addN:QR,all:uv,any:fh,argMax:Nl,argMin:xS,asin:SS,asinh:CS,atan:NS,atan2:IS,atanh:TS,avgPool:zp,avgPool3d:ES,basicLSTMCell:ZR,batchToSpaceND:Vp,batchNorm:hd,batchNorm2d:DS,batchNorm3d:AS,batchNorm4d:FS,bincount:RS,broadcastArgs:eO,broadcastTo:dl,buffer:Me,cast:fe,ceil:OS,clipByValue:ci,clone:Ta,complex:ur,concat:Lt,concat1d:PS,concat2d:LS,concat3d:MS,concat4d:BS,conv1d:dv,conv2d:dr,conv2dTranspose:fv,conv3d:VS,conv3dTranspose:WS,cos:Wp,cosh:hv,cumprod:hh,cumsum:pv,denseBincount:J1,depthToSpace:jS,depthwiseConv2d:pd,diag:nO,dilation2d:HS,div:Ce,divNoNan:GS,dot:US,einsum:iO,elu:md,equal:$i,erf:qS,euclideanNorm:XS,exp:Ei,expandDims:Fn,expm1:JS,eye:mv,fill:Eo,floor:yd,floorDiv:cv,gather:vd,greater:ti,greaterEqual:br,imag:Mp,isFinite:YS,isInf:QS,isNaN:ZS,leakyRelu:jp,less:gv,lessEqual:Ao,linspace:rO,localResponseNormalization:e3,log:Di,log1p:Hp,logSigmoid:t3,logSoftmax:vv,logSumExp:bv,logicalAnd:Cs,logicalNot:Gp,logicalOr:wv,logicalXor:n3,lowerBound:lO,matMul:Be,max:Ui,maxPool:Up,maxPool3d:i3,maxPoolWithArgmax:cO,maximum:La,mean:Et,meshgrid:uO,min:Zc,minimum:bd,mirrorPad:s3,mod:a3,moments:qp,mul:W,multiRNNCell:dO,multinomial:fO,neg:wt,notEqual:Tl,oneHot:Yc,ones:Si,onesLike:Ai,outerProduct:hO,pad:wr,pad1d:pO,pad2d:mO,pad3d:gO,pad4d:yO,pool:r3,pow:fr,prelu:Xp,print:rS,prod:o3,raggedGather:vO,raggedRange:bO,raggedTensorToTensor:wO,rand:kO,randomGamma:$O,randomNormal:_v,randomStandardNormal:EO,randomUniform:kd,range:$l,real:Qc,reciprocal:c3,relu:sa,relu6:xv,reshape:j,reverse:Xi,reverse1d:DO,reverse2d:AO,reverse3d:FO,reverse4d:RO,round:Sv,rsqrt:Cv,scalar:Te,selu:Nv,separableConv2d:Iv,setdiff1dAsync:OO,sigmoid:Xs,sign:u3,sin:Tv,sinh:$v,slice:qe,slice1d:Jp,slice2d:Ev,slice3d:Yp,slice4d:eu,softmax:Qp,softplus:Ul,spaceToBatchND:Kp,fft:Zp,ifft:tu,irfft:Dv,rfft:em,split:oi,sqrt:xn,square:lt,squaredDifference:Av,squeeze:Fo,stack:ui,step:Kl,stridedSlice:d3,sub:be,sum:ke,tan:f3,tanh:Il,tensor:Ti,tensor1d:Rn,tensor2d:so,tensor3d:dS,tensor4d:PO,tensor5d:LO,tensor6d:MO,tile:Wi,topk:h3,truncatedNormal:Fv,unique:p3,unsortedSegmentSum:Rv,unstack:Ji,upperBound:BO,variable:m3,where:Mn,whereAsync:g3,zeros:Vt,zerosLike:Ke,op:z,OP_SCOPE_SUFFIX:eS,booleanMaskAsync:zO,transpose:He,norm:gd,movingAverage:VO,scatterND:WO,searchSorted:kv,sparseToDense:jO,gatherND:HO,dropout:y3,enclosingPowerOfTwo:v3,cosineWindow:Pv,inTopKAsync:GO,image:wa,linalg:k3,losses:n5,spectral:e5,fused:XO,signal:t5,sparse:i5,string:s5},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const poe=(t,e,n,i=In)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[i.add(C("a",t,e,n),C("b",t,e,n))];case"AddN":return[i.addN(C("tensors",t,e,n))];case"FloorMod":case"Mod":return[i.mod(C("a",t,e,n),C("b",t,e,n))];case"Mul":return[i.mul(C("a",t,e,n),C("b",t,e,n))];case"RealDiv":case"Div":return[i.div(C("a",t,e,n),C("b",t,e,n))];case"DivNoNan":return[i.divNoNan(C("a",t,e,n),C("b",t,e,n))];case"FloorDiv":return[i.floorDiv(C("a",t,e,n),C("b",t,e,n))];case"Sub":return[i.sub(C("a",t,e,n),C("b",t,e,n))];case"Minimum":return[i.minimum(C("a",t,e,n),C("b",t,e,n))];case"Maximum":return[i.maximum(C("a",t,e,n),C("b",t,e,n))];case"Pow":return[i.pow(C("a",t,e,n),C("b",t,e,n))];case"SquaredDifference":return[i.squaredDifference(C("a",t,e,n),C("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const moe=(t,e,n,i=In)=>{switch(t.op){case"Abs":case"ComplexAbs":return[i.abs(C("x",t,e,n))];case"Acos":return[i.acos(C("x",t,e,n))];case"Acosh":return[i.acosh(C("x",t,e,n))];case"Asin":return[i.asin(C("x",t,e,n))];case"Asinh":return[i.asinh(C("x",t,e,n))];case"Atan":return[i.atan(C("x",t,e,n))];case"Atan2":return[i.atan2(C("x",t,e,n),C("y",t,e,n))];case"Atanh":return[i.atanh(C("x",t,e,n))];case"Ceil":return[i.ceil(C("x",t,e,n))];case"Complex":return[i.complex(C("real",t,e,n),C("imag",t,e,n))];case"Cos":return[i.cos(C("x",t,e,n))];case"Cosh":return[i.cosh(C("x",t,e,n))];case"Elu":return[i.elu(C("x",t,e,n))];case"Erf":return[i.erf(C("x",t,e,n))];case"Exp":return[i.exp(C("x",t,e,n))];case"Expm1":return[i.expm1(C("x",t,e,n))];case"Floor":return[i.floor(C("x",t,e,n))];case"Log":return[i.log(C("x",t,e,n))];case"Log1p":return[i.log1p(C("x",t,e,n))];case"Imag":return[i.imag(C("x",t,e,n))];case"Neg":return[i.neg(C("x",t,e,n))];case"Reciprocal":return[i.reciprocal(C("x",t,e,n))];case"Real":return[i.real(C("x",t,e,n))];case"Relu":return[i.relu(C("x",t,e,n))];case"Round":return[i.round(C("x",t,e,n))];case"Selu":return[i.selu(C("x",t,e,n))];case"Sigmoid":return[i.sigmoid(C("x",t,e,n))];case"Sin":return[i.sin(C("x",t,e,n))];case"Sign":return[i.sign(C("x",t,e,n))];case"Sinh":return[i.sinh(C("x",t,e,n))];case"Softplus":return[i.softplus(C("x",t,e,n))];case"Sqrt":return[i.sqrt(C("x",t,e,n))];case"Square":return[i.square(C("x",t,e,n))];case"Tanh":return[i.tanh(C("x",t,e,n))];case"Tan":return[i.tan(C("x",t,e,n))];case"ClipByValue":return[i.clipByValue(C("x",t,e,n),C("clipValueMin",t,e,n),C("clipValueMax",t,e,n))];case"Relu6":return[i.relu6(C("x",t,e,n))];case"Rsqrt":return[i.rsqrt(Kn(t.inputNames[0],e,n))];case"Prod":return[i.prod(C("x",t,e,n),C("axes",t,e,n))];case"LeakyRelu":return[i.leakyRelu(C("x",t,e,n),C("alpha",t,e,n))];case"Prelu":return[i.prelu(C("x",t,e,n),C("alpha",t,e,n))];case"IsNan":return[i.isNaN(Kn(t.inputNames[0],e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function us(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){E(t.length===e.length,()=>n+` Shapes ${t} and ${e} must match`);for(let i=0;i<t.length;i++){const s=t[i],a=e[i];E(s<0||a<0||s===a,()=>n+` Shapes ${t} and ${e} must match`)}}}function B$(t){return!(typeof t=="number"||t.some(e=>e<0))}function nf(t,e,n){let i=ix(t,n);const s=!B$(i);if(s&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${i}`);if(s&&e.forEach(a=>{i=ix(a.shape,i)}),!B$(i))throw new Error(`Non-fully-defined elementShape: ${i}`);return i}function ix(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);const n=[];for(let i=0;i<t.length;++i){const s=t[i],a=e[i];if(s>=0&&a>=0&&s!==a)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);n[i]=s>=0?s:a}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class goe{constructor(e,n,i,s,a,r,o){this.name=e,this.dtype=n,this.maxSize=i,this.elementShape=s,this.identicalElementShapes=a,this.dynamicSize=r,this.clearAfterRead=o,this.tensors=[],this.closed_=!1,this.idTensor=Te(0),tn(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const i=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),us(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),i.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(i.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);i.tensor=n,tn(n),i.written=!0,this.tensors[e]=i}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((i,s)=>this.write(i,n[s]))}gather(e,n){if(!!n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let s=0;s<this.size();s++)e.push(s)}if(e.length===0)return Ti([],[0].concat(this.elementShape));const i=this.readMany(e);return us(this.elementShape,i[0].shape,"TensorArray shape mismatch: "),ui(i,0)}concat(e){if(!!e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return Ti([],[0].concat(this.elementShape));const n=[];for(let s=0;s<this.size();s++)n.push(s);const i=this.readMany(n);return us(this.elementShape,i[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${i[0].shape})`),Lt(i,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const i=Math.max(...e);if(!this.dynamicSize&&i>=this.maxSize)throw new Error(`Max index must be < array size (${i}  vs. ${this.maxSize})`);this.writeMany(e,Ji(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let i=0;const s=e.map(l=>(i+=l,i));if(i!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${i}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const a=i===0?0:n.size/i,r=[];X(()=>{n=j(n,[1,i,a]);for(let l=0;l<e.length;++l){const c=l===0?0:s[l-1],u=[0,c,0],d=[1,e[l],a];r[l]=j(qe(n,u,d),this.elementShape)}return r});const o=[];for(let l=0;l<e.length;l++)o[l]=l;this.writeMany(o,r)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Fl{constructor(e,n,i,s=-1){this.tensors=e,this.elementShape=n,this.elementDtype=i,e!=null&&e.forEach(a=>{if(i!==a.dtype)throw new Error(`Invalid data types; op elements ${i}, but list elements ${a.dtype}`);us(n,a.shape,"TensorList shape mismatch: "),tn(a)}),this.idTensor=Te(0),this.maxNumElements=s,tn(this.idTensor)}get id(){return this.idTensor.id}copy(){return new Fl([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,i=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(i!==-1&&this.tensors.length!==i)throw new Error(`Operation expected a list with ${i} elements but got a list with ${this.tensors.length} elements.`);us(e,this.elementShape,"TensorList shape mismatch: ");const s=nf(this.elementShape,this.tensors,e);return X(()=>{const a=this.tensors.map(r=>j(r,s));return ui(a,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const i=nf(this.elementShape,this.tensors,e),s=this.tensors.pop();return s.kept=!1,us(s.shape,e,"TensorList shape mismatch: "),j(s,i)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(us(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");tn(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const n=new Fl([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let i=0;i<Math.min(this.tensors.length,e);++i)n.tensors[i]=this.tensors[i];return n}getItem(e,n,i){if(i!==this.elementDtype)throw new Error(`Invalid data types; op elements ${i}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);us(this.tensors[e].shape,n,"TensorList shape mismatch: ");const s=nf(this.elementShape,this.tensors,n);return j(this.tensors[e],s)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);us(this.elementShape,n.shape,"TensorList shape mismatch: "),tn(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,i){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);us(this.elementShape,i,"TensorList shape mismatch: "),e=e.slice(0,this.size());const s=nf(this.elementShape,this.tensors,i);return e.length===0?Ti([],[0].concat(s)):X(()=>{const a=e.map(r=>j(this.tensors[r],s));return ui(a,0)})}concat(e,n){if(!!e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);us(this.elementShape,n,"TensorList shape mismatch: ");const i=nf(this.elementShape,this.tensors,n);return this.size()===0?Ti([],[0].concat(i)):X(()=>{const s=this.tensors.map(a=>j(a,i));return Lt(s,0)})}}function yoe(t,e,n){const i=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==n)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${n}`);const s=t.shape.slice(1);us(s,e,"TensorList shape mismatch: ");const a=Ji(t);return new Fl(a,e,i)}function voe(t,e,n,i){return new Fl([],t,e,i)}function boe(t,e,n,i){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const s=Math.max(...e);if(i!=null&&i!==-1&&s>=i)throw new Error(`Max index must be < array size (${s}  vs. ${i})`);const a=new Fl([],n,t.dtype,i),r=Ji(t,0);return e.forEach((o,l)=>{a.setItem(o,r[l])}),a}function woe(t,e,n){let i=0;const s=e.map(u=>(i+=u,i));if(i!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${i}, and tensor's shape is: ${t.shape}`);const a=t.shape.slice(1),r=ix(a,n),o=i===0?0:t.size/i,l=X(()=>{const u=[];t=j(t,[1,i,o]);for(let d=0;d<e.length;++d){const f=d===0?0:s[d-1],h=[0,f,0],p=[1,e[d],o];u[d]=j(qe(t,h,p),r)}return t.dispose(),u}),c=new Fl([],n,t.dtype,e.length);for(let u=0;u<l.length;u++)c.setItem(u,l[u]);return c}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const koe=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const i=C("thenBranch",t,e,n),s=C("elseBranch",t,e,n),a=C("cond",t,e,n),r=C("args",t,e,n);return(await a.data())[0]?n.functionMap[i].executeFunctionAsync(r,n.tensorArrayMap,n.tensorListMap):n.functionMap[s].executeFunctionAsync(r,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const i=C("body",t,e,n),s=C("cond",t,e,n),a=C("args",t,e,n),r=await n.functionMap[s].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap),o=a.map(u=>u.id);let l=await r[0].data();r.forEach(u=>{!u.kept&&o.indexOf(u.id)===-1&&u.dispose()});let c=a;for(;l[0];){const u=c;c=await n.functionMap[i].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);const d=c.map(h=>h.id);u.forEach(h=>{!h.kept&&o.indexOf(h.id)===-1&&d.indexOf(h.id)===-1&&h.dispose()});const f=await n.functionMap[s].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);l=await f[0].data(),f.forEach(h=>{!h.kept&&o.indexOf(h.id)===-1&&d.indexOf(h.id)===-1&&h.dispose()})}return c}case"LoopCond":{const i=C("pred",t,e,n);return[Ka(i)]}case"Switch":{const i=C("pred",t,e,n);let s=C("data",t,e,n);return s.kept||(s=Ka(s)),(await i.data())[0]?[void 0,s]:[s,void 0]}case"Merge":{const i=t.inputNames.find(s=>Kn(s,e,n)!==void 0);if(i){const s=Kn(i,e,n);return[Ka(s)]}return}case"Enter":{const i=C("frameName",t,e,n),s=C("tensor",t,e,n);return n.enterFrame(i),[Ka(s)]}case"Exit":{const i=C("tensor",t,e,n);return n.exitFrame(),[Ka(i)]}case"NextIteration":{const i=C("tensor",t,e,n);return n.nextIteration(),[Ka(i)]}case"TensorArrayV3":{const i=C("size",t,e,n),s=C("dtype",t,e,n),a=C("elementShape",t,e,n),r=C("dynamicSize",t,e,n),o=C("clearAfterRead",t,e,n),l=C("identicalElementShapes",t,e,n),c=C("name",t,e,n),u=new goe(c,s,i,a,l,r,o);return n.addTensorArray(u),[u.idTensor,Te(1)]}case"TensorArrayWriteV3":{const i=C("tensorArrayId",t,e,n),s=C("index",t,e,n),a=C("tensor",t,e,n),r=n.getTensorArray(i.id);return r.write(s,a),[r.idTensor]}case"TensorArrayReadV3":{const i=C("tensorArrayId",t,e,n),s=C("index",t,e,n);return[n.getTensorArray(i.id).read(s)]}case"TensorArrayGatherV3":{const i=C("tensorArrayId",t,e,n),s=C("indices",t,e,n),a=C("dtype",t,e,n);return[n.getTensorArray(i.id).gather(s,a)]}case"TensorArrayScatterV3":{const i=C("tensorArrayId",t,e,n),s=C("indices",t,e,n),a=C("tensor",t,e,n),r=n.getTensorArray(i.id);return r.scatter(s,a),[r.idTensor]}case"TensorArrayConcatV3":{const i=C("tensorArrayId",t,e,n),s=n.getTensorArray(i.id),a=C("dtype",t,e,n);return[s.concat(a)]}case"TensorArraySplitV3":{const i=C("tensorArrayId",t,e,n),s=C("tensor",t,e,n),a=C("lengths",t,e,n),r=n.getTensorArray(i.id);return r.split(a,s),[r.idTensor]}case"TensorArraySizeV3":{const i=C("tensorArrayId",t,e,n),s=n.getTensorArray(i.id);return[Te(s.size(),"int32")]}case"TensorArrayCloseV3":{const i=C("tensorArrayId",t,e,n),s=n.getTensorArray(i.id);return s.clearAndClose(),[s.idTensor]}case"TensorListSetItem":{const i=C("tensorListId",t,e,n),s=C("index",t,e,n),a=C("tensor",t,e,n),r=n.getTensorList(i.id);return r.setItem(s,a),[r.idTensor]}case"TensorListGetItem":{const i=C("tensorListId",t,e,n),s=C("index",t,e,n),a=C("elementShape",t,e,n),r=C("elementDType",t,e,n);return[n.getTensorList(i.id).getItem(s,a,r)]}case"TensorListScatterV2":case"TensorListScatter":{const i=C("indices",t,e,n),s=C("tensor",t,e,n),a=C("elementShape",t,e,n),r=C("numElements",t,e,n),o=boe(s,i,a,r);return n.addTensorList(o),[o.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const i=C("elementShape",t,e,n),s=C("elementDType",t,e,n);let a;t.op==="TensorListReserve"?a="numElements":a="maxNumElements";const r=C(a,t,e,n),o=t.op==="TensorListReserve"?-1:r,l=voe(i,s,r,o);return n.addTensorList(l),[l.idTensor]}case"TensorListGather":{const i=C("tensorListId",t,e,n),s=C("indices",t,e,n),a=C("elementShape",t,e,n),r=C("elementDType",t,e,n);return[n.getTensorList(i.id).gather(s,r,a)]}case"TensorListStack":{const i=C("tensorListId",t,e,n),s=C("elementShape",t,e,n),a=C("elementDType",t,e,n),r=C("numElements",t,e,n);return[n.getTensorList(i.id).stack(s,a,r)]}case"TensorListFromTensor":{const i=C("tensor",t,e,n),s=C("elementShape",t,e,n),a=C("elementDType",t,e,n),r=yoe(i,s,a);return n.addTensorList(r),[r.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const i=C("tensorListId",t,e,n),s=n.getTensorList(i.id),a=C("dtype",t,e,n),r=C("elementShape",t,e,n);return[s.concat(a,r)]}case"TensorListPushBack":{const i=C("tensorListId",t,e,n),s=C("tensor",t,e,n),a=n.getTensorList(i.id);return a.pushBack(s),[a.idTensor]}case"TensorListPopBack":{const i=C("tensorListId",t,e,n),s=C("elementShape",t,e,n),a=C("elementDType",t,e,n);return[n.getTensorList(i.id).popBack(s,a)]}case"TensorListSplit":{const i=C("tensor",t,e,n),s=C("elementShape",t,e,n),a=C("lengths",t,e,n),r=woe(i,a,s);return n.addTensorList(r),[r.idTensor]}case"TensorListLength":{const i=C("tensorListId",t,e,n),s=n.getTensorList(i.id);return[Te(s.size(),"int32")]}case"TensorListResize":{const i=C("tensorListId",t,e,n),s=C("size",t,e,n),r=n.getTensorList(i.id).resize(s);return n.addTensorList(r),[r.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z$(t,e,n){const[i,s]=C("fusedOps",t,e,n),a=i==="biasadd",r=!a,o=s==="prelu",l=i==="fusedbatchnorm",c=C("numArgs",t,e,n);if(a){if(o&&c!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&a&&c!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const u=C("strides",t,e,n),d=Hg(t,e,n),f=C("dataFormat",t,e,n).toUpperCase(),h=C("dilations",t,e,n);let[p,m]=C("args",t,e,n);r&&(m=p,p=void 0);const y=C("leakyreluAlpha",t,e,n);return{stride:u,pad:d,dataFormat:f,dilations:h,biasArg:p,preluArg:m,activationFunc:s,leakyreluAlpha:y}}const _oe=(t,e,n,i=In)=>{switch(t.op){case"Conv1D":{const s=C("stride",t,e,n),a=C("pad",t,e,n),r=C("dataFormat",t,e,n).toUpperCase(),o=C("dilation",t,e,n);return[i.conv1d(C("x",t,e,n),C("filter",t,e,n),s,a,r,o)]}case"Conv2D":{const s=C("strides",t,e,n),a=Hg(t,e,n),r=C("dataFormat",t,e,n).toUpperCase(),o=C("dilations",t,e,n);return[i.conv2d(C("x",t,e,n),C("filter",t,e,n),[s[1],s[2]],a,r,[o[1],o[2]])]}case"_FusedConv2D":{const{stride:s,pad:a,dataFormat:r,dilations:o,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:d}=z$(t,e,n);return[i.fused.conv2d({x:C("x",t,e,n),filter:C("filter",t,e,n),strides:[s[1],s[2]],pad:a,dataFormat:r,dilations:[o[1],o[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:s,pad:a,dataFormat:r,dilations:o,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:d}=z$(t,e,n);return[i.fused.depthwiseConv2d({x:C("x",t,e,n),filter:C("filter",t,e,n),strides:[s[1],s[2]],pad:a,dataFormat:r,dilations:[o[1],o[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const s=C("outputShape",t,e,n),a=C("strides",t,e,n),r=Hg(t,e,n);return[i.conv2dTranspose(C("x",t,e,n),C("filter",t,e,n),s,[a[1],a[2]],r)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const s=C("strides",t,e,n),a=Hg(t,e,n),r=C("dilations",t,e,n),o=C("dataFormat",t,e,n).toUpperCase();return[i.depthwiseConv2d(C("input",t,e,n),C("filter",t,e,n),[s[1],s[2]],a,o,[r[1],r[2]])]}case"Conv3D":{const s=C("strides",t,e,n),a=C("pad",t,e,n),r=C("dataFormat",t,e,n).toUpperCase(),o=C("dilations",t,e,n);return[i.conv3d(C("x",t,e,n),C("filter",t,e,n),[s[1],s[2],s[3]],a,r,[o[1],o[2],o[3]])]}case"AvgPool":{const s=C("strides",t,e,n),a=C("pad",t,e,n),r=C("kernelSize",t,e,n);return[i.avgPool(C("x",t,e,n),[r[1],r[2]],[s[1],s[2]],a)]}case"MaxPool":{const s=C("strides",t,e,n),a=C("pad",t,e,n),r=C("kernelSize",t,e,n);return[i.maxPool(C("x",t,e,n),[r[1],r[2]],[s[1],s[2]],a)]}case"MaxPoolWithArgmax":{const s=C("strides",t,e,n),a=C("pad",t,e,n),r=C("kernelSize",t,e,n),o=C("includeBatchInIndex",t,e,n),{result:l,indexes:c}=i.maxPoolWithArgmax(C("x",t,e,n),[r[1],r[2]],[s[1],s[2]],a,o);return[l,c]}case"AvgPool3D":{const s=C("strides",t,e,n),a=C("pad",t,e,n),r=C("kernelSize",t,e,n);return[i.avgPool3d(C("x",t,e,n),[r[1],r[2],r[3]],[s[1],s[2],s[3]],a)]}case"MaxPool3D":{const s=C("strides",t,e,n),a=C("pad",t,e,n),r=C("kernelSize",t,e,n);return[i.maxPool3d(C("x",t,e,n),[r[1],r[2],r[3]],[s[1],s[2],s[3]],a)]}case"Dilation2D":{const s=C("strides",t,e,n),a=C("pad",t,e,n),r=C("dilations",t,e,n),o=s[1],l=s[2],c=r[1],u=r[2];return[i.dilation2d(C("x",t,e,n),C("filter",t,e,n),[o,l],a,[c,u],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xoe=(t,e,n,i=In)=>{switch(t.op){case"Fill":{const s=C("shape",t,e,n),a=C("dtype",t,e,n),r=C("value",t,e,n);return[i.fill(s,r,a)]}case"LinSpace":{const s=C("start",t,e,n),a=C("stop",t,e,n),r=C("num",t,e,n);return[i.linspace(s,a,r)]}case"Multinomial":{const s=C("logits",t,e,n),a=C("numSamples",t,e,n),r=C("seed",t,e,n);return[i.multinomial(s,a,r)]}case"OneHot":{const s=C("indices",t,e,n),a=C("depth",t,e,n),r=C("onValue",t,e,n),o=C("offValue",t,e,n),l=C("dtype",t,e,n);return[i.oneHot(s,a,r,o,l)]}case"Ones":return[i.ones(C("shape",t,e,n),C("dtype",t,e,n))];case"OnesLike":return[i.onesLike(C("x",t,e,n))];case"RandomStandardNormal":return[i.randomStandardNormal(C("shape",t,e,n),C("dtype",t,e,n),C("seed",t,e,n))];case"RandomUniform":return[i.randomUniform(C("shape",t,e,n),C("minval",t,e,n),C("maxval",t,e,n),C("dtype",t,e,n))];case"Range":{const s=C("start",t,e,n),a=C("stop",t,e,n),r=C("step",t,e,n);return[i.range(s,a,r,C("dtype",t,e,n))]}case"TruncatedNormal":{const s=C("shape",t,e,n),a=C("mean",t,e,n),r=C("stdDev",t,e,n),o=C("seed",t,e,n);return[i.truncatedNormal(s,a,r,C("dtype",t,e,n),o)]}case"Zeros":return[i.zeros(C("shape",t,e,n),C("dtype",t,e,n))];case"ZerosLike":return[i.zerosLike(C("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uw(t,e,n){const i=C("boxes",t,e,n),s=C("scores",t,e,n),a=C("maxOutputSize",t,e,n),r=C("iouThreshold",t,e,n),o=C("scoreThreshold",t,e,n),l=C("softNmsSigma",t,e,n);return{boxes:i,scores:s,maxOutputSize:a,iouThreshold:r,scoreThreshold:o,softNmsSigma:l}}const Soe=async(t,e,n,i,s=In)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:a,scores:r,maxOutputSize:o,iouThreshold:l,scoreThreshold:c,softNmsSigma:u}=Uw(t,e,n),d=await s.image.nonMaxSuppressionWithScoreAsync(a,r,o,l,c,u);return[d.selectedIndices,d.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:a,scores:r,maxOutputSize:o,iouThreshold:l,scoreThreshold:c}=Uw(t,e,n),u=C("padToMaxOutputSize",t,e,n),d=await s.image.nonMaxSuppressionPaddedAsync(a,r,o,l,c,u);return[d.selectedIndices,d.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:a,scores:r,maxOutputSize:o,iouThreshold:l,scoreThreshold:c}=Uw(t,e,n);return[await s.image.nonMaxSuppressionAsync(a,r,o,l,c)]}case"Where":{const a=s.cast(C("condition",t,e,n),"bool"),r=[await s.whereAsync(a)];return a.dispose(),r}case"ListDiff":return s.setdiff1dAsync(C("x",t,e,n),C("y",t,e,n));default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Coe=(t,e,n,i=In)=>{switch(t.op){case"LowerBound":{const s=C("sortedSequence",t,e,n),a=C("values",t,e,n);return[i.lowerBound(s,a)]}case"TopKV2":{const s=C("x",t,e,n),a=C("k",t,e,n),r=C("sorted",t,e,n),o=i.topk(s,a,r);return[o.values,o.indices]}case"UpperBound":{const s=C("sortedSequence",t,e,n),a=C("values",t,e,n);return[i.upperBound(s,a)]}case"Unique":{const s=C("x",t,e,n),a=i.unique(s);return[a.values,a.indices]}case"UniqueV2":{const s=C("x",t,e,n),a=C("axis",t,e,n),r=i.unique(s,a);return[r.values,r.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Noe=(t,e,n,i=In)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const s=C("default",t,e,n);return[Kn(t.name,e,n)||s];case"Placeholder":return[Kn(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const u=C("x",t,e,n);return[Ka(u)]}case"IdentityN":return C("x",t,e,n).map(u=>Ka(u));case"Snapshot":const a=C("x",t,e,n);return[Ka(a)];case"Shape":return[i.tensor1d(C("x",t,e,n).shape,"int32")];case"ShapeN":return C("x",t,e,n).map(u=>i.tensor1d(u.shape));case"Size":return[i.scalar(C("x",t,e,n).size,"int32")];case"Rank":return[i.scalar(C("x",t,e,n).rank,"int32")];case"NoOp":return[i.scalar(1)];case"Print":const r=C("x",t,e,n),o=C("data",t,e,n),l=C("message",t,e,n),c=C("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(l);for(let u=0;u<o.length;u++)console.log(Array.prototype.slice.call(o[u].dataSync()).slice(0,c));return[r];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ioe{constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=Te(0),this.tensorMap=new Map,tn(this.handle)}get id(){return this.handle.id}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Te(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const i=await e.data();return this.tensorMap.forEach(s=>s.dispose()),this.tensorMap.clear(),X(()=>{const s=Ji(n),a=i.length,r=s.length;E(a===r,()=>`The number of elements doesn't match, keys has ${a} elements, the values has ${r} elements.`);for(let o=0;o<a;o++){const l=i[o],c=s[o];tn(c),this.tensorMap.set(l,c)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const i=await e.data();return X(()=>{const s=[];for(let a=0;a<i.length;a++){const r=i[a],o=this.findWithDefault(r,n);s.push(o)}return ui(s)})}findWithDefault(e,n){const i=this.tensorMap.get(e);return i!=null?i:n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Toe=async(t,e,n,i)=>{switch(t.op){case"HashTable":case"HashTableV2":{const s=i.getHashTableHandleByName(t.name);if(s!=null)return[s];{const a=C("keyDType",t,e,n),r=C("valueDType",t,e,n),o=new Ioe(a,r);return i.addHashTable(t.name,o),[o.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const s=C("tableHandle",t,e,n,i),a=C("keys",t,e,n),r=C("values",t,e,n);return[await i.getHashTableById(s.id).import(a,r)]}case"LookupTableFind":case"LookupTableFindV2":{const s=C("tableHandle",t,e,n,i),a=C("keys",t,e,n),r=C("defaultValue",t,e,n);return[await i.getHashTableById(s.id).find(a,r)]}case"LookupTableSize":case"LookupTableSizeV2":{const s=C("tableHandle",t,e,n,i);return[i.getHashTableById(s.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $oe=(t,e,n,i=In)=>{switch(t.op){case"ResizeBilinear":{const s=C("images",t,e,n),a=C("size",t,e,n),r=C("alignCorners",t,e,n),o=C("halfPixelCenters",t,e,n);return[i.image.resizeBilinear(s,[a[0],a[1]],r,o)]}case"ResizeNearestNeighbor":{const s=C("images",t,e,n),a=C("size",t,e,n),r=C("alignCorners",t,e,n),o=C("halfPixelCenters",t,e,n);return[i.image.resizeNearestNeighbor(s,[a[0],a[1]],r,o)]}case"CropAndResize":{const s=C("image",t,e,n),a=C("boxes",t,e,n),r=C("boxInd",t,e,n),o=C("cropSize",t,e,n),l=C("method",t,e,n),c=C("extrapolationValue",t,e,n);return[i.image.cropAndResize(s,a,r,o,l,c)]}case"ImageProjectiveTransformV3":{const s=C("images",t,e,n),a=C("transforms",t,e,n),r=C("outputShape",t,e,n),o=C("fillValue",t,e,n),l=C("interpolation",t,e,n),c=C("fillMode",t,e,n);return[i.image.transform(s,a,l.toLowerCase(),c.toLowerCase(),o,r)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eoe=(t,e,n,i=In)=>{switch(t.op){case"Equal":return[i.equal(C("a",t,e,n),C("b",t,e,n))];case"NotEqual":return[i.notEqual(C("a",t,e,n),C("b",t,e,n))];case"Greater":return[i.greater(C("a",t,e,n),C("b",t,e,n))];case"GreaterEqual":return[i.greaterEqual(C("a",t,e,n),C("b",t,e,n))];case"Less":return[i.less(C("a",t,e,n),C("b",t,e,n))];case"LessEqual":return[i.lessEqual(C("a",t,e,n),C("b",t,e,n))];case"LogicalAnd":return[i.logicalAnd(C("a",t,e,n),C("b",t,e,n))];case"LogicalNot":return[i.logicalNot(C("a",t,e,n))];case"LogicalOr":return[i.logicalOr(C("a",t,e,n),C("b",t,e,n))];case"Select":case"SelectV2":return[i.where(C("condition",t,e,n),C("a",t,e,n),C("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Doe=(t,e,n,i=In)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[i.matMul(C("a",t,e,n),C("b",t,e,n),C("transposeA",t,e,n),C("transposeB",t,e,n))];case"Einsum":return[i.einsum(C("equation",t,e,n),...C("tensors",t,e,n))];case"Transpose":return[i.transpose(C("x",t,e,n),C("perm",t,e,n))];case"_FusedMatMul":const[s,a]=C("fusedOps",t,e,n),r=s==="biasadd",o=a==="prelu",l=C("numArgs",t,e,n),c=C("leakyreluAlpha",t,e,n);if(r){if(o&&l!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&l!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[u,d]=C("args",t,e,n);return[i.fused.matMul({a:C("a",t,e,n),b:C("b",t,e,n),transposeA:C("transposeA",t,e,n),transposeB:C("transposeB",t,e,n),bias:u,activation:a,preluActivationWeights:d,leakyreluAlpha:c})];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Aoe=(t,e,n,i=In)=>{switch(t.op){case"EuclideanNorm":return[i.euclideanNorm(C("x",t,e,n),C("axis",t,e,n),C("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[i.batchNorm(C("x",t,e,n),C("mean",t,e,n),C("variance",t,e,n),C("offset",t,e,n),C("scale",t,e,n),C("epsilon",t,e,n))];case"FusedBatchNormV3":return[i.batchNorm(C("x",t,e,n),C("mean",t,e,n),C("variance",t,e,n),C("offset",t,e,n),C("scale",t,e,n),C("epsilon",t,e,n))];case"LRN":return[i.localResponseNormalization(C("x",t,e,n),C("radius",t,e,n),C("bias",t,e,n),C("alpha",t,e,n),C("beta",t,e,n))];case"Softmax":return[i.softmax(C("x",t,e,n))];case"LogSoftmax":return[i.logSoftmax(C("x",t,e,n))];case"SparseToDense":return[i.sparseToDense(C("sparseIndices",t,e,n),C("outputShape",t,e,n),C("sparseValues",t,e,n),C("defaultValue",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Foe=(t,e,n,i=In)=>{switch(t.op){case"RaggedGather":{const{outputNestedSplits:s,outputDenseValues:a}=i.raggedGather(C("paramsNestedSplits",t,e,n),C("paramsDenseValues",t,e,n),C("indices",t,e,n),C("outputRaggedRank",t,e,n));return s.concat(a)}case"RaggedRange":{const{rtNestedSplits:s,rtDenseValues:a}=i.raggedRange(C("starts",t,e,n),C("limits",t,e,n),C("splits",t,e,n));return[s,a]}case"RaggedTensorToTensor":return[i.raggedTensorToTensor(C("shape",t,e,n),C("values",t,e,n),C("defaultValue",t,e,n),C("rowPartitionTensors",t,e,n),C("rowPartitionTypes",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Roe=(t,e,n,i=In)=>{switch(t.op){case"Max":{const o=C("axis",t,e,n),l=C("keepDims",t,e,n);return[i.max(C("x",t,e,n),o,l)]}case"Mean":{const o=C("axis",t,e,n),l=C("keepDims",t,e,n);return[i.mean(C("x",t,e,n),o,l)]}case"Min":{const o=C("axis",t,e,n),l=C("keepDims",t,e,n);return[i.min(C("x",t,e,n),o,l)]}case"Sum":{const o=C("axis",t,e,n),l=C("keepDims",t,e,n);return[i.sum(C("x",t,e,n),o,l)]}case"All":{const o=C("axis",t,e,n),l=C("keepDims",t,e,n);return[i.all(C("x",t,e,n),o,l)]}case"Any":{const o=C("axis",t,e,n),l=C("keepDims",t,e,n);return[i.any(C("x",t,e,n),o,l)]}case"ArgMax":{const o=C("axis",t,e,n);return[i.argMax(C("x",t,e,n),o)]}case"ArgMin":{const o=C("axis",t,e,n);return[i.argMin(C("x",t,e,n),o)]}case"Prod":{const o=C("axis",t,e,n),l=C("keepDims",t,e,n);return[i.prod(C("x",t,e,n),o,l)]}case"Cumprod":{const o=C("axis",t,e,n),l=C("exclusive",t,e,n),c=C("reverse",t,e,n);return[i.cumprod(C("x",t,e,n),o,l,c)]}case"Cumsum":{const o=C("axis",t,e,n),l=C("exclusive",t,e,n),c=C("reverse",t,e,n);return[i.cumsum(C("x",t,e,n),o,l,c)]}case"Bincount":const s=C("x",t,e,n),a=C("weights",t,e,n),r=C("size",t,e,n);return[i.bincount(s,a,r)];case"DenseBincount":{const o=C("x",t,e,n),l=C("weights",t,e,n),c=C("size",t,e,n),u=C("binaryOutput",t,e,n);return[i.denseBincount(o,l,c,u)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ooe=(t,e,n,i=In)=>{switch(t.op){case"ConcatV2":case"Concat":{const s=C("n",t,e,n),a=C("axis",t,e,n);let r=C("tensors",t,e,n);return r=r.slice(0,s),[i.concat(r,a)]}case"Gather":{const s=C("x",t,e,n),a=C("indices",t,e,n);return[i.gather(s,i.cast(a,"int32"),0)]}case"GatherV2":{const s=C("axis",t,e,n),a=C("batchDims",t,e,n),r=C("x",t,e,n),o=C("indices",t,e,n);return[i.gather(r,i.cast(o,"int32"),s,a)]}case"Reverse":{const s=C("dims",t,e,n),a=[];for(let o=0;o<s.length;o++)s[o]&&a.push(o);const r=C("x",t,e,n);return[i.reverse(r,a)]}case"ReverseV2":{const s=C("axis",t,e,n),a=C("x",t,e,n);return[i.reverse(a,s)]}case"Slice":{const s=C("begin",t,e,n),a=C("size",t,e,n);return[i.slice(C("x",t,e,n),s,a)]}case"StridedSlice":{const s=C("begin",t,e,n),a=C("end",t,e,n),r=C("strides",t,e,n),o=C("beginMask",t,e,n),l=C("endMask",t,e,n),c=C("ellipsisMask",t,e,n),u=C("newAxisMask",t,e,n),d=C("shrinkAxisMask",t,e,n),f=C("x",t,e,n);return[i.stridedSlice(f,s,a,r,o,l,c,u,d)]}case"Pack":return X(()=>{const s=C("axis",t,e,n),a=C("tensors",t,e,n),r=a[0].shape,o=i.squeeze(a[0]).shape,l=a.map(c=>{const u=Ge(c.shape,r);if(!u&&!Ge(i.squeeze(c).shape,o))throw new Error("the input tensors shape does not match");return u?c:i.reshape(c,r)});return[i.stack(l,s)]});case"Unpack":{const s=C("axis",t,e,n),a=C("tensor",t,e,n);return i.unstack(a,s)}case"Tile":{const s=C("reps",t,e,n);return[i.tile(C("x",t,e,n),s)]}case"Split":case"SplitV":{const s=C("axis",t,e,n),a=C("numOrSizeSplits",t,e,n),r=C("x",t,e,n);return i.split(r,a,s)}case"ScatterNd":{const s=C("indices",t,e,n),a=C("values",t,e,n),r=C("shape",t,e,n);return[i.scatterND(s,a,r)]}case"GatherNd":{const s=C("x",t,e,n),a=C("indices",t,e,n);return[i.gatherND(s,a)]}case"SparseToDense":{const s=C("sparseIndices",t,e,n),a=C("outputShape",t,e,n),r=C("sparseValues",t,e,n),o=C("defaultValue",t,e,n);return[i.sparseToDense(s,r,a,r.dtype===o.dtype?o:i.cast(o,r.dtype))]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Poe=(t,e,n,i=In)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:s,outputValues:a,emptyRowIndicator:r,reverseIndexMap:o}=i.sparse.sparseFillEmptyRows(C("indices",t,e,n),C("values",t,e,n),C("denseShape",t,e,n),C("defaultValue",t,e,n));return[s,a,r,o]}case"SparseReshape":{const{outputIndices:s,outputShape:a}=i.sparse.sparseReshape(C("inputIndices",t,e,n),C("inputShape",t,e,n),C("newShape",t,e,n));return[s,a]}case"SparseSegmentMean":return[i.sparse.sparseSegmentMean(C("data",t,e,n),C("indices",t,e,n),C("segmentIds",t,e,n))];case"SparseSegmentSum":return[i.sparse.sparseSegmentSum(C("data",t,e,n),C("indices",t,e,n),C("segmentIds",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Loe=(t,e,n,i=In)=>{switch(t.op){case"FFT":return[i.fft(C("x",t,e,n))];case"IFFT":return[i.ifft(C("x",t,e,n))];case"RFFT":return[i.rfft(C("x",t,e,n))];case"IRFFT":return[i.irfft(C("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Moe=(t,e,n,i=In)=>{switch(t.op){case"StringNGrams":{const{nGrams:s,nGramsSplits:a}=i.string.stringNGrams(C("data",t,e,n),C("dataSplits",t,e,n),C("separator",t,e,n),C("nGramWidths",t,e,n),C("leftPad",t,e,n),C("rightPad",t,e,n),C("padWidth",t,e,n),C("preserveShortSequences",t,e,n));return[s,a]}case"StringSplit":{const{indices:s,values:a,shape:r}=i.string.stringSplit(C("input",t,e,n),C("delimiter",t,e,n),C("skipEmpty",t,e,n));return[s,a,r]}case"StringToHashBucketFast":return[i.string.stringToHashBucketFast(C("input",t,e,n),C("numBuckets",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Boe=(t,e,n,i=In)=>{switch(t.op){case"Cast":return[i.cast(C("x",t,e,n),C("dtype",t,e,n))];case"ExpandDims":{const s=C("axis",t,e,n);return[i.expandDims(C("x",t,e,n),s)]}case"Squeeze":{const s=C("axis",t,e,n);return[i.squeeze(C("x",t,e,n),s)]}case"Reshape":return[i.reshape(C("x",t,e,n),C("shape",t,e,n))];case"MirrorPad":return[i.mirrorPad(C("x",t,e,n),C("padding",t,e,n),C("mode",t,e,n))];case"PadV2":case"Pad":return[i.pad(C("x",t,e,n),C("padding",t,e,n),C("constantValue",t,e,n))];case"SpaceToBatchND":{const s=C("blockShape",t,e,n),a=C("paddings",t,e,n);return[i.spaceToBatchND(C("x",t,e,n),s,a)]}case"BatchToSpaceND":{const s=C("blockShape",t,e,n),a=C("crops",t,e,n);return[i.batchToSpaceND(C("x",t,e,n),s,a)]}case"DepthToSpace":{const s=C("blockSize",t,e,n),a=C("dataFormat",t,e,n).toUpperCase();return[i.depthToSpace(C("x",t,e,n),s,a)]}case"BroadcastTo":return[i.broadcastTo(C("x",t,e,n),C("shape",t,e,n))];case"BroadcastArgs":return[i.broadcastArgs(C("s0",t,e,n),C("s1",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V$(t,e,n,i,s=X){const a=((r,o,l)=>{switch(r.category){case"arithmetic":return s(()=>poe(r,o,l));case"basic_math":return s(()=>moe(r,o,l));case"control":return koe(r,o,l);case"convolution":return s(()=>_oe(r,o,l));case"creation":return s(()=>xoe(r,o,l));case"dynamic":return Soe(r,o,l);case"evaluation":return s(()=>Coe(r,o,l));case"image":return s(()=>$oe(r,o,l));case"graph":return s(()=>Noe(r,o,l));case"logical":return s(()=>Eoe(r,o,l));case"matrices":return s(()=>Doe(r,o,l));case"normalization":return s(()=>Aoe(r,o,l));case"ragged":return s(()=>Foe(r,o,l));case"reduction":return s(()=>Roe(r,o,l));case"slice_join":return s(()=>Ooe(r,o,l));case"sparse":return s(()=>Poe(r,o,l));case"spectral":return s(()=>Loe(r,o,l));case"string":return s(()=>Moe(r,o,l));case"transformation":return s(()=>Boe(r,o,l));case"hash_table":return Toe(r,o,l,i);case"custom":const c=VP(r.op);if(c&&c.customExecutor)return c.customExecutor(new hoe(r,o,l));throw TypeError(`Custom op ${r.op} is not registered.`);default:throw TypeError(`Unknown op '${r.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,n);return mo(a)?a.then(r=>[].concat(r)):[].concat(a)}class W${constructor(e={},n={},i={},s={}){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=i,this.functionMap=s,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const i=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(i))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j$(t,e,n,i){const s=new Set,a=[];let r=null,o=null;const l=new Set,c=Object.keys(t).map(f=>vi(f)[0]);let u=[];i!=null&&(u=i.map(f=>vi(f.name)[0]));const d=[...e];for(;d.length>0;){const f=d.pop();if((HP(f)||Hoe(f)||Goe(f))&&r==null&&(r=f,o=r.children.map(h=>h.name).filter(h=>s.has(h))),s.add(f.name),n[f.name]==null&&c.indexOf(f.name)===-1&&u.indexOf(f.name)===-1){if(f.inputs.length===0){a.push(f.name);continue}f.inputs.forEach(h=>{l.has(h.name)||(l.add(h.name),d.push(h))})}}return{inputs:t,outputs:e,usedNodes:s,missingInputs:a,dynamicNode:r,syncInputs:o}}function zoe(t,e,n){const{usedNodes:i,inputs:s}=n,a=[],r=Object.keys(s).map(u=>vi(u)[0]).map(u=>t.nodes[u]),o=t.initNodes;r.forEach(u=>{i.has(u.name)&&a.push(u)}),t.weights.forEach(u=>{i.has(u.name)&&a.push(u)}),o!=null&&o.forEach(u=>{i.has(u.name)&&a.push(u)});const l=new Set,c=[];for(;a.length>0;){const u=a.pop();l.add(u.name),e[u.name]||c.push(u),u.children.forEach(d=>{!l.has(d.name)&&i.has(d.name)&&d.inputs.every(f=>l.has(f.name))&&a.push(d)})}return c}const Voe=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],Woe=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],joe=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function HP(t){return Voe.indexOf(t.op)>=0}function Hoe(t){return Woe.indexOf(t.op)>=0}function Goe(t){return joe.indexOf(t.op)>=0}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class o0{constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(i=>{this._functionExecutorMap[i]=new o0(e.functions[i],this)})}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(i=>e[i].map(s=>s.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}getCompilationKey(e,n){const i=e.map(a=>a.name).sort(),s=n.map(a=>a.name).sort();return i.join(this.SEPERATOR)+"--"+s.join(this.SEPERATOR)}compile(e,n){const i=j$(e,n,this.weightMap,this._initNodes),{missingInputs:s,dynamicNode:a,syncInputs:r}=i;if(a!=null)throw new Error(`This execution contains the node '${a.name}', which has the dynamic op '${a.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${r}]`);if(s.length>0){const o=n.map(c=>c.name),l=Object.keys(e);throw new Error(`Cannot compute the outputs [${o}] from the provided inputs [${l}]. Missing the following inputs: [${s}]`)}return zoe(this.graph,this.weightMap,i)}cloneAndKeepTensor(e){if(e==null)return null;const n=e.clone();return tn(n),n}cloneTensorList(e){return e?e.map(i=>this.cloneAndKeepTensor(i)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([n,i])=>[n,this.cloneTensorList(i)]))}execute(e,n){this.disposeIntermediateTensors(),e=this.mapInputs(e);const i=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const s=i.map(d=>this.graph.nodes[vi(d)[0]]),a=n.map(d=>vi(d)[0]);let r=a.map(d=>this.graph.nodes[d]);r.length===0&&(r=this._outputs);const o=this.getCompilationKey(s,r);let l=this.compiledMap.get(o);l==null&&(l=this.compile(e,r),this.compiledMap.set(o,l));try{this.keepIntermediateTensors=J().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d){this.keepIntermediateTensors=!1,console.warn(d.message)}const c={},u={};return X(()=>{const d=new W$(this.weightMap,c,u,this.functionExecutorMap),f=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(m=>{const[y,g]=vi(m),v=[];v[g]=e[m],f[y]=v,this.keepIntermediateTensors&&(this.clonedTensorsMap[y]=this.cloneTensorList(v))});const h=this.getFrozenTensorIds(f),p={};for(let m=0;m<l.length;m++){const y=l[m];if(!f[y.name]){const g=V$(y,f,d,this._resourceManager);if(mo(g))throw new Error(`The execution of the op '${y.op}' returned a promise. Please use model.executeAsync() instead.`);f[y.name]=g,this.keepIntermediateTensors&&(this.clonedTensorsMap[y.name]=this.cloneTensorList(g)),this.checkTensorForDisposal(y.name,y,f,d,h,a,p)}}return this.parent==null&&d.dispose(h),n.map(m=>Kn(m,f,d))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(i=>e[i]).map(i=>i.map(s=>s.id)));return new Set(n)}checkTensorForDisposal(e,n,i,s,a,r,o){n.category==="control"||r.indexOf(e)!==-1||(i[e].forEach(l=>{l!=null&&(o[l.id]=(o[l.id]||0)+n.children.length)}),n.inputs.forEach(l=>{if(l.category!=="control"){const c=Ire(l.name,i,s);c!=null&&c.forEach(u=>{if(u&&!u.kept&&!a.has(u.id)){const d=o[u.id];d===1?(u.dispose(),delete o[u.id]):d!=null&&o[u.id]--}})}}))}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){!this.clonedTensorsMap||(Object.values(this.clonedTensorsMap).forEach(e=>{for(const n of e)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,n,i=!1,s={},a={}){this.disposeIntermediateTensors(),i||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=J().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(f){this.keepIntermediateTensors=!1,console.warn(f.message)}const r=new W$(this.weightMap,s,a,this.functionExecutorMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const o=await this.executeWithControlFlow(e,r,n,i),l=n.map(f=>Kn(f,o,r)),c=l.map(f=>f.id),u=Object.keys(e).map(f=>e[f].id),d=new Set([...c,...u,...this.weightIds]);return Object.values(o).forEach(f=>{f.forEach(h=>{h&&!h.isDisposed&&!d.has(h.id)&&h.dispose()})}),this.parent==null&&r.dispose(d),l}async executeFunctionAsync(e,n,i){const s=e.reduce((a,r,o)=>(a[this.inputs[o].name]=r,a),{});return this._executeAsync(s,this.outputNodes,!0,n,i)}async executeWithControlFlow(e,n,i,s){const a=Object.keys(e),r=a.map(b=>this.graph.nodes[vi(b)[0]]),o=i.map(b=>vi(b)[0]);let l=o.map(b=>this.graph.nodes[b]);l.length===0&&(l=this._outputs);const{usedNodes:c,missingInputs:u,dynamicNode:d,syncInputs:f}=j$(e,l,this.weightMap,this._initNodes),h=[...r,...this.graph.weights,...this._initNodes||[]].map(b=>({node:b,contexts:n.currentContext})),p=Object.assign({},this.weightMap);Object.keys(e).forEach(b=>{const[w,k]=vi(b),x=[];x[k]=e[b],p[w]=x});const m={},y=this.getFrozenTensorIds(p),g={};for(;h.length>0;){const b=this.processStack(r,h,n,p,g,y,o,m,c);await Promise.all(b)}d==null&&!s&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const v=l.filter(b=>!HP(b)&&!Kn(b.name,p,n)).map(b=>b.name);if(v.length>0){let b="";throw d!=null&&(b=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${f}]`),new Error(`Cannot compute the outputs [${v}] from the provided inputs [${a}]. Consider providing the following inputs: [${u}]. ${b}`)}return p}processStack(e,n,i,s,a,r,o,l,c){const u=[];for(;n.length>0;){const d=n.pop();i.currentContext=d.contexts;let f="";if(d.node.op==="Enter"&&C("isConstant",d.node,s,i)&&([f]=qa(d.node.name,i)),s[d.node.name]==null){const h=V$(d.node,s,i,this._resourceManager);f||([f]=qa(d.node.name,i));const p=i.currentContext;mo(h)?u.push(h.then(m=>(s[f]=m,this.keepIntermediateTensors&&(this.clonedTensorsMap[f]=this.cloneTensorList(m)),i.currentContext=p,this.checkTensorForDisposal(f,d.node,s,i,r,o,l),this.processChildNodes(d.node,n,i,s,a,c),m))):(s[f]=h,this.keepIntermediateTensors&&(this.clonedTensorsMap[f]=this.cloneTensorList(h)),this.checkTensorForDisposal(f,d.node,s,i,r,o,l),this.processChildNodes(d.node,n,i,s,a,c))}else this.processChildNodes(d.node,n,i,s,a,c)}return u}processChildNodes(e,n,i,s,a,r){e.children.forEach(o=>{const[l]=qa(o.name,i);a[l]||!r.has(o.name)||(o.op==="Merge"?o.inputNames.some(c=>!!Kn(c,s,i))&&(a[l]=!0,n.push({contexts:i.currentContext,node:o})):o.inputNames.every(c=>!!Kn(c,s,i))&&(a[l]=!0,n.push({contexts:i.currentContext,node:o})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const i=e[n],[s]=vi(n),a=this.graph.nodes[s];if(a.attrParams.shape&&a.attrParams.shape.value){const r=a.attrParams.shape.value,o=r.length===i.shape.length&&i.shape.every((l,c)=>r[c]===-1||r[c]===l);E(o,()=>`The shape of dict['${a.name}'] provided in model.execute(dict) must be [${r}], but was [${i.shape}]`)}a.attrParams.dtype&&a.attrParams.dtype.value&&E(i.dtype===a.attrParams.dtype.value,()=>`The dtype of dict['${a.name}'] provided in model.execute(dict) must be ${a.attrParams.dtype.value}, but was ${i.dtype}`)})}mapInputs(e){var n,i;const s={};for(const a in e){const r=(i=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||i===void 0?void 0:i[a];r!=null?s[r.name]=e[a]:s[a]=e[a]}return s}checkInputs(e){const n=Object.keys(e).filter(i=>{const[s]=vi(i);return this.graph.nodes[s]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>{var i,s;const a=(s=(i=this._signature)===null||i===void 0?void 0:i.outputs)===null||s===void 0?void 0:s[n];return a!=null?a.name:n},{})}checkOutputs(e){e.forEach(n=>{const[i]=vi(n);if(!this.graph.nodes[i])throw new Error(`The output '${n}' is not found in the graph`)})}}class Uoe{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qoe="?tfjs-format=file",Koe="model.json";class gN{constructor(e,n={},i=cS){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=i,n==null&&(this.loadOptions={}),this.resourceManager=new Uoe}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return mo(e)?e.then(n=>this.loadSync(n)):this.loadSync(e)}loadSync(e){this.artifacts=e;const n=this.artifacts.modelTopology;let i=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const a=this.artifacts.userDefinedMetadata;a.signature!=null&&(i=a.signature),a.structuredOutputKeys!=null&&(this.structuredOutputKeys=a.structuredOutputKeys)}this.signature=i,this.version=`${n.versions.producer}.${n.versions.minConsumer}`;const s=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new o0(L$.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(s),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const a=L$.Instance.transformGraph(e.modelInitializer);this.initializer=new o0(a),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,n){if(typeof e=="string"){const i=this.io.getSaveHandlers(e);if(i.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(i.length>1)throw new Error(`Found more than one (${i.length}) save handlers for URL '${e}'`);e=i[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const n=e instanceof Xe?[e]:e,i={};return n.forEach((s,a)=>i[this.structuredOutputKeys[a]]=s),i}return e}predict(e,n){const i=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(i)}async predictAsync(e,n){const i=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(i)}normalizeInputs(e){var n;if(!(e instanceof Xe)&&!Array.isArray(e)){const a=(n=this.signature)===null||n===void 0?void 0:n.inputs;if(a!=null)for(const r in a){const o=a[r];o.resourceId!=null&&(e[r]=this.resourceIdToCapturedInput[o.resourceId])}return e}e=Array.isArray(e)?e:[e];const i=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+i!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-i} non-resource placeholders, while there are ${e.length} input tensors provided.`);let s=0;return this.inputNodes.reduce((a,r)=>{var o,l,c;const u=(c=(l=(o=this.signature)===null||o===void 0?void 0:o.inputs)===null||l===void 0?void 0:l[r])===null||c===void 0?void 0:c.resourceId;return u!=null?a[r]=this.resourceIdToCapturedInput[u]:a[r]=e[s++],a},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const n=this.initializerSignature.outputs,i=Object.keys(n);for(let s=0;s<i.length;s++){const a=i[s],r=n[a];this.resourceIdToCapturedInput[r.resourceId]=e[s]}}}execute(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const i=this.executor.execute(e,n);return i.length>1?i:i[0]}async executeAsync(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const i=await this.executor.executeAsync(e,n);return i.length>1?i:i[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,i)=>(n[i]=[e[i]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&Oe(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function Xoe(t,e={},n=cS){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=Yoe(t));const i=new gN(t,e,n);return await i.load(),i}function Joe(t){if(t==null)throw new Error("modelUrl in loadGraphModelSync() cannot be null. Please provide model artifacts or an IOHandler that loads the model");let e;if(t instanceof Array){const[i,s]=t;if(!i)throw new Error("modelJSON must be the first element of the array");if(!s||!(s instanceof ArrayBuffer))throw new Error("An ArrayBuffer of weights must be the second element of the array");if(!("modelTopology"in i))throw new Error("Model JSON is missing 'modelTopology'");if(!("weightsManifest"in i))throw new Error("Model JSON is missing 'weightsManifest'");const a=aS(i.weightsManifest),r=iS(i,a,s);e=U1(r)}else if("load"in t)e=t;else if("modelTopology"in t&&"weightSpecs"in t&&"weightData"in t)e=U1(t);else throw new Error("Unknown model format");const n=new gN(e);return n.load(),n}function Yoe(t){return t.endsWith("/")||(t=t+"/"),`${t}${Koe}${qoe}`}/** @license See the LICENSE file. */const GP="4.1.0";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */function Qoe(t,e){return l0(t,e)}function l0(t,e,n=new Map,i=new Set){if(t==null)return null;if(typeof Blob=="function"&&t instanceof Blob)return t.slice();if(i.has(t))throw new Error("Circular references are not supported.");if(n.has(t))return n.get(t);const s=e(t);if(s.recurse&&s.value!==null)throw new Error("A deep map function may not return both a value and recurse=true.");if(s.recurse)if(su(t)){const a=Array.isArray(t)?[]:{};i.add(t);for(const r in t){const o=t[r],l=l0(o,e,n,i);a[r]=l}return i.delete(t),t.__proto__&&(a.__proto__=t.__proto__),a}else throw new Error(`Can't recurse into non-iterable type: ${t}`);else return n.set(t,s.value),s.value}function Zoe(t,e=qP){return UP(t,e)}function UP(t,e,n=new Set){const i=t[0];if(n.has(i))throw new Error("Circular references are not supported.");const s=e(t);if(s.recurse&&s.value!==null)throw new Error("A deep zip function may not return both a value and recurse=true.");if(s.recurse)if(su(i)){const a=Array.isArray(i)?[]:{};n.add(i);for(const r in i){const o=t.map(c=>c[r]),l=UP(o,e,n);a[r]=l}return n.delete(i),a}else throw new Error(`Can't recurse into non-iterable type: ${i}`);else return s.value}function qP(t){return t===null?null:su(t[0])?{value:null,recurse:!0}:{value:t,recurse:!1}}async function KP(t,e){const n=new Map;l0(t,e,n);for(const s of Array.from(n.keys())){const a=n.get(s);if(mo(a)){const r=await a;n.set(s,r)}}return l0(t,e,n)}function su(t){let e=!1;if(J().get("IS_BROWSER"))e=t instanceof TextDecoder;else{const{StringDecoder:n}=require("string_decoder");e=t instanceof n}return t!=null&&!ArrayBuffer.isView(t)&&(Array.isArray(t)||typeof t=="object"&&!(t instanceof Xe)&&!(t instanceof Promise)&&!e)}function ele(t){return t==null||tle(t)||Array.isArray(t)||typeof t=="object"&&t instanceof Xe||bn(t)}function tle(t){return t===null||typeof t!="object"&&typeof t!="function"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */function nle(t){return Qoe(t,ile)}function ile(t){return t instanceof Xe?{value:t.clone(),recurse:!1}:su(t)?{value:null,recurse:!0}:{value:t,recurse:!1}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class XP{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,e==null)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,n){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=n}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return this.length()===0}push(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(const n of e)this.push(n)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);const e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const n=this.wrap(this.begin+e),i=this.get(n);return this.set(n,this.pop()),i}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class wb extends XP{constructor(){super(wb.INITIAL_CAPACITY)}isFull(){return!1}push(e){super.isFull()&&this.expand(),super.push(e)}unshift(e){super.isFull()&&this.expand(),super.unshift(e)}expand(){const e=this.capacity*2,n=new Array(e),i=this.length();for(let s=0;s<i;s++)n[s]=this.get(this.wrap(this.begin+s));this.data=n,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=i}}wb.INITIAL_CAPACITY=32;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */function JP(t){return new rle(t)}function yN(t){return new ole(t)}function sle(t,e){return new YP(t,e)}function ale(t,e=Gr.FAIL){return new gle(t,e)}class hn{async toArray(){const e=[];let n=await this.next();for(;!n.done;)e.push(n.value),n=await this.next();return e}async toArrayForTest(){const e=this.prefetch(100),n=[];let i=await e.next();for(;!i.done;)n.push(i.value),i=await e.next();return n}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let n=await this.next(),i=e(n.value);for(;!n.done&&i;)n=await this.next(),i=e(n.value)}handleErrors(e){return new ple(this,e)}filter(e){return new fle(this,e)}map(e){return new hle(this,e)}mapAsync(e){return new H$(this,e)}serialMapAsync(e){return new H$(this,e).serial()}flatmap(e){return new mle(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile(n=>n===!0)}rowMajorBatch(e,n=!0){return new dle(this,e,n)}columnMajorBatch(e,n=!0,i=qP){return this.rowMajorBatch(e,n).map(a=>Zoe(a,i))}concatenate(e,n){return new YP(JP([this,e]),n)}take(e){return e<0||e==null?this:new ule(this,e)}skip(e){return e<0||e==null?this:new cle(this,e)}prefetch(e){return new QP(this,e)}shuffle(e,n){return new yle(this,e,n)}serial(){return new lle(this)}}class rle extends hn{constructor(e){super(),this.items=e,this.trav=0}summary(){return`Array of ${this.items.length} items`}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};const e=this.items[this.trav];return this.trav++,{value:nle(e),done:!1}}}class ole extends hn{constructor(e){super(),this.nextFn=e}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(e){throw e.message=`Error thrown while iterating through a dataset: ${e.message}`,e}}}class lle extends hn{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Serial`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){return this.upstream.next()}}class cle extends hn{constructor(e,n){super(),this.upstream=e,this.maxCount=n,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Skip`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){const e=await this.upstream.next();if(e.done)return e;Oe(e.value)}return this.upstream.next()}}class ule extends hn{constructor(e,n){super(),this.upstream=e,this.maxCount=n,this.count=0}summary(){return`${this.upstream.summary()} -> Take`}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class dle extends hn{constructor(e,n,i=!0){super(),this.upstream=e,this.batchSize=n,this.enableSmallLastBatch=i,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> RowMajorBatch`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){const e=[];for(;e.length<this.batchSize;){const n=await this.upstream.next();if(n.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(n.value)}return{value:e,done:!1}}}class fle extends hn{constructor(e,n){super(),this.upstream=e,this.predicate=n,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Filter`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;;){const e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;Oe(e.value)}}}class hle extends hn{constructor(e,n){super(),this.upstream=e,this.transform=n}summary(){return`${this.upstream.summary()} -> Map`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const n=cr(e.value),i=this.transform(e.value),s=cr(i);for(const a of n)av(a,s)||a.dispose();return{value:i,done:!1}}}class ple extends hn{constructor(e,n){super(),this.upstream=e,this.handler=n,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> handleErrors`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(e){if(!this.handler(e))return{value:null,done:!0}}}}class H$ extends hn{constructor(e,n){super(),this.upstream=e,this.transform=n}summary(){return`${this.upstream.summary()} -> AsyncMap`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const n=cr(e.value),i=await this.transform(e.value),s=cr(i);for(const a of n)av(a,s)||a.dispose();return{value:i,done:!1}}}class vN extends hn{constructor(){super(),this.outputQueue=new wb,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;this.outputQueue.length()===0;)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class mle extends vN{constructor(e,n){super(),this.upstream=e,this.transform=n}summary(){return`${this.upstream.summary()} -> Flatmap`}async pump(){const e=await this.upstream.next();if(e.done)return!1;const n=cr(e.value),i=this.transform(e.value),s=cr(i);this.outputQueue.pushAll(i);for(const a of n)av(a,s)||a.dispose();return!0}}class YP extends hn{constructor(e,n){super(),this.baseErrorHandler=n,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){return"TODO: fill in upstream of chained summaries -> Chained"}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,this.iterator==null){const i=await this.moreIterators.next();if(i.done)return{value:null,done:!0};this.iterator=i.value,this.baseErrorHandler!=null&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}const n=await this.iterator.next();return n.done?(this.iterator=null,this.readFromChain(e)):n}}var Gr;(function(t){t[t.FAIL=0]="FAIL",t[t.SHORTEST=1]="SHORTEST",t[t.LONGEST=2]="LONGEST"})(Gr||(Gr={}));class gle extends hn{constructor(e,n=Gr.FAIL){super(),this.iterators=e,this.mismatchMode=n,this.count=0,this.currentPromise=null}summary(){return"{TODO: fill in upstream of zip summaries} -> Zip"}async nextState(e){await e;let n=0,i=0;function s(r){return r instanceof hn?{value:r.next().then(l=>(n++,l.done&&i++,l.value)),recurse:!1}:{value:null,recurse:!0}}const a=await KP(this.iterators,s);if(n===i)return{value:null,done:!0};if(i>0)switch(this.mismatchMode){case Gr.FAIL:throw new Error(`Zipped streams should have the same length. Mismatched at element ${this.count}.`);case Gr.SHORTEST:return{value:null,done:!0};case Gr.LONGEST:}return this.count++,{value:a,done:!1}}async next(){return this.currentPromise=this.nextState(this.currentPromise),this.currentPromise}}class QP extends hn{constructor(e,n){super(),this.upstream=e,this.bufferSize=n,this.buffer=new XP(n)}summary(){return`${this.upstream.summary()} -> Prefetch`}refill(){for(;!this.buffer.isFull();){const e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}}class yle extends QP{constructor(e,n,i){super(e,n),this.upstream=e,this.windowSize=n,this.upstreamExhausted=!1,this.random=wd.alea(i||vn().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){const e=this.chooseIndex(),n=await this.buffer.shuffleExcise(e);if(n.done)this.upstreamExhausted=!0;else return this.refill(),n}return{value:null,done:!0}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class Td{constructor(){this.size=null}batch(e,n=!0){const i=this;E(e>0,()=>`batchSize needs to be positive, but it is
      ${e}`);let s;return this.size===1/0||this.size==null?s=this.size:n?s=Math.ceil(this.size/e):s=Math.floor(this.size/e),yi(async()=>(await i.iterator()).columnMajorBatch(e,n,wle),s)}concatenate(e){const n=this;let i;return this.size===1/0||e.size===1/0?i=1/0:this.size!=null&&e.size!=null?i=this.size+e.size:i=null,yi(async()=>(await n.iterator()).concatenate(await e.iterator()),i)}filter(e){const n=this;let i;return this.size===1/0?i=1/0:i=null,yi(async()=>(await n.iterator()).filter(s=>X(()=>e(s))),i)}async forEachAsync(e){return(await this.iterator()).forEachAsync(e)}map(e){const n=this;return yi(async()=>(await n.iterator()).map(i=>X(()=>e(i))),this.size)}mapAsync(e){const n=this;return yi(async()=>(await n.iterator()).mapAsync(e),this.size)}prefetch(e){if(e==null)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");const n=this;return yi(async()=>(await n.iterator()).prefetch(e),this.size)}repeat(e){const n=this;let i;return this.size!=null&&e>0?i=this.size*e:e===0?i=0:this.size!=null&&(e===void 0||e<0)?i=1/0:i=null,yi(async()=>{const s=yN(async()=>({value:await n.iterator(),done:!1}));return sle(s.take(e))},i)}skip(e){const n=this;let i;return this.size!=null&&e>=0&&this.size>=e?i=this.size-e:this.size!=null&&(this.size<e||e===void 0||e<0)?i=0:i=null,yi(async()=>(await n.iterator()).skip(e),i)}shuffle(e,n,i=!0){if(e==null||e<0)throw this.size==null?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError(`\`Dataset.shuffle()\` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for \`tf.Tensor\`s), consider setting bufferSize to the dataset size (${this.size} elements)`);const s=this,a=wd.alea(n||vn().toString());return yi(async()=>{let r=a.int32();return i&&(r+=a.int32()),(await s.iterator()).shuffle(e,r.toString())},this.size)}take(e){const n=this;let i;return this.size!=null&&this.size>e?i=e:this.size!=null&&this.size<=e?i=this.size:i=null,yi(async()=>(await n.iterator()).take(e),i)}async toArray(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}}Td.MAX_BUFFER_SIZE=1e4;function yi(t,e=null){return new class extends Td{constructor(){super(...arguments),this.size=e}async iterator(){return t()}}}function vle(t){return yi(async()=>JP(t),t.length)}function ble(t){if(!su(t))throw new Error("The argument to zip() must be an object or array.");let e;if(Array.isArray(t))for(let n=0;n<t.length;n++)e=e==null?t[n].size:Math.min(e,t[n].size);else if(t instanceof Object)for(const n in t)e=e==null?t[n].size:Math.min(e,t[n].size);return yi(async()=>{const n=await KP(t,i=>{if(i instanceof Td)return{value:i.iterator(),recurse:!1};if(su(i))return{value:null,recurse:!0};throw new Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")});return ale(n,Gr.SHORTEST)},e)}function wle(t){if(t===null)return null;const e=t[0];return ele(e)?{value:kle(t),recurse:!1}:{value:null,recurse:!0}}function kle(t){if(t.length===0)throw new Error("Can't make a batch of zero elements.");return t[0]instanceof Xe?ui(t):Ti(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class ZP extends Td{constructor(e){super(),this.input=e}async iterator(){return(await this.input.iterator()).decodeUTF8().split(`
`).map(s=>(s.endsWith("\r")&&(s=s.slice(0,-1)),s))}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */const dg='"',sf=Symbol("out"),G$=Symbol("field"),fg=Symbol("quote"),qw=Symbol("quoteafterquote"),U$=Symbol("quoteinquote");class eL extends Td{constructor(e,n){super(),this.input=e,this.hasHeader=!0,this.fullColumnNames=null,this.columnNamesValidated=!1,this.columnConfigs=null,this.configuredColumnsOnly=!1,this.delimiter=",",this.delimWhitespace=!1,this.base=new ZP(e),n||(n={}),this.hasHeader=n.hasHeader!==!1,this.fullColumnNames=n.columnNames,this.columnConfigs=n.columnConfigs,this.configuredColumnsOnly=n.configuredColumnsOnly,n.delimWhitespace?(E(n.delimiter==null,()=>"Delimiter should not be provided when delimWhitespace is true."),this.delimWhitespace=!0,this.delimiter=" "):this.delimiter=n.delimiter?n.delimiter:","}async columnNames(){return this.columnNamesValidated||await this.setColumnNames(),this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames}async setColumnNames(){const e=await this.maybeReadHeaderLine();if(!this.fullColumnNames&&!e)throw new Error("Column names must be provided if there is no header line.");this.fullColumnNames&&e&&E(e.length===this.fullColumnNames.length,()=>"The length of provided columnNames ("+this.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+e.length.toString()+")."),this.fullColumnNames||(this.fullColumnNames=e);const n=this.fullColumnNames.reduce((s,a)=>(s[a]=s[a]+1||1,s),{}),i=Object.keys(n).filter(s=>n[s]>1);if(E(i.length===0,()=>"Duplicate column names found: "+i.toString()),this.columnConfigs){for(const s of Object.keys(this.columnConfigs))if(this.fullColumnNames.indexOf(s)===-1)throw new Error('The key "'+s+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").")}this.columnNamesValidated=!0}async maybeReadHeaderLine(){if(this.hasHeader){const n=await(await this.base.iterator()).next();if(n.done)throw new Error("No data was found for CSV parsing.");const i=n.value;return this.parseRow(i,!1)}else return null}async iterator(){this.columnNamesValidated||await this.setColumnNames();let e=await this.base.iterator();return this.hasHeader&&(e=e.skip(1)),e.map(n=>this.makeDataElement(n))}makeDataElement(e){const n=this.parseRow(e),i={},s={};for(let a=0;a<this.fullColumnNames.length;a++){const r=this.fullColumnNames[a],o=this.columnConfigs?this.columnConfigs[r]:null;if(!(this.configuredColumnsOnly&&!o)){const l=n[a];let c=null;if(l==="")if(o&&o.default!==void 0)c=o.default;else{if(o&&(o.required||o.isLabel))throw new Error(`Required column ${r} is empty in this line: ${e}`);c=void 0}else{const u=Number(l);if(isNaN(u))o&&o.dtype==="bool"?c=this.getBoolean(l):c=l;else if(!o||!o.dtype)c=u;else switch(o.dtype){case"float32":c=u;break;case"int32":c=Math.floor(u);break;case"bool":c=this.getBoolean(l);break;default:c=u}}o&&o.isLabel?s[r]=c:i[r]=c}}return Object.keys(s).length===0?i:{xs:i,ys:s}}getBoolean(e){return e==="1"||e.toLowerCase()==="true"?1:0}parseRow(e,n=!0){const i=[];let s=0;const a=e.length;let r=sf;for(let o=0;o<a;o++)switch(r){case sf:switch(e.charAt(o)){case dg:s=o+1,r=fg;break;case this.delimiter:if(s=o+1,this.delimiter===" "&&this.delimWhitespace)break;i.push(""),r=sf;break;default:r=G$,s=o;break}break;case G$:switch(e.charAt(o)){case this.delimiter:i.push(e.substring(s,o)),r=sf,s=o+1;break}break;case fg:switch(e.charAt(o)){case dg:r=qw;break}break;case qw:switch(e.charAt(o)){case this.delimiter:i.push(e.substring(s,o-1)),r=sf,s=o+1;break;case dg:r=fg;break;default:r=U$;break}break;case U$:switch(e.charAt(o)){case dg:r=fg;break}break}if(r===qw?i.push(e.substring(s,a-1)):i.push(e.substring(s)),n&&i.length!==this.fullColumnNames.length)throw new Error(`Invalid row in csv file. Should have ${this.fullColumnNames.length} elements in a row, but got ${i}`);return i}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class bN extends hn{constructor(e){super(),this.microphoneConfig=e,this.isClosed=!1,this.fftSize=e.fftSize||1024;const n=Math.log2(this.fftSize);if(this.fftSize<0||n<4||n>14||!Number.isInteger(n))throw new Error(`Invalid fftSize: it must be a power of 2 between 2 to 4 and 2 to 14, but got ${this.fftSize}`);if(this.numFrames=e.numFramesPerSpectrogram||43,this.sampleRateHz=e.sampleRateHz,this.columnTruncateLength=e.columnTruncateLength||this.fftSize,this.audioTrackConstraints=e.audioTrackConstraints,this.smoothingTimeConstant=e.smoothingTimeConstant||0,this.includeSpectrogram=e.includeSpectrogram!==!1,this.includeWaveform=e.includeWaveform===!0,!this.includeSpectrogram&&!this.includeWaveform)throw new Error("Both includeSpectrogram and includeWaveform are false. At least one type of data should be returned.")}summary(){return"microphone"}static async create(e={}){if(!J().get("IS_BROWSER"))throw new Error("microphone API is only supported in browser environment.");const n=new bN(e);return await n.start(),n}async start(){try{this.stream=await navigator.mediaDevices.getUserMedia({audio:this.audioTrackConstraints==null?!0:this.audioTrackConstraints,video:!1})}catch(i){throw new Error(`Error thrown while initializing video stream: ${i.message}`)}if(!this.stream)throw new Error("Could not obtain audio from microphone.");const e=window.AudioContext||window.webkitAudioContext;if(this.audioContext=new e,!this.sampleRateHz)this.sampleRateHz=this.audioContext.sampleRate;else if(this.audioContext.sampleRate!==this.sampleRateHz)throw new Error(`Mismatch in sampling rate: Expected: ${this.sampleRateHz}; Actual: ${this.audioContext.sampleRate}`);const n=this.audioContext.createMediaStreamSource(this.stream);this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=this.fftSize*2,this.analyser.smoothingTimeConstant=this.smoothingTimeConstant,n.connect(this.analyser),this.freqData=new Float32Array(this.fftSize),this.timeData=new Float32Array(this.fftSize)}async next(){if(this.isClosed)return{value:null,done:!0};let e,n;const i=await this.getAudioData();if(this.includeSpectrogram){const s=this.flattenQueue(i.freqDataQueue);e=this.getTensorFromAudioDataArray(s,[this.numFrames,this.columnTruncateLength,1])}if(this.includeWaveform){const s=this.flattenQueue(i.timeDataQueue);n=this.getTensorFromAudioDataArray(s,[this.numFrames*this.fftSize,1])}return{value:{spectrogram:e,waveform:n},done:!1}}async capture(){return(await this.next()).value}async getAudioData(){const e=[],n=[];let i=0;return new Promise(s=>{const a=setInterval(()=>{this.includeSpectrogram&&(this.analyser.getFloatFrequencyData(this.freqData),this.freqData[0]===-1/0&&s({freqDataQueue:e,timeDataQueue:n}),e.push(this.freqData.slice(0,this.columnTruncateLength))),this.includeWaveform&&(this.analyser.getFloatTimeDomainData(this.timeData),n.push(this.timeData.slice())),++i===this.numFrames&&(clearInterval(a),s({freqDataQueue:e,timeDataQueue:n}))},this.fftSize/this.sampleRateHz*1e3)})}stop(){this.isClosed||(this.isClosed=!0,this.analyser.disconnect(),this.audioContext.close(),this.stream!=null&&this.stream.getTracks().length>0&&this.stream.getTracks()[0].stop())}toArray(){throw new Error("Can not convert infinite audio stream to array.")}getSampleRate(){return this.sampleRateHz}flattenQueue(e){const n=e[0].length,i=new Float32Array(e.length*n);return e.forEach((s,a)=>i.set(s,a*n)),i}getTensorFromAudioDataArray(e,n){const i=new Float32Array(te(n));return i.set(e,i.length-e.length),Ti(i,n)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class wN extends hn{constructor(e,n){if(super(),this.webcamVideoElement=e,this.webcamConfig=n,this.isClosed=!0,this.resize=!1,this.needToResize())if(this.resize=!0,this.cropSize=[this.webcamConfig.resizeHeight,this.webcamConfig.resizeWidth],this.cropBoxInd=Rn([0],"int32"),this.webcamConfig.centerCrop){const i=this.webcamConfig.resizeWidth*1/this.webcamVideoElement.width,s=this.webcamConfig.resizeHeight*1/this.webcamVideoElement.height,a=(1-i)/2,r=(1-s)/2,o=a+i,l=s+r;this.cropBox=so([r,a,l,o],[1,4])}else this.cropBox=so([0,0,1,1],[1,4])}summary(){return"webcam"}static async create(e,n={}){if(!J().get("IS_BROWSER"))throw new Error("tf.data.webcam is only supported in browser environment.");if(!e){if(e=document.createElement("video"),!n.resizeWidth||!n.resizeHeight)throw new Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");e.width=n.resizeWidth,e.height=n.resizeHeight}const i=new wN(e,n);return await i.start(),i}async start(){this.webcamConfig.facingMode&&E(this.webcamConfig.facingMode==="user"||this.webcamConfig.facingMode==="environment",()=>`Invalid webcam facing mode: ${this.webcamConfig.facingMode}. Please provide 'user' or 'environment'`);try{this.stream=await navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}})}catch(e){throw e.message=`Error thrown while initializing video stream: ${e.message}`,e}if(!this.stream)throw new Error("Could not obtain video from webcam.");try{this.webcamVideoElement.srcObject=this.stream}catch(e){console.log(e),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return this.webcamVideoElement.play(),this.isClosed=!1,new Promise(e=>{this.webcamVideoElement.onloadedmetadata=()=>{e()}})}async next(){if(this.isClosed)return{value:null,done:!0};let e;try{e=K1(this.webcamVideoElement)}catch(n){throw new Error(`Error thrown converting video to pixels: ${JSON.stringify(n)}`)}if(this.resize)try{return{value:this.cropAndResizeFrame(e),done:!1}}catch(n){throw new Error(`Error thrown cropping the video: ${n.message}`)}finally{e.dispose()}else return{value:e,done:!1}}needToResize(){return!!(this.webcamConfig.resizeWidth&&this.webcamConfig.resizeHeight&&(this.webcamVideoElement.width!==this.webcamConfig.resizeWidth||this.webcamVideoElement.height!==this.webcamConfig.resizeHeight))}cropAndResizeFrame(e){return X(()=>{const n=Fn(fe(e,"float32"),0);let i;i=wa.cropAndResize(n,this.cropBox,this.cropBoxInd,this.cropSize,"bilinear");const s=i.shape;return j(i,s.slice(1))})}async capture(){return(await this.next()).value}stop(){this.stream.getTracks().forEach(n=>n.stop());try{this.webcamVideoElement.srcObject=null}catch(n){console.log(n),this.webcamVideoElement.src=null}this.isClosed=!0}toArray(){throw new Error("Can not convert infinite video stream to array.")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class tL{}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class nL extends hn{split(e){return new _le(this,e)}}class _le extends nL{constructor(e,n){super(),this.upstream=e,this.impl=new xle(e,n)}summary(){return this.impl.summary()}async next(){return this.impl.next()}}class xle extends vN{constructor(e,n){super(),this.upstream=e,this.separator=n,this.carryover=""}summary(){return`${this.upstream.summary()} -> Split('${this.separator}')`}async pump(){const e=await this.upstream.next();if(e.done)return this.carryover===""?!1:(this.outputQueue.push(this.carryover),this.carryover="",!0);const n=e.value.split(this.separator);n[0]=this.carryover+n[0];for(const i of n.slice(0,-1))this.outputQueue.push(i);return this.carryover=n[n.length-1],!0}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class Sle extends hn{decodeUTF8(){return new Cle(this)}}class Cle extends nL{constructor(e){super(),this.upstream=e,this.impl=new Nle(e)}summary(){return this.impl.summary()}async next(){return this.impl.next()}}class Nle extends vN{constructor(e){if(super(),this.upstream=e,J().get("IS_BROWSER"))this.decoder=new TextDecoder("utf-8");else{const{StringDecoder:n}=require("string_decoder");this.decoder=new n("utf8")}}summary(){return`${this.upstream.summary()} -> Utf8`}async pump(){const e=await this.upstream.next();let n;if(e.done)return!1;n=e.value;let i;return J().get("IS_BROWSER")?i=this.decoder.decode(n,{stream:!0}):i=this.decoder.write(Buffer.from(n.buffer)),this.outputQueue.push(i),!0}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class iL extends Sle{constructor(e,n={}){super(),this.file=e,this.options=n,E(e instanceof Uint8Array||(J().get("IS_BROWSER")?e instanceof File||e instanceof Blob:!1),()=>"FileChunkIterator only supports File, Blob and Uint8Array right now."),this.offset=n.offset||0,this.chunkSize=n.chunkSize||1024*1024}summary(){return`FileChunks ${this.file}`}async next(){return this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size)?{value:null,done:!0}:{value:await new Promise((n,i)=>{const s=this.offset+this.chunkSize;if(this.file instanceof Uint8Array)n(new Uint8Array(this.file.slice(this.offset,s)));else{const a=new FileReader;a.onload=o=>{let l=a.result;if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),!(l instanceof Uint8Array))return i(new TypeError("FileReader returned unknown type."));n(l)},a.onabort=o=>i(new Error("Aborted")),a.onerror=o=>i(new Error(o.type));const r=this.file.slice(this.offset,s);a.readAsArrayBuffer(r)}this.offset=s}),done:!1}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */async function Ile(t,e={},n){let i,s;typeof t=="string"?i=t:(i=t.url,s=Tle(t));const a=await(n||gR)(i,s);if(a.ok){const r=new Uint8Array(await a.arrayBuffer());return new iL(r,e)}else throw new Error(a.statusText)}const Tle=t=>({method:t.method,headers:t.headers,body:t.body,mode:t.mode,credentials:t.credentials,cache:t.cache,redirect:t.redirect,referrer:t.referrer,integrity:t.integrity});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */function sL(t){return typeof t=="string"&&t.slice(0,7)==="file://"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class aL extends tL{constructor(e,n={}){super(),this.input=e,this.options=n}async iterator(){if(sL(this.input)&&J().get("IS_NODE")){const e=require("fs");this.input=e.readFileSync(this.input.slice(7))}return new iL(this.input,this.options)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class rL extends tL{constructor(e,n={}){super(),this.url=e,this.fileOptions=n}async iterator(){return sL(this.url)?new aL(this.url,this.fileOptions).iterator():Ile(this.url,this.fileOptions)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */function $le(t,e={}){return new eL(new rL(t),e)}function Ele(t){const e=yN(t);return yi(async()=>e)}function Dle(t){return yi(async()=>{const e=await t();return yN(()=>e.next())})}async function Ale(t,e){return wN.create(t,e)}async function Fle(t){return bN.create(t)}/** @license See the LICENSE file. */const oL="4.1.0";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Rle=Object.freeze(Object.defineProperty({__proto__:null,array:vle,Dataset:Td,zip:ble,CSVDataset:eL,TextLineDataset:ZP,csv:$le,func:Ele,generator:Dle,microphone:Fle,webcam:Ale,FileDataSource:aL,URLDataSource:rL,version_data:oL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xe(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&E(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the CPU backend.`)})}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ole=Ov;class kb extends Y0{constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new j2(this,Ps())}nextDataId(){return kb.nextDataId++}write(e,n,i){this.firstUse&&(this.firstUse=!1,J().get("IS_NODE")&&Bi(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const s={id:this.nextDataId()};return this.data.set(s,{values:e,dtype:i,refCount:1}),s}makeTensorInfo(e,n,i){let s;if(n==="string"&&i!=null&&i.length>0&&ba(i[0])){const a=i.map(r=>Ia(r));s=this.write(a,e,n)}else s=this.write(i,e,n);return{dataId:s,shape:e,dtype:n}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){const n=this.data.get(e);n.refCount++}decRef(e){if(this.data.has(e)){const n=this.data.get(e);n.refCount--}}move(e,n,i,s,a){this.data.set(e,{values:n,dtype:s,refCount:a})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:n,complexTensorInfos:i}=this.data.get(e);if(n==="complex64"){const s=this.readSync(i.real.dataId),a=this.readSync(i.imag.dataId);return hr(s,a)}return this.data.get(e).values}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const i=n.map(s=>lr(s));return Me(e.shape,e.dtype,i)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Me(e.shape,e.dtype,n)}makeOutput(e,n,i){return Ps().makeTensorFromTensorInfo(this.makeTensorInfo(n,i,e),this)}disposeData(e,n=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!n&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:i}=this.data.get(e);i!=null&&(this.disposeData(i.real.dataId,!0),this.disposeData(i.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const n=vn();return e(),{kernelMs:vn()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){xe([e],"where");const n=this.readSync(e.dataId);return Ole(e.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}kb.nextDataId=0;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lL(t){const e=new Float32Array(t.length);for(let n=0;n<t.length;++n)e[n]=Math.abs(t[n]);return e}const Ple=t=>{const{x:e}=t.inputs,n=t.backend;xe(e,"abs");let i=new Float32Array(te(e.shape));const s=n.data.get(e.dataId).values;return i=lL(s),n.makeOutput(i,e.shape,e.dtype)},Lle={kernelName:Oh,backendName:"cpu",kernelFunc:Ple};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qt(t){return(e,n,i,s,a)=>{const r=Pe(e,n),o=r.length,l=Ie(r),c=te(r),u=on(a,c),d=e.length,f=n.length,h=Ie(e),p=Ie(n),m=Cl(e,r),y=Cl(n,r);if(m.length+y.length===0)for(let g=0;g<u.length;++g)u[g]=t(i[g%i.length],s[g%s.length]);else for(let g=0;g<u.length;++g){const v=Wl(g,o,l),b=v.slice(-d);m.forEach(N=>b[N]=0);const w=Ks(b,d,h),k=v.slice(-f);y.forEach(N=>k[N]=0);const x=Ks(k,f,p);u[g]=t(i[w],s[x])}return[u,r]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ki(t){const{inputs:e,backend:n}=t,{real:i,imag:s}=e,a=n.data.get(i.dataId).values,r=n.data.get(s.dataId).values,o=n.makeTensorInfo(i.shape,"complex64"),l=n.data.get(o.dataId);return l.complexTensorInfos={real:n.makeTensorInfo(i.shape,"float32",a),imag:n.makeTensorInfo(s.shape,"float32",r)},o}const Mle={kernelName:ry,backendName:"cpu",kernelFunc:ki};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c0(t,e,n="float32"){if(n==="complex64"){const s=c0(t,e,"float32"),a=c0(t,e,"float32");return ki({inputs:{real:s,imag:a},backend:t})}const i=_n(te(e),n);return t.makeTensorInfo(e,n,i)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oa(t){const{inputs:e,backend:n}=t,{x:i}=e;return n.incRef(i.dataId),{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}const Ble={kernelName:Lu,backendName:"cpu",kernelFunc:Oa};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rl(t){const{inputs:e,backend:n}=t,{input:i}=e,s=n.data.get(i.dataId).complexTensorInfos.real,a=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,a)}const zle={kernelName:My,backendName:"cpu",kernelFunc:Rl};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cL(t,e,n,i){if(i==="int32"){const s=Int32Array.from(t);return[e,"int32",s]}if(i==="bool"){const s=Io([0],n),[a,r]=Qt((o,l)=>o!==l?1:0)(e,[],t,s,"bool");return[r,"bool",a]}throw new Error(`Error in Cast: failed to cast ${n} to ${i}`)}function ko(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{dtype:a}=i;if(a==="complex64"){if(s.dtype==="complex64")return Oa({inputs:{x:s},backend:n});const u=c0(n,s.shape,s.dtype),d=ko({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),f=ki({inputs:{real:d,imag:u},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),f}if(s.dtype==="complex64"){const u=Rl({inputs:{input:s},backend:n}),d=ko({inputs:{x:u},backend:n,attrs:{dtype:a}});return n.disposeIntermediateTensorInfo(u),d}if(!U2(s.dtype,a)){const u=Oa({inputs:{x:s},backend:n});return{dataId:u.dataId,shape:u.shape,dtype:a}}const r=n.data.get(s.dataId).values,[o,l,c]=cL(r,s.shape,s.dtype,a);return n.makeTensorInfo(o,l,c)}const Vle={kernelName:Su,backendName:"cpu",kernelFunc:ko};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gn(t,e,n,i){return n==null?({inputs:s,backend:a})=>{const{a:r,b:o}=s,l=a;xe([r,o],t);const c=l.data.get(r.dataId).values,u=l.data.get(o.dataId).values,d=r.dtype==="string"?El(c):c,f=r.dtype==="string"?El(u):u,h=i||r.dtype,[p,m]=e(r.shape,o.shape,d,f,h);return l.makeTensorInfo(m,h,p)}:({inputs:s,backend:a})=>{const{a:r,b:o}=s,l=a;if(r.dtype==="complex64"||o.dtype==="complex64"){const c=ko({inputs:{x:r},backend:l,attrs:{dtype:"complex64"}}),u=l.data.get(c.dataId),d=u.complexTensorInfos.real,f=u.complexTensorInfos.imag,h=l.data.get(d.dataId).values,p=l.data.get(f.dataId).values,m=ko({inputs:{x:o},backend:l,attrs:{dtype:"complex64"}}),y=l.data.get(m.dataId),g=y.complexTensorInfos.real,v=y.complexTensorInfos.imag,b=l.data.get(g.dataId).values,w=l.data.get(v.dataId).values,[k,x,N]=n(r.shape,o.shape,h,p,b,w),I=l.makeTensorInfo(N,"float32",k),D=l.makeTensorInfo(N,"float32",x),R=ki({inputs:{real:I,imag:D},backend:l});return l.disposeIntermediateTensorInfo(c),l.disposeIntermediateTensorInfo(m),l.disposeIntermediateTensorInfo(I),l.disposeIntermediateTensorInfo(D),R}else{const c=l.data.get(r.dataId).values,u=l.data.get(o.dataId).values,d=i||r.dtype,[f,h]=e(r.shape,o.shape,c,u,d);return l.makeTensorInfo(h,d,f)}}}function kN(t){return(e,n,i,s,a,r)=>{const o=Pe(e,n),l=te(o),c=o.length,u=Ie(o),d=on("float32",l),f=on("float32",l),h=Cl(e,o),p=Cl(n,o),m=hr(i,s),y=hr(a,r),g=e.length,v=Ie(e),b=n.length,w=Ie(n);if(h.length+p.length===0)for(let k=0;k<d.length;k++){const x=k%m.length,N=k%y.length,I=t(m[x*2],m[x*2+1],y[N*2],y[N*2+1]);d[k]=I.real,f[k]=I.imag}else for(let k=0;k<d.length;k++){const x=Wl(k,c,u),N=x.slice(-g);h.forEach(O=>N[O]=0);const I=Ks(N,g,v),D=x.slice(-b);p.forEach(O=>D[O]=0);const R=Ks(D,b,w),L=t(m[I*2],m[I*2+1],y[R*2],y[R*2+1]);d[k]=L.real,f[k]=L.imag}return[d,f,o]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uL=Qt((t,e)=>t+e),Wle=kN((t,e,n,i)=>({real:t+n,imag:e+i})),au=gn(jl,uL,Wle),jle={kernelName:jl,backendName:"cpu",kernelFunc:au};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _N(t,e,n,i,s){const a=te(i),r=_n(s,n);for(let o=0;o<t.length;o++){const l=t[o];if(l<0)throw new Error("Input x must be non-negative!");l>=s||(a>0?r[l]+=e[o]:r[l]+=1)}return r}function dL(t,e,n,i=!1){const s=t.shape[0],a=t.shape[1],r=Me([s,n],e.dtype);for(let o=0;o<s;o++)for(let l=0;l<a;l++){const c=t.get(o,l);if(c<0)throw new Error("Input x must be non-negative!");c>=n||(i?r.set(1,o,c):e.size>0?r.set(r.get(o,c)+e.get(o,l),o,c):r.set(r.get(o,c)+1,o,c))}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ro(t){return(e,n,i)=>{const s=on(n,e.length);for(let a=0;a<e.length;++a)s[a]=t(e[a],i);return s}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function at(t,e,n){return({inputs:i,attrs:s,backend:a})=>{const{x:r}=i;if(xe(r,t),r.dtype==="string"||n==="string")throw new Error("unaryKernelFunc does not support string input/output");const o=a,l=o.data.get(r.dataId).values,c=te(r.shape),u=n||r.dtype,d=jt(u,c);for(let f=0;f<c;++f)d[f]=e(l[f],s);return o.makeTensorInfo(r.shape,u,d)}}function $d(t,e,n){return({inputs:i,attrs:s,backend:a})=>{const{x:r}=i;if(xe(r,t),r.dtype==="string"||n==="string")throw new Error("unaryKernelFunc does not support string input/output");const o=a,l=o.data.get(r.dataId).values,c=n||r.dtype,u=e(l,c,s);return o.makeTensorInfo(r.shape,c,u)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fL=Ro(t=>Math.ceil(t)),Hle=$d(Cu,fL),Gle={kernelName:Cu,backendName:"cpu",kernelFunc:Hle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hL(t,e,n,i){const s=jt(n,te(e));if(i&&n!=="string"){let a=0;t.forEach(r=>{const o=te(r.shape);s.set(r.vals,a),a+=o})}else{let a=0;t.forEach(r=>{const o=n==="string"?El(r.vals):r.vals;let l=0;for(let c=0;c<r.shape[0];++c){const u=c*e[1]+a;for(let d=0;d<r.shape[1];++d)s[u+d]=o[l++]}a+=r.shape[1]})}return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pL=Qt((t,e)=>t===e?1:0),mL=gn(Yh,pL,null,"bool"),Ule={kernelName:Yh,backendName:"cpu",kernelFunc:mL};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gL=Ro(t=>Math.exp(t)),yL=$d(Au,gL,"float32"),qle={kernelName:Au,backendName:"cpu",kernelFunc:yL};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vL=Ro(t=>Math.expm1(t)),Kle=$d(Fu,vL),Xle={kernelName:Fu,backendName:"cpu",kernelFunc:Kle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bL=Ro(t=>Math.floor(t)),Jle=$d(Ru,bL),Yle={kernelName:Ru,backendName:"cpu",kernelFunc:Jle};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wL(t,e,n,i,s,a,r,o,l){const c=Me([i,a],n);for(let u=0;u<i;u++){const d=[];let f=0;for(let h=0;h<s;h++){const p=t[u*s+h];f+=p*r[h],d.push(p)}if(f<0||f>=l/a)throw new Error(`Invalid indices: ${d} does not index into ${o}`);for(let h=0;h<a;h++)c.values[u*a+h]=e.get(...e.indexToLoc(f*a+h))}return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kL(t,e,n){const i=Me(n,t.dtype);for(let s=0;s<i.size;++s){const r=i.indexToLoc(s).slice(),o=r[0],l=r[2],c=e.locToIndex([o,l]);r[2]=e.values[c];const u=t.locToIndex(r);0<=u&&u<t.values.length&&(i.values[s]=t.values[u])}return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _L=Qt((t,e)=>t>e?1:0),Qle=gn(tp,_L,null,"bool"),Zle={kernelName:tp,backendName:"cpu",kernelFunc:Qle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xL=Qt((t,e)=>t>=e?1:0),ece=gn(Pu,xL,null,"bool"),tce={kernelName:Pu,backendName:"cpu",kernelFunc:ece};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SL=Qt((t,e)=>t<e?1:0),nce=gn(ip,SL,null,"bool"),ice={kernelName:ip,backendName:"cpu",kernelFunc:nce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CL=Qt((t,e)=>t<=e?1:0),sce=gn(sp,CL,null,"bool"),ace={kernelName:sp,backendName:"cpu",kernelFunc:sce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NL(t,e,n){const i=(e-t)/(n-1),s=_n(n,"float32");s[0]=t;for(let a=1;a<s.length;a++)s[a]=s[a-1]+i;return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IL=Ro(t=>Math.log(t)),rce=$d(Vu,IL),oce={kernelName:Vu,backendName:"cpu",kernelFunc:rce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TL(t,e,n,i){const s=on(i,te(n));for(let a=0;a<s.length;++a){const r=a*e;let o=t[r];for(let l=0;l<e;++l){const c=t[r+l];(Number.isNaN(c)||c>o)&&(o=c)}s[a]=o}return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $L=Qt((t,e)=>Math.max(t,e)),lce=gn(ju,$L),cce={kernelName:ju,backendName:"cpu",kernelFunc:lce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EL=Qt((t,e)=>Math.min(t,e)),uce=gn(Hu,EL),dce={kernelName:Hu,backendName:"cpu",kernelFunc:uce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xN=Qt((t,e)=>t*e),fce=kN((t,e,n,i)=>({real:t*n-e*i,imag:t*i+e*n})),_b=gn(Uu,xN,fce),hce={kernelName:Uu,backendName:"cpu",kernelFunc:_b};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DL(t,e,n){const i=gr(-1,n);return xN([],e,i,t,n)}function pce(t){const{inputs:e,backend:n}=t,{x:i}=e;xe(i,"neg");const s=n.data.get(i.dataId).values,[a,r]=DL(s,i.shape,i.dtype);return n.makeTensorInfo(r,i.dtype,a)}const mce={kernelName:mp,backendName:"cpu",kernelFunc:pce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AL=Qt((t,e)=>t!==e?1:0),gce=gn(gp,AL,null,"bool"),yce={kernelName:gp,backendName:"cpu",kernelFunc:gce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SN(t,e,n,i,s){const a=e.length,r=te(e),o=Ie(e),l=Ie(s),c=on(n,te(s));for(let u=0;u<r;++u){const d=Wl(u,a,o),f=new Array(d.length);for(let p=0;p<f.length;p++)f[p]=d[i[p]];const h=Ks(f,a,l);c[h]=t[u]}return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fi(t){const{inputs:e,attrs:n,backend:i}=t,{x:s}=e,{perm:a}=n;xe(s,"transpose");const r=s.shape.length,o=new Array(r);for(let d=0;d<o.length;d++)o[d]=s.shape[a[d]];const l=i.data.get(s.dataId).values,c=SN(l,s.shape,s.dtype,a,o);return{dataId:i.write(c,o,s.dtype),shape:o,dtype:s.dtype}}const vce={kernelName:cl,backendName:"cpu",kernelFunc:fi};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FL(t,e,n,i){const[s,a]=mn(t,i),r=li(e,"int32"),o=_n(te(s),r),l=te(a);for(let c=0;c<o.length;++c){const u=c*l;let d=1;for(let f=0;f<l;++f)d*=n[u+f];o[c]=d}return{outVals:o,outShape:s,outDtype:r}}function bce(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:a,keepDims:r}=i;xe(s,"prod");const o=s.shape.length,l=ze(a,s.shape),c=Rt(l,o);let u=l,d=s;const f=[];c!=null&&(d=fi({inputs:{x:s},backend:n,attrs:{perm:c}}),f.push(d),u=Gt(u.length,o));const h=n.data.get(d.dataId).values,{outVals:p,outShape:m,outDtype:y}=FL(d.shape,d.dtype,h,u);let g=m;return r&&(g=Ht(m,l)),f.forEach(v=>n.disposeIntermediateTensorInfo(v)),n.makeTensorInfo(g,y,p)}const wce={kernelName:_p,backendName:"cpu",kernelFunc:bce};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kce(t,e,n){t.forEach((i,s)=>{if(i<0||i>=n){const a=Wl(s,e.length,Ie(e)).join(",");throw new Error(`indices[${a}] = ${i} is not in [0, ${n})`)}})}function _ce(t,e){for(let n=0;n<t.length;++n){const i=t[n],s=n===t.length-1?e:t[n+1].length;if(i.length===0)throw new Error("Ragged splits may not be empty");if(i[0]<0)throw new Error("Ragged splits must be non-negative");if(i[i.length-1]>s)throw new Error("Ragged splits must not point past values");for(let a=1;a<i.length;++a)if(i[a-1]>i[a])throw new Error("Ragged splits must be sorted in ascending order")}}function xce(t,e,n,i){const s=[];let a=0;const r=e.length-1+n.length,o=new Array(r).fill(null).map(()=>[0]);_ce(n,i);let l=1;for(let c=0;c<e.length-1;++c){l*=e[c];const u=e[c+1];for(let d=1;d<l+1;++d)o[c].push(d*u)}for(let c=0;c<t.length;++c){let u=t[c],d=t[c]+1;for(let f=0;f<n.length;++f){const h=n[f],p=f+e.length-1;if(p>=0){const m=o[p],y=m[m.length-1]-h[u];for(let g=u;g<d;++g)o[p].push(h[g+1]+y)}u=h[u],d=h[d]}d!==u&&(s.push([u,d]),a+=d-u)}return{outSplits:o,valueSlices:s,numValues:a}}function Sce(t){const e=[];for(let n=0;n<t.length;++n){const i=t[n].length,s=jt("int32",i);e.push(s),t[n].forEach((a,r)=>s[r]=a)}return e}function q$(t,e){const n=t.slice(0,e);for(;n.length<e;)n.push(1);for(let i=e;i<t.length;i++)n[e-1]*=t[i];return n}function Cce(t,e,n,i,s,a){const r=q$(e,2)[1],o=q$(a,2)[1];let l=0;for(const c of n)for(let u=c[0];u<c[1];++u){for(let d=0;d<i;++d)s[l*o+d]=t[u*r+d];++l}}function Nce(t,e,n,i,s){const a=e.slice();a[0]=s;const r=jt(n,te(a)),o=t.length,l=o===0?0:o/e[0];return Cce(t,e,i,l,r,a),[r,a]}function RL(t,e,n,i,s,a,r,o){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const l=e[0][0]-1;if(kce(a,r,l),i.length===0)throw new Error("params.rank must be nonzero");const c=i[0],{outSplits:u,valueSlices:d,numValues:f}=xce(a,r,t,c),h=Sce(u),p=Nce(n,i,s,d,f);return[h,p[0],p[1]]}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K$=2147483647;function OL(t,e,n,i,s,a,r){if(e.length>1)throw new Error("starts must be a scalar or vector");if(s.length>1)throw new Error("limits must be a scalar or vector");if(r.length>1)throw new Error("deltas must be a scalar or vector");const o=e.length===0,l=s.length===0,c=r.length===0,u=[];o||u.push(e[0]),l||u.push(s[0]),c||u.push(r[0]);for(let y=1;y<u.length;++y)if(u[y]!==u[y-1])throw new Error("starts, limits, and deltas must have the same shape");const d=u.length===0?1:u[0],f=jt("int32",d+1);f[0]=0;for(let y=0;y<d;++y){const g=o?t[0]:t[y],v=l?i[0]:i[y],b=c?a[0]:a[y];if(b===0)throw new Error("Requires delta != 0");let w;if(b>0&&v<g||b<0&&v>g)w=0;else if(w=Math.ceil(Math.abs((v-g)/b)),w>K$)throw new Error(`Requires ((limit - start) / delta) <= ${K$}`);f[y+1]=f[y]+w}const h=f[d],p=jt(n,h);let m=0;for(let y=0;y<d;++y){const g=f[y+1]-f[y];let v=o?t[0]:t[y];const b=c?a[0]:a[y];for(let w=0;w<g;++w)p[m++]=v,v+=b}return[f,p]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var os=Ws;class u0{constructor(e,n,i,s,a,r,o,l,c,u){this.shape=e,this.shapeShape=n,this.values=i,this.valuesShape=s,this.valuesDType=a,this.defaultValue=r,this.defaultValueShape=o,this.rowPartitionValues=l,this.rowPartitionValuesShapes=c,this.rowPartitionTypes=r5(u),this.raggedRank=o5(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===os.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===os.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const n=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case os.VALUE_ROWIDS:return u0.getMaxWidthValueRowID(n);case os.ROW_SPLITS:return u0.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${os[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const n=e.length;if(n===0||n===1)return 0;let i=0;for(let s=0;s<n-1;++s){const a=e[s+1]-e[s];a>i&&(i=a)}return i}static getMaxWidthValueRowID(e){const n=e.length;if(n===0)return 0;let i=0,s=e[0],a=0;for(let r=1;r<n;++r){const o=e[r];o!==s&&(s=o,a=Math.max(r-i,a),i=r)}return Math.max(n-i,a)}tensorShapeFromTensor(e,n,i=!0){if(n.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return J$(e,i)}calculateOutputSize(e){const n=this.valuesShape,i=this.defaultValueShape;l5(i,n);const s=this.tensorShapeFromTensor(this.shape,this.shapeShape),r=a5(this.raggedRank,s,n);r[0]<0&&(r[0]=e);for(let o=1;o<=this.raggedRank;++o)r[o]<0&&(r[o]=this.getMaxWidth(o));return r}calculateFirstParentOutputIndex(e,n,i){const s=Math.min(e,i),a=[];let r=0;for(let o=0;o<s;++o,r+=n)a.push(r);for(let o=s;o<e;++o)a.push(-1);return E(a.length===e,()=>"Final length of result must be equal to firstDimension."),a}calculateOutputIndexRowSplit(e,n,i,s){const a=e.length,r=[];for(let o=0;o<a-1;++o){const l=e[o+1]-e[o];let c=Math.min(s,l),u=n[o];u===-1&&(c=0);for(let d=0;d<c;++d)r.push(u),u+=i;for(let d=0;d<l-c;++d)r.push(-1)}if(a>0&&r.length!==e[a-1])throw new Error("Invalid row split size.");return r}calculateOutputIndexValueRowID(e,n,i,s){const a=e.length,r=[];if(a===0)return[];let o=0,l=e[0];if(l>=n.length)throw new Error(`Got currentValueRowId=${l}, which is not less than ${n.length}`);let c=n[l];r.push(c);for(let u=1;u<a;++u){const d=e[u];if(d===l)c>=0&&(++o,o<s?c+=i:c=-1);else{if(o=0,l=d,d>=n.length)throw new Error(`Got nextValueRowId=${d} which is not less than ${n.length}`);c=n[d]}r.push(c)}if(r.length!==e.length)throw new Error("Invalid row ids.");return r}calculateOutputIndex(e,n,i,s){const a=this.getRowPartitionTensor(e),r=this.getRowPartitionTypeByDimension(e);switch(r){case os.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(a,n,i,s);case os.ROW_SPLITS:if(a.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${a.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(a,n,i,s);default:throw new Error(`Unsupported partition type: ${os[r]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case os.FIRST_DIM_SIZE:return e[0];case os.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case os.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${os[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),i=this.calculateOutputSize(n),s=new Array(this.raggedRank+1);s[s.length-1]=1;for(let l=s.length-2;l>=0;--l)s[l]=s[l+1]*i[l+1];const a=J$(i,!1),r=jt(this.valuesDType,te(a));if(s[0]*i[0]>0){let l=this.calculateFirstParentOutputIndex(n,s[0],i[0]);for(let c=1;c<=this.raggedRank;++c)l=this.calculateOutputIndex(c-1,l,s[c],i[c]);this.setOutput(this.raggedRank,l,r,a)}return[a,r]}setOutput(e,n,i,s){if(i.length===0)return;const a=this.values,r=i;let o=s.slice();o=o.slice(e+1);const l=te(o),c=n.length;let u=this.defaultValue;if(u.length!==l&&u.length!==1){const p=this.defaultValueShape;X(()=>{const m=j(u,p);u=dl(m,o).dataSync()})}let d=0,f=0,h=0;for(let p=0;p<=c;++p){let m=p<c?n[p]:-1;if(m===h){++h;continue}if(f<h){const y=a.subarray(d*l),g=r.subarray(f*l),v=(h-f)*l;X$(g,y,v)}if(p>=c){const y=i.length;m=Math.floor(y/l)}if(m>h)if(this.defaultValue.length===1)r.subarray(h*l,m*l).fill(this.defaultValue[0]),h=m;else for(;m>h;){const y=r.slice(h*l);X$(y,u,l),++h}m<0?(d=p+1,f=h):(d=p,f=h,h=f+1)}}}function X$(t,e,n){for(let i=0;i<n;i++)t[i]=e[i]}function J$(t,e){const n=[];for(let i of t){if(i<0){if(!e)throw new Error(`Dimension ${i} must be >= 0`);if(i<-1)throw new Error(`Dimension ${i} must be >= -1`);i=-1}n.push(i)}return n}function PL(t,e,n,i,s,a,r,o,l,c){return new u0(t,e,n,i,s,a,r,o,l,c).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LL(t,e,n,i){const s=t===e,a=t<e&&n<0,r=e<t&&n>1;if(s||a||r)return _n(0,i);const o=Math.abs(Math.ceil((e-t)/n)),l=_n(o,i);e<t&&n===1&&(n=-1),l[0]=t;for(let c=1;c<l.length;c++)l[c]=l[c-1]+n;return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ML=Ro(t=>1/Math.sqrt(t)),Ice=$d(Qu,ML),Tce={kernelName:Qu,backendName:"cpu",kernelFunc:Ice};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kc(t,e,n,i,s,a,r,o,l,c){const u=[i/s,s],d=t.values,f=e.values;if(i===0)return Me(n,e.dtype);const h=Me(u,e.dtype);typeof l=="string"||typeof l=="number"?h.values.fill(l):typeof l=="boolean"&&h.values.fill(+l);for(let p=0;p<a;p++){const m=[];let y=0;for(let g=0;g<r;g++){const v=d[p*r+g];m.push(v),y+=v*o[g]}if(y<0||y>=i/s)throw new Error(`Invalid indices: ${m} does not index into ${n}`);for(let g=0;g<s;g++)c?h.values[y*s+g]+=f[p*s+g]:h.values[y*s+g]=e.rank===0?f[0]:f[p*s+g]}return h}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $ce=Ro(t=>1/(1+Math.exp(-t))),BL=at(id,t=>1/(1+Math.exp(-t))),Ece={kernelName:id,backendName:"cpu",kernelFunc:BL};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zL(t,e,n,i,s){const a=gS(i,e,n),r=te(n),o=Ie(i);if(a){const d=yS(e,o);return s==="string"?t.slice(d,d+r):t.subarray(d,d+r)}const l=s==="string"?El(t):t,c=Me(i,s,l),u=Me(n,s);for(let d=0;d<u.size;++d){const f=u.indexToLoc(d),h=f.map((p,m)=>p+e[m]);u.set(c.get(...h),...f)}return s==="string"?T5(u.values):u.values}function Ol(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{begin:a,size:r}=i;xe(s,"slice");const[o,l]=lv(s,a,r);pS(s,o,l);const c=n.data.get(s.dataId).values,u=zL(c,o,l,s.shape,s.dtype);return n.makeTensorInfo(l,s.dtype,u)}const Dce={kernelName:Tp,backendName:"cpu",kernelFunc:Ol};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VL(t,e,n,i,s,a,r){const o=e[0],l=a[0],c=new Array(l),u=new Array(o),d=e[1];if(l===0){if(o!==0)throw new Error(m5(o));const y=jt(n,0),g=jt(s,0);return[y,[0,d],g,c,u]}let f=!0,h=0;const p=new Array(l).fill(0);for(let y=0;y<o;++y){const g=t[y*d];if(g<0)throw new Error(g5(y,g));if(g>=l)throw new Error(y5(y,g,l));++p[g],f=f&&g>=h,h=g}let m=!0;for(let y=0;y<l;++y){const g=p[y]===0;c[y]=g,m=m&&!g,p[y]=Math.max(p[y],1),y>0&&(p[y]+=p[y-1])}if(m&&f){const y=t,g=i;for(let v=0;v<o;++v)u[v]=v;return[y,[o,d],g,c,u]}else{const y=p[l-1],g=jt(n,y*d),v=jt(s,y),b=new Array(l).fill(0);for(let w=0;w<o;++w){const k=t[w*d],x=b[k],N=(k===0?0:p[k-1])+x;b[k]++;for(let I=0;I<d;++I)g[N*d+I]=t[w*d+I];v[N]=i[w],u[w]=N}for(let w=0;w<l;++w)if(b[w]===0){const x=w===0?0:p[w-1];g[x*d+0]=w;for(let N=1;N<d;++N)g[x*d+N]=0;v[x]=r}return[g,[y,d],v,c,u]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WL(t,e,n,i,s){const a=te(i),r=e[0],o=s.length,l=[];let c=1,u=-1;for(let y=0;y<o;++y){const g=s[y];if(g===-1){if(u!==-1)throw new Error(v5(u,y));u=y,l.push(1)}else{if(g<0)throw new Error(b5(y,g));c*=g,l.push(g)}}if(u!==-1){if(c<=0)throw new Error(w5());const y=Math.trunc(a/c);if(c*y!==a)throw new Error(k5(i,l));l[u]=y}if(te(l)!==a)throw new Error(_5(i,l));const f=i.length,h=[];if(f>0){h[f-1]=1;for(let y=f-2;y>=0;--y)h[y]=h[y+1]*i[y+1]}const p=[];if(o>0){p[o-1]=1;for(let y=o-2;y>=0;--y)p[y]=p[y+1]*l[y+1]}const m=jt(n,r*o);for(let y=0;y<r;++y){let g=0;for(let v=0;v<f;++v)g+=t[y*f+v]*h[v];for(let v=0;v<o;++v)m[y*o+v]=Math.trunc(g/p[v]),g%=p[v]}return[m,[r,o],l]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CN(t,e,n,i,s,a=!1,r=0){const o=i.length,l=[e[0],t.length/e[0]],c=l[1],d=o>0?s[o-1]+1:0;if(d<0)throw new Error(P_());const f=e.slice();f[0]=d;const h=f.reduce((b,w)=>b*w,1),p=jt(n,h);if(o===0)return d>0&&p.fill(r),[p,f];if(d<=0)throw new Error(P_());let m=0,y=1,g=0,v=s[m];for(;;){let b=0;if(y<o){if(b=s[y],v===b){++y;continue}if(v>=b)throw new Error(x5())}if(v<0||v>=d)throw new Error(S5(v,d));v>g&&p.fill(r,g*c,v*c);for(let w=m;w<y;++w){const k=i[w];if(k<0||k>=l[0])throw new Error(C5(w,i[w],l[0]));for(let x=0;x<c;x++)p[v*c+x]+=t[k*c+x]}if(a)for(let w=0;w<c;w++)p[v*c+w]/=y-m;if(m=y,++y,g=v+1,v=b,y>o)break}return g<d&&p.fill(r,g*c,d*c),[p,f]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ace=Ro(t=>Math.sqrt(t)),Fce=at(ad,t=>Math.sqrt(t)),Rce={kernelName:ad,backendName:"cpu",kernelFunc:Fce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jL=Qt((t,e)=>{const n=t-e;return n*n}),Oce=gn(rd,jL),Pce={kernelName:rd,backendName:"cpu",kernelFunc:Oce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HL(t,e,n,i){const s=Me(t,e.dtype);for(let a=0;a<s.size;a++){const r=s.indexToLoc(a),o=new Array(r.length);for(let l=0;l<o.length;l++)o[l]=r[l]*n[l]+i[l];s.set(e.get(...o),...r)}return s}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Lce{constructor(e,n,i,s,a,r){this.separator=Ia(e),this.nGramWidths=n,this.leftPad=Ia(i),this.rightPad=Ia(s),this.padWidth=a,this.preserveShort=r}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const i=this.getPadWidth(n);return Math.max(0,e+2*i-n+1)}createNGrams(e,n,i,s,a,r){for(let o=0;o<a;++o){const l=this.getPadWidth(r),c=Math.max(0,l-o),u=Math.max(0,l-(a-(o+1))),d=r-(c+u),f=n+(c>0?0:o-l);let h=0;h+=c*this.leftPad.length;for(let v=0;v<d;++v)h+=e[f+v].length;h+=u*this.rightPad.length,h+=(c+u+d-1)*this.separator.length,i[s+o]=new Uint8Array(h);const m=i[s+o];let y=0;const g=v=>v.forEach(b=>m[y++]=b);for(let v=0;v<c;++v)g(this.leftPad),g(this.separator);for(let v=0;v<d-1;++v)g(e[f+v]),g(this.separator);if(d>0){g(e[f+d-1]);for(let v=0;v<u;++v)g(this.separator),g(this.rightPad)}else{for(let v=0;v<u-1;++v)g(this.rightPad),g(this.separator);g(this.rightPad)}}}compute(e,n){const i=e.length,s=n.length;if(s>0){let l=n[0];if(l!==0)throw new Error(`First split value must be 0, got ${l}`);for(let c=1;c<s;++c){let u=n[c]>=l;if(u=u&&n[c]<=i,!u)throw new Error(`Invalid split value ${n[c]}, must be in [${l}, ${i}]`);l=n[c]}if(l!==i)throw new Error(`Last split value must be data size. Expected ${i}, got ${l}`)}const a=s-1,r=jt("int32",s);if(i===0||s===0){const l=new Array(i);for(let c=0;c<=a;++c)r[c]=0;return[l,r]}r[0]=0;for(let l=1;l<=a;++l){const c=n[l]-n[l-1];let u=0;this.nGramWidths.forEach(d=>{u+=this.getNumNGrams(c,d)}),this.preserveShort&&c>0&&u===0&&(u=1),r[l]=r[l-1]+u}const o=new Array(r[a]);for(let l=0;l<a;++l){const c=n[l];let u=r[l];if(this.nGramWidths.forEach(d=>{const f=n[l+1]-n[l],h=this.getNumNGrams(f,d);this.createNGrams(e,c,o,u,h,d),u+=h}),this.preserveShort&&u===r[l]){const d=n[l+1]-n[l];if(d===0)continue;const f=d+2*this.padWidth,h=1;this.createNGrams(e,c,o,u,h,f)}}return[o,r]}}function GL(t,e,n,i,s,a,r,o){return new Lce(n,i,s,a,r,o).compute(t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mce(t,e,n,i){if(!t.length)return;if(e.length===0){for(let a=0;a<t.length;++a)i.push(t.subarray(a,a+1));return}if(e.length===1){const a=e[0];let r=t.indexOf(a);for(;r!==-1;){const o=t.subarray(0,r);(!n||o.length!==0)&&i.push(o),t=t.subarray(r+1),r=t.indexOf(a)}(!n||t.length!==0)&&i.push(t);return}let s=0;for(let a=0;a<t.length+1;a++)if(a===t.length||e.indexOf(t[a])!==-1){const r=t.subarray(s,a);(!n||r.length!==0)&&i.push(r),s=a+1}}function UL(t,e,n){const i=t.length,s=[];let a=0,r=0;const o=new Array(i);for(let f=0;f<i;++f){const h=s.length;Mce(t[f],e,n,s);const p=s.length-h;o[f]=p,a+=p,r=Math.max(r,p)}const l=jt("int32",a*2),c=new Array(a),u=[i,r];let d=0;for(let f=0;f<i;++f)for(let h=0;h<o[f];++h)l[d*2]=f,l[d*2+1]=h,c[d]=s[d],++d;return[l,c,u]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qL(t,e){const n=jt("int32",t.length);for(let i=0;i<t.length;++i)n[i]=mR(t[i]).modulo(e).getLowBitsUnsigned();return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KL=Qt((t,e)=>t-e),Bce=kN((t,e,n,i)=>({real:t-n,imag:e-i})),NN=gn(od,KL,Bce),zce={kernelName:od,backendName:"cpu",kernelFunc:NN};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XL(t,e){const n=new Array(t.rank);for(let s=0;s<n.length;s++)n[s]=t.shape[s]*e[s];const i=Me(n,t.dtype);for(let s=0;s<i.values.length;++s){const a=i.indexToLoc(s),r=new Array(t.rank);for(let l=0;l<r.length;l++)r[l]=a[l]%t.shape[l];const o=t.locToIndex(r);i.values[s]=t.values[o]}return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gf=(t,e)=>{const n=e.value-t.value;return n===0?t.index-e.index:n};function JL(t,e,n=0,i=t.length-1){for(;i>n;){if(i-n>600){const o=i-n+1,l=e-n+1,c=Math.log(o),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(o-u)/o)*Math.sign(l-o/2),f=Math.max(n,Math.floor(e-l*u/o+d)),h=Math.min(i,Math.floor(e+(o-l)*u/o+d));JL(t,e,f,h)}const s=t[e];let a=n,r=i;for(Ja(t,n,e),gf(t[i],s)>0&&Ja(t,n,i);a<r;){for(Ja(t,a,r),a++,r--;gf(t[a],s)<0;)a=a+1;for(;gf(t[r],s)>0;)r=r-1}gf(t[n],s)===0?Ja(t,n,r):(r=r+1,Ja(t,r,i)),r<=e&&(n=r+1),e<=r&&(i=r-1)}}function YL(t,e,n,i,s){const a=e[e.length-1],[r,o]=[t.length/a,a],l=on(n,r*i),c=on("int32",r*i);for(let d=0;d<r;d++){const f=d*o,h=t.subarray(f,f+o);let p=new Array(h.length);h.forEach((v,b)=>p[b]={value:v,index:b}),i<p.length&&(JL(p,i),p=p.slice(0,i)),s&&p.sort(gf);const m=d*i,y=l.subarray(m,m+i),g=c.subarray(m,m+i);for(let v=0;v<i;v++)y[v]=p[v].value,g[v]=p[v].index}const u=e.slice();return u[u.length-1]=i,[Me(u,n,l),Me(u,"int32",c)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QL(t,e,n,i){const s=ze(e,n)[0],a=[1,n[0],1];for(let p=0;p<s;p++)a[0]*=n[p];a[1]=n[s];for(let p=s+1;p<n.length;p++)a[2]*=n[p];const r={},o=new Int32Array(n[s]),l=new sn(a,i,t),c=[],u=a[0]===1&&a[2]===1;for(let p=0;p<n[s];p++){let m;if(u)m=t[p].toString();else{const y=[];for(let g=0;g<a[0];g++)for(let v=0;v<a[2];v++)y.push(l.get(g,p,v));m=y.join(",")}if(r[m]!==void 0)o[p]=r[m];else{const y=Object.keys(r).length;r[m]=y,o[p]=y,c.push(p)}}const d=a.slice();d[1]=Object.keys(r).length;const f=new sn(d,i);c.forEach((p,m)=>{for(let y=0;y<a[0];y++)for(let g=0;g<a[2];g++)f.set(l.get(y,p,g),y,m,g)});const h=n.slice();return h[s]=d[1],{outputValues:f.values,outputShape:h,indices:o}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Vce=Object.freeze(Object.defineProperty({__proto__:null,simpleAbsImpl:lL,addImpl:uL,bincountImpl:_N,bincountReduceImpl:dL,castImpl:cL,ceilImpl:fL,concatImpl:hL,equalImpl:pL,expImpl:gL,expm1Impl:vL,floorImpl:bL,gatherNdImpl:wL,gatherV2Impl:kL,greaterImpl:_L,greaterEqualImpl:xL,lessImpl:SL,lessEqualImpl:CL,linSpaceImpl:NL,logImpl:IL,maxImpl:TL,maximumImpl:$L,minimumImpl:EL,multiplyImpl:xN,negImpl:DL,notEqualImpl:AL,prodImpl:FL,raggedGatherImpl:RL,raggedRangeImpl:OL,raggedTensorToTensorImpl:PL,rangeImpl:LL,rsqrtImpl:ML,scatterImpl:kc,sigmoidImpl:$ce,sliceImpl:zL,sparseFillEmptyRowsImpl:VL,sparseReshapeImpl:WL,sparseSegmentReductionImpl:CN,sqrtImpl:Ace,squaredDifferenceImpl:jL,stridedSliceImpl:HL,stringNGramsImpl:GL,stringSplitImpl:UL,stringToHashBucketFastImpl:qL,subImpl:KL,tileImpl:XL,topKImpl:YL,transposeImpl:SN,uniqueImpl:QL},Symbol.toStringTag,{value:"Module"}));/** @license See the LICENSE file. */const Wce="4.1.0";/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */uS("cpu",()=>new kb,1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZL=at(Eu,t=>t>=0?t:Math.exp(t)-1),jce={kernelName:Eu,backendName:"cpu",kernelFunc:ZL};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eM(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{alpha:a}=i;xe([s],"leakyRelu");const r=te(s.shape),o=n.data.get(s.dataId).values,l=on("float32",r);for(let c=0;c<o.length;c++)l[c]=o[c]<0?a*o[c]:o[c];return n.makeTensorInfo(s.shape,"float32",l)}const Hce={kernelName:np,backendName:"cpu",kernelFunc:eM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gce=Qt((t,e)=>t<0?e*t:t);function tM(t){const{inputs:e,backend:n}=t,{x:i,alpha:s}=e;xe([i,s],"prelu");const a=n.data.get(i.dataId).values,r=n.data.get(s.dataId).values,[o,l]=Gce(i.shape,s.shape,a,r,"float32");return n.makeTensorInfo(l,"float32",o)}const Uce={kernelName:kp,backendName:"cpu",kernelFunc:tM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nM=at(Xu,t=>Math.max(0,t)),qce={kernelName:Xu,backendName:"cpu",kernelFunc:nM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iM=at(Ju,t=>Math.min(Math.max(0,t),6)),Kce={kernelName:Ju,backendName:"cpu",kernelFunc:iM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d0(t,e,n,i,s){if(n==="linear")return Oa({inputs:{x:e},backend:t});if(n==="relu")return nM({inputs:{x:e},backend:t});if(n==="elu")return ZL({inputs:{x:e},backend:t});if(n==="relu6")return iM({inputs:{x:e},backend:t});if(n==="prelu")return tM({inputs:{x:e,alpha:i},backend:t});if(n==="leakyrelu")return eM({inputs:{x:e},backend:t,attrs:{alpha:s}});if(n==="sigmoid")return BL({inputs:{x:e},backend:t});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ft(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{shape:a}=i,r=te(s.shape),o=G2(a,r),l=te(o);E(r===l,()=>`The new shape (${o}) has ${l} elements and the old shape (${s.shape}) has ${r} elements. The new shape and old shape must have the same number of elements.`),n.incRef(s.dataId);const c=n.data.get(s.dataId);if(c.complexTensorInfos!=null){const u=c.complexTensorInfos.real,d=c.complexTensorInfos.imag;u.shape=o,d.shape=o}return{dataId:s.dataId,shape:o,dtype:s.dtype}}const Xce={kernelName:xp,backendName:"cpu",kernelFunc:ft};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sM(t){const{inputs:e,backend:n,attrs:i}=t,{a:s,b:a}=e,{transposeA:r,transposeB:o}=i;xe([s,a],"matMul");const l=s.shape.length,c=a.shape.length,u=r?s.shape[l-2]:s.shape[l-1],d=o?a.shape[c-1]:a.shape[c-2],f=r?s.shape[l-1]:s.shape[l-2],h=o?a.shape[c-2]:a.shape[c-1],p=s.shape.slice(0,-2),m=a.shape.slice(0,-2),y=te(p),g=te(m),b=Pe(s.shape.slice(0,-2),a.shape.slice(0,-2)).concat([f,h]);E(u===d,()=>`Error in matMul: inner shapes (${u}) and (${d}) of Tensors with shapes ${s.shape} and ${a.shape} and transposeA=${r} and transposeB=${o} must match.`);const w=r?[y,u,f]:[y,f,u],k=o?[g,h,d]:[g,d,h],x=ft({inputs:{x:s},backend:n,attrs:{shape:w}}),N=ft({inputs:{x:a},backend:n,attrs:{shape:k}}),I=r?x.shape[1]:x.shape[2],D=r?x.shape[2]:x.shape[1],R=o?N.shape[1]:N.shape[2],L=Math.max(y,g),O=n.data.get(x.dataId).values,T=n.data.get(N.dataId).values,A=Ie(x.shape),S=Ie(N.shape),[$,K,M]=r?[A[0],1,A[1]]:[A[0],A[1],1],[U,Q,ee]=o?[1,S[1],S[0]]:[S[1],1,S[0]],ie=D*R,se=Me([L,D,R],x.dtype),ce=se.values,le=n.blockSize;for(let ue=0;ue<L;ue++)for(let pe=0;pe<D;pe+=le)for(let we=0;we<R;we+=le)for(let Se=0;Se<I;Se+=le){const $e=Math.min(pe+le,D),Ae=Math.min(we+le,R),me=Math.min(Se+le,I);for(let it=pe;it<$e;it++)for(let je=we;je<Ae;je++){let et=0;for(let ye=Se;ye<me;ye++){const Fe=Math.min(ue,y-1)*$,Y=Math.min(ue,g-1)*ee,Ee=O[Fe+it*K+ye*M],kt=T[ye*U+je*Q+Y];et+=Ee*kt}ce[ue*ie+(it*R+je)]+=et}}return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(N),n.makeTensorInfo(b,se.dtype,se.values)}const Jce={kernelName:Vh,backendName:"cpu",kernelFunc:sM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yce(t){const{inputs:e,backend:n,attrs:i}=t,{a:s,b:a,bias:r,preluActivationWeights:o}=e,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=i;let f,h,p;const m=[];f=sM({inputs:{a:s,b:a},attrs:{transposeA:l,transposeB:c},backend:n}),r&&(h=au({inputs:{a:f,b:r},backend:n}),m.push(f),f=h),u&&(p=d0(n,f,u,o,d),m.push(f),f=p);for(const g of m)n.disposeIntermediateTensorInfo(g);return f}const Qce={kernelName:rh,backendName:"cpu",kernelFunc:Yce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zce=at(yu,t=>Math.acos(t)),eue={kernelName:yu,backendName:"cpu",kernelFunc:Zce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tue=at(vu,t=>Math.acosh(t)),nue={kernelName:vu,backendName:"cpu",kernelFunc:tue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iue(t){const{inputs:e,backend:n}=t,i=e;xe(e,"addN");const s=i.map(o=>n.data.get(o.dataId).values),a=Me(i[0].shape,i[0].dtype),r=a.values;for(let o=0;o<i.length;o++){const l=s[o];for(let c=0;c<r.length;c++)r[c]+=l[c]}return n.makeTensorInfo(a.shape,a.dtype,a.values)}const sue={kernelName:Ph,backendName:"cpu",kernelFunc:iue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aue(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:a,keepDims:r}=i;xe(s,"all");const o=ze(a,s.shape);let l=o;const c=Rt(l,s.shape.length);let u=s;c!=null&&(u=fi({inputs:{x:s},backend:n,attrs:{perm:c}}),l=Gt(l.length,s.shape.length)),Nn("all",l,u.shape.length);const[d,f]=mn(u.shape,l),h=te(f),p=_n(te(d),u.dtype),m=n.data.get(u.dataId).values;for(let g=0;g<p.length;++g){const v=g*h;let b=m[v];for(let w=0;w<h;++w){const k=m[v+w];b=b&&k}p[g]=b}c!=null&&n.disposeIntermediateTensorInfo(u);const y=n.makeTensorInfo(d,u.dtype,p);if(r){const g=Ht(d,o),v=ft({inputs:{x:y},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(y),v}return y}const rue={kernelName:ey,backendName:"cpu",kernelFunc:aue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oue(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:a,keepDims:r}=i;xe(s,"any");const o=ze(a,s.shape);let l=o;const c=Rt(l,s.shape.length);let u=s;c!=null&&(u=fi({inputs:{x:s},backend:n,attrs:{perm:c}}),l=Gt(l.length,s.shape.length)),Nn("any",l,u.shape.length);const[d,f]=mn(u.shape,l),h=te(f),p=_n(te(d),u.dtype),m=n.data.get(u.dataId).values;for(let g=0;g<p.length;++g){const v=g*h;let b=m[v];for(let w=0;w<h;++w){const k=m[v+w];b=b||k}p[g]=b}c!=null&&n.disposeIntermediateTensorInfo(u);const y=n.makeTensorInfo(d,u.dtype,p);if(r){const g=Ht(d,o),v=ft({inputs:{x:y},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(y),v}return y}const lue={kernelName:ty,backendName:"cpu",kernelFunc:oue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cue(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:a}=i;xe(s,"argMax");let r=ze(a,s.shape);const o=Rt(r,s.shape.length);let l=s;const c=[];o!=null&&(l=fi({inputs:{x:s},backend:n,attrs:{perm:o}}),c.push(l),r=Gt(r.length,l.shape.length)),r=[r[0]],Nn("argMax",r,l.shape.length);const[u,d]=mn(l.shape,r),f=te(u),h=_n(f,"int32"),p=te(d),m=n.data.get(l.dataId).values;for(let y=0;y<h.length;++y){const g=y*p;let v=m[g],b=0;for(let w=0;w<p;++w){const k=m[g+w];k>v&&(v=k,b=w)}h[y]=b}return c.forEach(y=>n.disposeIntermediateTensorInfo(y)),n.makeTensorInfo(u,"int32",h)}const uue={kernelName:Lh,backendName:"cpu",kernelFunc:cue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function due(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:a}=i;xe(s,"argMin");let r=ze(a,s.shape);const o=Rt(r,s.shape.length);let l=s;const c=[];o!=null&&(l=fi({inputs:{x:s},backend:n,attrs:{perm:o}}),c.push(l),r=Gt(r.length,l.shape.length)),r=[r[0]],Nn("argMin",r,l.shape.length);const[u,d]=mn(l.shape,r),f=te(u),h=_n(f,"int32"),p=te(d),m=n.data.get(l.dataId).values;for(let y=0;y<h.length;++y){const g=y*p;let v=m[g],b=0;for(let w=0;w<p;++w){const k=m[g+w];k<v&&(v=k,b=w)}h[y]=b}return c.forEach(y=>n.disposeIntermediateTensorInfo(y)),n.makeTensorInfo(u,"int32",h)}const fue={kernelName:Mh,backendName:"cpu",kernelFunc:due};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hue=at(bu,t=>Math.asin(t)),pue={kernelName:bu,backendName:"cpu",kernelFunc:hue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mue=at(wu,t=>Math.asinh(t)),gue={kernelName:wu,backendName:"cpu",kernelFunc:mue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yue=at(ku,t=>Math.atan(t)),vue={kernelName:ku,backendName:"cpu",kernelFunc:yue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bue=Qt((t,e)=>Math.atan2(t,e)),wue=gn(xu,bue),kue={kernelName:xu,backendName:"cpu",kernelFunc:wue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _ue=at(_u,t=>Math.atanh(t)),xue={kernelName:_u,backendName:"cpu",kernelFunc:_ue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IN(t,e,n,i,s,a){const r=s.strideHeight,o=s.strideWidth,l=s.dilationHeight,c=s.dilationWidth,u=s.effectiveFilterHeight,d=s.effectiveFilterWidth,f=s.padInfo.top,h=s.padInfo.left,p=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=Me(s.outShape,n),y=m.values,g=s.outShape[1]*s.outShape[2]*s.outShape[3],v=s.outShape[2]*s.outShape[3],b=s.outShape[3];for(let w=0;w<s.batchSize;++w){const k=w*g,x=w*i[0];for(let N=0;N<s.inChannels;++N)for(let I=0;I<s.outHeight;++I){const D=I*r-f,R=Math.max(0,D),L=Math.min(s.inHeight,u+D),O=k+I*v;for(let T=0;T<s.outWidth;++T){const A=T*o-h,S=Math.max(0,A),$=Math.min(s.inWidth,d+A);let K=p,M=0,U=0;for(let ee=R;ee<L;ee+=l){const ie=x+ee*i[1];for(let se=S;se<$;se+=c){const ce=ie+se*i[2],le=t[ce+N];a==="max"&&le>K?K=le:a==="avg"&&(M+=le,U++)}if(isNaN(K))break}const Q=O+T*b+N;y[Q]=a==="avg"?M/U:K}}}return m}function aM(t,e,n,i,s=!1,a=!1){const r=Me(i.outShape,"int32"),o=i.strideHeight,l=i.strideWidth,c=i.dilationHeight,u=i.dilationWidth,d=i.effectiveFilterHeight,f=i.effectiveFilterWidth,h=i.padInfo.top,p=i.padInfo.left,m=Me(e,n,t);for(let y=0;y<i.batchSize;++y)for(let g=0;g<i.inChannels;++g)for(let v=0;v<i.outHeight;++v){const b=v*o-h;let w=b;for(;w<0;)w+=c;const k=Math.min(i.inHeight,d+b);for(let x=0;x<i.outWidth;++x){const N=x*l-p;let I=N;for(;I<0;)I+=u;const D=Math.min(i.inWidth,f+N);let R=Number.NEGATIVE_INFINITY,L=-1;for(let O=w;O<k;O+=c){const T=O-b;for(let A=I;A<D;A+=u){const S=A-N,$=m.get(y,O,A,g);$>R&&(R=$,s?L=a?((y*i.inHeight+O)*i.inWidth+A)*i.inChannels+g:(O*i.inWidth+A)*i.inChannels+g:L=T*f+S)}}r.set(L,y,v,x,g)}}return r}function rM(t,e,n,i,s,a){const r=s.strideDepth,o=s.strideHeight,l=s.strideWidth,c=s.dilationDepth,u=s.dilationHeight,d=s.dilationWidth,f=s.effectiveFilterDepth,h=s.effectiveFilterHeight,p=s.effectiveFilterWidth,m=s.padInfo.front,y=s.padInfo.top,g=s.padInfo.left,v=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=Me(s.outShape,n),w=b.values,k=s.outShape[1]*s.outShape[2]*s.outShape[3]*s.outShape[4],x=s.outShape[2]*s.outShape[3]*s.outShape[4],N=s.outShape[3]*s.outShape[4],I=s.outShape[4];for(let D=0;D<s.batchSize;++D){const R=D*k,L=D*i[0];for(let O=0;O<s.inChannels;++O)for(let T=0;T<s.outDepth;++T){const A=T*r-m;let S=A;for(;S<0;)S+=c;const $=Math.min(s.inDepth,f+A),K=R+T*x;for(let M=0;M<s.outHeight;++M){const U=M*o-y;let Q=U;for(;Q<0;)Q+=u;const ee=Math.min(s.inHeight,h+U),ie=K+M*N;for(let se=0;se<s.outWidth;++se){const ce=se*l-g;let le=ce;for(;le<0;)le+=d;const ue=Math.min(s.inWidth,p+ce),pe=ie+se*I;let we=v,Se=0,$e=0;for(let me=S;me<$;me+=c){const it=L+me*i[1];for(let je=Q;je<ee;je+=u){const et=it+je*i[2];for(let ye=le;ye<ue;ye+=d){const Fe=et+ye*i[3],Y=t[Fe+O];if(a==="max"&&Y>we?we=Y:a==="avg"&&(Se+=Y,$e++),isNaN(we))break}if(isNaN(we))break}if(isNaN(we))break}const Ae=pe+O;w[Ae]=a==="avg"?Se/$e:we}}}}return b}function Sue(t,e){const n=Me(e.outShape,"int32"),i=e.strideDepth,s=e.strideHeight,a=e.strideWidth,r=e.dilationDepth,o=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,u=e.effectiveFilterHeight,d=e.effectiveFilterWidth,f=e.padInfo.front,h=e.padInfo.top,p=e.padInfo.left;for(let m=0;m<e.batchSize;++m)for(let y=0;y<e.inChannels;++y)for(let g=0;g<e.outDepth;++g){const v=g*i-f;let b=v;for(;b<0;)b+=r;const w=Math.min(e.inDepth,c+v);for(let k=0;k<e.outHeight;++k){const x=k*s-h;let N=x;for(;N<0;)N+=o;const I=Math.min(e.inHeight,u+x);for(let D=0;D<e.outWidth;++D){const R=D*a-p;let L=R;for(;L<0;)L+=l;const O=Math.min(e.inWidth,d+R);let T=Number.NEGATIVE_INFINITY,A=-1;for(let S=b;S<w;S+=r){const $=S-v;for(let K=N;K<I;K+=o){const M=K-x;for(let U=L;U<O;U+=l){const Q=U-R,ee=t.get(m,S,K,U,y);ee>=T&&(T=ee,A=$*u*d+M*u+Q)}}}n.set(A,m,g,k,D,y)}}}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cue(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e;xe(s,"avgPool");const{filterSize:a,strides:r,pad:o,dimRoundingMode:l}=i,c=1;E(Cn(r,c),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${r} and dilations '${c}'`);const u=Ns(s.shape,a,r,c,o,l);let d;if(u.filterWidth===1&&u.filterHeight===1&&Ge(u.inShape,u.outShape))d=Oa({inputs:{x:s},backend:n});else{const f=n.data.get(s.dataId).values,h=Ie(s.shape),p=IN(f,s.shape,s.dtype,h,u,"avg");d=n.makeTensorInfo(u.outShape,s.dtype,p.values)}return d}const Nue={kernelName:Bh,backendName:"cpu",kernelFunc:Cue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Iue(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{filterSize:a,strides:r,pad:o,dimRoundingMode:l,dataFormat:c}=i;xe(s,"avgPool3d");const u=yr(s.shape,a,r,1,o,l,c),d=n.data.get(s.dataId).values,f=rM(d,s.shape,s.dtype,Ie(s.shape),u,"avg");return n.makeTensorInfo(f.shape,"float32",f.values)}const Tue={kernelName:zh,backendName:"cpu",kernelFunc:Iue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $ue(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,input:a}=e,{filterSize:r,strides:o,pad:l,dimRoundingMode:c}=i;xe([s,a],"avgPool3DGrad");const u=yr(a.shape,r,o,1,l,c),d=u.strideDepth,f=u.strideHeight,h=u.strideWidth,p=u.filterDepth,m=u.filterHeight,y=u.filterWidth,g=u.dilationDepth,v=u.dilationHeight,b=u.dilationWidth,w=u.effectiveFilterDepth,k=u.effectiveFilterHeight,x=u.effectiveFilterWidth,N=w-1-u.padInfo.front,I=x-1-u.padInfo.left,D=k-1-u.padInfo.top,R=Me(a.shape,"float32"),L=1/(p*m*y),O=n.bufferSync(s);for(let T=0;T<u.batchSize;++T)for(let A=0;A<u.inChannels;++A)for(let S=0;S<u.inDepth;++S)for(let $=0;$<u.inHeight;++$)for(let K=0;K<u.inWidth;++K){const M=S-N,U=$-D,Q=K-I;let ee=0;for(let ie=0;ie<w;ie+=g){const se=(M+ie)/d;if(!(se<0||se>=u.outDepth||Math.floor(se)!==se))for(let ce=0;ce<k;ce+=v){const le=(U+ce)/f;if(!(le<0||le>=u.outHeight||Math.floor(le)!==le))for(let ue=0;ue<x;ue+=b){const pe=(Q+ue)/h;if(pe<0||pe>=u.outWidth||Math.floor(pe)!==pe)continue;ee+=O.get(T,se,le,pe,A)}}}R.set(ee*L,T,S,$,K,A)}return n.makeTensorInfo(R.shape,R.dtype,R.values)}const Eue={kernelName:iy,backendName:"cpu",kernelFunc:$ue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Due(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,input:a}=e,r=a;xe([s,a],"avgPoolGrad");const{filterSize:o,strides:l,pad:c}=i,u=Ns(r.shape,o,l,1,c),d=u.strideHeight,f=u.strideWidth,h=u.filterHeight,p=u.filterWidth,m=u.dilationHeight,y=u.dilationWidth,g=u.effectiveFilterHeight,v=u.effectiveFilterWidth,b=v-1-u.padInfo.left,w=g-1-u.padInfo.top,k=Me(r.shape,"float32"),x=1/(h*p),N=n.data.get(s.dataId).values,I=Me(s.shape,"float32",N);for(let D=0;D<u.batchSize;++D)for(let R=0;R<u.inChannels;++R)for(let L=0;L<u.inHeight;++L)for(let O=0;O<u.inWidth;++O){const T=L-w,A=O-b;let S=0;for(let $=0;$<g;$+=m){const K=(T+$)/d;if(!(K<0||K>=u.outHeight||Math.floor(K)!==K))for(let M=0;M<v;M+=y){const U=(A+M)/f;if(U<0||U>=u.outWidth||Math.floor(U)!==U)continue;S+=I.get(D,K,U,R)}}k.set(S*x,D,L,O,R)}return n.makeTensorInfo(k.shape,k.dtype,k.values)}const Aue={kernelName:ny,backendName:"cpu",kernelFunc:Due};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fue(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,scale:a,offset:r,mean:o,variance:l}=e;E(o.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),E(r==null||o.shape.length===r.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),E(a==null||o.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),xe([s,o,l,a,r],"batchNorm");let{varianceEpsilon:c}=i;c==null&&(c=.001);const u=n.data.get(s.dataId).values,d=n.data.get(o.dataId).values,f=n.data.get(l.dataId).values,h=a?n.data.get(a.dataId).values:new Float32Array([1]),p=r?n.data.get(r.dataId).values:new Float32Array([0]),m=new Float32Array(u.length),y=p.length,g=h.length,v=f.length,b=d.length;let w=0,k=0,x=0,N=0;for(let I=0;I<u.length;++I)m[I]=p[w++]+(u[I]-d[k++])*h[x++]/Math.sqrt(f[N++]+c),w>=y&&(w=0),k>=b&&(k=0),x>=g&&(x=0),N>=v&&(N=0);return n.makeTensorInfo(s.shape,s.dtype,m)}const Rue={kernelName:Zh,backendName:"cpu",kernelFunc:Fue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oue(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{blockShape:a,crops:r}=i;xe([s],"batchToSpaceND");const o=a.reduce((g,v)=>g*v),l=nm(s.shape,a,o),c=im(l.length,a.length),u=sm(s.shape,a,o),d=C3(r,a.length),f=N3(u,r,a.length),h=ft({inputs:{x:s},backend:n,attrs:{shape:l}}),p=fi({inputs:{x:h},backend:n,attrs:{perm:c}}),m=ft({inputs:{x:p},backend:n,attrs:{shape:u}}),y=Ol({inputs:{x:m},backend:n,attrs:{begin:d,size:f}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),y}const Pue={kernelName:Wh,backendName:"cpu",kernelFunc:Oue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lue(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,weights:a}=e,{size:r}=i,o=n.data.get(s.dataId).values,l=n.data.get(a.dataId).values,c=_N(o,l,a.dtype,a.shape,r);return n.makeTensorInfo([r],a.dtype,c)}const Mue={kernelName:sy,backendName:"cpu",kernelFunc:Lue};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bue(t){const{inputs:e,backend:n}=t,{s0:i,s1:s}=e,a=n.data.get(i.dataId).values,r=n.data.get(s.dataId).values,o=Pe(Array.from(a),Array.from(r));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}const zue={kernelName:ay,backendName:"cpu",kernelFunc:Bue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vue=at(Nu,(t,e)=>{const n=e;return t>n.clipValueMax?n.clipValueMax:t<n.clipValueMin?n.clipValueMin:t}),Wue={kernelName:Nu,backendName:"cpu",kernelFunc:Vue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jue=t=>{const{x:e}=t.inputs,n=t.backend,i=new Float32Array(te(e.shape)),s=n.data.get(e.dataId),a=s.complexTensorInfos.real,r=s.complexTensorInfos.imag,o=n.data.get(a.dataId).values,l=n.data.get(r.dataId).values;for(let c=0;c<o.length;c++){const u=o[c],d=l[c];i[c]=Math.hypot(u,d)}return n.makeOutput(i,e.shape,"float32")},Hue={kernelName:jh,backendName:"cpu",kernelFunc:jue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ru(t){const{inputs:e,backend:n}=t,{input:i}=e,s=n.data.get(i.dataId).complexTensorInfos.imag,a=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,a)}const Gue={kernelName:Sy,backendName:"cpu",kernelFunc:ru};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ou(t){const{inputs:e,backend:n,attrs:i}=t,{axis:s}=i,a=ze(s,e[0].shape)[0],r=e.map(m=>m.shape);_3(r,a);let o=$a(e.map(m=>m.shape),a);if(te(o)===0)return n.makeTensorInfo(o,e[0].dtype,[]);const l=e.filter(m=>te(m.shape)>0);if(l.length===1)return Oa({inputs:{x:l[0]},backend:n});if(l[0].dtype==="complex64"){const m=l.map(w=>Rl({inputs:{input:w},backend:n})),y=l.map(w=>ru({inputs:{input:w},backend:n})),g=ou({inputs:m,backend:n,attrs:{axis:a}}),v=ou({inputs:y,backend:n,attrs:{axis:a}}),b=ki({inputs:{real:g,imag:v},backend:n});return m.forEach(w=>n.disposeIntermediateTensorInfo(w)),y.forEach(w=>n.disposeIntermediateTensorInfo(w)),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(v),b}const c=l.map(m=>{const y=te(m.shape.slice(a));return ft({inputs:{x:m},backend:n,attrs:{shape:[-1,y]}})}),u=c.map(m=>({vals:n.data.get(m.dataId).values,shape:m.shape}));o=$a(c.map(m=>m.shape),1);const d=c[0].shape[0]===1,f=hL(u,o,e[0].dtype,d),h=$a(l.map(m=>m.shape),a),p=n.makeTensorInfo(h,e[0].dtype,f);return c.forEach(m=>n.disposeIntermediateTensorInfo(m)),p}const Uue={kernelName:Hh,backendName:"cpu",kernelFunc:ou};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oM(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:a}=e,{strides:r,pad:o,dataFormat:l,dilations:c,dimRoundingMode:u}=i;xe([s,a],"conv2d");const d=vr(l),f=pn(s.shape,a.shape,r,c,o,u,!1,d),h=f.filterHeight,p=f.filterWidth,m=f.dilationHeight,y=f.dilationWidth,g=f.padInfo.left,v=f.padInfo.top,b=f.dataFormat==="channelsLast",w=new sn(f.outShape,s.dtype),k=Ie(s.shape),x=Ie(a.shape),N=k[0],I=b?k[1]:k[2],D=b?k[2]:1,R=b?1:k[1],L=w.strides[0],O=b?w.strides[1]:w.strides[2],T=b?w.strides[2]:1,A=b?1:w.strides[1],S=n.data.get(s.dataId).values,$=n.data.get(a.dataId).values,K=w.values;for(let M=0;M<f.batchSize;++M){const U=M*N,Q=M*L;for(let ee=0;ee<f.outHeight;++ee){const ie=Q+ee*O,se=ee*f.strideHeight-v;for(let ce=0;ce<h;++ce){const le=se+ce*m;if(le<0||le>=f.inHeight)continue;const ue=ce*x[0],pe=U+le*I;for(let we=0;we<f.outWidth;++we){const Se=ie+we*T,$e=we*f.strideWidth-g;for(let Ae=0;Ae<p;++Ae){const me=$e+Ae*y;if(me<0||me>=f.inWidth)continue;const it=ue+Ae*x[1],je=pe+me*D;let et=it;for(let ye=0;ye<f.inChannels;++ye){const Fe=S[je+ye*R];for(let Y=0;Y<f.outChannels;++Y)K[Se+Y*A]+=Fe*$[et+Y];et+=f.outChannels}}}}}}return n.makeTensorInfo(w.shape,w.dtype,K)}const que={kernelName:Gh,backendName:"cpu",kernelFunc:oM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kue(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,dy:a}=e,{strides:r,pad:o,dataFormat:l,dimRoundingMode:c,filterShape:u}=i;xe([s,a],"conv2dBackpropFilter");const d=vr(l),f=pn(s.shape,u,r,1,o,c,!1,d),{strideHeight:h,strideWidth:p,filterHeight:m,filterWidth:y}=f,g=f.dataFormat==="channelsLast",v=new sn(f.filterShape,"float32"),b=f.padInfo.left,w=f.padInfo.top,k=n.data.get(s.dataId).values,x=n.data.get(a.dataId).values,N=new sn(s.shape,s.dtype,k),I=new sn(a.shape,a.dtype,x);for(let D=0;D<m;++D){const R=Math.max(0,Math.ceil((w-D)/h)),L=Math.min(f.outHeight,(f.inHeight+w-D)/h);for(let O=0;O<y;++O){const T=Math.max(0,Math.ceil((b-O)/p)),A=Math.min(f.outWidth,(f.inWidth+b-O)/p);for(let S=0;S<f.inChannels;++S)for(let $=0;$<f.outChannels;++$){let K=0;for(let M=0;M<f.batchSize;++M)for(let U=R;U<L;++U){const Q=D+U*h-w;for(let ee=T;ee<A;++ee){const ie=O+ee*p-b;g?K+=N.get(M,Q,ie,S)*I.get(M,U,ee,$):K+=N.get(M,S,Q,ie)*I.get(M,$,U,ee)}}v.set(K,D,O,S,$)}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}const Xue={kernelName:oy,backendName:"cpu",kernelFunc:Kue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jue(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,filter:a}=e,{inputShape:r,strides:o,pad:l,dataFormat:c,dimRoundingMode:u}=i;xe([s,a],"conv2dBackpropInput");const d=Ie(a.shape),f=Ie(s.shape);let h=vr(c);const p=pn(r,a.shape,o,1,l,u,!1,h),m=new sn(p.inShape,"float32"),y=m.values,g=n.data.get(s.dataId).values,v=n.data.get(a.dataId).values,[b,w,k]=d,{batchSize:x,filterHeight:N,filterWidth:I,inChannels:D,inHeight:R,inWidth:L,outChannels:O,outHeight:T,outWidth:A,strideHeight:S,strideWidth:$}=p;h=p.dataFormat;const K=N-1-p.padInfo.top,M=I-1-p.padInfo.left,U=h==="channelsLast",Q=m.strides[0],ee=U?m.strides[1]:m.strides[2],ie=U?m.strides[2]:1,se=U?1:m.strides[1],ce=f[0],le=U?f[1]:f[2],ue=U?f[2]:1,pe=U?1:f[1];for(let we=0;we<x;++we)for(let Se=0;Se<D;++Se)for(let $e=0;$e<R;++$e){const Ae=$e-K,me=Math.max(0,Math.ceil(Ae/S)),it=Math.min(T,(N+Ae)/S);for(let je=0;je<L;++je){const et=je-M,ye=Math.max(0,Math.ceil(et/$)),Fe=Math.min(A,(I+et)/$);let Y=0;for(let kt=me;kt<it;++kt){const Bt=kt*S-Ae;for(let qt=ye;qt<Fe;++qt){const $s=qt*$-et,Pi=ce*we+le*kt+ue*qt,Es=b*(N-1-Bt)+w*(I-1-$s)+k*Se;for(let ts=0;ts<O;++ts){const oa=g[Pi+pe*ts],la=v[Es+ts];Y+=oa*la}}}const Ee=Q*we+ee*$e+ie*je+se*Se;y[Ee]=Y}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}const Yue={kernelName:Uh,backendName:"cpu",kernelFunc:Jue};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Que(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:a}=e,{strides:r,pad:o,dilations:l}=i;xe([s,a],"conv3d");const c=$o(s.shape,a.shape,r,l,o),{filterDepth:u,filterHeight:d,filterWidth:f,dilationDepth:h,dilationHeight:p,dilationWidth:m,padInfo:y}=c,g=y.front,v=y.left,b=y.top,w=new sn(c.outShape,s.dtype),k=n.data.get(s.dataId).values,x=n.data.get(a.dataId).values,N=w.values,I=Ie(s.shape),D=Ie(a.shape);for(let R=0;R<c.batchSize;++R){const L=R*I[0],O=R*w.strides[0];for(let T=0;T<c.outDepth;++T){const A=O+T*w.strides[1],S=T*c.strideDepth-g;for(let $=0;$<u;++$){const K=S+$*h;if(K<0||K>=c.inDepth)continue;const M=$*D[0],U=L+K*I[1];for(let Q=0;Q<c.outHeight;++Q){const ee=A+Q*w.strides[2],ie=Q*c.strideHeight-b;for(let se=0;se<d;++se){const ce=ie+se*p;if(ce<0||ce>=c.inHeight)continue;const le=M+se*D[1],ue=U+ce*I[2];for(let pe=0;pe<c.outWidth;++pe){const we=ee+pe*c.outChannels,Se=pe*c.strideWidth-v;for(let $e=0;$e<f;++$e){const Ae=Se+$e*m;if(Ae<0||Ae>=c.inWidth)continue;const me=le+$e*D[2],it=ue+Ae*c.inChannels;let je=me;for(let et=0;et<c.inChannels;++et){const ye=k[it+et];for(let Fe=0;Fe<c.outChannels;++Fe)N[we+Fe]+=ye*x[je+Fe];je+=c.outChannels}}}}}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}const Zue={kernelName:qh,backendName:"cpu",kernelFunc:Que};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ede(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,dy:a}=e,{strides:r,pad:o,filterShape:l}=i;xe([s,a],"conv3dBackpropFilterV2");const c=Ie(s.shape),u=Ie(a.shape),d=$o(s.shape,l,r,1,o),f=d.strideDepth,h=d.strideHeight,p=d.strideWidth,m=d.filterDepth,y=d.filterHeight,g=d.filterWidth,v=new sn(d.filterShape,"float32"),b=v.values,[w,k,x,N]=v.strides,I=n.data.get(a.dataId).values,[D,R,L,O]=u,T=n.data.get(s.dataId).values,[A,S,$,K]=c,M=d.padInfo.front,U=d.padInfo.left,Q=d.padInfo.top;for(let ee=0;ee<m;++ee){const ie=Math.max(0,Math.ceil((M-ee)/f)),se=Math.min(d.outDepth,(d.inDepth+M-ee)/f),ce=ee*w;for(let le=0;le<y;++le){const ue=Math.max(0,Math.ceil((Q-le)/h)),pe=Math.min(d.outHeight,(d.inHeight+Q-le)/h),we=le*k+ce;for(let Se=0;Se<g;++Se){const $e=Math.max(0,Math.ceil((U-Se)/p)),Ae=Math.min(d.outWidth,(d.inWidth+U-Se)/p),me=Se*x+we;for(let it=0;it<d.inChannels;++it){const je=it*N+me;for(let et=0;et<d.outChannels;++et){let ye=0;for(let Fe=0;Fe<d.batchSize;++Fe){const Y=Fe*A,Ee=Fe*D;for(let kt=ie;kt<se;++kt){const qt=(ee+kt*f-M)*S+Y,$s=kt*R+Ee;for(let Pi=ue;Pi<pe;++Pi){const ts=(le+Pi*h-Q)*$+qt,oa=Pi*L+$s;for(let la=$e;la<Ae;++la){const Ld=(Se+la*p-U)*K+ts,V=la*O+oa;ye+=T[Ld+it]*I[V+et]}}}}b[je+et]=ye}}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}const tde={kernelName:ly,backendName:"cpu",kernelFunc:ede};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nde(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,filter:a}=e,{pad:r,strides:o,inputShape:l}=i;xe([s],"conv3dBackpropInputV2");const c=Ie(s.shape),u=Ie(a.shape),d=$o(l,a.shape,o,1,r),f=new sn(d.inShape,"float32"),h=f.values,[p,m,y,g]=f.strides,v=n.data.get(s.dataId).values,[b,w,k,x]=c,N=n.data.get(a.dataId).values,[I,D,R,L]=u,{batchSize:O,filterDepth:T,filterHeight:A,filterWidth:S,inChannels:$,inDepth:K,inHeight:M,inWidth:U,outChannels:Q,outDepth:ee,outHeight:ie,outWidth:se,strideDepth:ce,strideHeight:le,strideWidth:ue}=d,pe=T-1-d.padInfo.front,we=A-1-d.padInfo.top,Se=S-1-d.padInfo.left;for(let $e=0;$e<O;++$e)for(let Ae=0;Ae<$;++Ae)for(let me=0;me<K;++me){const it=me-pe,je=Math.max(0,Math.ceil(it/ce)),et=Math.min(ee,(T+it)/ce);for(let ye=0;ye<M;++ye){const Fe=ye-we,Y=Math.max(0,Math.ceil(Fe/le)),Ee=Math.min(ie,(A+Fe)/le);for(let kt=0;kt<U;++kt){const Bt=kt-Se,qt=Math.max(0,Math.ceil(Bt/ue)),$s=Math.min(se,(S+Bt)/ue);let Pi=0;for(let Es=je;Es<et;++Es){const ts=Es*ce-it;for(let oa=Y;oa<Ee;++oa){const la=oa*le-Fe;for(let Po=qt;Po<$s;++Po){const Ld=Po*ue-Bt,V=b*$e+w*Es+k*oa+x*Po,q=I*(T-1-ts)+D*(A-1-la)+R*(S-1-Ld)+L*Ae;for(let G=0;G<Q;++G){const It=v[V+G],Sr=N[q+G];Pi+=It*Sr}}}}h[p*$e+m*me+y*ye+g*kt+Ae]=Pi}}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}const ide={kernelName:cy,backendName:"cpu",kernelFunc:nde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sde=at(Iu,t=>Math.cos(t)),ade={kernelName:Iu,backendName:"cpu",kernelFunc:sde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rde=at(Tu,t=>Math.cosh(t)),ode={kernelName:Tu,backendName:"cpu",kernelFunc:rde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lde(t){const{inputs:e,backend:n,attrs:i}=t,{image:s,boxes:a,boxInd:r}=e,{cropSize:o,method:l,extrapolationValue:c}=i,[u,d,f,h]=s.shape,p=a.shape[0],[m,y]=o,g=Me([p,m,y,h],"float32"),v=n.data.get(a.dataId).values,b=n.data.get(r.dataId).values,w=n.data.get(s.dataId).values,k=Ie(s.shape),x=Ie(g.shape);for(let N=0;N<p;N++){const I=N*4,D=v[I],R=v[I+1],L=v[I+2],O=v[I+3],T=b[N];if(T>=u)continue;const A=m>1?(L-D)*(d-1)/(m-1):0,S=y>1?(O-R)*(f-1)/(y-1):0;for(let $=0;$<m;$++){const K=m>1?D*(d-1)+$*A:.5*(D+L)*(d-1);if(K<0||K>d-1){for(let M=0;M<y;M++)for(let U=0;U<h;U++){const Q=U+M*x[2]+$*x[1]+N*x[0];g.values[Q]=c}continue}if(l==="bilinear"){const M=Math.floor(K),U=Math.ceil(K),Q=K-M;for(let ee=0;ee<y;ee++){const ie=y>1?R*(f-1)+ee*S:.5*(R+O)*(f-1);if(ie<0||ie>f-1){for(let ue=0;ue<h;ue++){const pe=ue+ee*x[2]+$*x[1]+N*x[0];g.values[pe]=c}continue}const se=Math.floor(ie),ce=Math.ceil(ie),le=ie-se;for(let ue=0;ue<h;ue++){let pe=ue+se*k[2]+M*k[1]+T*k[0];const we=w[pe];pe=ue+ce*k[2]+M*k[1]+T*k[0];const Se=w[pe];pe=ue+se*k[2]+U*k[1]+T*k[0];const $e=w[pe];pe=ue+ce*k[2]+U*k[1]+T*k[0];const Ae=w[pe],me=we+(Se-we)*le,it=$e+(Ae-$e)*le;pe=ue+ee*x[2]+$*x[1]+N*x[0],g.values[pe]=me+(it-me)*Q}}}else for(let M=0;M<y;++M){const U=y>1?R*(f-1)+M*S:.5*(R+O)*(f-1);if(U<0||U>f-1){for(let ie=0;ie<h;ie++){const se=ie+M*x[2]+$*x[1]+N*x[0];g.values[se]=c}continue}const Q=Math.round(U),ee=Math.round(K);for(let ie=0;ie<h;ie++){const se=ie+Q*k[2]+ee*k[1]+T*k[0],ce=ie+M*x[2]+$*x[1]+N*x[0];g.values[ce]=w[se]}}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}const cde={kernelName:dy,backendName:"cpu",kernelFunc:lde};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ude(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:a,exclusive:r,reverse:o}=i;xe(s,"cumprod");const l=Rt([a],s.shape.length);let c=s;l!=null&&(c=fi({inputs:{x:s},backend:n,attrs:{perm:l}}));const u=Gt(1,s.shape.length)[0];if(u!==c.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${u}`);const d=li(c.dtype,"int32"),f=Z0(te(c.shape),d),h=n.data.get(c.dataId).values,p=c.shape[c.shape.length-1],m=o?(g,v)=>g+p-v-1:(g,v)=>g+v;for(let g=0;g<h.length;g+=p)for(let v=0;v<p;v++){const b=m(g,v);if(v===0)f[b]=r?1:h[b];else{const w=m(g,v-1);f[b]=r?h[w]*f[w]:h[b]*f[w]}}const y=n.makeTensorInfo(c.shape,d,f);if(l!=null){const g=Do(l),v=fi({inputs:{x:y},backend:n,attrs:{perm:g}});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(c),v}return y}const dde={kernelName:uy,backendName:"cpu",kernelFunc:ude};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fde(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:a,exclusive:r,reverse:o}=i;xe(s,"cumsum");const l=Rt([a],s.shape.length);let c=s;l!=null&&(c=fi({inputs:{x:s},backend:n,attrs:{perm:l}}));const u=Gt(1,s.shape.length)[0];if(u!==c.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${u}`);const d=li(c.dtype,"int32"),f=_n(te(c.shape),d),h=n.data.get(c.dataId).values,p=c.shape[c.shape.length-1],m=o?(g,v)=>g+p-v-1:(g,v)=>g+v;for(let g=0;g<h.length;g+=p)for(let v=0;v<p;v++){const b=m(g,v);if(v===0)f[b]=r?0:h[b];else{const w=m(g,v-1);f[b]=r?h[w]+f[w]:h[b]+f[w]}}const y=n.makeTensorInfo(c.shape,d,f);if(l!=null){const g=Do(l),v=fi({inputs:{x:y},backend:n,attrs:{perm:g}});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(c),v}return y}const hde={kernelName:Kh,backendName:"cpu",kernelFunc:fde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pde(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,weights:a}=e,{size:r,binaryOutput:o}=i;if(s.shape.length===1){const l=n.data.get(s.dataId).values,c=n.data.get(a.dataId).values,u=_N(l,c,a.dtype,a.shape,r);return n.makeTensorInfo([r],a.dtype,u)}else if(s.shape.length===2){const l=n.bufferSync(s),c=n.bufferSync(a),u=dL(l,c,r,o);return n.makeTensorInfo(u.shape,a.dtype,u.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}const mde={kernelName:fy,backendName:"cpu",kernelFunc:pde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gde(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{blockSize:a,dataFormat:r}=i;E(r==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${r}`);const o=s.shape[0],l=s.shape[1],c=s.shape[2],u=s.shape[3],d=l*a,f=c*a,h=u/(a*a),p=n.data.get(s.dataId).values,m=new Float32Array(o*d*f*h);let y=0;for(let g=0;g<o;++g)for(let v=0;v<d;++v){const b=Math.floor(v/a),w=v%a;for(let k=0;k<f;++k){const x=Math.floor(k/a),N=k%a,I=(w*a+N)*h;for(let D=0;D<h;++D){const L=D+I+u*(x+c*(b+l*g));m[y++]=p[L]}}}return n.makeTensorInfo([o,d,f,h],s.dtype,m)}const yde={kernelName:hy,backendName:"cpu",kernelFunc:gde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lM(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:a}=e,{strides:r,pad:o,dilations:l,dimRoundingMode:c}=i;xe([s,a],"depthwiseConv2DNative");const u=Ie(s.shape),d=Ie(a.shape);let f=l;f==null&&(f=[1,1]),E(Cn(r,f),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${r} and dilations '${f}'`);const h=pn(s.shape,a.shape,r,f,o,c,!0),{filterHeight:p,filterWidth:m,dilationHeight:y,dilationWidth:g,padInfo:v}=h,b=v.left,w=v.top,k=h.outChannels/h.inChannels,x=new sn(h.outShape,s.dtype),N=n.data.get(s.dataId).values,I=n.data.get(a.dataId).values,D=x.values;for(let R=0;R<h.batchSize;++R){const L=R*u[0],O=R*x.strides[0];for(let T=0;T<h.outHeight;++T){const A=O+T*x.strides[1],S=T*h.strideHeight-w;for(let $=0;$<p;++$){const K=S+$*y;if(K<0||K>=h.inHeight)continue;const M=$*d[0],U=L+K*u[1];for(let Q=0;Q<h.outWidth;++Q){const ee=A+Q*x.strides[2],ie=Q*h.strideWidth-b;for(let se=0;se<m;++se){const ce=ie+se*g;if(ce<0||ce>=h.inWidth)continue;const le=M+se*d[1],ue=U+ce*h.inChannels;let pe=ee,we=le;for(let Se=0;Se<h.inChannels;++Se){const $e=N[ue+Se];for(let Ae=0;Ae<k;++Ae)D[pe+Ae]+=$e*I[we+Ae];pe+=k,we+=k}}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const vde={kernelName:Xh,backendName:"cpu",kernelFunc:lM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bde(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,dy:a}=e,{strides:r,dilations:o,pad:l,dimRoundingMode:c,filterShape:u}=i;xe([s,a],"depthwiseConv2dNativeBackpropFilter");const d=pn(s.shape,u,r,o,l,c,!0),{strideHeight:f,strideWidth:h,filterHeight:p,filterWidth:m}=d,y=new sn(d.filterShape,"float32"),g=d.padInfo.left,v=d.padInfo.top,b=d.outChannels/d.inChannels,w=n.data.get(s.dataId).values,k=new sn(s.shape,s.dtype,w),x=n.data.get(a.dataId).values,N=new sn(a.shape,a.dtype,x);for(let I=0;I<p;++I){const D=Math.max(0,Math.ceil((v-I)/f)),R=Math.min(d.outHeight,(d.inHeight+v-I)/f);for(let L=0;L<m;++L){const O=Math.max(0,Math.ceil((g-L)/h)),T=Math.min(d.outWidth,(d.inWidth+g-L)/h);for(let A=0;A<d.outChannels;++A){const S=Math.trunc(A/b),$=A%b;let K=0;for(let M=0;M<d.batchSize;++M)for(let U=D;U<R;++U){const Q=I+U*f-v;for(let ee=O;ee<T;++ee){const ie=L+ee*h-g;K+=k.get(M,Q,ie,S)*N.get(M,U,ee,A)}}y.set(K,I,L,S,$)}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const wde={kernelName:py,backendName:"cpu",kernelFunc:bde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kde(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,filter:a}=e,{strides:r,dilations:o,pad:l,dimRoundingMode:c,inputShape:u}=i;xe([s,a],"depthwiseConv2DNativeBackpropInput");const d=Ie(s.shape),f=Ie(a.shape),h=pn(u,a.shape,r,o,l,c,!0),p=new sn(h.inShape,"float32"),m=p.values,[y,g,v]=p.strides,b=n.data.get(s.dataId).values,[w,k,x]=d,N=n.data.get(a.dataId).values,[I,D,R]=f,{batchSize:L,filterHeight:O,filterWidth:T,inChannels:A,inHeight:S,inWidth:$,outChannels:K,outHeight:M,outWidth:U,strideHeight:Q,strideWidth:ee}=h,ie=O-1-h.padInfo.top,se=T-1-h.padInfo.left,ce=K/A;for(let le=0;le<L;++le)for(let ue=0;ue<A;++ue)for(let pe=0;pe<S;++pe){const we=pe-ie,Se=Math.max(0,Math.ceil(we/Q)),$e=Math.min(M,(O+we)/Q);for(let Ae=0;Ae<$;++Ae){const me=Ae-se,it=Math.max(0,Math.ceil(me/ee)),je=Math.min(U,(T+me)/ee);let et=0;for(let ye=Se;ye<$e;++ye){const Fe=ye*Q-we;for(let Y=it;Y<je;++Y){const Ee=Y*ee-me,kt=w*le+k*ye+x*Y,Bt=I*(O-1-Fe)+D*(T-1-Ee)+R*ue;for(let qt=0;qt<ce;++qt){const $s=ue*ce+qt,Pi=b[kt+$s],Es=N[Bt+qt];et+=Pi*Es}}}m[y*le+g*pe+v*Ae+ue]=et}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}const _de={kernelName:my,backendName:"cpu",kernelFunc:kde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xde(t){const{inputs:e,backend:n}=t,{x:i}=e,s=te(i.shape),a=n.data.get(i.dataId).values,r=Me([s,s],i.dtype),o=r.values;for(let c=0;c<a.length;c++)o[c*s+c]=a[c];const l=[...i.shape,...i.shape];return n.makeTensorInfo(l,r.dtype,r.values)}const Sde={kernelName:gy,backendName:"cpu",kernelFunc:xde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cde={kernelName:Jh,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:i,filter:s}=t,{strides:a,pad:r,dilations:o}=n,l=e,c=l.data.get(i.dataId).values,u=i.shape.length,d=l.data.get(s.dataId).values,f=s.shape.length,{batchSize:h,inHeight:p,inWidth:m,inChannels:y,outHeight:g,outWidth:v,padInfo:b,strideHeight:w,strideWidth:k,filterHeight:x,filterWidth:N,dilationHeight:I,dilationWidth:D,outShape:R}=Bp(i.shape,s.shape,a,r,"NHWC",o),L=te(R),O=R.length,T=jt(i.dtype,L);for(let S=0;S<h;++S)for(let $=0;$<g;++$){const K=$*w-b.top;for(let M=0;M<v;++M){const U=M*k-b.left;for(let Q=0;Q<y;++Q){let ee=Number.MIN_SAFE_INTEGER;for(let se=0;se<x;++se){const ce=K+se*I;if(ce>=0&&ce<p)for(let le=0;le<N;++le){const ue=U+le*D;if(ue>=0&&ue<m){const pe=Ks([S,ce,ue,Q],u,Ie(i.shape)),we=Ks([se,le,Q],f,Ie(s.shape)),Se=c[pe]+d[we];Se>ee&&(ee=Se)}}}const ie=Ks([S,$,M,Q],O,Ie(R));T[ie]=ee}}}return{dataId:l.write(Io(T,i.dtype),R,i.dtype),shape:R,dtype:i.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nde={kernelName:z1,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:i,filter:s,dy:a}=t,{strides:r,pad:o,dilations:l}=n,c=e,u=Gi(i.shape,c.data.get(i.dataId).values),d=Gi(s.shape,c.data.get(s.dataId).values),{batchSize:f,inHeight:h,inWidth:p,inChannels:m,outHeight:y,outWidth:g,padInfo:v,strideHeight:b,strideWidth:w,filterHeight:k,filterWidth:x,dilationHeight:N,dilationWidth:I,outShape:D}=Bp(i.shape,s.shape,r,o,"NHWC",l);E(a.rank===D.length,()=>`Error in ${z1}, dy must have the same rank as output ${D.length}, but got ${a.rank}`);const R=Gi(D,c.data.get(a.dataId).values),L=q2(s.shape,s.dtype);for(let T=0;T<f;++T)for(let A=0;A<y;++A){const S=A*b-v.top;for(let $=0;$<g;++$){const K=$*w-v.left;for(let M=0;M<m;++M){let U=Number.MIN_SAFE_INTEGER,Q=0,ee=0;for(let ie=0;ie<k;++ie){const se=S+ie*N;if(se>=0&&se<h)for(let ce=0;ce<x;++ce){const le=K+ce*I;if(le>=0&&le<p){const ue=u[T][se][le][M]+d[ie][ce][M];ue>U&&(U=ue,Q=ie,ee=ce)}}}L[Q][ee][M]+=R[T][A][$][M]}}}return{dataId:c.write(Io(L,i.dtype),s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ide={kernelName:B1,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:i,filter:s,dy:a}=t,{strides:r,pad:o,dilations:l}=n,c=e,u=Gi(i.shape,c.data.get(i.dataId).values),d=Gi(s.shape,c.data.get(s.dataId).values),{batchSize:f,inHeight:h,inWidth:p,inChannels:m,outHeight:y,outWidth:g,padInfo:v,strideHeight:b,strideWidth:w,filterHeight:k,filterWidth:x,dilationHeight:N,dilationWidth:I,outShape:D}=Bp(i.shape,s.shape,r,o,"NHWC",l);E(a.rank===D.length,()=>`Error in ${B1}, dy must have the same rank as output ${D.length}, but got ${a.rank}`);const R=Gi(D,c.data.get(a.dataId).values),L=q2(i.shape,i.dtype);for(let T=0;T<f;++T)for(let A=0;A<y;++A){const S=A*b-v.top;for(let $=0;$<g;++$){const K=$*w-v.left;for(let M=0;M<m;++M){let U=Number.MIN_SAFE_INTEGER,Q=S<0?0:S,ee=K<0?0:K;for(let ie=0;ie<k;++ie){const se=S+ie*N;if(se>=0&&se<h)for(let ce=0;ce<x;++ce){const le=K+ce*I;if(le>=0&&le<p){const ue=u[T][se][le][M]+d[ie][ce][M];ue>U&&(U=ue,Q=se,ee=le)}}}L[T][Q][ee][M]+=R[T][A][$][M]}}}return{dataId:c.write(Io(L,i.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pm(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:a,keepDims:r}=i;xe(s,"sum");let o;s.dtype==="bool"?o=ko({inputs:{x:s},backend:n,attrs:{dtype:"int32"}}):o=Oa({inputs:{x:s},backend:n});const l=o.shape.length,c=ze(a,o.shape),u=Rt(c,l);let d=c,f=o;u!=null&&(f=fi({inputs:{x:o},backend:n,attrs:{perm:u}}),d=Gt(d.length,l)),Nn("sum",d,f.shape.length);const[h,p]=mn(f.shape,d),m=li(f.dtype,"int32");let y=c0(n,h,m);const g=te(p),v=n.data.get(y.dataId).values,b=n.data.get(f.dataId).values;for(let w=0;w<v.length;++w){const k=w*g;let x=0;for(let N=0;N<g;++N)x+=b[k+N];v[w]=x}if(r){const w=Ht(y.shape,c),k=y;y=ft({inputs:{x:y},backend:n,attrs:{shape:w}}),n.disposeIntermediateTensorInfo(k)}return n.disposeIntermediateTensorInfo(o),u!=null&&n.disposeIntermediateTensorInfo(f),y}const Tde={kernelName:$p,backendName:"cpu",kernelFunc:pm};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $de(t){const{inputs:e,backend:n,attrs:i}=t,{equation:s}=i,a=e,{allDims:r,summedDims:o,idDims:l}=R3(s,a.length);P3(r.length,l,a);const{path:c,steps:u}=L3(o,l),d=u.length;let f=null,h=r.length;const p=[];for(let m=0;m<d;++m){for(const y of u[m]){const{permutationIndices:g,expandDims:v}=O3(h,l[y]);let b;M3(g)?b=a[y]:(b=fi({inputs:{x:a[y]},backend:n,attrs:{perm:g}}),p.push(b));const w=b.shape.slice();for(let k=0;k<v.length;++k)w.splice(v[k],0,1);Ge(b.shape,w)||(b=ft({inputs:{x:b},backend:n,attrs:{shape:w}}),p.push(b)),f===null?f=b:(f=_b({inputs:{a:b,b:f},backend:n}),p.push(f))}m<d-1&&(c[m]>=0&&(f=pm({inputs:{x:f},backend:n,attrs:{axis:c[m]-(r.length-h),keepDims:!1}}),p.push(f)),h--)}for(const m of p)m!==f&&n.disposeIntermediateTensorInfo(m);return f}const Ede={kernelName:yy,backendName:"cpu",kernelFunc:$de};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dde(t){const{inputs:e,backend:n}=t,{dy:i,y:s}=e;xe([i,s],"eluGrad");const a=new Float32Array(te(s.shape)),r=n.data.get(s.dataId).values,o=n.data.get(i.dataId).values;for(let l=0;l<r.length;++l){const c=r[l];c>=1?a[l]=o[l]:a[l]=o[l]*(c+1)}return n.makeTensorInfo(s.shape,"float32",a)}const Ade={kernelName:vy,backendName:"cpu",kernelFunc:Dde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fde=I3,Rde=T3,Ode=$3,Pde=E3,Lde=D3,Mde=A3,Bde=at(Du,t=>{const e=Math.sign(t),n=Math.abs(t),i=1/(1+Fde*n);return e*(1-((((Mde*i+Lde)*i+Pde)*i+Ode)*i+Rde)*i*Math.exp(-n*n))}),zde={kernelName:Du,backendName:"cpu",kernelFunc:Bde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f0(t){const{inputs:e,backend:n,attrs:i}=t,{input:s}=e,{dim:a}=i,r=s.shape.length,o=s.shape.slice();let l=a;return a<0&&(E(-(r+1)<=a,()=>`Axis must be in the interval [${-(r+1)}, ${r}]`),l=r+a+1),o.splice(l,0,1),ft({inputs:{x:s},backend:n,attrs:{shape:o}})}const Vde={kernelName:Qh,backendName:"cpu",kernelFunc:f0};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wde=Qt((t,e)=>t/e),TN=gn($u,Wde),sx={kernelName:$u,backendName:"cpu",kernelFunc:TN};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cM(t,e,n){const i=t.shape,s=i[0],a=i[1],r=n.data.get(t.dataId),o=r.complexTensorInfos.real,l=r.complexTensorInfos.imag,c=[s,a],u=te(c),d=on("float32",u),f=on("float32",u);for(let y=0;y<s;y++){const g=Ol({inputs:{x:o},backend:n,attrs:{begin:[y,0],size:[1,a]}}),v=Ol({inputs:{x:l},backend:n,attrs:{begin:[y,0],size:[1,a]}}),b=ki({inputs:{real:g,imag:v},backend:n}),{real:w,imag:k}=jde(b,e,n),x=hr(w,k);for(let N=0;N<a;N++){const I=F3(x,N);d[y*a+N]=I.real,f[y*a+N]=I.imag}n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b)}const h=n.makeTensorInfo(c,"float32",d),p=n.makeTensorInfo(c,"float32",f),m=ki({inputs:{real:h,imag:p},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),m}function jde(t,e,n){const i=te(t.shape),s=n.data.get(t.dataId),a=n.data.get(s.complexTensorInfos.real.dataId).values,r=n.data.get(s.complexTensorInfos.imag.dataId).values;if(Hde(i)){const o=ax(a,r,i,e,n),l=[t.shape[0],t.shape[1]];if(e){const c=n.makeTensorInfo(l,"float32",o.real),u=n.makeTensorInfo(l,"float32",o.imag),d=n.makeTensorInfo([],"float32",gr(i,"float32")),f=Oa({inputs:{x:d},backend:n}),h=sx.kernelFunc({inputs:{a:c,b:d},backend:n}),p=sx.kernelFunc({inputs:{a:u,b:f},backend:n}),m=n.data.get(h.dataId).values,y=n.data.get(p.dataId).values;return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),{real:m,imag:y}}return o}else{const o=hr(a,r),l=Gde(o,i,e);return c5(l)}}function Hde(t){return(t&t-1)===0}function ax(t,e,n,i,s){if(n===1)return{real:t,imag:e};const a=hr(t,e),r=n/2,o=u5(a),l=o.real,c=o.imag,u=[l.length],d=s.makeTensorInfo(u,"float32",l),f=s.makeTensorInfo(u,"float32",c),h=ki({inputs:{real:d,imag:f},backend:s}),p=d5(a),m=p.real,y=p.imag,g=[m.length],v=s.makeTensorInfo(g,"float32",m),b=s.makeTensorInfo(g,"float32",y),w=ki({inputs:{real:v,imag:b},backend:s}),k=ax(l,c,r,i,s),x=k.real,N=k.imag,I=[x.length],D=s.makeTensorInfo(I,"float32",x),R=s.makeTensorInfo(I,"float32",N),L=ki({inputs:{real:D,imag:R},backend:s}),O=ax(m,y,r,i,s),T=O.real,A=O.imag,S=[T.length],$=s.makeTensorInfo(S,"float32",T),K=s.makeTensorInfo(S,"float32",A),M=ki({inputs:{real:$,imag:K},backend:s}),U=h5(n,i),Q=[U.real.length],ee=s.makeTensorInfo(Q,"float32",U.real),ie=s.makeTensorInfo(Q,"float32",U.imag),se=ki({inputs:{real:ee,imag:ie},backend:s}),ce=_b({inputs:{a:se,b:M},backend:s}),le=au({inputs:{a:L,b:ce},backend:s}),ue=NN({inputs:{a:L,b:ce},backend:s}),pe=Rl({inputs:{input:le},backend:s}),we=Rl({inputs:{input:ue},backend:s}),Se=ru({inputs:{input:le},backend:s}),$e=ru({inputs:{input:ue},backend:s}),Ae=ou({inputs:[pe,we],backend:s,attrs:{axis:0}}),me=ou({inputs:[Se,$e],backend:s,attrs:{axis:0}}),it=s.data.get(Ae.dataId).values,je=s.data.get(me.dataId).values;return s.disposeIntermediateTensorInfo(d),s.disposeIntermediateTensorInfo(f),s.disposeIntermediateTensorInfo(h),s.disposeIntermediateTensorInfo(v),s.disposeIntermediateTensorInfo(b),s.disposeIntermediateTensorInfo(w),s.disposeIntermediateTensorInfo(D),s.disposeIntermediateTensorInfo(R),s.disposeIntermediateTensorInfo(L),s.disposeIntermediateTensorInfo($),s.disposeIntermediateTensorInfo(K),s.disposeIntermediateTensorInfo(M),s.disposeIntermediateTensorInfo(ee),s.disposeIntermediateTensorInfo(ie),s.disposeIntermediateTensorInfo(se),s.disposeIntermediateTensorInfo(ce),s.disposeIntermediateTensorInfo(le),s.disposeIntermediateTensorInfo(ue),s.disposeIntermediateTensorInfo(pe),s.disposeIntermediateTensorInfo(Se),s.disposeIntermediateTensorInfo(we),s.disposeIntermediateTensorInfo($e),s.disposeIntermediateTensorInfo(Ae),s.disposeIntermediateTensorInfo(me),{real:it,imag:je}}function Gde(t,e,n){const i=new Float32Array(e*2);for(let s=0;s<e;s++){let a=0,r=0;for(let o=0;o<e;o++){const l=p5(s*o,e,n),c=F3(t,o);a+=c.real*l.real-c.imag*l.imag,r+=c.real*l.imag+c.imag*l.real}n&&(a/=e,r/=e),f5(i,a,r,s)}return i}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ude(t){const{inputs:e,backend:n}=t,{input:i}=e,s=te(i.shape),a=i.shape[i.shape.length-1],r=s/a,o=ft({inputs:{x:i},backend:n,attrs:{shape:[r,a]}}),l=cM(o,!1,n),c=ft({inputs:{x:l},backend:n,attrs:{shape:i.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),c}const qde={kernelName:by,backendName:"cpu",kernelFunc:Ude};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $N(t){const{backend:e,attrs:n}=t,{shape:i,value:s,dtype:a}=n,r=a||gu(s),o=jt(r,te(i));return Xde(o,s,r),e.makeTensorInfo(i,r,o)}const Kde={kernelName:wy,backendName:"cpu",kernelFunc:$N};function Xde(t,e,n){t.fill(e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jde={kernelName:ky,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:i}=t,s=n,a=on(i.dtype,te(i.shape)),[r,o,l,c]=i.shape,u=s.data.get(i.dataId).values;for(let f=0;f<r;f++){const h=f*l*o*c;for(let p=0;p<o;p++){const m=p*(l*c);for(let y=0;y<l;y++){const g=y*c;for(let v=0;v<c;v++){const b=Math.round(l-y-1),w=h+m+g+v;let k=u[w];if(b>=0&&b<l){const x=b*c,N=h+m+x+v;k=u[N]}a[w]=k}}}}return{dataId:s.write(a,i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yde=Qt((t,e)=>Math.floor(t/e)),Qde=gn(Ou,Yde,null,"int32"),Zde={kernelName:Ou,backendName:"cpu",kernelFunc:Qde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function efe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:a,bias:r,preluActivationWeights:o}=e,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:f,activation:h,leakyreluAlpha:p}=i;let m=oM({inputs:{x:s,filter:a},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:f}});if(r){const y=m;if(u==="NCHW"&&r.shape.length===1&&r.shape[0]!==1){const g=ft({inputs:{x:r},backend:n,attrs:{shape:[r.shape[0],1,1]}});m=au({inputs:{a:m,b:g},backend:n}),n.disposeIntermediateTensorInfo(g)}else m=au({inputs:{a:m,b:r},backend:n});n.disposeIntermediateTensorInfo(y)}if(h){const y=m;if(u==="NCHW"&&h==="prelu"&&o.shape.length===1&&o.shape[0]!==1){const g=ft({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});m=d0(n,m,h,g,p),n.disposeIntermediateTensorInfo(g)}else m=d0(n,m,h,o,p);n.disposeIntermediateTensorInfo(y)}return m}const tfe={kernelName:oh,backendName:"cpu",kernelFunc:efe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nfe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:a,bias:r,preluActivationWeights:o}=e,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:f,activation:h,leakyreluAlpha:p}=i;let m=lM({inputs:{x:s,filter:a},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:f}});if(r){const y=m;m=au({inputs:{a:m,b:r},backend:n}),n.disposeIntermediateTensorInfo(y)}if(h){const y=m;m=d0(n,m,h,o,p),n.disposeIntermediateTensorInfo(y)}return m}const ife={kernelName:lh,backendName:"cpu",kernelFunc:nfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sfe(t){const{inputs:e,backend:n}=t,{params:i,indices:s}=e,a=te(i.shape),r=s.shape,o=r[r.length-1],[l,c,u,d]=ov(i,s);if(c===0)return n.makeTensorInfo(l,i.dtype,[]);const f=n.data.get(s.dataId).values,h=n.bufferSync(i),p=wL(f,h,i.dtype,c,o,u,d,i.shape,a);return n.makeTensorInfo(l,i.dtype,p.values)}const afe={kernelName:_y,backendName:"cpu",kernelFunc:sfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rfe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,indices:a}=e,{axis:r,batchDims:o}=i;xe([s,a],"gatherV2");const l=ze(r,s.shape)[0],c=n.data.get(a.dataId).values,u=s.shape[l];for(let w=0;w<c.length;++w){const k=c[w];E(k<=u-1&&k>=0,()=>`GatherV2: the index value ${k} is not in [0, ${u-1}]`)}let d=o;o==null&&(d=0);const f=te(a.shape),h=z3(s,a,l,d),p=ft({inputs:{x:s},backend:n,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),m=ft({inputs:{x:a},backend:n,attrs:{shape:[h.batchSize,f/h.batchSize]}}),y=[h.batchSize,h.outerSize,f/h.batchSize,h.sliceSize],g=n.bufferSync(m),v=n.bufferSync(p),b=kL(v,g,y);return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(h.outputShape,b.dtype,b.values)}const ofe={kernelName:ep,backendName:"cpu",kernelFunc:rfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lfe(t){const{inputs:e,backend:n}=t,{input:i}=e,s=te(i.shape),a=i.shape[i.shape.length-1],r=s/a,o=ft({inputs:{x:i},backend:n,attrs:{shape:[r,a]}}),l=cM(o,!0,n),c=ft({inputs:{x:l},backend:n,attrs:{shape:i.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),c}const cfe={kernelName:xy,backendName:"cpu",kernelFunc:lfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ufe=at(Mu,t=>Number.isFinite(t)?1:0,"bool"),dfe={kernelName:Mu,backendName:"cpu",kernelFunc:ufe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ffe=at(Bu,t=>Math.abs(t)===1/0?1:0,"bool"),hfe={kernelName:Bu,backendName:"cpu",kernelFunc:ffe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pfe=at(zu,t=>Number.isNaN(t)?1:0,"bool"),mfe={kernelName:zu,backendName:"cpu",kernelFunc:pfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gfe(t){const{backend:e,attrs:n}=t,{start:i,stop:s,num:a}=n,r=NL(i,s,a);return e.makeTensorInfo([r.length],"float32",r)}const yfe={kernelName:Cy,backendName:"cpu",kernelFunc:gfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vfe=at(Wu,t=>Math.log1p(t)),bfe={kernelName:Wu,backendName:"cpu",kernelFunc:vfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wfe=Qt((t,e)=>t&&e),kfe=gn(ap,wfe,null,"bool"),_fe={kernelName:ap,backendName:"cpu",kernelFunc:kfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xfe=at(rp,t=>t?0:1,"bool"),Sfe={kernelName:rp,backendName:"cpu",kernelFunc:xfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cfe=Qt((t,e)=>t||e),Nfe=gn(op,Cfe,null,"bool"),Ife={kernelName:op,backendName:"cpu",kernelFunc:Nfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tfe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{depthRadius:a,bias:r,alpha:o,beta:l}=i;xe(s,"LRN");const c=s.shape[3],u=c-1,d=n.data.get(s.dataId).values,f=te(s.shape),h=new Float32Array(f);function p(m){const y=m%c;let g=m-y+Math.max(0,y-a);const v=m-y+Math.min(y+a,u);let b=0;for(;g<=v;g++){const w=d[g];b+=w*w}return b}for(let m=0;m<f;m++){const y=p(m),g=d[m]*Math.pow(r+o*y,-l);h[m]=g}return n.makeTensorInfo(s.shape,s.dtype,h)}const $fe={kernelName:lp,backendName:"cpu",kernelFunc:Tfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Efe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,y:a,dy:r}=e,{depthRadius:o,bias:l,alpha:c,beta:u}=i;xe(r,"LRNGrad");const d=te(r.shape),f=r.shape[3],h=n.data.get(r.dataId).values,p=n.data.get(s.dataId).values,m=n.data.get(a.dataId).values,y=new Float32Array(d),g=d;for(let v=0;v<g;v++){const b=v%f,w=v-b+Math.max(0,b-o),k=v-b+Math.min(f,b+o+1);let x=0;for(let N=w;N<k;N++)x+=Math.pow(p[N],2);x=c*x+l;for(let N=w;N<k;N++){let I=-2*c*u*p[N]*m[v]/x;v===N&&(I+=Math.pow(x,-u)),I*=h[v],y[N]+=I}}return n.makeTensorInfo(r.shape,s.dtype,y)}const Dfe={kernelName:Ny,backendName:"cpu",kernelFunc:Efe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uM(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{reductionIndices:a,keepDims:r}=i,o=n;let l=s.shape;const c=l.length,u=ze(a,l);let d=u;const f=Rt(d,c);let h=o.data.get(s.dataId).values;if(f!=null){const w=new Array(c);for(let k=0;k<w.length;k++)w[k]=l[f[k]];h=SN(h,l,s.dtype,f,w),d=Gt(d.length,c),l=w}xe(s,"max"),Nn("max",d,c);const[p,m]=mn(l,d),y=te(m),g=TL(h,y,p,s.dtype),v=o.write(g,p,s.dtype);let b=p;return r&&(b=Ht(p,u)),{dataId:v,shape:b,dtype:s.dtype}}const Afe={kernelName:cp,backendName:"cpu",kernelFunc:uM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ffe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e;xe(s,"maxPool");const{filterSize:a,strides:r,pad:o,dimRoundingMode:l}=i,c=1;E(Cn(r,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${r} and dilations '${c}'`);const u=Ns(s.shape,a,r,c,o,l);let d;if(u.filterWidth===1&&u.filterHeight===1&&Ge(u.inShape,u.outShape))d=Oa({inputs:{x:s},backend:n});else{const f=n.data.get(s.dataId).values,h=Ie(s.shape),p=IN(f,s.shape,s.dtype,h,u,"max");d=n.makeTensorInfo(u.outShape,s.dtype,p.values)}return d}const Rfe={kernelName:up,backendName:"cpu",kernelFunc:Ffe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ofe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{filterSize:a,strides:r,pad:o,dimRoundingMode:l,dataFormat:c}=i;xe(s,"maxPool3d");const u=yr(s.shape,a,r,1,o,l,c),d=n.data.get(s.dataId).values,f=rM(d,s.shape,s.dtype,Ie(s.shape),u,"max");return n.makeTensorInfo(f.shape,"float32",f.values)}const Pfe={kernelName:dp,backendName:"cpu",kernelFunc:Ofe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lfe(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,input:a}=e,{filterSize:r,strides:o,pad:l,dimRoundingMode:c}=i;xe([s,a],"maxPool3DGrad");const u=yr(a.shape,r,o,1,l,c),d=n.bufferSync(a),f=Sue(d,u),h=u.strideDepth,p=u.strideHeight,m=u.strideWidth,y=u.dilationDepth,g=u.dilationHeight,v=u.dilationWidth,b=u.effectiveFilterDepth,w=u.effectiveFilterHeight,k=u.effectiveFilterWidth,x=b-1-u.padInfo.front,N=k-1-u.padInfo.left,I=w-1-u.padInfo.top,D=Me(a.shape,"float32"),R=n.bufferSync(s);for(let L=0;L<u.batchSize;++L)for(let O=0;O<u.inChannels;++O)for(let T=0;T<u.inDepth;++T)for(let A=0;A<u.inHeight;++A)for(let S=0;S<u.inWidth;++S){const $=T-x,K=A-I,M=S-N;let U=0;for(let Q=0;Q<b;Q+=y){const ee=($+Q)/h;if(!(ee<0||ee>=u.outDepth||Math.floor(ee)!==ee))for(let ie=0;ie<w;ie+=g){const se=(K+ie)/p;if(!(se<0||se>=u.outHeight||Math.floor(se)!==se))for(let ce=0;ce<k;ce+=v){const le=(M+ce)/m;if(le<0||le>=u.outWidth||Math.floor(le)!==le)continue;const ue=b*w*k-1-f.get(L,ee,se,le,O),pe=Q*w*k+ie*k+ce,we=ue===pe?1:0;if(we===0)continue;U+=R.get(L,ee,se,le,O)*we}}}D.set(U,L,T,A,S,O)}return n.makeTensorInfo(D.shape,D.dtype,D.values)}const Mfe={kernelName:Ty,backendName:"cpu",kernelFunc:Lfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bfe(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,input:a,output:r}=e,o=a;xe([a,r],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=i,f=Ns(o.shape,l,c,1,u,d),h=n.data.get(o.dataId).values,p=Me(f.outShape,o.dtype,aM(h,o.shape,o.dtype,f).values),m=f.strideHeight,y=f.strideWidth,g=f.dilationHeight,v=f.dilationWidth,b=f.effectiveFilterHeight,w=f.effectiveFilterWidth,k=w-1-f.padInfo.left,x=b-1-f.padInfo.top,N=Me(o.shape,"float32"),I=n.data.get(s.dataId).values,D=Me(s.shape,"float32",I);for(let R=0;R<f.batchSize;++R)for(let L=0;L<f.inChannels;++L)for(let O=0;O<f.inHeight;++O)for(let T=0;T<f.inWidth;++T){const A=O-x,S=T-k;let $=0;for(let K=0;K<b;K+=g){const M=(A+K)/m;if(!(M<0||M>=f.outHeight||Math.floor(M)!==M))for(let U=0;U<w;U+=v){const Q=(S+U)/y;if(Q<0||Q>=f.outWidth||Math.floor(Q)!==Q)continue;const ee=b*w-1-p.get(R,M,Q,L),ie=K*w+U,se=ee===ie?1:0;if(se===0)continue;$+=D.get(R,M,Q,L)*se}}N.set($,R,O,T,L)}return n.makeTensorInfo(N.shape,N.dtype,N.values)}const zfe={kernelName:Iy,backendName:"cpu",kernelFunc:Bfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vfe(t,e,n,i,s){const a=Ie(e),r=IN(t,e,n,a,s,"max"),o=aM(t,e,n,s,!0,i);return[r.values,o.values]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wfe={kernelName:$y,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:i}=t,{filterSize:s,strides:a,pad:r,includeBatchInIndex:o}=e,l=n;xe(i,"MaxPoolWithArgmax");const c=l.data.get(i.dataId).values,u=Ns(i.shape,s,a,[1,1],r),[d,f]=Vfe(c,i.shape,i.dtype,o,u),h=l.write(d,u.outShape,i.dtype),p=l.write(f,u.outShape,i.dtype);return[{dataId:h,shape:u.outShape,dtype:i.dtype},{dataId:p,shape:u.outShape,dtype:"int32"}]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jfe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:a,keepDims:r}=i,o=ze(a,s.shape),c=mn(s.shape,o)[1],u=te(c),d=[],f=n.makeTensorInfo([],"float32",new Float32Array([u]));d.push(f);const h=ko({inputs:{x:s},backend:n,attrs:{dtype:"float32"}});d.push(h);const p=TN({inputs:{a:h,b:f},backend:n});d.push(p);const m=pm({inputs:{x:p},backend:n,attrs:{axis:a,keepDims:r}});return d.forEach(y=>n.disposeIntermediateTensorInfo(y)),m}const Hfe={kernelName:fp,backendName:"cpu",kernelFunc:jfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gfe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:a,keepDims:r}=i;xe(s,"min");const o=ze(a,s.shape);let l=o;const c=Rt(l,s.shape.length);let u=s;c!=null&&(u=fi({inputs:{x:s},backend:n,attrs:{perm:c}}),l=Gt(l.length,s.shape.length)),Nn("min",l,u.shape.length);const[d,f]=mn(u.shape,l),h=te(f),p=_n(te(d),u.dtype),m=n.data.get(u.dataId).values;for(let g=0;g<p.length;++g){const v=g*h;let b=m[v];for(let w=0;w<h;++w){const k=m[v+w];(Number.isNaN(k)||k<b)&&(b=k)}p[g]=b}c!=null&&n.disposeIntermediateTensorInfo(u);const y=n.makeTensorInfo(d,u.dtype,p);if(r){const g=Ht(d,o),v=ft({inputs:{x:y},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(y),v}return y}const Ufe={kernelName:hp,backendName:"cpu",kernelFunc:Gfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qfe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{paddings:a,mode:r}=i;xe(s,"mirrorPad");const o=a.map((b,w)=>b[0]+s.shape[w]+b[1]),l=a.map(b=>b[0]),c=a.map((b,w)=>b[0]+s.shape[w]),u=r==="reflect"?0:1,d=n.data.get(s.dataId).values,f=s.shape.length,h=Ie(s.shape),p=te(o),m=o.length,y=Ie(o),g=on(s.dtype,p);for(let b=0;b<p;b++){let w=Wl(b,m,y);for(let x=0;x<m;x++)w[x]<l[x]?w[x]=l[x]*2-w[x]-u:w[x]>=c[x]&&(w[x]=(c[x]-1)*2-w[x]+u);w=w.map((x,N)=>x-l[N]);const k=Ks(w,f,h);g[b]=d[k]}return{dataId:n.write(g,o,s.dtype),shape:o,dtype:s.dtype}}const Kfe={kernelName:pp,backendName:"cpu",kernelFunc:qfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xfe=Qt((t,e)=>{const n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e}),Jfe=gn(Gu,Xfe),Yfe={kernelName:Gu,backendName:"cpu",kernelFunc:Jfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dM(t){const{inputs:e,backend:n,attrs:i}=t,{logits:s}=e,{dim:a}=i,r=s.shape.length;let o=a;if(o===-1&&(o=r-1),o!==r-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${r} and dim was ${o}`);const l=ze([o],s.shape),c=uM({inputs:{x:s},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),u=Ht(c.shape,l),d=ft({inputs:{x:c},backend:n,attrs:{shape:u}}),f=NN({inputs:{a:s,b:d},backend:n}),h=yL({inputs:{x:f},backend:n}),p=pm({inputs:{x:h},backend:n,attrs:{axis:l,keepDims:!1}}),m=ft({inputs:{x:p},backend:n,attrs:{shape:u}}),y=TN({inputs:{a:h,b:m},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),y}const Qfe={kernelName:Ap,backendName:"cpu",kernelFunc:dM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zfe(t){const{inputs:e,backend:n,attrs:i}=t,{logits:s}=e,{numSamples:a,seed:r,normalized:o}=i;xe(s,"multinomial");const l=o?s:dM({inputs:{logits:s},backend:n,attrs:{dim:-1}}),c=l.shape[0],u=l.shape[1],d=n.data.get(l.dataId).values,f=[c,a],h=_n(te(f),"int32");for(let p=0;p<c;++p){const m=p*u,y=new Float32Array(u-1);y[0]=d[m];for(let b=1;b<y.length;++b)y[b]=y[b-1]+d[m+b];const g=wd.alea(r.toString()),v=p*a;for(let b=0;b<a;++b){const w=g();h[v+b]=y.length;for(let k=0;k<y.length;k++)if(w<y[k]){h[v+b]=k;break}}}return o||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(f,"int32",h)}const ehe={kernelName:Ey,backendName:"cpu",kernelFunc:Zfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const the=Vv;function nhe(t){const{inputs:e,backend:n,attrs:i}=t,{boxes:s,scores:a}=e,{maxOutputSize:r,iouThreshold:o,scoreThreshold:l}=i;xe(s,"NonMaxSuppression");const c=n.data.get(s.dataId).values,u=n.data.get(a.dataId).values,{selectedIndices:d}=the(c,u,r,o,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}const ihe={kernelName:Dy,backendName:"cpu",kernelFunc:nhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const she=Wv;function ahe(t){const{inputs:e,backend:n,attrs:i}=t,{boxes:s,scores:a}=e,{maxOutputSize:r,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:c}=i;xe(s,"NonMaxSuppressionPadded");const u=n.data.get(s.dataId).values,d=n.data.get(a.dataId).values,{selectedIndices:f,validOutputs:h}=she(u,d,r,o,l,c);return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const rhe={kernelName:Ay,backendName:"cpu",kernelFunc:ahe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ohe=jv;function lhe(t){const{inputs:e,backend:n,attrs:i}=t,{boxes:s,scores:a}=e,{maxOutputSize:r,iouThreshold:o,scoreThreshold:l,softNmsSigma:c}=i;xe(s,"NonMaxSuppressionWithScore");const u=n.data.get(s.dataId).values,d=n.data.get(a.dataId).values,f=r,h=o,p=l,m=c,{selectedIndices:y,selectedScores:g}=ohe(u,d,f,h,p,m);return[n.makeTensorInfo([y.length],"int32",new Int32Array(y)),n.makeTensorInfo([g.length],"float32",new Float32Array(g))]}const che={kernelName:Fy,backendName:"cpu",kernelFunc:lhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uhe(t){const{inputs:e,backend:n,attrs:i}=t,{indices:s}=e,{dtype:a,depth:r,onValue:o,offValue:l}=i;xe(s,"oneHot");const c=te(s.shape),u=new Float32Array(c*r);u.fill(l);const d=n.data.get(s.dataId).values;for(let f=0;f<c;++f)d[f]>=0&&d[f]<r&&(u[f*r+d[f]]=o);return n.makeTensorInfo([...s.shape,r],a,u)}const dhe={kernelName:vp,backendName:"cpu",kernelFunc:uhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h0(t){const{inputs:e,backend:n}=t,{x:i}=e;if(i.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(i.dtype==="complex64"){const s=Rl({inputs:{input:i},backend:n}),a=h0({inputs:{x:s},backend:n}),r=ru({inputs:{input:i},backend:n}),o=h0({inputs:{x:r},backend:n}),l=ki({inputs:{real:a,imag:o},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),l}else return $N({backend:n,attrs:{shape:i.shape,value:0,dtype:i.dtype}})}const fhe={kernelName:Op,backendName:"cpu",kernelFunc:h0};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fM(t){const{inputs:e,backend:n}=t,{x:i}=e;if(i.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(i.dtype==="complex64"){const s=Rl({inputs:{input:i},backend:n}),a=fM({inputs:{x:s},backend:n}),r=ru({inputs:{input:i},backend:n}),o=h0({inputs:{x:r},backend:n}),l=ki({inputs:{real:a,imag:o},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),l}else return $N({backend:n,attrs:{shape:i.shape,value:1,dtype:i.dtype}})}const hhe={kernelName:yp,backendName:"cpu",kernelFunc:fM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hM(t){const{inputs:e,backend:n,attrs:i}=t,{axis:s}=i;if(e.length===1)return f0({inputs:{input:e[0]},backend:n,attrs:{dim:s}});const a=e[0].shape,r=e[0].dtype;e.forEach(u=>{Sn(a,u.shape,"All tensors passed to stack must have matching shapes"),E(r===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const o=[],l=e.map(u=>{const d=f0({inputs:{input:u},backend:n,attrs:{dim:s}});return o.push(d),d}),c=ou({inputs:l,backend:n,attrs:{axis:s}});return o.forEach(u=>n.disposeIntermediateTensorInfo(u)),c}const phe={kernelName:bp,backendName:"cpu",kernelFunc:hM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mhe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{paddings:a,constantValue:r}=i;xe(s,"pad");const o=a.map((v,b)=>v[0]+s.shape[b]+v[1]),l=a.map(v=>v[0]),c=n.data.get(s.dataId).values,u=te(s.shape),d=s.shape.length,f=Ie(s.shape),h=te(o),p=o.length,m=Ie(o),y=on(s.dtype,h);r!==0&&y.fill(r);for(let v=0;v<u;v++){const w=Wl(v,d,f).map((x,N)=>x+l[N]),k=Ks(w,p,m);y[k]=c[v]}return{dataId:n.write(y,o,s.dtype),shape:o,dtype:s.dtype}}const pM={kernelName:wp,backendName:"cpu",kernelFunc:mhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ghe=Qt((t,e)=>Math.pow(t,e)),yhe=gn(qu,ghe),vhe={kernelName:qu,backendName:"cpu",kernelFunc:yhe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bhe(t){const{inputs:e,backend:n,attrs:i}=t,{paramsNestedSplits:s,paramsDenseValues:a,indices:r}=e,o=s.map(y=>n.data.get(y.dataId).values),l=s.map(y=>y.shape),c=n.data.get(a.dataId).values,u=n.data.get(r.dataId).values,[d,f,h]=RL(o,l,c,a.shape,a.dtype,u,r.shape),p=d.map(y=>n.makeTensorInfo([y.length],"int32",y)),m=n.makeTensorInfo(h,a.dtype,f);return p.concat([m])}const whe={kernelName:Ry,backendName:"cpu",kernelFunc:bhe};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function khe(t){const{inputs:e,backend:n}=t,{starts:i,limits:s,deltas:a}=e,r=n.data.get(i.dataId).values,o=n.data.get(s.dataId).values,l=n.data.get(a.dataId).values,[c,u]=OL(r,i.shape,i.dtype,o,s.shape,l,a.shape),d=n.makeTensorInfo([c.length],"int32",c),f=n.makeTensorInfo([u.length],i.dtype,u);return[d,f]}const _he={kernelName:Oy,backendName:"cpu",kernelFunc:khe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xhe(t){const{inputs:e,backend:n,attrs:i}=t,{shape:s,values:a,defaultValue:r,rowPartitionTensors:o}=e,{rowPartitionTypes:l}=i,c=n.data.get(s.dataId).values,u=n.data.get(a.dataId).values,d=n.data.get(r.dataId).values,f=o.map(y=>n.data.get(y.dataId).values),h=o.map(y=>y.shape),[p,m]=PL(c,s.shape,u,a.shape,a.dtype,d,r.shape,f,h,l);return n.makeTensorInfo(p,a.dtype,m)}const She={kernelName:Py,backendName:"cpu",kernelFunc:xhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Che(t){const{backend:e,attrs:n}=t,{start:i,stop:s,dtype:a,step:r}=n,o=LL(i,s,r,a);return e.makeTensorInfo([o.length],a,o)}const Nhe={kernelName:Ly,backendName:"cpu",kernelFunc:Che};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ihe=at(Ku,t=>1/t),The={kernelName:Ku,backendName:"cpu",kernelFunc:Ihe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $he(t){const{inputs:e,backend:n,attrs:i}=t,{images:s}=e,{alignCorners:a,halfPixelCenters:r,size:o}=i;xe(s,"resizeBilinear");const l=Ie(s.shape),[c,u]=o,[d,f,h,p]=s.shape,m=n.data.get(s.dataId).values,y=new Float32Array(te([d,c,u,p])),g=[a&&c>1?f-1:f,a&&u>1?h-1:h],v=[a&&c>1?c-1:c,a&&u>1?u-1:u];let b=0;const w=g[0]/v[0],k=g[1]/v[1];for(let x=0;x<d;x++)for(let N=0;N<c;N++){let I;r?I=w*(N+.5)-.5:I=w*N;const D=Math.max(0,Math.floor(I)),R=I-D,L=Math.min(f-1,Math.ceil(I)),O=x*l[0]+D*l[1],T=x*l[0]+L*l[1];for(let A=0;A<u;A++){let S;r?S=k*(A+.5)-.5:S=k*A;const $=Math.max(0,Math.floor(S)),K=S-$,M=Math.min(h-1,Math.ceil(S)),U=O+$*l[2],Q=T+$*l[2],ee=O+M*l[2],ie=T+M*l[2];for(let se=0;se<p;se++){const ce=m[U+se],le=m[Q+se],ue=m[ee+se],pe=m[ie+se],we=ce+(ue-ce)*K,Se=le+(pe-le)*K,$e=we+(Se-we)*R;y[b++]=$e}}}return n.makeTensorInfo([d,c,u,p],"float32",y)}const Ehe={kernelName:Cp,backendName:"cpu",kernelFunc:$he};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dhe(t){const{inputs:e,backend:n,attrs:i}=t,{images:s,dy:a}=e,{alignCorners:r}=i;xe([a,s],"resizeBilinearGrad");const o=Ie(s.shape),[l,c,u,d]=s.shape,[,f,h]=a.shape,p=new Float32Array(l*c*u*d),m=[r&&f>1?c-1:c,r&&h>1?u-1:u],y=[r&&f>1?f-1:f,r&&h>1?h-1:h],g=m[0]/y[0],v=m[1]/y[1],b=n.data.get(a.dataId).values;let w=0;for(let k=0;k<l;k++){const x=k*o[0];for(let N=0;N<f;N++){const I=N*g,D=Math.floor(I),R=Math.min(Math.ceil(I),c-1),L=x+D*o[1],O=x+R*o[1],T=I-D,A=1-T;for(let S=0;S<h;S++){const $=S*v,K=Math.floor($),M=Math.min(Math.ceil($),u-1),U=$-K,Q=1-U,ee=L+K*o[2],ie=L+M*o[2],se=O+K*o[2],ce=O+M*o[2],le=A*Q,ue=A*U,pe=T*Q,we=T*U;for(let Se=0;Se<d;Se++){const $e=b[w++];p[ee+Se]+=$e*le,p[ie+Se]+=$e*ue,p[se+Se]+=$e*pe,p[ce+Se]+=$e*we}}}}return n.makeTensorInfo([l,u,c,d],"float32",p)}const Ahe={kernelName:zy,backendName:"cpu",kernelFunc:Dhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fhe(t){const{inputs:e,backend:n,attrs:i}=t,{images:s}=e,{alignCorners:a,halfPixelCenters:r,size:o}=i;xe(s,"resizeNearestNeighbor");const l=Ie(s.shape),[c,u]=o,[d,f,h,p]=s.shape,m=n.data.get(s.dataId).values,y=new Float32Array(d*c*u*p),g=[a&&c>1?f-1:f,a&&u>1?h-1:h],v=[a&&c>1?c-1:c,a&&u>1?u-1:u],b=g[0]/v[0],w=g[1]/v[1];let k=0;for(let x=0;x<d;x++){const N=x*l[0];for(let I=0;I<c;I++){const D=r?b*(I+.5):b*I;let R=Math.min(f-1,a?Math.round(D):Math.floor(D));r&&(R=Math.max(0,R));const L=N+R*l[1];for(let O=0;O<u;O++){const T=r?w*(O+.5):w*O;let A=Math.min(h-1,a?Math.round(T):Math.floor(T));r&&(A=Math.max(0,A));const S=L+A*l[2];for(let $=0;$<p;$++){const K=m[S+$];y[k++]=K}}}}return n.makeTensorInfo([d,c,u,p],s.dtype,y)}const Rhe={kernelName:Sp,backendName:"cpu",kernelFunc:Fhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ohe(t){const{inputs:e,backend:n,attrs:i}=t,{images:s,dy:a}=e,{alignCorners:r}=i;xe([a,s],"resizeNearestNeighborGrad");const o=Ie(s.shape),l=Ie(a.shape),[c,u,d,f]=s.shape,[,h,p]=a.shape,m=new Float32Array(c*u*d*f),y=n.data.get(a.dataId).values,g=[r&&h>1?u-1:u,r&&p>1?d-1:d],v=[r&&h>1?h-1:h,r&&p>1?p-1:p],b=g[0]/v[0],w=g[1]/v[1],k=1/b,x=1/w,N=Math.ceil(k)*2+2,I=Math.ceil(x)*2+2;for(let D=0;D<c;D++){const R=D*o[0];for(let L=0;L<u;L++){const O=R+L*o[1],T=Math.floor(L*k),A=Math.floor(T-N/2);for(let S=0;S<d;S++){const $=O+S*o[2],K=Math.floor(S*x),M=Math.floor(K-I/2);for(let U=0;U<f;U++){let Q=0;for(let ee=0;ee<N;ee++){const ie=ee+A;if(ie<0||ie>=h)continue;const se=R+ie*l[1],ce=ie*b,le=Math.min(u-1,r?Math.round(ce):Math.floor(ce));if(L===le)for(let ue=0;ue<I;ue++){const pe=ue+M;if(pe<0||pe>=p)continue;const we=se+pe*l[2],Se=pe*w,$e=Math.min(d-1,r?Math.round(Se):Math.floor(Se));S===$e&&(Q+=y[we+U])}}m[$+U]=Q}}}}return n.makeTensorInfo(s.shape,s.dtype,m)}const Phe={kernelName:By,backendName:"cpu",kernelFunc:Ohe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lhe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{dims:a}=i;xe(s,"reverse");const r=s.shape.length,o=ze(a,s.shape);if(r===0)return Oa({inputs:{x:s},backend:n});const l=new sn(s.shape,s.dtype),c=n.bufferSync(s);for(let u=0;u<l.size;u++){const d=l.indexToLoc(u),f=d.slice();o.forEach(h=>f[h]=s.shape[h]-1-f[h]),l.set(c.get(...f),...d)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}const Mhe={kernelName:Np,backendName:"cpu",kernelFunc:Lhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bhe={kernelName:nv,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:i}=t,{radians:s,fillValue:a,center:r}=e,o=n,l=on(i.dtype,te(i.shape)),[c,u,d,f]=i.shape,[h,p]=S3(r,u,d),m=255,y=Math.sin(s),g=Math.cos(s),v=o.data.get(i.dataId).values;for(let w=0;w<c;w++){const k=w*d*u*f;for(let x=0;x<u;x++){const N=x*(d*f);for(let I=0;I<d;I++){const D=I*f;for(let R=0;R<f;R++){const L=[c,x,I,R],O=L[2],T=L[1];let A=(O-h)*g-(T-p)*y,S=(O-h)*y+(T-p)*g;A=Math.round(A+h),S=Math.round(S+p);let $=a;if(typeof a!="number"&&(R===3?$=m:$=a[R]),A>=0&&A<d&&S>=0&&S<u){const M=S*(d*f),U=A*f,Q=k+M+U+R;$=v[Q]}const K=k+N+D+R;l[K]=$}}}}return{dataId:o.write(l,i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zhe=at(Yu,t=>{const e=Math.floor(t);return t-e<.5?Math.floor(t):t-e>.5?Math.ceil(t):e%2===0?e:e+1}),Vhe={kernelName:Yu,backendName:"cpu",kernelFunc:zhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Whe(t){const{inputs:e,backend:n,attrs:i}=t,{indices:s,updates:a}=e,{shape:r}=i,{sliceRank:o,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=fd(a,s,r),f=!0,h=n.bufferSync(s),p=n.bufferSync(a),m=kc(h,p,r,d,c,l,o,u,0,f);return n.makeTensorInfo(r,m.dtype,m.values)}const jhe={kernelName:Vy,backendName:"cpu",kernelFunc:Whe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hhe(t,e){let n=0,i=t.length,s=0;for(;n<i;)s=Math.floor((n+i)/2),t[s]<e?n=s+1:i=s;return i}function Ghe(t,e){let n=0,i=t.length,s=0;for(;n<i;)s=Math.floor((n+i)/2),t[s]<=e?n=s+1:i=s;return i}function Uhe(t,e,n,i,s,a){const r=jt("int32",n*s);for(let o=0;o<n;++o){const l=t.slice(o*i,(o+1)*i),c=o*s;for(let u=0;u<s;++u)r[c+u]=a==="left"?Hhe(l,e[u+c]):Ghe(l,e[u+c])}return r}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qhe(t){const{inputs:e,backend:n,attrs:i}=t,{sortedSequence:s,values:a}=e,{side:r}=i,o=n.data.get(s.dataId).values,l=n.data.get(a.dataId).values,c=Uhe(o,l,s.shape[0],s.shape[1],a.shape[1],r);return n.makeTensorInfo(a.shape,"int32",c)}const Khe={kernelName:Wy,backendName:"cpu",kernelFunc:qhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xhe(t){const{inputs:e,backend:n}=t,{condition:i,t:s,e:a}=e;xe([i,s,a],"select");const r=i.shape.length,o=n.data.get(i.dataId).values,l=n.data.get(s.dataId).values,c=n.data.get(a.dataId).values,u=li(s.dtype,a.dtype),d=_n(te(s.shape),u);let f=0;const h=r===0||r>1||s.shape.length===1?1:te(s.shape.slice(1));for(let p=0;p<o.length;p++)for(let m=0;m<h;m++)o[p]===1?d[f++]=l[p]:d[f++]=c[p];return n.makeTensorInfo(s.shape,u,d)}const Jhe={kernelName:Ip,backendName:"cpu",kernelFunc:Xhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yhe=Qv,Qhe=Zv,Zhe=at(Zu,t=>t>=0?Qhe*t:Yhe*(Math.exp(t)-1)),epe={kernelName:Zu,backendName:"cpu",kernelFunc:Zhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tpe=at(nd,t=>t<0?-1:t>0?1:0),npe={kernelName:nd,backendName:"cpu",kernelFunc:tpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ipe=at(ed,t=>Math.sin(t)),spe={kernelName:ed,backendName:"cpu",kernelFunc:ipe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ape=at(td,t=>Math.sinh(t)),rpe={kernelName:td,backendName:"cpu",kernelFunc:ape};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ope=11920928955078125e-23,Y$=Math.log(ope)+2,lpe=at(sd,t=>{const e=t>-Y$,n=t<Y$,i=Math.exp(t);let s;return n?s=i:e?s=t:s=Math.log(1+i),s}),cpe={kernelName:sd,backendName:"cpu",kernelFunc:lpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function upe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{blockShape:a,paddings:r}=i;xe([s],"spaceToBatchND");const o=te(a),l=[[0,0]];l.push(...r);for(let x=1+a.length;x<s.shape.length;++x)l.push([0,0]);const c=pM.kernelFunc({inputs:{x:s},backend:n,attrs:{paddings:l,constantValue:0}}),u=nm(c.shape,a,o,!1),d=im(u.length,a.length,!1),f=sm(c.shape,a,o,!1),m=ft({inputs:{x:c},backend:n,attrs:{shape:u}}),v=fi({inputs:{x:m},backend:n,attrs:{perm:d}}),k=ft({inputs:{x:v},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),k}const dpe={kernelName:Ep,backendName:"cpu",kernelFunc:upe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fpe(t){const{inputs:e,backend:n}=t,{indices:i,values:s,denseShape:a,defaultValue:r}=e;if(a.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${a.shape}`);if(i.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${i.shape}`);if(s.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${s.shape}`);if(r.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${r.shape}`);const o=n.data.get(i.dataId).values,l=n.data.get(s.dataId).values,c=n.data.get(a.dataId).values,u=n.data.get(r.dataId).values[0],[d,f,h,p,m]=VL(o,i.shape,i.dtype,l,s.dtype,c,u);return[n.makeTensorInfo(f,i.dtype,d),n.makeTensorInfo([f[0]],s.dtype,h),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(y=>Number(y)))),n.makeTensorInfo([m.length],i.dtype,new Int32Array(m))]}const hpe={kernelName:jy,backendName:"cpu",kernelFunc:fpe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ppe(t){const{inputs:e,backend:n}=t,{inputIndices:i,inputShape:s,newShape:a}=e;if(i.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${i.shape}`);if(s.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${s.shape}`);if(a.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${a.shape}`);const r=Array.from(n.data.get(s.dataId).values),o=n.data.get(i.dataId).values,l=Array.from(n.data.get(a.dataId).values),[c,u,d]=WL(o,i.shape,i.dtype,r,l);return[n.makeTensorInfo(u,i.dtype,c),n.makeTensorInfo([d.length],a.dtype,new Int32Array(d))]}const mpe={kernelName:Hy,backendName:"cpu",kernelFunc:ppe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gpe(t){const{inputs:e,backend:n}=t,{data:i,indices:s,segmentIds:a}=e;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${s.shape}`);if(a.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${a.shape}`);if(s.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");const r=n.data.get(i.dataId).values,o=n.data.get(s.dataId).values,l=n.data.get(a.dataId).values,[c,u]=CN(r,i.shape,i.dtype,o,l,!0);return n.makeTensorInfo(u,i.dtype,c)}const ype={kernelName:Gy,backendName:"cpu",kernelFunc:gpe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vpe(t){const{inputs:e,backend:n}=t,{data:i,indices:s,segmentIds:a}=e;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${s.shape}`);if(a.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${a.shape}`);if(s.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");const r=n.data.get(i.dataId).values,o=n.data.get(s.dataId).values,l=n.data.get(a.dataId).values,[c,u]=CN(r,i.shape,i.dtype,o,l);return n.makeTensorInfo(u,i.dtype,c)}const bpe={kernelName:Uy,backendName:"cpu",kernelFunc:vpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wpe(t){const{inputs:e,backend:n,attrs:i}=t,{sparseIndices:s,sparseValues:a,defaultValue:r}=e,{outputShape:o}=i,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:f}=fd(a,s,o),h=!1,p=n.bufferSync(s);let m;switch(a.dtype){case"bool":{const y=n.bufferSync(a),g=Boolean(n.data.get(r.dataId).values[0]);m=kc(p,y,o,f,u,c,l,d,g,h);break}case"float32":{const y=n.bufferSync(a),g=n.data.get(r.dataId).values[0];m=kc(p,y,o,f,u,c,l,d,g,h);break}case"int32":{const y=n.bufferSync(a),g=n.data.get(r.dataId).values[0];m=kc(p,y,o,f,u,c,l,d,g,h);break}case"string":{const y=n.bufferSync(a),g=lr(n.data.get(r.dataId).values[0]);m=kc(p,y,o,f,u,c,l,d,g,h);break}default:throw new Error(`Unsupported type ${a.dtype}`)}return n.makeTensorInfo(o,m.dtype,m.values)}const kpe={kernelName:qy,backendName:"cpu",kernelFunc:wpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _pe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{numOrSizeSplits:a,axis:r}=i,o=ze(r,s.shape)[0],l=B3(s,a,o),c=new Array(s.shape.length).fill(0),u=s.shape.slice();return l.map(d=>{const f=[...u];f[o]=d;const h=Ol({inputs:{x:s},backend:n,attrs:{begin:c,size:f}});return c[o]+=d,h})}const xpe={kernelName:Dp,backendName:"cpu",kernelFunc:_pe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Spe={kernelName:Ky,backendName:"cpu",kernelFunc:({inputs:t,backend:e})=>{const{x:n}=t,i=e;xe(n,"square");const s=i.data.get(n.dataId).values,a=new Float32Array(s.length);for(let o=0;o<s.length;++o){const l=s[o];a[o]=l*l}return{dataId:i.write(a,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cpe=at(dd,(t,e)=>{const n=e;return isNaN(t)?NaN:t>0?1:n.alpha}),Npe={kernelName:dd,backendName:"cpu",kernelFunc:Cpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ipe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{begin:a,end:r,strides:o,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:f}=i;xe(s,"stridedSlice");const{finalShapeSparse:h,finalShape:p,isIdentity:m,sliceDim0:y,isSimpleSlice:g,begin:v,end:b,strides:w}=vS(s.shape,a,r,o,l,c,u,d,f);let k;if(m)k=ft({inputs:{x:s},backend:n,attrs:{shape:p}});else if(y||g){E(s.shape.length>=1,()=>`Input must have rank at least 1, got: ${s.shape.length}`);const x=mS(v,b,w),N=Ol({inputs:{x:s},backend:n,attrs:{begin:v,size:x}});k=ft({inputs:{x:N},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(N)}else{const x=n.bufferSync(s),N=HL(h,x,w,v);k=n.makeTensorInfo(p,N.dtype,N.values)}return k}const Tpe={kernelName:Xy,backendName:"cpu",kernelFunc:Ipe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $pe(t){const{inputs:e,backend:n,attrs:i}=t,{separator:s,nGramWidths:a,leftPad:r,rightPad:o,padWidth:l,preserveShortSequences:c}=i,{data:u,dataSplits:d}=e,f=n.data.get(u.dataId).values,h=n.data.get(d.dataId).values,[p,m]=GL(f,h,s,a,r,o,l,c);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(d.shape,"int32",m)]}const Epe={kernelName:Jy,backendName:"cpu",kernelFunc:$pe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dpe(t){const{inputs:e,backend:n,attrs:i}=t,{skipEmpty:s}=i,{input:a,delimiter:r}=e;if(a.dtype!=="string")throw new Error("Input must be of datatype string");if(a.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${a.shape}`);if(r.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${r.shape}`);const o=n.data.get(a.dataId).values,l=n.data.get(r.dataId).values[0],[c,u,d]=UL(o,l,s),f=u.length;return[n.makeTensorInfo([f,2],"int32",c),n.makeTensorInfo([f],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}const Ape={kernelName:Yy,backendName:"cpu",kernelFunc:Dpe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fpe(t){const{inputs:e,backend:n,attrs:i}=t,{numBuckets:s}=i,{input:a}=e;if(a.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const r=n.data.get(a.dataId).values,o=qL(r,s);return n.makeTensorInfo(a.shape,"int32",o)}const Rpe={kernelName:Qy,backendName:"cpu",kernelFunc:Fpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ope=at(ld,t=>Math.tan(t)),Ppe={kernelName:ld,backendName:"cpu",kernelFunc:Ope};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lpe=at(cd,t=>Math.tanh(t)),Mpe={kernelName:cd,backendName:"cpu",kernelFunc:Lpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bpe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{reps:a}=i;xe(s,"tile");const r=XL(n.bufferSync(s),a);return n.makeTensorInfo(r.shape,r.dtype,r.values)}const zpe={kernelName:ud,backendName:"cpu",kernelFunc:Bpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vpe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{k:a,sorted:r}=i;xe(s,"topk");const o=n.data.get(s.dataId).values,[l,c]=YL(o,s.shape,s.dtype,a,r);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(c.shape,c.dtype,c.values)]}const Wpe={kernelName:Zy,backendName:"cpu",kernelFunc:Vpe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jpe(t){const{inputs:e,attrs:n,backend:i}=t,{image:s,transforms:a}=e,{interpolation:r,fillMode:o,fillValue:l,outputShape:c}=n,[u,d,f,h]=s.shape,[p,m]=c!=null?c:[d,f],y=[u,p,m,h],g=Ie(s.shape),v=g[0],b=g[1],w=g[2],k=Ie(y),x=k[0],N=k[1],I=k[2],D=on(s.dtype,te(y));D.fill(l);const R=i.data.get(s.dataId).values,L=i.data.get(a.dataId).values;for(let T=0;T<u;++T){const A=a.shape[0]===1?L:L.subarray(T*8,T*8+8);for(let S=0;S<p;++S)for(let $=0;$<m;++$)for(let K=0;K<h;++K){let M;const U=A[6]*$+A[7]*S+1;if(U===0)continue;const Q=(A[0]*$+A[1]*S+A[2])/U,ee=(A[3]*$+A[4]*S+A[5])/U,ie=Q$(Q,f,o),se=Q$(ee,d,o);switch(r){case"nearest":M=Xpe(R,d,f,v,b,w,T,se,ie,K,l);break;case"bilinear":M=Jpe(R,d,f,v,b,w,T,se,ie,K,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${r}`)}const ce=T*x+S*N+$*I+K;D[ce]=M}return i.makeTensorInfo(y,s.dtype,D)}return{dataId:i.write(D,y,s.dtype),shape:s.shape,dtype:s.dtype}}const Hpe={kernelName:ev,backendName:"cpu",kernelFunc:jpe};function Q$(t,e,n){switch(n){case"reflect":return Gpe(t,e);case"wrap":return Upe(t,e);case"nearest":return Kpe(t,e);case"constant":default:return qpe(t)}}function Gpe(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const i=2*e;n<i&&(n=i*Math.trunc(-n/i)+n),n=n<-e?n+i:-n-1}else if(n>e-1)if(e<=1)n=0;else{const i=2*e;n-=i*Math.trunc(n/i),n>=e&&(n=i-n-1)}return ho(0,n,e-1)}function Upe(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const i=e-1;n+=e*(Math.trunc(-n/i)+1)}else if(n>e-1)if(e<=1)n=0;else{const i=e-1;n-=e*Math.trunc(n/i)}return ho(0,n,e-1)}function qpe(t,e){return t}function Kpe(t,e){return ho(0,t,e-1)}function yf(t,e,n,i,s,a,r,o,l,c,u){const d=r*i+o*s+l*a+c;return 0<=o&&o<e&&0<=l&&l<n?t[d]:u}function Xpe(t,e,n,i,s,a,r,o,l,c,u){const d=Math.round(o),f=Math.round(l);return yf(t,e,n,i,s,a,r,d,f,c,u)}function Jpe(t,e,n,i,s,a,r,o,l,c,u){const d=Math.floor(o),f=Math.floor(l),h=d+1,p=f+1,m=(p-l)*yf(t,e,n,i,s,a,r,d,f,c,u)+(l-f)*yf(t,e,n,i,s,a,r,d,p,c,u),y=(p-l)*yf(t,e,n,i,s,a,r,h,f,c,u)+(l-f)*yf(t,e,n,i,s,a,r,h,p,c,u);return(h-o)*m+(o-d)*y}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ype(t){const{inputs:e,attrs:n,backend:i}=t,{axis:s}=n,{x:a}=e;xe(a,"unique");const r=i.data.get(a.dataId).values,{outputValues:o,outputShape:l,indices:c}=QL(r,s,a.shape,a.dtype);return[i.makeTensorInfo(l,a.dtype,o),i.makeTensorInfo([c.length],"int32",c)]}const Qpe={kernelName:tv,backendName:"cpu",kernelFunc:Ype};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zpe(t){const{inputs:e,backend:n,attrs:i}=t,{value:s}=e;let{axis:a}=i;a<0&&(a+=s.shape.length);const r=s.shape.length,o=s.shape[a],l=new Array(r-1);let c=0;for(let h=0;h<r;h++)h!==a&&(l[c++]=s.shape[h]);const u=new Array(r).fill(0),d=s.shape.slice();d[a]=1;const f=new Array(o);for(let h=0;h<f.length;h++){u[a]=h;const p=Ol({inputs:{x:s},backend:n,attrs:{begin:u,size:d}});f[h]=ft({inputs:{x:p},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(p)}return f}const eme={kernelName:Fp,backendName:"cpu",kernelFunc:Zpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tme(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,segmentIds:a}=e,{numSegments:r}=i;xe(s,"unsortedSegmentSum");const o=s.shape.length,l=a.shape.length,c=[],u=[],d=o-l;let f=a;for(let p=0;p<d;++p){const m=f0({inputs:{input:f},backend:n,attrs:{dim:p+1}});f=m,u.push(m)}for(let p=0;p<r;++p){const m=gr(p,"int32"),y=n.makeTensorInfo([],"int32",m),g=mL({inputs:{a:y,b:f},backend:n}),v=ko({inputs:{x:g},backend:n,attrs:{dtype:"float32"}}),b=_b({inputs:{a:v,b:s},backend:n}),w=pm({inputs:{x:b},backend:n,attrs:{axis:0,keepDims:!1}});c.push(w),u.push(y),u.push(g),u.push(v),u.push(b),u.push(w)}const h=hM({inputs:c,backend:n,attrs:{axis:0}});return u.forEach(p=>n.disposeIntermediateTensorInfo(p)),h}const nme={kernelName:Rp,backendName:"cpu",kernelFunc:tme};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ime=[Qce,Lle,eue,nue,jle,sue,rue,lue,uue,fue,pue,gue,vue,kue,xue,Nue,Tue,Eue,Aue,Jce,Rue,Pue,Mue,zue,Vle,Gle,Wue,Mle,Hue,Uue,que,Xue,Yue,Zue,tde,ide,ade,ode,cde,dde,hde,mde,yde,vde,wde,_de,Sde,Cde,Nde,Ide,Ede,jce,Ade,Ule,zde,qle,Vde,Xle,qde,Kde,Jde,Yle,Zde,tfe,ife,afe,ofe,Zle,tce,Ble,cfe,Gue,dfe,hfe,mfe,Hce,ice,ace,yfe,oce,bfe,_fe,Sfe,Ife,$fe,Dfe,Afe,cce,Rfe,Pfe,Mfe,zfe,Wfe,Hfe,Ufe,dce,Kfe,Yfe,ehe,hce,mce,ihe,rhe,che,yce,dhe,hhe,phe,pM,vhe,Uce,wce,whe,_he,She,Nhe,zle,sx,The,qce,Kce,Xce,Ehe,Ahe,Rhe,Phe,Mhe,Bhe,Vhe,Tce,jhe,Khe,Jhe,epe,Ece,npe,spe,rpe,Dce,Qfe,cpe,dpe,hpe,mpe,ype,bpe,kpe,xpe,Rce,Spe,Pce,Npe,Tpe,Epe,Ape,Rpe,zce,Tde,Ppe,Mpe,zpe,Wpe,Hpe,vce,Qpe,eme,nme,fhe];for(const t of ime)iv(t);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jo={},hg={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function sme(t,e){Jo[t]=e}function ta(t,e){if(!(t in Jo)||e!=null){const i=rme(t,e);if(i!==null)Jo[t]=i;else return console.log("Could not get context for WebGL version",t),null}const n=Jo[t];return n==null||n.isContextLost()?(delete Jo[t],ta(t)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),Jo[t])}function ame(t){if(typeof OffscreenCanvas!="undefined"&&t===2)return new OffscreenCanvas(300,150);if(typeof document!="undefined")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function rme(t,e){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=e==null?ame(t):e;return n.addEventListener("webglcontextlost",i=>{i.preventDefault(),delete Jo[t]},!1),J().getBool("SOFTWARE_WEBGL_ENABLED")&&(hg.failIfMajorPerformanceCaveat=!1),t===1?n.getContext("webgl",hg)||n.getContext("experimental-webgl",hg):n.getContext("webgl2",hg)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var yh;(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(yh||(yh={}));var ji;(function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"})(ji||(ji={}));var wn;(function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(wn||(wn={}));function mm(t,e){return[e,t]}function ome(t,e){return t*e}function pg(t){const e=te(t),n=Math.ceil(e/4);return O1(n)}function Ed(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function lme(t,e){const[n,i]=Ed(t,e);return n*i*4}function EN(t,e){const n=t;let i,s,a,r,o,l,c,u,d,f;return J().getNumber("WEBGL_VERSION")===2?(i=n.R32F,s=n.R16F,a=n.RGBA16F,r=n.RGBA32F,o=n.RED,c=4,u=1,d=n.HALF_FLOAT,f=n.FLOAT,l=n.RGBA8):(i=t.RGBA,s=t.RGBA,a=t.RGBA,r=n.RGBA,o=t.RGBA,c=4,u=4,d=e!=null?e.HALF_FLOAT_OES:null,f=t.FLOAT,l=t.RGBA),{internalFormatFloat:i,internalFormatHalfFloat:s,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:r,textureFormatFloat:o,downloadTextureFormat:l,downloadUnpackNumChannels:c,defaultNumChannels:u,textureTypeHalfFloat:d,textureTypeFloat:f}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ve(t,e){const n=e();return J().getBool("DEBUG")&&cme(t),n}function cme(t){const e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+hme(t,e))}const ume=596e-10,dme=65504;function fme(t){return!!(J().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||ume<Math.abs(t)&&Math.abs(t)<dme)}function hme(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${e}`}}function mg(t,e){return xr(t,()=>t.getExtension(e),'Extension "'+e+'" not supported on this browser.')}function pme(t,e){const n=xr(t,()=>t.createShader(t.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(ve(t,()=>t.shaderSource(n,e)),ve(t,()=>t.compileShader(n)),t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function mme(t,e){const n=xr(t,()=>t.createShader(t.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(ve(t,()=>t.shaderSource(n,e)),ve(t,()=>t.compileShader(n)),J().get("ENGINE_COMPILE_ONLY"))return n;if(t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw mM(e,t.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const gme=/ERROR: [0-9]+:([0-9]+):/g;function mM(t,e){const n=gme.exec(e);if(n==null){console.log(`Couldn't parse line number in error: ${e}`),console.log(t);return}const i=+n[1],s=t.split(`
`),a=s.length.toString().length+2,r=s.map((d,f)=>ll((f+1).toString(),a)+d);let o=0;for(let d=0;d<r.length;d++)o=Math.max(r[d].length,o);const l=r.slice(0,i-1),c=r.slice(i-1,i),u=r.slice(i);console.log(l.join(`
`)),console.log(e.split(`
`)[0]),console.log(`%c ${ll(c[0],o)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(u.join(`
`))}function yme(t){return xr(t,()=>t.createProgram(),"Unable to create WebGLProgram.")}function vme(t,e){if(ve(t,()=>t.linkProgram(e)),!J().get("ENGINE_COMPILE_ONLY")&&t.getProgramParameter(e,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function Kw(t,e){if(ve(t,()=>t.validateProgram(e)),t.getProgramParameter(e,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function bme(t,e){const n=xr(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return ve(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),ve(t,()=>t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function wme(t,e){const n=xr(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return ve(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n)),ve(t,()=>t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function kme(t){return xr(t,()=>t.createTexture(),"Unable to create WebGLTexture.")}function _me(t,e){const n=J().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){const i=`[${t}x${e}]`;throw new Error("Requested texture size "+i+" is invalid.")}if(t>n||e>n){const i=`[${t}x${e}]`,s=`[${n}x${n}]`;throw new Error("Requested texture size "+i+" greater than WebGL maximum on this browser / GPU "+s+".")}}function xme(t){return xr(t,()=>t.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function Z$(t,e,n,i,s,a,r){const o=t.getAttribLocation(e,n);return o===-1?!1:(ve(t,()=>t.bindBuffer(t.ARRAY_BUFFER,i)),ve(t,()=>t.vertexAttribPointer(o,s,t.FLOAT,!1,a,r)),ve(t,()=>t.enableVertexAttribArray(o)),!0)}function Sme(t,e,n){$me(t,n),ve(t,()=>t.activeTexture(t.TEXTURE0+n)),ve(t,()=>t.bindTexture(t.TEXTURE_2D,e))}function Cme(t,e,n){return xr(t,()=>t.getUniformLocation(e,n),'uniform "'+n+'" not present in program.')}function Nme(t,e,n){return t.getUniformLocation(e,n)}function Ime(t,e,n,i){ve(t,()=>Sme(t,e,i)),ve(t,()=>t.uniform1i(n,i))}function Xw(t,e,n){ve(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,n)),ve(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0))}function eE(t,e){ve(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,e)),ve(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0))}function gg(t){const e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+Tme(t,e))}function Tme(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${e}`}}function xr(t,e,n){const i=ve(t,()=>e());if(i==null)throw new Error(n);return i}function $me(t,e){const n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,i=e+t.TEXTURE0;if(i<t.TEXTURE0||i>n){const s=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${s}.`)}}function lu(t,e=2){return te(t.slice(0,t.length-e))}function cu(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function yg(t){let e=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(e=[lu(t),...cu(t)]),e}function Eme(t,e=!1){let n=J().getNumber("WEBGL_MAX_TEXTURE_SIZE"),i=J().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");i===1/0&&J().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(i=n/2),e&&(n=n*2,i=i*2,t=t.map((o,l)=>l>=t.length-2?Q0(t[l]):t[l]),t.length===1&&(t=[2,t[0]])),t.length!==2&&(t=mr(t).newShape);let s=te(t),a=null;t.length<=1&&s<=n?a=[1,s]:t.length===2&&t[0]<=n&&t[1]<=n?a=t:t.length===3&&t[0]*t[1]<=n&&t[2]<=n?a=[t[0]*t[1],t[2]]:t.length===3&&t[0]<=n&&t[1]*t[2]<=n?a=[t[0],t[1]*t[2]]:t.length===4&&t[0]*t[1]*t[2]<=n&&t[3]<=n?a=[t[0]*t[1]*t[2],t[3]]:t.length===4&&t[0]<=n&&t[1]*t[2]*t[3]<=n&&(a=[t[0],t[1]*t[2]*t[3]]);const r=a!=null&&Math.max(...a)>i&&Math.min(...a)<=(e?2:1)&&Math.min(...a)>0;if(a==null||r)if(e){const o=lu(t);let l=2,c=2;t.length&&([l,c]=cu(t)),s=o*(l/2)*(c/2),a=O1(s).map(u=>u*2)}else a=O1(s);return a}function vg(t){return t%2===0}function p0(t,e){if(t=t.slice(-2),e=e.slice(-2),Ge(t,e)||!t.length||!e.length||t[0]===0||t[1]===0||e[0]===0||e[1]===0)return!0;if(t.length!==e.length){const n=t.slice(-1)[0],i=e.slice(-1)[0];if(n===i||vg(n)&&vg(i)&&(t[0]===1||e[0]===1))return!0}return t[1]===e[1]&&vg(t[0])&&vg(e[0])}let Jw,Yw;function Dme(t){if(Jw==null){const e=ta(t);Jw=e.getParameter(e.MAX_TEXTURE_SIZE)}return Jw}function Ame(t){if(Yw==null){const e=ta(t);Yw=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,Yw)}function Fme(t){if(t===0)return 0;let e;const n=ta(t);return ws(n,"EXT_disjoint_timer_query_webgl2")&&t===2?e=2:ws(n,"EXT_disjoint_timer_query")?e=1:e=0,e}function ws(t,e){return t.getExtension(e)!=null}function tE(t){try{if(ta(t)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function Rme(t){if(t===0)return!1;const e=ta(t);if(t===1){if(!ws(e,"OES_texture_float"))return!1}else if(!ws(e,"EXT_color_buffer_float"))return!1;return rx(e)}function Ome(t){if(t===0)return!1;const e=ta(t);if(t===1){if(!ws(e,"OES_texture_float")||!ws(e,"WEBGL_color_buffer_float"))return!1}else{if(ws(e,"EXT_color_buffer_float"))return rx(e);const i="EXT_color_buffer_half_float";if(ws(e,i)){const s=e.getExtension(i);return Pme(e,s)}return!1}return rx(e)}function rx(t){const e=EN(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n);const i=1,s=1;t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,i,s,0,e.textureFormatFloat,e.textureTypeFloat,null);const a=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,a),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);const r=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(a),r}function Pme(t,e){const n=EN(t,e),i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i);const s=1,a=1;t.texImage2D(t.TEXTURE_2D,0,n.internalFormatHalfFloat,s,a,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0);const o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(i),t.deleteFramebuffer(r),o}function Lme(t){return t!==2?!1:ta(t).fenceSync!=null}function gm(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&E(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the WebGL backend.`)})}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ne=J();Ne.registerFlag("HAS_WEBGL",()=>Ne.getNumber("WEBGL_VERSION")>0);Ne.registerFlag("WEBGL_VERSION",()=>tE(2)?2:tE(1)?1:0);Ne.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);Ne.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>Ne.get("WEBGL_VERSION")===2);Ne.registerFlag("WEBGL_CPU_FORWARD",()=>!0);Ne.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);Ne.registerFlag("WEBGL_PACK",()=>Ne.getBool("HAS_WEBGL"));Ne.registerFlag("WEBGL_PACK_NORMALIZATION",()=>Ne.getBool("WEBGL_PACK"));Ne.registerFlag("WEBGL_PACK_CLIP",()=>Ne.getBool("WEBGL_PACK"));Ne.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>Ne.getBool("WEBGL_PACK"));Ne.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>Ne.getBool("WEBGL_PACK"));Ne.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>Ne.getBool("WEBGL_PACK"));Ne.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>Ne.getBool("WEBGL_PACK"));Ne.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>Ne.getBool("WEBGL_PACK"));Ne.registerFlag("WEBGL_PACK_REDUCE",()=>Ne.getBool("WEBGL_PACK"));Ne.registerFlag("WEBGL_LAZILY_UNPACK",()=>Ne.getBool("WEBGL_PACK"));Ne.registerFlag("WEBGL_CONV_IM2COL",()=>Ne.getBool("WEBGL_PACK"));Ne.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>Dme(Ne.getNumber("WEBGL_VERSION")));Ne.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>Ame(Ne.getNumber("WEBGL_VERSION")));Ne.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const t=Ne.getNumber("WEBGL_VERSION");return t===0?0:Fme(t)});Ne.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>Ne.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!Q2());Ne.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>Rme(Ne.getNumber("WEBGL_VERSION")));Ne.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>Ne.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:Ne.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));Ne.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>Ome(Ne.getNumber("WEBGL_VERSION")));Ne.registerFlag("WEBGL_FENCE_API_ENABLED",()=>Lme(Ne.getNumber("WEBGL_VERSION")));Ne.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>Ne.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);Ne.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,t=>{if(t<0&&t!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${t}.`)});Ne.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>Q2()?1:-1,t=>{if(t<0&&t!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${t}.`)});Ne.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);Ne.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);Ne.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);Ne.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);Ne.registerFlag("WEBGL_EXP_CONV",()=>!1);Ne.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>Ne.getBool("IS_TEST"));Ne.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);Ne.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);Ne.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);Ne.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ni(){let t,e,n,i,s,a,r,o,l,c;return J().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",e="in",n="out",i="in",s="texture",a="outputColor",r="out vec4 outputColor;",o=J().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",l="",c=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(t="",e="attribute",n="varying",i="varying",s="texture2D",a="gl_FragColor",r="",o=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,l=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,c=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:t,attribute:e,varyingVs:n,varyingFs:i,texture2D:s,output:a,defineOutput:r,defineSpecialNaN:o,defineSpecialInf:l,defineRound:c}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ql(t,e,n="index"){const i=Ie(e);return i.map((s,a)=>{const r=`int ${t[a]} = ${n} / ${s}`,o=a===i.length-1?`int ${t[a+1]} = ${n} - ${t[a]} * ${s}`:`index -= ${t[a]} * ${s}`;return`${r}; ${o};`}).join("")}function xb(t,e,n="index"){const i=Ie(e);return i.map((s,a)=>{const r=`int ${t[a]} = ${n} / outShapeStrides[${a}]`,o=a===i.length-1?`int ${t[a+1]} = ${n} - ${t[a]} * outShapeStrides[${a}]`:`index -= ${t[a]} * outShapeStrides[${a}]`;return`${r}; ${o};`}).join("")}function Mme(t,e){const n=t.length,i=t.map(a=>`${e}[${a}]`),s=new Array(n-1);s[n-2]=i[n-1];for(let a=n-3;a>=0;--a)s[a]=`(${s[a+1]} * ${i[a+1]})`;return s}function Bme(t,e,n="index"){const i=t.map((a,r)=>r),s=Mme(i,e);return s.map((a,r)=>{const o=`int ${t[r]} = ${n} / ${s[r]}`,l=r===s.length-1?`int ${t[r+1]} = ${n} - ${t[r]} * ${s[r]}`:`index -= ${t[r]} * ${s[r]}`;return`${o}; ${l};`}).join("")}function DN(t){const e=Ie(t).map(n=>n.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${e[0]} + coords.y * ${e[1]} + coords.z;
  }
`}function AN(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const gM=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{getBroadcastDims:yM}=$5;function zme(t,e,n){const i=[];if(t.forEach(h=>{const p=te(h.shapeInfo.logicalShape);if(h.shapeInfo.isUniform?i.push(`uniform float ${h.name}${p>1?`[${p}]`:""};`):(i.push(`uniform sampler2D ${h.name};`),i.push(`uniform int offset${h.name};`)),n.enableShapeUniforms){const{uniformShape:m}=FN(n.packedInputs,h.shapeInfo.logicalShape,h.shapeInfo.texShape);switch(m.length){case 1:i.push(`uniform int ${h.name}Shape;`);break;case 2:i.push(`uniform ivec2 ${h.name}Shape;`);break;case 3:i.push(`uniform ivec3 ${h.name}Shape;`);break;case 4:i.push(`uniform ivec4 ${h.name}Shape;`);break}i.push(`uniform ivec2 ${h.name}TexShape;`)}}),n.enableShapeUniforms){switch(e.logicalShape.length){case 1:i.push("uniform int outShape;");break;case 2:i.push("uniform ivec2 outShape;"),i.push("uniform int outShapeStrides;");break;case 3:i.push("uniform ivec3 outShape;"),i.push("uniform ivec2 outShapeStrides;");break;case 4:i.push("uniform ivec4 outShape;"),i.push("uniform ivec3 outShapeStrides;");break}i.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(h=>{i.push(`uniform ${h.type} ${h.name}${h.arrayIndex?`[${h.arrayIndex}]`:""};`)});const s=i.join(`
`),a=t.map(h=>Vme(h,e,n.packedInputs,n.enableShapeUniforms)).join(`
`),r=e.texShape,o=ni(),l=Hme(o);let c,u,d=qme(o);return e.isPacked?(c=Wme(e.logicalShape,r,n.enableShapeUniforms),u=Ume(o)):(c=jme(e.logicalShape,r,n.enableShapeUniforms),u=Gme(o)),n.packedInputs&&(d+=Yme),[d,l,u,s,c,a,n.userCode].join(`
`)}function Dd(t,e=!1){const n=t.shapeInfo.logicalShape;switch(n.length){case 0:return cge(t,e);case 1:return dge(t,e);case 2:return hge(t,e);case 3:return mge(t,e);case 4:return yge(t,e);case 5:return vge(t);case 6:return bge(t);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function vM(t,e){switch(t.shapeInfo.logicalShape.length){case 0:return lge(t);case 1:return uge(t,e);case 2:return fge(t,e);case 3:return pge(t,e);default:return gge(t,e)}}function Vme(t,e,n=!1,i){let s="";n?s+=vM(t,i):s+=Dd(t,i);const a=t.shapeInfo.logicalShape,r=e.logicalShape;return a.length<=r.length&&(n?s+=wge(t,e):s+=kge(t,e)),s}function Wme(t,e,n){switch(t.length){case 0:return bM();case 1:return Qme(t,e,n);case 2:return rge(t,e,n);case 3:return ege(t,e,n);default:return nge(t,e,n)}}function jme(t,e,n){switch(t.length){case 0:return bM();case 1:return Zme(t,e,n);case 2:return oge(t,e,n);case 3:return tge(t,e,n);case 4:return ige(t,e,n);case 5:return sge(t,e);case 6:return age(t,e);default:throw new Error(`${t.length}-D output sampling is not yet supported`)}}function Hme(t){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${t.texture2D}(textureSampler, uv).r;
    }
  `}function Gme(t){return`
    void setOutput(float val) {
      ${t.output} = vec4(val, 0, 0, 0);
    }
  `}function Ume(t){return`
    void setOutput(vec4 val) {
      ${t.output} = val;
    }
  `}function qme(t){return`${t.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${t.varyingFs} vec2 resultUV;
    ${t.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${t.defineSpecialNaN}
    ${t.defineSpecialInf}
    ${t.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${Kme}
    ${Xme}
    ${Jme}
  `}const Kme=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Xme=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Jme=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Yme=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function bM(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function Qme(t,e,n){const i=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return i[0]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${i[1]}.0);
      }
    `:i[1]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${i[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${i[0]}, ${i[1]}));
      return 2 * (resTexRC.x * ${i[1]} + resTexRC.y);
    }
  `}function Zme(t,e,n){return e[0]===1?n?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${e[1]}.0);
      }
    `:e[1]===1?n?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${e[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      return resTexRC.x * ${e[1]} + resTexRC.y;
    }
  `}function ege(t,e,n){if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const i=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],s=Math.ceil(t[2]/2),a=s*Math.ceil(t[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${i[0]}, ${i[1]}));
      int index = resTexRC.x * ${i[1]} + resTexRC.y;

      int b = index / ${a};
      index -= b * ${a};

      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec3(b, r, c);
    }
  `}function tge(t,e,n){if(n)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${xb(["r","c","d"],t)}
    return ivec3(r, c, d);
  }
`;const i=Ql(["r","c","d"],t);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${i}
      return ivec3(r, c, d);
    }
  `}function nge(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const i=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],s=Math.ceil(t[t.length-1]/2),a=s*Math.ceil(t[t.length-2]/2);let r=a,o="",l="b, r, c";for(let c=2;c<t.length-1;c++)r*=t[t.length-c-1],o=`
      int b${c} = index / ${r};
      index -= b${c} * ${r};
    `+o,l=`b${c}, `+l;return`
    ivec${t.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${i[0]}, ${i[1]}));
      int index = resTexRC.x * ${i[1]} + resTexRC.y;

      ${o}

      int b = index / ${a};
      index -= b * ${a};

      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec${t.length}(${l});
    }
  `}function ige(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${xb(["r","c","d","d2"],t)}
      return ivec4(r, c, d, d2);
    }
  `;const i=Ql(["r","c","d","d2"],t);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${i}
      return ivec4(r, c, d, d2);
    }
  `}function sge(t,e){const n=Ql(["r","c","d","d2","d3"],t);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${e[0]},
                             ${e[1]}));

      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function age(t,e){const n=Ql(["r","c","d","d2","d3","d4"],t);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function rge(t,e,n){const i=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(Ge(t,e))return n?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${i[0]}, ${i[1]}));
      }
    `;const s=Math.ceil(t[1]/2);return n?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${i[0]}, ${i[1]}));

      int index = resTexRC.x * ${i[1]} + resTexRC.y;
      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec2(r, c);
    }
  `}function oge(t,e,n){return Ge(t,e)?n?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${e[0]}, ${e[1]}));
      }
    `:t[1]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:t[0]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:n?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      int r = index / ${t[1]};
      int c = index - r * ${t[1]};
      return ivec2(r, c);
    }
  `}function Zl(t){return`offset${t}`}function lge(t){const e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),i=ni();return`
    vec4 ${n}() {
      return ${i.texture2D}(${e}, halfCR);
    }
  `}function cge(t,e){const n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`float ${i}() {return ${n};}`;const[s,a]=t.shapeInfo.texShape;if(s===1&&a===1)return`
      float ${i}() {
        return sampleTexture(${n}, halfCR);
      }
    `;const r=Zl(n);if(e)return`
    float ${i}() {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${r});
      return sampleTexture(${n}, uv);
    }
  `;const[o,l]=t.shapeInfo.texShape;return`
    float ${i}() {
      vec2 uv = uvFromFlat(${o}, ${l}, ${r});
      return sampleTexture(${n}, uv);
    }
  `}function uge(t,e){const n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),s=t.shapeInfo.texShape,a=ni();if(e)return`
    vec4 ${i}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${a.texture2D}(${n}, uv);
    }
  `;const r=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];return`
    vec4 ${i}(int index) {
      vec2 uv = packedUVfrom1D(
        ${r[0]}, ${r[1]}, index);
      return ${a.texture2D}(${n}, uv);
    }
  `}function dge(t,e){const n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`
      float ${i}(int index) {
        ${Ad(t)}
      }
    `;const s=t.shapeInfo.texShape,a=s[0],r=s[1];if(r===1&&a===1)return`
      float ${i}(int index) {
        return sampleTexture(${n}, halfCR);
      }
    `;const o=Zl(n);return r===1?e?`
      float ${i}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${i}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / ${a}.0);
        return sampleTexture(${n}, uv);
      }
    `:a===1?e?`
      float ${i}(int index) {
        vec2 uv = vec2((float(index + ${o}) + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${i}(int index) {
        vec2 uv = vec2((float(index + ${o}) + 0.5) / ${r}.0, 0.5);
        return sampleTexture(${n}, uv);
      }
    `:e?`
    float ${i}(int index) {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${o});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${i}(int index) {
      vec2 uv = uvFromFlat(${a}, ${r}, index + ${o});
      return sampleTexture(${n}, uv);
    }
  `}function fge(t,e){const n=t.shapeInfo.logicalShape,i=t.name,s="get"+i.charAt(0).toUpperCase()+i.slice(1),a=t.shapeInfo.texShape,r=a[0],o=a[1],l=ni();if(a!=null&&Ge(n,a))return e?`
      vec4 ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${i}TexShape[1], ${i}TexShape[0]);

        return ${l.texture2D}(${i}, uv);
      }
    `:`
      vec4 ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}.0, ${r}.0);

        return ${l.texture2D}(${i}, uv);
      }
    `;if(e)return`
    vec4 ${s}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${i}TexShape[0]) / 2.0), ceil(float(${i}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${i}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${l.texture2D}(${i}, uv);
    }
  `;const c=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],u=Math.ceil(n[1]/2);return`
    vec4 ${s}(int row, int col) {
      vec2 uv = packedUVfrom2D(${u}, ${c[0]}, ${c[1]}, row, col);
      return ${l.texture2D}(${i}, uv);
    }
  `}function hge(t,e){const n=t.shapeInfo.logicalShape,i=t.name,s="get"+i.charAt(0).toUpperCase()+i.slice(1),a=t.shapeInfo.texShape;if(a!=null&&Ge(n,a)){if(e)return`
      float ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${i}TexShape[1], ${i}TexShape[0]);
        return sampleTexture(${i}, uv);
      }
    `;const f=a[0],h=a[1];return`
    float ${s}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${h}.0, ${f}.0);
      return sampleTexture(${i}, uv);
    }
  `}const{newShape:r,keptDims:o}=mr(n),l=r;if(l.length<n.length){const f=Fd(t,l),h=["row","col"];return`
      ${Dd(f,e)}
      float ${s}(int row, int col) {
        return ${s}(${Rd(h,o)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));
        ${Ad(t)}
      }
    `;const c=a[0],u=a[1],d=Zl(i);return u===1?e?`
      float ${s}(int row, int col) {
        float index = dot(vec3(row, col, ${d}), vec3(${i}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${i}TexShape[0]));
        return sampleTexture(${i}, uv);
      }
    `:`
    float ${s}(int row, int col) {
      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${c}.0);
      return sampleTexture(${i}, uv);
    }
  `:c===1?e?`
      float ${s}(int row, int col) {
        float index = dot(vec3(row, col, ${d}), vec3(${i}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${i}TexShape[1]), 0.5);
        return sampleTexture(${i}, uv);
      }
    `:`
    float ${s}(int row, int col) {
      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${u}.0, 0.5);
      return sampleTexture(${i}, uv);
    }
  `:e?`
      float ${s}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${i}Shape[1] + col + ${d};
        vec2 uv = uvFromFlat(${i}TexShape[0], ${i}TexShape[1], index);
        return sampleTexture(${i}, uv);
      }
    `:`
  float ${s}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${n[1]} + col + ${d};
    vec2 uv = uvFromFlat(${c}, ${u}, index);
    return sampleTexture(${i}, uv);
  }
`}function pge(t,e){const n=t.shapeInfo.logicalShape,i=t.name,s="get"+i.charAt(0).toUpperCase()+i.slice(1),a=t.shapeInfo.texShape,r=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(n[0]===1){const f=n.slice(1),h=[1,2],p=Fd(t,f),m=["b","row","col"];return`
        ${vM(p,e)}
        vec4 ${s}(int b, int row, int col) {
          return ${s}(${Rd(m,h)});
        }
      `}const o=ni();if(e)return`
    vec4 ${s}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${i}TexShape[0]) / 2.0), ceil(float(${i}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${i}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${i}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${o.texture2D}(${i}, uv);
    }
  `;const l=r[0],c=r[1],u=Math.ceil(n[2]/2),d=u*Math.ceil(n[1]/2);return`
    vec4 ${s}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${l}, ${c}, ${d}, ${u}, b, row, col);
      return ${o.texture2D}(${i}, uv);
    }
  `}function mge(t,e){const n=t.shapeInfo.logicalShape,i=t.name,s="get"+i.charAt(0).toUpperCase()+i.slice(1),a=n[1]*n[2],r=n[2],{newShape:o,keptDims:l}=mr(n),c=o;if(c.length<n.length){const m=Fd(t,c),y=["row","col","depth"];return`
        ${Dd(m,e)}
        float ${s}(int row, int col, int depth) {
          return ${s}(${Rd(y,l)});
        }
      `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${a}, ${r}, 1)));
        ${Ad(t)}
      }
    `;const u=t.shapeInfo.texShape,d=u[0],f=u[1],h=t.shapeInfo.flatOffset;if(f===a&&h==null)return e?`
      float ${s}(int row, int col, int depth) {
        int stride1 = ${i}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${i}TexShape[1], ${i}TexShape[0]);
        return sampleTexture(${i}, uv);
      }
    `:`
        float ${s}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${r}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${f}.0, ${d}.0);
          return sampleTexture(${i}, uv);
        }
      `;if(f===r&&h==null)return e?`
      float ${s}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${i}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${i}TexShape[1], ${i}TexShape[0]);
        return sampleTexture(${i}, uv);
      }
    `:`
    float ${s}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${f}.0, ${d}.0);
      return sampleTexture(${i}, uv);
    }
  `;const p=Zl(i);return e?`
    float ${s}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${i}Shape[1] * ${i}Shape[2];
      int stride1 = ${i}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${p};
      vec2 uv = uvFromFlat(${i}TexShape[0], ${i}TexShape[1], index);
      return sampleTexture(${i}, uv);
    }
    `:`
      float ${s}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${a} + col * ${r} + depth + ${p};
        vec2 uv = uvFromFlat(${d}, ${f}, index);
        return sampleTexture(${i}, uv);
      }
  `}function gge(t,e){const n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),s=ni();if(e)return`
    vec4 ${i}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${n}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${s.texture2D}(${n}, uv);
    }
  `;const a=t.shapeInfo.logicalShape,r=a.length,o=t.shapeInfo.texShape,l=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],c=l[0],u=l[1],d=Math.ceil(a[r-1]/2);let f=d*Math.ceil(a[r-2]/2),h="int b, int row, int col",p=`b * ${f} + (row / 2) * ${d} + (col / 2)`;for(let m=2;m<r-1;m++)h=`int b${m}, `+h,f*=a[r-m-1],p=`b${m} * ${f} + `+p;return`
    vec4 ${i}(${h}) {
      int index = ${p};
      int texR = index / ${u};
      int texC = index - texR * ${u};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${u}, ${c});
      return ${s.texture2D}(${n}, uv);
    }
  `}function yge(t,e){const n=t.shapeInfo.logicalShape,i=t.name,s="get"+i.charAt(0).toUpperCase()+i.slice(1),a=n[3],r=n[2]*a,o=n[1]*r,{newShape:l,keptDims:c}=mr(n);if(l.length<n.length){const v=Fd(t,l),b=["row","col","depth","depth2"];return`
      ${Dd(v,e)}
      float ${s}(int row, int col, int depth, int depth2) {
        return ${s}(${Rd(b,c)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${o}, ${r}, ${a}, 1)));
        ${Ad(t)}
      }
    `;const u=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,f=d[0],h=d[1],p=`int stride2 = ${i}Shape[3];`,m=`int stride1 = ${i}Shape[2] * stride2;`,y=`int stride0 = ${i}Shape[1] * stride1;`;if(h===o&&u==null)return e?`
      float ${s}(int row, int col, int depth, int depth2) {
        ${p}
        ${m}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${i}TexShape[1], ${i}TexShape[0]);
        return sampleTexture(${i}, uv);
      }
    `:`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${r}, ${a}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${f}.0);
        return sampleTexture(${i}, uv);
      }
    `;if(h===a&&u==null)return e?`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${i}Shape[1] * ${i}Shape[2], ${i}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${i}TexShape[1], ${i}TexShape[0]);
        return sampleTexture(${i}, uv);
      }
    `:`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n[1]*n[2]}, ${n[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${f}.0);
        return sampleTexture(${i}, uv);
      }
    `;const g=Zl(i);return e?`
    float ${s}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${p}
      ${m}
      ${y}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${i}TexShape[0], ${i}TexShape[1], index + ${g});
      return sampleTexture(${i}, uv);
    }
  `:`
    float ${s}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${o} + col * ${r} +
          depth * ${a} + depth2;
      vec2 uv = uvFromFlat(${f}, ${h}, index + ${g});
      return sampleTexture(${i}, uv);
    }
  `}function vge(t){const e=t.shapeInfo.logicalShape,n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),s=e[4],a=e[3]*s,r=e[2]*a,o=e[1]*r,{newShape:l,keptDims:c}=mr(e);if(l.length<e.length){const m=Fd(t,l),y=["row","col","depth","depth2","depth3"];return`
      ${Dd(m)}
      float ${i}(int row, int col, int depth, int depth2, int depth3) {
        return ${i}(${Rd(y,c)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${i}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${o}, ${r}, ${a}, ${s})) +
          depth3;
        ${Ad(t)}
      }
    `;const u=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,f=d[0],h=d[1];if(h===o&&u==null)return`
      float ${i}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${r}, ${a}, ${s}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${f}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(h===s&&u==null)return`
      float ${i}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]},
               ${e[2]*e[3]}, ${e[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${f}.0);
        return sampleTexture(${n}, uv);
      }
    `;const p=Zl(n);return`
    float ${i}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${o} + col * ${r} + depth * ${a} +
          depth2 * ${s} + depth3 + ${p};
      vec2 uv = uvFromFlat(${f}, ${h}, index);
      return sampleTexture(${n}, uv);
    }
  `}function bge(t){const e=t.shapeInfo.logicalShape,n=t.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:s,keptDims:a}=mr(e);if(s.length<e.length){const y=Fd(t,s),g=["row","col","depth","depth2","depth3","depth4"];return`
      ${Dd(y)}
      float ${i}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${i}(${Rd(g,a)});
      }
    `}const r=e[5],o=e[4]*r,l=e[3]*o,c=e[2]*l,u=e[1]*c;if(t.shapeInfo.isUniform)return`
      float ${i}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${u}, ${c}, ${l}, ${o})) +
          dot(
            vec2(depth3, depth4),
            vec2(${r}, 1)));
        ${Ad(t)}
      }
    `;const d=t.shapeInfo.flatOffset,f=t.shapeInfo.texShape,h=f[0],p=f[1];if(p===u&&d==null)return`
      float ${i}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${c}, ${l}, ${o}, ${r})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${p}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(p===r&&d==null)return`
      float ${i}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]*e[4]},
               ${e[2]*e[3]*e[4]},
               ${e[3]*e[4]},
               ${e[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${p}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;const m=Zl(n);return`
    float ${i}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${u} + col * ${c} + depth * ${l} +
          depth2 * ${o} + depth3 * ${r} + depth4 + ${m};
      vec2 uv = uvFromFlat(${h}, ${p}, index);
      return sampleTexture(${n}, uv);
    }
  `}function Ad(t){const e=t.name,n=te(t.shapeInfo.logicalShape);return n<2?`return ${e};`:`
    for (int i = 0; i < ${n}; i++) {
      if (i == index) {
        return ${e}[i];
      }
    }
  `}function wge(t,e){const n=t.name,i=n.charAt(0).toUpperCase()+n.slice(1),s="get"+i+"AtOutCoords",a=t.shapeInfo.logicalShape.length,r=e.logicalShape.length,o=yM(t.shapeInfo.logicalShape,e.logicalShape),l=ht(r),c=r-a;let u;const d=["x","y","z","w","u","v"];a===0?u="":r<2&&o.length>=1?u="coords = 0;":u=o.map(v=>`coords.${d[v+c]} = 0;`).join(`
`);let f="";r<2&&a>0?f="coords":f=t.shapeInfo.logicalShape.map((v,b)=>`coords.${d[b+c]}`).join(", ");let h="return outputValue;";const m=te(t.shapeInfo.logicalShape)===1,g=te(e.logicalShape)===1;if(a===1&&!m&&!g)h=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(m&&!g)r===1?h=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:h=`
        return vec4(outputValue.x);
      `;else if(o.length){const v=a-2,b=a-1;o.indexOf(v)>-1&&o.indexOf(b)>-1?h="return vec4(outputValue.x);":o.indexOf(v)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":o.indexOf(b)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${s}() {
      ${l} coords = getOutputCoords();
      ${u}
      vec4 outputValue = get${i}(${f});
      ${h}
    }
  `}function kge(t,e){const n=t.name,i=n.charAt(0).toUpperCase()+n.slice(1),s="get"+i+"AtOutCoords",a=e.texShape,r=t.shapeInfo.texShape,o=t.shapeInfo.logicalShape.length,l=e.logicalShape.length;if(!t.shapeInfo.isUniform&&o===l&&t.shapeInfo.flatOffset==null&&Ge(r,a))return`
      float ${s}() {
        return sampleTexture(${n}, resultUV);
      }
    `;const c=ht(l),u=yM(t.shapeInfo.logicalShape,e.logicalShape),d=l-o;let f;const h=["x","y","z","w","u","v"];o===0?f="":l<2&&u.length>=1?f="coords = 0;":f=u.map(m=>`coords.${h[m+d]} = 0;`).join(`
`);let p="";return l<2&&o>0?p="coords":p=t.shapeInfo.logicalShape.map((m,y)=>`coords.${h[y+d]}`).join(", "),`
    float ${s}() {
      ${c} coords = getOutputCoords();
      ${f}
      return get${i}(${p});
    }
  `}function ht(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error(`GPU for rank ${t} is not yet supported`)}function FN(t,e,n){const{newShape:i,keptDims:s}=mr(e),a=e.length,r=t&&a===3&&e[0]===1,o=r?e.slice(1):i,l=!t&&a>1&&!Ge(e,n)&&i.length<a||r;return{useSqueezeShape:l,uniformShape:l?o:e,keptDims:s}}function Fd(t,e){const n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function Rd(t,e){return e.map(n=>t[n]).join(", ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _ge(t,e,n,i){const s=n.map((u,d)=>{const f={logicalShape:u.shape,texShape:u.isUniform?null:u.texData.texShape,isUniform:u.isUniform,isPacked:u.isUniform?!1:u.texData.isPacked,flatOffset:null};return u.texData!=null&&u.texData.slice!=null&&u.texData.slice.flatOffset>0&&(f.flatOffset=u.texData.slice.flatOffset),{name:e.variableNames[d],shapeInfo:f}}),a=s.map(u=>u.shapeInfo),r={logicalShape:i.shape,texShape:i.texData.texShape,isUniform:!1,isPacked:i.texData.isPacked,flatOffset:null},o=zme(s,r,e),l=mme(t.gl,o),c=t.createProgram(l);return J().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:l,source:o,webGLProgram:c,inShapeInfos:a,outShapeInfo:r,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:e,fragmentShader:l,source:o,webGLProgram:c,inShapeInfos:a,outShapeInfo:r},wM(t,e,c))}function wM(t,e,n){const i={},s={},a={},r=[];let o,l,c,u=null,d=null;d=t.getUniformLocation(n,"NAN",!1),J().getNumber("WEBGL_VERSION")===1&&(u=t.getUniformLocation(n,"INFINITY",!1));const f=!1;for(let h=0;h<e.variableNames.length;h++){const p=e.variableNames[h];i[p]=t.getUniformLocation(n,p,f),i[`offset${p}`]=t.getUniformLocation(n,`offset${p}`,f),e.enableShapeUniforms&&(s[`${p}Shape`]=t.getUniformLocation(n,`${p}Shape`,f),a[`${p}TexShape`]=t.getUniformLocation(n,`${p}TexShape`,f))}return e.enableShapeUniforms&&(o=t.getUniformLocation(n,"outShape",f),c=t.getUniformLocation(n,"outShapeStrides",f),l=t.getUniformLocation(n,"outTexShape",f)),e.customUniforms&&e.customUniforms.forEach((h,p)=>{r[p]=t.getUniformLocation(n,h.name,f)}),{uniformLocations:i,customUniformLocations:r,infLoc:u,nanLoc:d,inShapesLocations:s,inTexShapesLocations:a,outShapeLocation:o,outShapeStridesLocation:c,outTexShapeLocation:l}}function nE(t,e){if(t.length!==e.length)throw Error(`Binary was compiled with ${t.length} inputs, but was executed with ${e.length} inputs`);t.forEach((n,i)=>{const s=n.logicalShape,a=e[i],r=a.shape;if(!Ge(s,r))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${s} and ${r} must match`);if(n.isUniform&&a.isUniform)return;const o=n.texShape,l=a.isUniform?null:a.texData.texShape;if(!Ge(o,l))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${o} and ${l} must match`)})}function xge(t,e,n,i,s){e.program.enableShapeUniforms||(nE(e.inShapeInfos,n),nE([e.outShapeInfo],[i]));const a=i.texData.texture,r=i.texData.texShape;i.texData.isPacked?t.setOutputPackedMatrixTexture(a.texture,r[0],r[1]):t.setOutputMatrixTexture(a.texture,r[0],r[1]),t.setProgram(e.webGLProgram),J().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&t.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&t.gl.uniform1f(e.nanLoc,NaN),n.forEach((l,c)=>{const u=e.program.variableNames[c],d=e.uniformLocations[u],f=e.uniformLocations[`offset${u}`],h=e.inShapesLocations[`${u}Shape`],p=e.inTexShapesLocations[`${u}TexShape`];if(h){const{uniformShape:m}=FN(e.program.packedInputs,l.shape,l.texData.texShape);switch(m.length){case 1:t.gl.uniform1iv(h,new Int32Array(m));break;case 2:t.gl.uniform2iv(h,new Int32Array(m));break;case 3:t.gl.uniform3iv(h,new Int32Array(m));break;case 4:t.gl.uniform4iv(h,new Int32Array(m));break}}if(p&&t.gl.uniform2i(p,l.texData.texShape[0],l.texData.texShape[1]),d!=null){if(l.isUniform){if(te(l.shape)<2)t.gl.uniform1f(d,l.uniformValues[0]);else{let m=l.uniformValues;m instanceof Float32Array||(m=new Float32Array(m)),t.gl.uniform1fv(d,m)}return}l.texData.slice!=null&&f!=null&&t.gl.uniform1i(f,l.texData.slice.flatOffset),t.setInputMatrixTexture(l.texData.texture.texture,d,c)}});const o=e.outShapeLocation;if(o)switch(i.shape.length){case 1:t.gl.uniform1iv(o,new Int32Array(i.shape));break;case 2:t.gl.uniform2iv(o,new Int32Array(i.shape));break;case 3:t.gl.uniform3iv(o,new Int32Array(i.shape));break;case 4:t.gl.uniform4iv(o,new Int32Array(i.shape));break}if(e.outShapeStridesLocation){const l=Ie(i.shape);switch(i.shape.length){case 2:t.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(l));break;case 3:t.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(l));break;case 4:t.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(l));break}}e.outTexShapeLocation&&t.gl.uniform2i(e.outTexShapeLocation,i.texData.texShape[0],i.texData.texShape[1]),e.program.customUniforms&&s&&e.program.customUniforms.forEach((l,c)=>{const u=e.customUniformLocations[c],d=s[c];if(l.type==="float")t.gl.uniform1fv(u,d);else if(l.type==="vec2")t.gl.uniform2fv(u,d);else if(l.type==="vec3")t.gl.uniform3fv(u,d);else if(l.type==="vec4")t.gl.uniform4fv(u,d);else if(l.type==="int")t.gl.uniform1iv(u,d);else if(l.type==="ivec2")t.gl.uniform2iv(u,d);else if(l.type==="ivec3")t.gl.uniform3iv(u,d);else if(l.type==="ivec4")t.gl.uniform4iv(u,d);else throw Error(`uniform type ${l.type} is not supported yet.`)}),t.executeProgram()}function Sge(t,e,n){let i="";e.concat(n).forEach(r=>{const o=r.texData!=null&&r.texData.slice!=null&&r.texData.slice.flatOffset>0;if(t.enableShapeUniforms&&!r.isUniform){const l=r.texData.texShape,{useSqueezeShape:c,uniformShape:u,keptDims:d}=FN(t.packedInputs,r.shape,l);let f="",h="",p="";if(u.length===1&&t.packedInputs){const k=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];f=`${k[0]>1}_${k[1]>1}`}else if(u.length===2&&!t.packedInputs)h=`${u[0]>1}_${u[1]>1}`;else if(u.length>2&&!t.packedInputs){const k=Ie(u);p=`${k[0]===l[1]}_${k[k.length-1]===l[1]}`}const m=r.shape.length,y=u.length===2&&Ge(r.shape,l),g=te(r.shape)===1,v=Cl(r.shape,n.shape),b=!t.packedInputs&&m===n.shape.length&&Ge(l,n.texData.texShape),w=t.packedInputs||u.length>2?"":`${l[0]>1}_${l[1]>1}`;i+=`${m}_${b}_${c?d:""}_${u.length}_${g}_${v}_${y}_${f}_${h}_${p}_${w}_${o}`}else{const l=r.isUniform?"uniform":r.texData.texShape;i+=`${r.shape}_${l}_${o}`}});const s=t.userCode;let a=t.constructor.name;return a+="_"+i+"_"+s+`${J().getNumber("WEBGL_VERSION")}`,a}function ii(t){return J().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&t<=4}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Cge{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=yh.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=ni();this.outputShape=e,this.enableShapeUniforms=ii(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?xb(["r","c","d"],e):Ql(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Nge{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=yh.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=ni();this.outputShape=e,this.enableShapeUniforms=ii(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?xb(["r","c","d"],e):Ql(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ige{constructor(e){this.variableNames=["A"],this.outTexUsage=ji.DOWNLOAD;const n=ni();this.outputShape=e,this.userCode=`
      ${gM}

      void main() {
        float x = getAAtOutCoords();
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Tge{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=ji.DOWNLOAD;const n=ni();this.outputShape=e,this.userCode=`
      ${gM}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $ge={R:0,G:1,B:2,A:3};class iE{constructor(e,n=!1,i="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const s=ni();this.outputShape=e,this.enableShapeUniforms=ii(this.outputShape.length);let a="result";n&&(a="floor(result * 255. + 0.5)");let r="";for(let o=0;o<i.length;o++){const l=i[o];r+=`
          if(offset == ${o}) {
            result = values[${$ge[l]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?AN():DN(e)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${i.length});

        flatIndex = idiv(flatIndex, ${i.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${s.texture2D}(A, uv);
          ${r}
        }
        ${s.output} = vec4(${a}, 0., 0., 0.);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ege{constructor(e,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const i=ni();this.outputShape=e,this.enableShapeUniforms=ii(this.outputShape.length);let s="",a="result";n&&(a="floor(result * 255. + 0.5)");for(let r=0;r<=1;r++)for(let o=0;o<=1;o++){const l=r*2+o;s+=`
          localCoords = coords;
          if(localCoords[2] + ${o} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${o};
          if (localCoords[1] + ${r} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${r};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${i.texture2D}(A, uv);

            if (offset == 0) {
              result[${l}] = values[0];
            } else if (offset == 1) {
              result[${l}] = values[1];
            } else if (offset == 2) {
              result[${l}] = values[2];
            } else {
              result[${l}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?AN():DN(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${s}

          ${i.output} = ${a};
        }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dge(t){const e=ni(),n=`${e.version}
    precision highp float;
    ${e.attribute} vec3 clipSpacePos;
    ${e.attribute} vec2 uv;
    ${e.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return pme(t,n)}function Age(t){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return bme(t,e)}function Fge(t){const e=new Uint16Array([0,1,2,2,1,3]);return wme(t,e)}function ym(t,e,n,i,s,a){_me(e,n);const r=kme(t),o=t.TEXTURE_2D;return ve(t,()=>t.bindTexture(o,r)),ve(t,()=>t.texParameteri(o,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)),ve(t,()=>t.texParameteri(o,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),ve(t,()=>t.texParameteri(o,t.TEXTURE_MIN_FILTER,t.NEAREST)),ve(t,()=>t.texParameteri(o,t.TEXTURE_MAG_FILTER,t.NEAREST)),J().getNumber("WEBGL_VERSION")===1?ve(t,()=>t.texImage2D(o,0,i,e,n,0,s,a,null)):ve(t,()=>t.texStorage2D(o,1,i,e,n)),ve(t,()=>t.bindTexture(t.TEXTURE_2D,null)),{texture:r,texShape:[n,e]}}function kM(t){return t.internalFormatFloat}function Rge(t,e,n,i){const[s,a]=mm(e,n);return ym(t,s,a,kM(i),i.textureFormatFloat,t.FLOAT)}function _M(t){return t.internalFormatHalfFloat}function Oge(t,e,n,i){const[s,a]=mm(e,n);return ym(t,s,a,_M(i),i.textureFormatFloat,i.textureTypeHalfFloat)}function xM(t){return t.downloadTextureFormat}function Pge(t,e,n,i){const[s,a]=mm(e,n);return ym(t,s,a,xM(i),t.RGBA,t.UNSIGNED_BYTE)}function SM(t){return t.internalFormatPackedFloat}function Lge(t,e,n,i){const[s,a]=Ed(e,n);return ym(t,s,a,SM(i),t.RGBA,t.FLOAT)}function CM(t){return t.internalFormatPackedHalfFloat}function Mge(t,e,n,i){const[s,a]=Ed(e,n);return ym(t,s,a,CM(i),t.RGBA,i.textureTypeHalfFloat)}function Bge(t,e,n){return ve(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),Z$(t,e,"clipSpacePos",n,3,20,0)&&Z$(t,e,"uv",n,2,20,12)}function zge(t,e,n,i,s,a){ve(t,()=>t.bindTexture(t.TEXTURE_2D,e));let r,o,l;s instanceof Uint8Array?(r=new Uint8Array(n*i*4),o=t.UNSIGNED_BYTE,l=t.RGBA):(r=new Float32Array(n*i*4),o=t.FLOAT,l=a.internalFormatPackedFloat),r.set(s),J().getNumber("WEBGL_VERSION")===2?ve(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n,i,t.RGBA,o,r)):ve(t,()=>t.texImage2D(t.TEXTURE_2D,0,l,n,i,0,t.RGBA,o,r)),ve(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function Vge(t,e,n){ve(t,()=>t.bindTexture(t.TEXTURE_2D,e)),n.data instanceof Uint8Array?J().getNumber("WEBGL_VERSION")===2?ve(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,n.data)):ve(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n.width,n.height,0,t.RGBA,t.UNSIGNED_BYTE,n.data)):J().getNumber("WEBGL_VERSION")===2?ve(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,n)):ve(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)),ve(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function Wge(t,e,n,i){const s=t.createBuffer();ve(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,s));const o=4*4*e*n;return ve(t,()=>t.bufferData(t.PIXEL_PACK_BUFFER,o,t.STREAM_READ)),ve(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,0)),ve(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,null)),s}function jge(t,e,n){const i=t,s=new Float32Array(n);return i.bindBuffer(i.PIXEL_PACK_BUFFER,e),i.getBufferSubData(i.PIXEL_PACK_BUFFER,0,s),i.bindBuffer(i.PIXEL_PACK_BUFFER,null),s}function Hge(t,e,n,i){const[s,a]=mm(e,n),r=4,o=new Uint8Array(ome(e*n,r));return ve(t,()=>t.readPixels(0,0,s,a,i.downloadTextureFormat,t.UNSIGNED_BYTE,o)),new Float32Array(o.buffer)}function Gge(t,e,n,i,s,a,r,o){const l=t,c=new Float32Array(lme(a,r));return l.bindBuffer(l.PIXEL_PACK_BUFFER,e),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}function Uge(t,e,n){const i=new Float32Array(e*n*4);return ve(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,i)),i}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Qw{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const n=J().getNumber("WEBGL_VERSION");if(e!=null?(this.gl=e,sme(n,e)):this.gl=ta(n),e=this.gl,J().getNumber("WEBGL_VERSION")===2){const a=e;this.createVertexArray=()=>ve(a,()=>a.createVertexArray()),this.bindVertexArray=r=>ve(a,()=>a.bindVertexArray(r)),this.deleteVertexArray=r=>ve(a,()=>a.deleteVertexArray(r)),this.getVertexArray=()=>ve(a,()=>a.getParameter(a.VERTEX_ARRAY_BINDING))}else if(e!=null){const a=e.getExtension("OES_vertex_array_object");if(a==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>ve(e,()=>a.createVertexArrayOES()),this.bindVertexArray=r=>ve(e,()=>a.bindVertexArrayOES(r)),this.deleteVertexArray=r=>ve(e,()=>a.deleteVertexArrayOES(r)),this.getVertexArray=()=>ve(e,()=>e.getParameter(a.VERTEX_ARRAY_BINDING_OES))}let i="WEBGL_color_buffer_float";const s="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),J().getNumber("WEBGL_VERSION")===1){const a="OES_texture_float",r="OES_texture_half_float";if(this.textureFloatExtension=mg(this.gl,a),ws(this.gl,r))this.textureHalfFloatExtension=mg(this.gl,r);else if(J().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(i),ws(this.gl,s))this.colorBufferHalfFloatExtension=mg(this.gl,s);else if(J().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(i="EXT_color_buffer_float",ws(this.gl,i))this.colorBufferFloatExtension=this.gl.getExtension(i);else if(ws(this.gl,s))this.colorBufferHalfFloatExtension=this.gl.getExtension(s);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=Age(this.gl),this.indexBuffer=Fge(this.gl),this.framebuffer=xme(this.gl),this.textureConfig=EN(this.gl,this.textureHalfFloatExtension)}get debug(){return J().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;ve(e,()=>e.finish()),ve(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),ve(e,()=>e.deleteFramebuffer(this.framebuffer)),ve(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),ve(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),ve(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,n){return this.throwIfDisposed(),Rge(this.gl,e,n,this.textureConfig)}createFloat16MatrixTexture(e,n){return this.throwIfDisposed(),Oge(this.gl,e,n,this.textureConfig)}createUnsignedBytesMatrixTexture(e,n){return this.throwIfDisposed(),Pge(this.gl,e,n,this.textureConfig)}uploadPixelDataToTexture(e,n){this.throwIfDisposed(),Vge(this.gl,e,n)}uploadDenseMatrixToTexture(e,n,i,s){this.throwIfDisposed(),zge(this.gl,e,n,i,s,this.textureConfig)}createFloat16PackedMatrixTexture(e,n){return this.throwIfDisposed(),Mge(this.gl,e,n,this.textureConfig)}createPackedMatrixTexture(e,n){return this.throwIfDisposed(),Lge(this.gl,e,n,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(eE(this.gl,this.framebuffer),this.outputTexture=null),ve(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,n,i){return this.downloadMatrixDriver(e,()=>Hge(this.gl,n,i,this.textureConfig))}downloadPackedMatrixFromBuffer(e,n,i,s,a,r){return Gge(this.gl,e,n,i,s,a,r,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,n){return jge(this.gl,e,n)}createBufferFromTexture(e,n,i){this.bindTextureToFrameBuffer(e);const s=Wge(this.gl,n,i,this.textureConfig);return this.unbindTextureToFrameBuffer(),s}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let n,i;if(J().getBool("WEBGL_FENCE_API_ENABLED")){const s=e,a=s.fenceSync(s.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),i=()=>{const r=s.clientWaitSync(a,0,0);return r===s.ALREADY_SIGNALED||r===s.CONDITION_SATISFIED},n=a}else J().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),i=()=>this.isQueryAvailable(n,J().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):i=()=>!0;return{query:n,isFencePassed:i}}downloadMatrixFromPackedTexture(e,n,i){return this.downloadMatrixDriver(e,()=>Uge(this.gl,n,i))}createProgram(e){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=Dge(n));const i=yme(n);ve(n,()=>n.attachShader(i,this.vertexShader)),ve(n,()=>n.attachShader(i,e)),vme(n,i);let s;return s=Object.assign(i,{vao:this.createVertexArray()}),this.bindVertexArray(s.vao),ve(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),console.assert(Bge(n,s,this.vertexBuffer),"gpgpu_util.bindVertexProgramAttributeStreams not fully successful."),this.debug&&Kw(n,s),this.setProgram(s),s}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&(ve(this.gl,()=>this.gl.deleteProgram(e)),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&(this.bindVertexArray(this.program.vao),this.debug&&Kw(this.gl,this.program)),ve(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,n,i=!0){return this.throwIfDisposed(),i?Cme(this.gl,e,n):Nme(this.gl,e,n)}getAttributeLocation(e,n){return this.throwIfDisposed(),ve(this.gl,()=>this.gl.getAttribLocation(e,n))}getUniformLocationNoThrow(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)}setInputMatrixTexture(e,n,i){this.throwIfDisposed(),this.throwIfNoProgram(),Ime(this.gl,e,n,i)}setOutputMatrixTexture(e,n,i){this.setOutputMatrixTextureDriver(e,i,n)}setOutputPackedMatrixTexture(e,n,i){this.throwIfDisposed();const[s,a]=Ed(n,i);this.setOutputMatrixTextureDriver(e,s,a)}setOutputMatrixWriteRegion(e,n,i,s){this.setOutputMatrixWriteRegionDriver(i,e,s,n)}setOutputPackedMatrixWriteRegion(e,n,i,s){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&Kw(this.gl,this.program),gg(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const n=this.getVertexArray();console.assert(n===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}ve(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),ve(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=mg(this.gl,J().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(J().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const i=this.gl,s=this.getQueryTimerExtensionWebGL2(),a=i.createQuery();return i.beginQuery(s.TIME_ELAPSED_EXT,a),a}const e=this.getQueryTimerExtensionWebGL1(),n=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,n),n}endQuery(){if(J().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,i=this.getQueryTimerExtensionWebGL2();n.endQuery(i.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await m_(()=>this.disposed||this.isQueryAvailable(e,J().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,J().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,n){if(n===0)return null;if(n===2){const i=this.gl;return i.getQueryParameter(e,i.QUERY_RESULT)/1e6}else{const i=this.getQueryTimerExtensionWebGL1();return i.getQueryObjectEXT(e,i.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,n){if(n===0)return!0;if(n===2){const i=this.gl,s=this.getQueryTimerExtensionWebGL2(),a=i.getQueryParameter(e,i.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(s.GPU_DISJOINT_EXT)),a&&!this.disjoint}else{const i=this.getQueryTimerExtensionWebGL1(),s=i.getQueryObjectEXT(e,i.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),s&&!this.disjoint}}pollFence(e){return new Promise(n=>{this.addItemToPoll(()=>e.isFencePassed(),()=>n())})}pollItems(){const e=qge(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=e;++n){const{resolveFn:i}=this.itemsToPoll[n];i()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,n){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),this.itemsToPoll.length>1)return;let i;"setTimeoutCustom"in J().platform&&(i=J().platform.setTimeoutCustom.bind(J().platform)),m_(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,i)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),Xw(this.gl,e,this.framebuffer),this.debug&&gg(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(Xw(this.gl,this.outputTexture,this.framebuffer),this.debug&&gg(this.gl)):eE(this.gl,this.framebuffer)}downloadMatrixDriver(e,n){this.bindTextureToFrameBuffer(e);const i=n();return this.unbindTextureToFrameBuffer(),i}setOutputMatrixTextureDriver(e,n,i){this.throwIfDisposed();const s=this.gl;Xw(s,e,this.framebuffer),this.debug&&gg(s),this.outputTexture=e,ve(s,()=>s.viewport(0,0,n,i)),ve(s,()=>s.scissor(0,0,n,i))}setOutputMatrixWriteRegionDriver(e,n,i,s){this.throwIfDisposed(),ve(this.gl,()=>this.gl.scissor(e,n,i,s))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function qge(t){let e=0;for(;e<t.length&&t[e]();++e);return e-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{addImpl:Kge,bincountImpl:NM,bincountReduceImpl:Xge,castImpl:Jge,ceilImpl:Yge,concatImpl:Qge,equalImpl:Zge,expImpl:e1e,expm1Impl:t1e,floorImpl:n1e,gatherNdImpl:i1e,gatherV2Impl:s1e,greaterImpl:a1e,greaterEqualImpl:r1e,lessImpl:o1e,lessEqualImpl:l1e,linSpaceImpl:c1e,logImpl:u1e,maxImpl:d1e,maximumImpl:f1e,minimumImpl:h1e,multiplyImpl:p1e,negImpl:m1e,notEqualImpl:g1e,prodImpl:y1e,raggedGatherImpl:v1e,raggedRangeImpl:b1e,raggedTensorToTensorImpl:w1e,rangeImpl:k1e,rsqrtImpl:_1e,scatterImpl:x1e,sigmoidImpl:S1e,simpleAbsImpl:IM,sliceImpl:C1e,sparseFillEmptyRowsImpl:N1e,sparseReshapeImpl:I1e,sparseSegmentReductionImpl:TM,sqrtImpl:T1e,stridedSliceImpl:$1e,stringNGramsImpl:E1e,stringSplitImpl:D1e,stringToHashBucketFastImpl:A1e,subImpl:F1e,tileImpl:R1e,topKImpl:O1e,transposeImpl:RN,uniqueImpl:P1e}=Vce;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $M(t,e){return["x","y","z","w","u","v"].slice(0,e).map(n=>`${t}.${n}`)}function Xn(t,e){return e===1?[t]:$M(t,e)}function L1e(t,e){if(t===1)return"rc";let n="";for(let i=0;i<t;i++)n+=e[i],i<t-1&&(n+=",");return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class M1e{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=ii(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const n=Xn("rc",this.rank),i=ht(this.rank),s=this.getOutOfBoundsCondition(n),a=this.getSetup(n),r=this.getOutput(n);this.userCode=`
        void main() {
          ${i} rc = getOutputCoords();

          if(${s}) {
            setOutput(vec4(0));
          } else {
            ${a}

            setOutput(vec4(${r}));
          }
        }
      `}}getSourceCoordsArr(e){const n=[];for(let i=0;i<=1;i++)for(let s=0;s<=1;s++){let a=`${i===0?"r":"rp1"}, ${s===0?"c":"cp1"}`;for(let r=2;r<this.rank;r++)a=`${e[e.length-1-r]},`+a;n.push(a)}return n}getOutOfBoundsCondition(e){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let n="";for(let i=this.rank-2;i<this.rank;i++)n+=`${e[i]} >= ${this.enableShapeUniforms?`outShape[${i}]`:this.outputShape[i]}`,i<this.rank-1&&(n+="||");return n}getSetup(e){if(this.rank===1)return"";const n=e.slice(-2),i=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],s=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${n[0]};
      int c = ${n[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${i};
      bool rEdge = rp1 >= ${s};
    `}getOutput(e){const n=this.getSourceCoordsArr(e);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${n[0]}),
            cEdge ? 0. : getA(${n[1]}),
            rEdge ? 0. : getA(${n[2]}),
            rEdge || cEdge ? 0. : getA(${n[3]})`}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EM{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=ii(this.outputShape.length);let i="";for(let s=0;s<4;s++){let a="thisRC = rc;";s%2===1&&(a+="thisRC.z += 1;"),s>1&&(a+="thisRC.y += 1;"),i+=`
        ${a}
        ${s>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${s}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${s>0?"}":""}
      `}this.userCode=`
      ${B1e(n,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?AN():DN(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${i}

        setOutput(result);
      }
    `}}function B1e(t,e){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e?Bme(["r","c","d"],"inputShape"):Ql(["r","c","d"],t)}
      return ivec3(r, c, d);
    }
  `}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class z1e{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(e,n,i){const s=aE(n,i),a=rE(e,s,i);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);const r=sE(e,s,this.gpgpu.gl,this.gpgpu.textureConfig,i);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=r,this.log();const l=this.freeTextures[a].shift();return this.usedTextures[a].push(l),l}let o;return s===wn.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):s===wn.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):s===wn.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):s===wn.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):s===wn.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(o),this.numUsedTextures++,this._numBytesAllocated+=r,this.log(),o}releaseTexture(e,n,i,s){if(this.freeTextures==null)return;const a=aE(i,s),r=rE(n,a,s);r in this.freeTextures||(this.freeTextures[r]=[]);const o=sE(n,a,this.gpgpu.gl,this.gpgpu.textureConfig,s),l=J().get("WEBGL_DELETE_TEXTURE_THRESHOLD");l!==-1&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=o):(this.freeTextures[r].push(e),this.numFreeTextures++,this._numBytesFree+=o),this.numUsedTextures--;const c=this.usedTextures[r],u=c.indexOf(e);if(u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c.splice(u,1),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const n=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*n)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function V1e(t,e){const n=t;if(e===n.R32F)return 4;if(e===n.R16F)return 2;if(e===n.RGBA32F)return 16;if(e===t.RGBA)return 16;if(e===n.RGBA16F)return 8;if(e===n.RGBA8)return 4;throw new Error(`Unknown internal format ${e}`)}function sE(t,e,n,i,s){const a=W1e(e,i);let r;if(s){const[l,c]=Ed(t[0],t[1]);r=l*c}else{const[l,c]=mm(t[0],t[1]);r=l*c}const o=V1e(n,a);return r*o}function W1e(t,e){switch(t){case wn.PACKED_2X2_FLOAT32:return SM(e);case wn.PACKED_2X2_FLOAT16:return CM(e);case wn.UNPACKED_FLOAT32:return kM(e);case wn.UNPACKED_FLOAT16:return _M(e);case wn.PACKED_4X1_UNSIGNED_BYTE:return xM(e);default:throw new Error(`Unknown physical texture type ${t}`)}}function j1e(t){return J().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?wn.PACKED_2X2_FLOAT32:wn.UNPACKED_FLOAT32:t?wn.PACKED_2X2_FLOAT16:wn.UNPACKED_FLOAT16}function aE(t,e){if(t===ji.UPLOAD)return wn.PACKED_2X2_FLOAT32;if(t===ji.RENDER||t==null)return j1e(e);if(t===ji.DOWNLOAD||t===ji.PIXELS)return wn.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${t}`)}function rE(t,e,n){return`${t[0]}_${t[1]}_${e}_${n}`}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ka{constructor(e,n){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=ii(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${n}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const Ts="if (isnan(x)) return x;",H1e="return x;",oE="return abs(x);",G1e="return (x >= 0.0) ? x : (exp(x) - 1.0);",U1e=Ts+`
  return (x < 0.0) ? 0.0 : x;
`,q1e=Ts+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,Ar="return x;",K1e="return 1.0 / (1.0 + exp(-1.0 * x));";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X1e="return x;",J1e=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,Y1e=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Q1e=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Z1e="return 1.0 / (1.0 + exp(-1.0 * x));";class Ur{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=ii(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${n}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class e0e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=ii(this.outputShape.length);const n=e.length,i=Xn("rc",n),s=ht(n),a=L1e(n,i),r=i.slice(-2),o=n<=1?"rc":`vec2(${r.join(",")})`;this.userCode=`
      void main() {
        ${s} rc = getOutputCoords();
        vec4 packedInput = getA(${a});

        setOutput(getChannel(packedInput, ${o}));
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t0e=Ov,n0e=1e-7,i0e=1e-4,bg={};function s0e(t){return t in bg||(bg[t]={}),bg[t]}const a0e=J().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),r0e=600;function o0e(){return J().global.screen==null?1024:J().global.screen.height*J().global.screen.width*window.devicePixelRatio*r0e/1024/1024}class Sb extends Y0{constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!J().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(e!=null){if(e instanceof Qw)n=e;else{const i=ta(J().getNumber("WEBGL_VERSION"),e);n=new Qw(i)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const i=ta(J().getNumber("WEBGL_VERSION"));n=new Qw(i),this.binaryCache=s0e(J().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new z1e(this.gpgpu),this.numMBBeforeWarning=o0e(),this.texData=new j2(this,Ps())}nextDataId(){return Sb.nextDataId++}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,n,i,s,a,r){const o=this.makeTensorInfo(n,i),l=this.texData.get(o.dataId);l.isPacked=!1,l.texture={texture:e,texShape:[s,a]},l.texShape=[s,a];const c=yg(n),u=new iE(c,!1,r),d=this.runWebGLProgram(u,[o],i,[[s,a]]);return d.shape=n,l.texture=null,this.disposeIntermediateTensorInfo(o),d.dataId}write(e,n,i){if((J().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||J().getBool("DEBUG"))&&this.checkNumericalProblems(e),i==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const s={id:this.nextDataId()};return this.texData.set(s,{shape:n,dtype:i,values:e,usage:ji.UPLOAD,refCount:1}),s}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const n=this.texData.get(e);n.refCount++}decRef(e){if(this.texData.has(e)){const n=this.texData.get(e);n.refCount--}}move(e,n,i,s,a){if(J().getBool("DEBUG")&&this.checkNumericalProblems(n),s==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:i,dtype:s,values:n,usage:ji.UPLOAD,refCount:a})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const n=this.texData.get(e),{values:i,dtype:s,complexTensorInfos:a,slice:r,shape:o,isPacked:l}=n;if(r!=null){let f;l?f=new Ur(o,Ar):f=new ka(o,Ar);const h=this.runWebGLProgram(f,[{dataId:e,shape:o,dtype:s}],s),p=this.readSync(h.dataId);return this.disposeIntermediateTensorInfo(h),p}if(i!=null)return this.convertAndCacheOnCPU(e);if(s==="string")return i;const c=this.activeTimers!=null;let u;c&&(u=vn());let d;if(s==="complex64"){const f=this.readSync(a.real.dataId),h=this.readSync(a.imag.dataId);d=hr(f,h)}else d=this.getValuesFromTexture(e);return c&&(this.downloadWaitMs+=vn()-u),this.convertAndCacheOnCPU(e,d)}async read(e){if(this.pendingRead.has(e)){const p=this.pendingRead.get(e);return new Promise(m=>p.push(m))}const n=this.texData.get(e),{values:i,shape:s,slice:a,dtype:r,complexTensorInfos:o,isPacked:l}=n;if(a!=null){let p;l?p=new Ur(s,Ar):p=new ka(s,Ar);const m=this.runWebGLProgram(p,[{dataId:e,shape:s,dtype:r}],r),y=this.read(m.dataId);return this.disposeIntermediateTensorInfo(m),y}if(i!=null)return this.convertAndCacheOnCPU(e);if(J().getBool("DEBUG")&&!J().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&J().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let c=null,u;if(r!=="complex64"&&J().get("WEBGL_BUFFER_SUPPORTED")){u=this.decode(e);const p=this.texData.get(u.dataId);c=this.gpgpu.createBufferFromTexture(p.texture.texture,...pg(s))}this.pendingRead.set(e,[]),r!=="complex64"&&await this.gpgpu.createAndWaitForFence();let d;if(r==="complex64"){const p=await Promise.all([this.read(o.real.dataId),this.read(o.imag.dataId)]),m=p[0],y=p[1];d=hr(m,y)}else if(c==null)d=this.getValuesFromTexture(e);else{const p=te(s);d=this.gpgpu.downloadFloat32MatrixFromBuffer(c,p)}if(u!=null&&this.disposeIntermediateTensorInfo(u),c!=null){const p=this.gpgpu.gl;ve(p,()=>p.deleteBuffer(c))}const f=this.convertAndCacheOnCPU(e,d),h=this.pendingRead.get(e);return this.pendingRead.delete(e),h.forEach(p=>p(f)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&Ps().removeDataId(e,this),this.pendingDeletes--),f}readToGPU(e,n={}){const i=this.texData.get(e),{values:s,shape:a,slice:r,dtype:o,isPacked:l,texture:c}=i;if(o==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(r!=null){let h;l?h=new Ur(a,Ar):h=new ka(a,Ar);const p=this.runWebGLProgram(h,[{dataId:e,shape:a,dtype:o}],o),m=this.readToGPU(p,n);return this.disposeIntermediateTensorInfo(p),m}if(c==null)throw s!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const u=this.decode(e,n.customTexShape),d=Ps().makeTensorFromTensorInfo(u),f=this.texData.get(u.dataId);return Object.assign({tensorRef:d},f.texture)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const i=n.map(s=>lr(s));return Me(e.shape,e.dtype,i)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Me(e.shape,e.dtype,n)}checkNumericalProblems(e){if(e!=null)for(let n=0;n<e.length;n++){const i=e[n];if(!fme(i))throw J().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${i} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${i} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:n,dtype:i,isPacked:s}=this.texData.get(e),a=te(n);if(J().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const f=this.decode(e),h=this.texData.get(f.dataId),p=this.gpgpu.downloadMatrixFromPackedTexture(h.texture.texture,...pg(n)).subarray(0,a);return this.disposeIntermediateTensorInfo(f),p}const r=J().getBool("WEBGL_PACK")&&s===!0,o=r?yg(n):n,l=r?new Tge(o):new Ige(o),c=this.runWebGLProgram(l,[{shape:o,dtype:i,dataId:e}],"float32"),u=this.texData.get(c.dataId),d=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture.texture,u.texShape[0],u.texShape[1]).subarray(0,a);return this.disposeIntermediateTensorInfo(c),d}timerAvailable(){return J().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const n=this.activeTimers,i=[];let s=!1;this.programTimersStack==null?(this.programTimersStack=i,s=!0):this.activeTimers.push(i),this.activeTimers=i,e();const a=or(this.activeTimers.map(l=>l.query)).filter(l=>l!=null),r=or(this.activeTimers.map(l=>l.name)).filter(l=>l!=null);this.activeTimers=n,s&&(this.programTimersStack=null);const o={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(J().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const l=await Promise.all(a);o.kernelMs=QF(l),o.getExtraProfileInfo=()=>l.map((c,u)=>({name:r[u],ms:c})).map(c=>`${c.name}: ${c.ms}`).join(", ")}else o.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,o})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return J().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:vn(),endMs:null}}endTimer(e){return J().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=vn(),e)}async getQueryTime(e){if(J().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const n=e;return n.endMs-n.startMs}disposeData(e,n=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(n?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!n&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:i}=this.texData.get(e);return i!=null&&(this.disposeData(i.real.dataId,n),this.disposeData(i.imag.dataId,n)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:n,dtype:i,texShape:s,usage:a,isPacked:r,slice:o}=this.texData.get(e),l=o&&o.origDataId||e,c=this.dataRefCount.get(l);c>1?this.dataRefCount.set(l,c-1):(this.dataRefCount.delete(l),n!=null&&(this.numBytesInGPU-=this.computeBytes(s,i),this.textureManager.releaseTexture(n,s,a,r)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,n=a0e){return J().getBool("WEBGL_CPU_FORWARD")&&e.every(i=>this.texData.get(i.dataId).texture==null&&te(i.shape)<n)}getGPGPUContext(){return this.gpgpu}where(e){Bi("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=e.dataSync();return t0e(e.shape,n)}packedUnaryOp(e,n,i){const s=new Ur(e.shape,n),a=this.compileAndRun(s,[e],i);return Ps().makeTensorFromTensorInfo(a)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const s=IM(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,s)}if(J().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,oE,e.dtype);const n=new ka(e.shape,oE),i=this.compileAndRun(n,[e]);return Ps().makeTensorFromTensorInfo(i)}makeTensorInfo(e,n,i){let s;if(n==="string"&&i!=null&&i.length>0&&ba(i[0])){const a=i.map(r=>Ia(r));s=this.write(a,e,n)}else s=this.write(i,e,n);return this.texData.get(s).usage=null,{dataId:s,shape:e,dtype:n}}makeOutput(e,n,i){return Ps().makeTensorFromTensorInfo(this.makeTensorInfo(e,n,i),this)}unpackTensor(e){const n=new e0e(e.shape);return this.runWebGLProgram(n,[e],e.dtype)}packTensor(e){const n=new M1e(e.shape),i=!0;return this.runWebGLProgram(n,[e],e.dtype,null,i)}packedReshape(e,n){const i=[lu(e.shape),...cu(e.shape)],s={dtype:e.dtype,shape:i,dataId:e.dataId},a=[lu(n),...cu(n)],r=new EM(a,i),o=!0,l=[i],c=this.runWebGLProgram(r,[s],e.dtype,l,o);return{dataId:c.dataId,shape:n,dtype:c.dtype}}decode(e,n){const i=this.texData.get(e),{isPacked:s,shape:a,dtype:r}=i;if(n!=null){const f=te(a),h=n[0]*n[1]*4;E(f<=h,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const o=yg(a);let l;s?l=new Nge(o):l=new Cge(o);const c=!0,u=[n!=null?n:pg(o)],d=this.runWebGLProgram(l,[{shape:o,dtype:r,dataId:e}],r,u,c,n);return{dtype:r,shape:a,dataId:d.dataId}}runWebGLProgram(e,n,i,s,a=!1,r){const o=this.makeTensorInfo(e.outputShape,i),l=this.texData.get(o.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===yh.DENSE){const g=r!=null?r:pg(e.outputShape);l.texShape=g.map(v=>v*2)}if(e.outTexUsage!=null&&(l.usage=e.outTexUsage),te(o.shape)===0)return l.values=on(o.dtype,0),o;const c=[],u=n.map(g=>{if(g.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let v=this.texData.get(g.dataId);if(v.texture==null){if(!e.packedInputs&&te(g.shape)<=J().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:g.shape,texData:null,isUniform:!0,uniformValues:v.values};e.packedInputs&&(v.isPacked=!0,v.shape=g.shape)}if(this.uploadToGPU(g.dataId),!!v.isPacked!=!!e.packedInputs)g=v.isPacked?this.unpackTensor(g):this.packTensor(g),c.push(g),v=this.texData.get(g.dataId);else if(v.isPacked&&!p0(v.shape,g.shape)){const b=g,w=g.shape;g.shape=v.shape,g=this.packedReshape(g,w),c.push(g),v=this.texData.get(g.dataId),b.shape=w}return{shape:g.shape,texData:v,isUniform:!1}});this.uploadToGPU(o.dataId);const d={shape:o.shape,texData:l,isUniform:!1},f=Sge(e,u,d),h=this.getAndSaveBinary(f,()=>_ge(this.gpgpu,e,u,d)),p=this.activeTimers!=null;let m;p&&(m=this.startTimer()),J().get("ENGINE_COMPILE_ONLY")||xge(this.gpgpu,h,u,d,s),c.forEach(g=>this.disposeIntermediateTensorInfo(g)),p&&(m=this.endTimer(m),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(m)}));const y=J().get("WEBGL_FLUSH_THRESHOLD");if(y>0){const g=vn();g-this.lastGlFlushTime>y&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=g)}if(!J().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&a===!1){const g=this.unpackTensor(o);return this.disposeIntermediateTensorInfo(o),g}return o}compileAndRun(e,n,i,s,a=!1){return i=i||n[0].dtype,this.runWebGLProgram(e,n,i,s,a)}getAndSaveBinary(e,n){return e in this.binaryCache||(this.binaryCache[e]=n()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(J().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement!="undefined"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=X(()=>{if(!J().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=J().getBool("DEBUG");J().set("DEBUG",!1);const n=this.abs(Te(1e-8)).dataSync()[0];if(J().set("DEBUG",e),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?n0e:i0e}uploadToGPU(e){const n=this.texData.get(e),{shape:i,dtype:s,values:a,texture:r,usage:o,isPacked:l}=n;if(r!=null)return;const c=this.activeTimers!=null;let u;c&&(u=vn());let d=n.texShape;if(d==null&&(d=Eme(i,l),n.texShape=d),a!=null){const f=yg(i);let h,p=d[1],m=d[0];const y=a instanceof Uint8Array||a instanceof Uint8ClampedArray;(l||!y)&&([p,m]=Ed(d[0],d[1])),l?h=new Ege(f,y):h=new iE(f,y);const g=y?[m,p]:d,v=this.makeTensorInfo(g,s),b=this.texData.get(v.dataId);y?b.usage=ji.PIXELS:b.usage=ji.UPLOAD,b.texShape=g,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(v.dataId),p,m,a);const w=[[m,p]],k=!0,x=this.runWebGLProgram(h,[v],s,w,k),N=this.texData.get(x.dataId);n.texShape=N.texShape,n.isPacked=N.isPacked,n.usage=N.usage,J().get("ENGINE_COMPILE_ONLY")?this.disposeData(x.dataId):(n.texture=N.texture,n.values=null,this.texData.delete(x.dataId)),this.disposeIntermediateTensorInfo(v),c&&(this.uploadWaitMs+=vn()-u)}else{const f=this.acquireTexture(d,o,s,l);n.texture=f}}convertAndCacheOnCPU(e,n){const i=this.texData.get(e),{dtype:s}=i;return n!=null&&(i.values=l0e(n,s)),i.values}acquireTexture(e,n,i,s){if(this.numBytesInGPU+=this.computeBytes(e,i),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${a} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,n,s)}computeBytes(e,n){return e[0]*e[1]*P1(n)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,n]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(n));return Promise.all(e)}else{for(const[,n]of Object.entries(this.binaryCache)){const i=new Promise(s=>{try{this.checkCompletion_(n),s(!0)}catch(a){throw a}});e.push(i)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await Jv(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(mM(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const[,e]of Object.entries(this.binaryCache)){const{uniformLocations:n,customUniformLocations:i,infLoc:s,nanLoc:a,inShapesLocations:r,inTexShapesLocations:o,outShapeLocation:l,outShapeStridesLocation:c,outTexShapeLocation:u}=wM(this.gpgpu,e.program,e.webGLProgram);e.uniformLocations=n,e.customUniformLocations=i,e.infLoc=s,e.nanLoc=a,e.inShapesLocations=r,e.inTexShapesLocations=o,e.outShapeLocation=l,e.outShapeStridesLocation=c,e.outTexShapeLocation=u}}createTensorFromTexture(e,n,i){const{texture:s,height:a,width:r,channels:o}=e,l=Ps().backend;if(!l.gpgpu.gl.isTexture(s))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const c=l.writeTexture(s,n,i,a,r,o);return Ps().makeTensorFromDataId(c,n,i,l)}}Sb.nextDataId=0;function l0e(t,e){if(e==="float32"||e==="complex64")return t;if(e==="int32"||e==="bool"){const n=e==="int32"?new Int32Array(t.length):new Uint8Array(t.length);for(let i=0;i<n.length;++i)n[i]=Math.round(t[i]);return n}else throw new Error(`Unknown dtype ${e}`)}/** @license See the LICENSE file. */const c0e="4.1.0";/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Z2()&&uS("webgl",()=>new Sb,2);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ON=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class uu{constructor(e,n,i){this.variableNames=["A","B"],this.outputShape=Pe(n,i),this.enableShapeUniforms=ii(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vm=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class bm{constructor(e,n,i,s=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Pe(n,i);const a=this.outputShape.length;this.enableShapeUniforms=ii(a);let r="";if(s)if(a===0||te(this.outputShape)===1)r=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(r=`
          ${ht(a)} coords = getOutputCoords();
        `,a===1)this.enableShapeUniforms?r+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:r+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const l=Xn("coords",a);this.enableShapeUniforms?r+=`
            bool nextRowOutOfBounds =
              (${l[a-2]} + 1) >= outShape[${a} - 2];
            bool nextColOutOfBounds =
              (${l[a-1]} + 1) >= outShape[${a} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:r+=`
            bool nextRowOutOfBounds =
              (${l[a-2]} + 1) >= ${this.outputShape[a-2]};
            bool nextColOutOfBounds =
              (${l[a-1]} + 1) >= ${this.outputShape[a-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${r}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fi(t){const{inputs:e,backend:n}=t,{x:i}=e;return n.incRef(i.dataId),{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}const u0e={kernelName:Lu,backendName:"webgl",kernelFunc:Fi};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oo(t){const{inputs:e,backend:n}=t,{real:i,imag:s}=e,a=n.makeTensorInfo(i.shape,"complex64"),r=n.texData.get(a.dataId),o=Fi({inputs:{x:i},backend:n}),l=Fi({inputs:{x:s},backend:n});return r.complexTensorInfos={real:o,imag:l},a}const d0e={kernelName:ry,backendName:"webgl",kernelFunc:Oo};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DM="return (a < 0.) ? b * a : a;",AM=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function f0e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{alpha:a}=i,r=n.makeTensorInfo([],"float32",gr(a,"float32")),o=J().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new bm(AM,s.shape,r.shape):new uu(DM,s.shape,r.shape),l=n.runWebGLProgram(o,[s,r],"float32");return n.disposeIntermediateTensorInfo(r),l}const h0e={kernelName:np,backendName:"webgl",kernelFunc:f0e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FM="return (a < 0.) ? b * a : a;",RM=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function p0e(t){const{inputs:e,backend:n}=t,{x:i,alpha:s}=e,a=J().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new bm(RM,i.shape,s.shape):new uu(FM,i.shape,s.shape);return n.runWebGLProgram(a,[i,s],"float32")}const m0e={kernelName:kp,backendName:"webgl",kernelFunc:p0e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Od="if (isnan(x)) return x;";function Qe({opSnippet:t,packedOpSnippet:e,cpuKernelImpl:n,dtype:i}){return({inputs:s,backend:a})=>{const{x:r}=s,o=a,l=i||r.dtype;if(o.shouldExecuteOnCPU([r])&&n!=null){const d=o.texData.get(r.dataId),f=n(d.values,l);return o.makeTensorInfo(r.shape,l,f)}const c=J().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let u;return c?u=new Ur(r.shape,e):u=new ka(r.shape,t),o.runWebGLProgram(u,[r],l)}}function Tn({opSnippet:t,packedOpSnippet:e,checkOutOfBounds:n=!1,supportsComplex:i=!1,cpuKernelImpl:s,dtype:a}){return({inputs:r,backend:o})=>{const{a:l,b:c}=r,u=o;if(i&&l.dtype==="complex64"){const p=u.texData.get(l.dataId),m=u.texData.get(c.dataId),[y,g]=[[p.complexTensorInfos.real,m.complexTensorInfos.real],[p.complexTensorInfos.imag,m.complexTensorInfos.imag]].map(b=>{const[w,k]=b,x={dataId:w.dataId,dtype:w.dtype,shape:l.shape},N={dataId:k.dataId,dtype:k.dtype,shape:c.shape},I=new uu(t,l.shape,c.shape);return u.runWebGLProgram(I,[x,N],li(w.dtype,k.dtype))}),v=Oo({inputs:{real:y,imag:g},backend:u});return u.disposeIntermediateTensorInfo(y),u.disposeIntermediateTensorInfo(g),v}const d=a||li(l.dtype,c.dtype);if((l.dtype==="string"||c.dtype==="string"||u.shouldExecuteOnCPU([l,c]))&&s!=null){const p=u.texData.get(l.dataId).values,m=u.texData.get(c.dataId).values,y=l.dtype==="string"?El(p):p,g=l.dtype==="string"?El(m):m,[v,b]=s(l.shape,c.shape,y,g,d),w=u.makeTensorInfo(b,d),k=u.texData.get(w.dataId);return k.values=v,w}const f=J().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let h;return f?h=new bm(e,l.shape,c.shape,n):h=new uu(t,l.shape,c.shape),u.runWebGLProgram(h,[l,c],d)}}function vh(t,e=!1){if(t==="linear")return e?X1e:H1e;if(t==="relu")return e?Y1e:U1e;if(t==="elu")return e?J1e:G1e;if(t==="relu6")return e?Q1e:q1e;if(t==="prelu")return e?RM:FM;if(t==="leakyrelu")return e?AM:DM;if(t==="sigmoid")return e?Z1e:K1e;throw new Error(`Activation ${t} has not been implemented for the WebGL backend.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OM{constructor(e,n,i,s=!1,a=!1,r=!1,o=null,l=!1,c=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i,this.enableShapeUniforms=ii(this.outputShape.length);const u=s?e[1]:e[2],d=Math.ceil(u/2),f=s?"i * 2, rc.y":"rc.y, i * 2",h=a?"rc.z, i * 2":"i * 2, rc.z",p=s?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=a?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let y="",g="";o&&(l?y=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${o}
        }`:c?y=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${o}
        }`:y=`vec4 activation(vec4 x) {
          ${o}
        }`,g="result = activation(result);");const v=r?"result += getBiasAtOutCoords();":"";r&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");let b="rc.x",w="rc.x";e[0]<n[0]?b=`int(min(float(rc.x), ${e[0]-1}.))`:n[0]<e[0]&&(w=`int(min(float(rc.x), ${n[0]-1}.))`),this.userCode=`
      ${y}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${d}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < ${d}; i++) {
          int batchA = ${b};
          int batchB = ${w};
          vec4 a = getMatrixA(batchA, ${f});
          vec4 b = getMatrixB(batchB, ${h});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${p[0]} * ${m[0]});
          result += (${p[1]} * ${m[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${v}

        ${g}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lE={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class cE{constructor(e,n,i){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Pe(n,i),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uE="return a * b;";function PN(t){const{inputs:e,backend:n}=t,{a:i,b:s}=e,a=li(i.dtype,s.dtype);if(i.dtype==="complex64"){const o=n.texData.get(i.dataId),l=n.texData.get(s.dataId),c=new cE(lE.REAL,i.shape,s.shape),u=new cE(lE.IMAG,i.shape,s.shape),d=[{dataId:o.complexTensorInfos.real.dataId,dtype:o.complexTensorInfos.real.dtype,shape:i.shape},{dataId:o.complexTensorInfos.imag.dataId,dtype:o.complexTensorInfos.imag.dtype,shape:i.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:s.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:s.shape}],f=n.runWebGLProgram(c,d,"float32"),h=n.runWebGLProgram(u,d,"float32"),p=Oo({inputs:{real:f,imag:h},backend:n});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),p}if(n.shouldExecuteOnCPU([i,s])){const o=n.texData.get(i.dataId),l=n.texData.get(s.dataId),[c,u]=p1e(i.shape,s.shape,o.values,l.values,a),d=n.makeTensorInfo(u,a),f=n.texData.get(d.dataId);return f.values=c,d}let r;return J().getBool("WEBGL_PACK_BINARY_OPERATIONS")?r=new bm(uE,i.shape,s.shape):r=new uu(uE,i.shape,s.shape),n.runWebGLProgram(r,[i,s],a)}const g0e={kernelName:Uu,backendName:"webgl",kernelFunc:PN};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y0e(t,e,n){const i=[lu(t.shape),...cu(t.shape)],s={dtype:t.dtype,shape:i,dataId:t.dataId},a=[lu(e),...cu(e)],r=new EM(a,i),o=!0,l=[i],c=n.runWebGLProgram(r,[s],t.dtype,l,o);return{dataId:c.dataId,shape:e,dtype:c.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ge(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{shape:a}=i,r=n,o=te(s.shape),l=G2(a,o),c=te(l);E(o===c,()=>`The new shape (${l}) has ${c} elements and the old shape (${s.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`);const u=r.texData.get(s.dataId);return u.isPacked&&!p0(s.shape,l)&&!(u.texture!==null&&p0(u.shape,l))?y0e(s,l,r):(r.incRef(s.dataId),{dataId:s.dataId,shape:l,dtype:s.dtype})}const v0e={kernelName:xp,backendName:"webgl",kernelFunc:ge};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dE{constructor(e,n){this.variableNames=["x"];const{windowSize:i,batchSize:s,inSize:a,outSize:r}=e;this.outputShape=[s,r];const o=Math.floor(i/4)*4,l=i%4;let c="sumValue += dot(values, ones);";if(n!=null){const d=1/n;c=`sumValue += dot(values * ${kl(d)?d.toPrecision(2):d}, ones);`}let u="";a%i>0&&(u=`
        if (inIdx < 0 || inIdx >= ${a}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${u}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${i};

        float sumValue = 0.0;

        for (int i = 0; i < ${o}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${c}
        }

        int inIdx = inOffset + ${o};
        if (${l===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${c}
        } else if (${l===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${c}
        } else if (${l===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${c}
        }
        setOutput(sumValue);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class b0e{constructor(e,n){this.variableNames=["x"];const{windowSize:i,batchSize:s,inSize:a,outSize:r}=e;this.outputShape=[s,r];let o="0.0",l="";n==="prod"?o="1.0":n==="min"?(o="1.0 / 1e-20",l="min"):n==="max"&&(o="-1.0 / 1e-20",l="max");let c=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="sum"?c="sumValue":n==="prod"?c="prodValue":n==="all"?c="allValue":n==="any"&&(c="anyValue");const u=Math.floor(i/4)*4,d=i%4;let f=`
      if (${n==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${n==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${l}(values, minMaxValue);
        if (${n==="min"} || ${n==="max"}) {
          minMaxValue = ${l}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,h="vec4";n==="all"?(o="1.0",f=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,h="bvec4"):n==="any"&&(o="0.0",f=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,h="bvec4");let p="";a%i>0&&(p=`
        if (inIdx < 0 || inIdx >= ${a}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${o};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${p}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${i};

        vec4 minMaxValue = vec4(${o});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${u}; i += 4) {
          int inIdx = inOffset + i;
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${f}
        }

        int inIdx = inOffset + ${u};
        if (${d===1}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${f}
        } else if (${d===2}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${f}
        } else if (${d===3}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${f}
        }
        setOutput(${c});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w0e(t){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const n=e.length?e[e.length-1].outSize:t[1],i=Yv(n);e.push({inSize:n,windowSize:i,outSize:Math.ceil(n/i)})}return e}function ec(t,e,n,i){const s=w0e(t.shape);let a=t;for(let r=0;r<s.length;r++){const{inSize:o,windowSize:l,outSize:c}=s[r];let u,d;n==="mean"?u=r===0?new dE({windowSize:l,inSize:o,batchSize:t.shape[0],outSize:c},o):new dE({windowSize:l,inSize:o,batchSize:t.shape[0],outSize:c}):u=new b0e({windowSize:l,inSize:o,batchSize:t.shape[0],outSize:c},n),d=a,a=i.runWebGLProgram(u,[a],e),d.dataId!==t.dataId&&i.disposeIntermediateTensorInfo(d)}return a}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class k0e{constructor(e,n){this.variableNames=["A"];const i=new Array(e.length);for(let r=0;r<i.length;r++)i[r]=e[n[r]];this.outputShape=i,this.rank=i.length;const s=ht(this.rank),a=_0e(n);this.userCode=`
    void main() {
      ${s} resRC = getOutputCoords();
      setOutput(getA(${a}));
    }
    `}}function _0e(t){const e=t.length;if(e>6)throw Error(`Transpose for rank ${e} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],i=new Array(e);for(let s=0;s<t.length;s++)i[t[s]]=n[s];return i.join()}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class x0e{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const i=new Array(e.length);for(let u=0;u<i.length;u++)i[u]=e[n[u]];if(this.outputShape=i,this.rank=i.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const s=ht(this.rank),a=$M("rc",this.rank),r=new Array(this.rank);for(let u=0;u<n.length;u++)r[n[u]]=a[u];const o=`vec2(${r.slice(-2).join()})`,l=`++${a[this.rank-1]} < ${i[this.rank-1]}`,c=`getChannel(getA(${r.join()}), ${o})`;this.userCode=`
    void main() {
      ${s} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${c};
      if(${l}) {
        result[1] = ${c};
      }
      --${a[this.rank-1]};
      if(++${a[this.rank-2]} < ${i[this.rank-2]}) {
        result[2] = ${c};
        if(${l}) {
          result[3] = ${c};
        }
      }
      setOutput(result);
    }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cb(t,e,n){const i=J().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new x0e(t.shape,e):new k0e(t.shape,e);return n.runWebGLProgram(i,[t],t.dtype)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S0e(t,e,n,i){const s=e,a=t.shape.length,r=ze(s,t.shape);let o=r;const l=Rt(o,a),c=l!=null;let u=t;c&&(u=Cb(t,l,i),o=Gt(o.length,a)),Nn("sum",o,a);const[d,f]=mn(u.shape,o);let h=d;n&&(h=Ht(d,r));const p=te(f),y=te(t.shape)/p,g=ge({inputs:{x:u},attrs:{shape:[y,p]},backend:i}),v=sv(t.dtype),b=ec(g,v,"sum",i),w=ge({inputs:{x:b},attrs:{shape:h},backend:i});return i.disposeIntermediateTensorInfo(g),i.disposeIntermediateTensorInfo(b),c&&i.disposeIntermediateTensorInfo(u),w}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nb(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:a,keepDims:r}=i;return S0e(s,a,r,n)}const C0e={kernelName:$p,backendName:"webgl",kernelFunc:Nb};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zn(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{perm:a}=i,r=n,o=s.shape.length,l=new Array(o);for(let u=0;u<l.length;u++)l[u]=s.shape[a[u]];let c;if(r.shouldExecuteOnCPU([s])){const d=r.texData.get(s.dataId).values,f=RN(d,s.shape,s.dtype,a,l);c=r.makeTensorInfo(l,s.dtype);const h=r.texData.get(c.dataId);h.values=f}else c=Cb(s,a,r);return c}const N0e={kernelName:cl,backendName:"webgl",kernelFunc:Zn};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PM=1e3;function m0({a:t,b:e,transposeA:n,transposeB:i,backend:s,bias:a=null,preluActivationWeights:r=null,leakyreluAlpha:o=0,activation:l=null}){const c=t.shape.length,u=e.shape.length,d=n?t.shape[c-2]:t.shape[c-1],f=i?e.shape[u-1]:e.shape[u-2],h=n?t.shape[c-1]:t.shape[c-2],p=i?e.shape[u-2]:e.shape[u-1],m=t.shape.slice(0,-2),y=e.shape.slice(0,-2),g=te(m),v=te(y),w=Pe(t.shape.slice(0,-2),e.shape.slice(0,-2)).concat([h,p]);E(d===f,()=>`Error in matMul: inner shapes (${d}) and (${f}) of Tensors with shapes ${t.shape} and ${e.shape} and transposeA=${n} and transposeB=${i} must match.`);const k=n?[g,d,h]:[g,h,d],x=i?[v,p,f]:[v,f,p],N=ge({inputs:{x:t},backend:s,attrs:{shape:k}}),I=ge({inputs:{x:e},backend:s,attrs:{shape:x}}),D=[N,I],R=Math.max(g,v),L=n?N.shape[1]:N.shape[2],O=a!=null,T=r!=null,A=l==="leakyrelu",S=l!=null?vh(l,!0):null,$=O||T||A||S!=null;let K;if((h===1||p===1)&&L>PM&&$===!1){let U=N,Q=I;n&&(U=Zn({inputs:{x:N},backend:s,attrs:{perm:[0,2,1]}}),D.push(U)),i&&(Q=Zn({inputs:{x:I},backend:s,attrs:{perm:[0,2,1]}}),D.push(Q));const ee=p!==1,ie=p===1;let se=U;ee&&(se=ge({inputs:{x:U},backend:s,attrs:{shape:[R,L,1]}}),D.push(se));const ce=p===1?2:1;let le=Q;ie&&(le=ge({inputs:{x:Q},backend:s,attrs:{shape:[R,1,L]}}),D.push(le));const ue=PN({inputs:{a:se,b:le},backend:s});K=Nb({inputs:{x:ue},backend:s,attrs:{axis:ce,keepDims:!0}}),D.push(ue)}else{const U=li(t.dtype,e.dtype),Q=new OM(k,x,[R,h,p],n,i,O,S,T,A),ee=[N,I];if(a!=null&&ee.push(a),T&&ee.push(r),A){const ie=s.makeTensorInfo([],"float32",gr(o,"float32"));ee.push(ie),D.push(ie)}K=s.runWebGLProgram(Q,ee,U)}const M=ge({inputs:{x:K},backend:s,attrs:{shape:w}});D.push(K);for(const U of D)s.disposeIntermediateTensorInfo(U);return M}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I0e(t){const{inputs:e,backend:n,attrs:i}=t,{a:s,b:a,bias:r,preluActivationWeights:o}=e,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=i;return m0({a:s,b:a,transposeA:l,transposeB:c,backend:n,bias:r,preluActivationWeights:o,leakyreluAlpha:d,activation:u})}const T0e={kernelName:rh,backendName:"webgl",kernelFunc:I0e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fE="return abs(x);";function $0e(t){const{inputs:e,backend:n}=t,{x:i}=e;if(n.shouldExecuteOnCPU([i])&&i.dtype!=="complex64"){const a=n.texData.get(i.dataId),r=IM(a.values);return n.makeTensorInfo(i.shape,i.dtype,r)}let s;return J().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new Ur(i.shape,fE):s=new ka(i.shape,fE),n.runWebGLProgram(s,[i],i.dtype)}const E0e={kernelName:Oh,backendName:"webgl",kernelFunc:$0e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D0e=Ts+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,A0e=Qe({opSnippet:D0e}),F0e={kernelName:yu,backendName:"webgl",kernelFunc:A0e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R0e=Ts+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,O0e=Qe({opSnippet:R0e}),P0e={kernelName:vu,backendName:"webgl",kernelFunc:O0e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hE="return a + b;",L0e=Tn({opSnippet:hE,packedOpSnippet:hE,supportsComplex:!0,cpuKernelImpl:Kge}),M0e={kernelName:jl,backendName:"webgl",kernelFunc:L0e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class B0e{constructor(e,n){this.outputShape=[],this.outputShape=e,this.variableNames=n.map((a,r)=>`T${r}`);const i=[];this.variableNames.forEach(a=>{i.push(`float v${a} = get${a}AtOutCoords();`)});const s=this.variableNames.map(a=>`v${a}`).join(" + ");this.userCode=`
      void main() {
        ${i.join(`
        `)}

        float result = ${s};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class z0e{constructor(e,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=n.map((a,r)=>`T${r}`);const i=[];this.variableNames.forEach(a=>{i.push(`vec4 v${a} = get${a}AtOutCoords();`)});const s=this.variableNames.map(a=>`v${a}`).join(" + ");this.userCode=`
      void main() {
        ${i.join(`
        `)}

        vec4 result = ${s};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gg(t){const{inputs:e,backend:n}=t,i=e;if(i.length===1)return Fi({inputs:{x:i[0]},backend:n});if(i.length>J().get("WEBGL_MAX_TEXTURES_IN_SHADER")){const l=Math.floor(i.length/2),c=Gg({inputs:i.slice(0,l),backend:n}),u=Gg({inputs:i.slice(l),backend:n});return Gg({inputs:[c,u],backend:n})}const s=i.map(l=>l.dtype).reduce((l,c)=>li(l,c)),a=i.map(l=>l.shape),o=J().getBool("WEBGL_PACK")?new z0e(i[0].shape,a):new B0e(i[0].shape,a);return n.runWebGLProgram(o,i,s)}const V0e={kernelName:Ph,backendName:"webgl",kernelFunc:Gg};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W0e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:a,keepDims:r}=i,o=s.shape.length,l=ze(a,s.shape);let c=l;const u=Rt(c,o);let d=s;u!=null&&(d=Zn({inputs:{x:s},backend:n,attrs:{perm:u}}),c=Gt(c.length,o)),Nn("all",c,o);const[f,h]=mn(d.shape,c),p=te(h),m=ge({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}}),y=ec(m,m.dtype,"all",n);let g;if(r){const v=Ht(f,l);g=ge({inputs:{x:y},backend:n,attrs:{shape:v}})}else g=ge({inputs:{x:y},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),u!=null&&n.disposeIntermediateTensorInfo(d),g}const j0e={kernelName:ey,backendName:"webgl",kernelFunc:W0e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H0e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:a,keepDims:r}=i,o=s.shape.length,l=ze(a,s.shape);let c=l;const u=Rt(c,o);let d=s;u!=null&&(d=Zn({inputs:{x:s},backend:n,attrs:{perm:u}}),c=Gt(c.length,o)),Nn("any",c,o);const[f,h]=mn(d.shape,c),p=te(h),m=ge({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}}),y=ec(m,m.dtype,"any",n);let g;if(r){const v=Ht(f,l);g=ge({inputs:{x:y},backend:n,attrs:{shape:v}})}else g=ge({inputs:{x:y},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),u!=null&&n.disposeIntermediateTensorInfo(d),g}const G0e={kernelName:ty,backendName:"webgl",kernelFunc:H0e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class U0e{constructor(e,n,i){this.variableNames=["A"];const{windowSize:s,batchSize:a,outSize:r}=e;i||this.variableNames.push("bestIndicesA"),this.outputShape=[a,r];const o=n==="max"?">":"<",l=i?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${s};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${s}; i++) {
          int inIdx = ${l};
          float candidate = getA(batch, inIdx);
          if (candidate ${o} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class q0e{constructor(e,n,i,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,E(e.length>2,()=>`Packed arg${i.charAt(0).toUpperCase()+i.slice(1)} supports only inputs with rank above 2.`);const a=e[e.length-1],r=Math.ceil(a/n);this.outputShape=e.slice(0,-1),r>1&&this.outputShape.push(r),s||this.variableNames.push("bestIndicesA");const o=this.outputShape,l=o.length,c=ht(l),u=Xn("coords",l);let d,f;if(r===1){f=l+1;const I=ht(f);d=`
        ${I} sourceLocR = ${I}(${u.join()}, 0);
        ++${u[l-1]};
        ${I} sourceLocG = ${I}(${u.join()}, 0);
        ++${u[l-2]};
        ${I} sourceLocA = ${I}(${u.join()}, 0);
        --${u[l-1]};
        ${I} sourceLocB = ${I}(${u.join()}, 0);
        --${u[l-2]};`}else f=l,d=`
        ${c} sourceLocR = coords;
        ++${u[l-1]};
        ${c} sourceLocG = coords;
        ++${u[l-2]};
        ${c} sourceLocA = coords;
        --${u[l-1]};
        ${c} sourceLocB = coords;
        --${u[l-2]};`;const h=["x","y","z","w","u","v"].slice(0,f),p="."+h[f-1],m=h.map(I=>"int "+I),y=Xn("sourceLocR",f-1).concat("inIdx.r"),g=Xn("sourceLocG",f-1).concat("inIdx.g"),v=Xn("sourceLocB",f-1).concat("inIdx.b"),b=Xn("sourceLocA",f-1).concat("inIdx.a"),w=i==="max"?"greaterThan":"lessThan",k=s?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${y.join()}),
                             getBestIndicesAChannel(${g.join()}),
                             getBestIndicesAChannel(${v.join()}),
                             getBestIndicesAChannel(${b.join()})));`,x=`vec4(
            getAChannel(${y.join()}),
            hasNextCol ? getAChannel(${g.join()}) : 0.,
            hasNextRow ? getAChannel(${v.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${b.join()}) : 0.)`,N=s?"":`
      float getBestIndicesAChannel(${m.join()}) {
        return getChannel(getBestIndicesA(${h.join()}),
                                          vec2(${h.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${m.join()}) {
        return getChannel(getA(${h.join()}),
                               vec2(${h.slice(-2).join()}));
      }
      ${N}
      void main() {
        ${c} coords = getOutputCoords();
        bool hasNextCol = ${u[l-1]} < ${o[l-1]-1};
        bool hasNextRow = ${u[l-2]} < ${o[l-2]-1};
        ${d}
        ivec4 srcIdx = ivec4(sourceLocR${p}, sourceLocG${p},
          sourceLocB${p}, sourceLocA${p}) * ${n};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${x};

        for (int i = 0; i < ${n}; i++) {
          inIdx = srcIdx;
          ${k}
          vec4 candidate = ${x};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${w}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LM(t,e,n,i=null){let s=e.shape[0],a=e.shape[1];i!=null&&(s=i.shape[0],a=i.shape[1]);const r=Yv(a),o={windowSize:r,inSize:a,batchSize:s,outSize:Math.ceil(a/r)},l=new U0e(o,n,i==null),c=[e];i!=null&&c.push(i);const u=t.runWebGLProgram(l,c,"int32");if(u.shape[1]===1)return u;const d=LM(t,e,n,u);return t.disposeIntermediateTensorInfo(u),d}function MM(t,e,n,i=null){const s=i!=null?i.shape:e.shape,a=s[s.length-1],r=Yv(a),o=new q0e(s,r,n,i==null),l=i==null?[e]:[e,i],c=t.runWebGLProgram(o,l,"int32");if(c.shape.length===e.shape.length){const u=MM(t,e,n,c);return t.disposeIntermediateTensorInfo(c),u}return c}function BM(t,e,n,i){const s=[n];if(Nn("arg"+i.charAt(0).toUpperCase()+i.slice(1),s,e.shape.length),!J().getBool("WEBGL_PACK_REDUCE")||e.shape.length<=2){const a=[],r=t.texData.get(e.dataId),o=r!==null&&r.isPacked;let l=e;o&&(l=t.unpackTensor(e),a.push(l));const[c,u]=mn(l.shape,s),d=te(u),f=ge({inputs:{x:l},backend:t,attrs:{shape:[-1,d]}});a.push(f);const h=LM(t,f,i);a.push(h);const p=ge({inputs:{x:h},backend:t,attrs:{shape:c}});return a.forEach(m=>t.disposeIntermediateTensorInfo(m)),p}return MM(t,e,i)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K0e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:a}=i;let r=ze(a,s.shape);const o=Rt(r,s.shape.length);let l=s;const c=[];o!=null&&(l=Zn({inputs:{x:s},backend:n,attrs:{perm:o}}),c.push(l),r=Gt(r.length,l.shape.length)),Nn("argMax",[r[0]],l.shape.length);const u=BM(n,l,r[0],"max");return c.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}const X0e={kernelName:Lh,backendName:"webgl",kernelFunc:K0e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J0e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:a}=i;let r=ze(a,s.shape);const o=Rt(r,s.shape.length);let l=s;const c=[];o!=null&&(l=Zn({inputs:{x:s},backend:n,attrs:{perm:o}}),c.push(l),r=Gt(r.length,l.shape.length)),Nn("argMin",[r[0]],l.shape.length);const u=BM(n,l,r[0],"min");return c.forEach(d=>n.disposeIntermediateTensorInfo(d)),u}const Y0e={kernelName:Mh,backendName:"webgl",kernelFunc:J0e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q0e=Ts+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,Z0e=Qe({opSnippet:Q0e}),eye={kernelName:bu,backendName:"webgl",kernelFunc:Z0e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tye=Ts+"return log(x + sqrt(x * x + 1.0));",nye=Qe({opSnippet:tye}),iye={kernelName:wu,backendName:"webgl",kernelFunc:nye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sye=Ts+`
  return atan(x);
`,aye=Qe({opSnippet:sye}),rye={kernelName:ku,backendName:"webgl",kernelFunc:aye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oye=ON+`
  return atan(a, b);
`,lye=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+vm+`
  return result;
`,cye=Tn({opSnippet:oye,packedOpSnippet:lye}),uye={kernelName:xu,backendName:"webgl",kernelFunc:cye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dye=Ts+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,fye=Qe({opSnippet:dye}),hye={kernelName:_u,backendName:"webgl",kernelFunc:fye};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bh{constructor(e,n,i,s=!1,a=!1){if(this.variableNames=["x"],n==="avg"&&i)throw new Error("Cannot compute positions for average pool.");const r=e.filterWidth,o=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterHeight,f=e.effectiveFilterWidth,h=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;const m=n==="avg",y=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let v="0.0";if(m||(v="-1.0 / 1e-20"),i){const I=">=";this.userCode=`
        const ivec2 strides = ivec2(${o}, ${l});
        const ivec2 pads = ivec2(${h}, ${p});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${d};
              wR += ${c}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${f};
                wC += ${u}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value ${I} currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${s?a?y:g:`wR * ${f} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const b="max";let w=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(w="avgValue / count");const k=Math.floor(r/4)*4,x=r%4,N=`
      if (${m}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${b}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${o}, ${l});
      const ivec2 pads = ivec2(${h}, ${p});
      const float initializationValue = ${v};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${v});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${d};
            wR += ${c}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${k}; wC += 4) {
            int xC = xCCorner + wC * ${u};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              getValue(batch, xR, xC + 2 * ${u}, d),
              getValue(batch, xR, xC + 3 * ${u}, d)
            );

            ${N}
          }

          int xC = xCCorner + ${k};
          if (${x===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${N}
          } else if (${x===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              initializationValue,
              initializationValue
            );

            ${N}
          } else if (${x===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              getValue(batch, xR, xC + 2 * ${u}, d),
              initializationValue
            );

            ${N}
          }
        }
        setOutput(${w});
      }
    `}}class LN{constructor(e,n,i,s=!1,a=!1){if(this.variableNames=["x"],n==="avg"&&i)throw new Error("Cannot compute positions for average pool.");const r=e.filterWidth,o=e.strideDepth,l=e.strideHeight,c=e.strideWidth,u=e.dilationDepth,d=e.dilationHeight,f=e.dilationWidth,h=e.effectiveFilterDepth,p=e.effectiveFilterHeight,m=e.effectiveFilterWidth,y=e.padInfo.front,g=e.padInfo.top,v=e.padInfo.left;this.outputShape=e.outShape;const b=n==="avg";let w="0.0";if(b||(w="-1.0 / 1e-20"),i){const R=">=";this.userCode=`
        const ivec3 strides =
            ivec3(${o}, ${l}, ${c});
        const ivec3 pads = ivec3(${y}, ${g}, ${v});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${h};
              wD += ${u}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${e.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${p};
                wR += ${d}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${m};
                  wC += ${f}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value ${R} currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${s?a?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${p} * ${m} +
                      wR * ${m} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const k="max";let x=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(x="avgValue / count");const N=Math.floor(r/4)*4,I=r%4,D=`
      if (${b}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${k}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${o}, ${l}, ${c});
      const ivec3 pads = ivec3(${y}, ${g}, ${v});
      const float initializationValue = ${w};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${w});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${h};
            wD += ${u}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${p};
            wR += ${d}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${N}; wC += 4) {
              int xC = xCCorner + wC * ${f};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                getValue(batch, xD, xR, xC + 2 * ${f}, ch),
                getValue(batch, xD, xR, xC + 3 * ${f}, ch)
              );

              ${D}
            }

            int xC = xCCorner + ${N};
            if (${I===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${D}
            } else if (${I===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                initializationValue,
                initializationValue
              );

              ${D}
            } else if (${I===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                getValue(batch, xD, xR, xC + 2 * ${f}, ch),
                initializationValue
              );

              ${D}
            }
          }
          setOutput(${x});
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pye(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e;gm(s,"avgPool");const{filterSize:a,strides:r,pad:o,dimRoundingMode:l}=i,c=1;E(Cn(r,c),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${r} and dilations '${c}'`);const u=Ns(s.shape,a,r,c,o,l);if(u.filterWidth===1&&u.filterHeight===1&&Ge(u.inShape,u.outShape))return Fi({inputs:{x:s},backend:n});const d=new bh(u,"avg",!1);return n.runWebGLProgram(d,[s],"float32")}const mye={kernelName:Bh,backendName:"webgl",kernelFunc:pye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gye(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{filterSize:a,strides:r,pad:o,dimRoundingMode:l,dataFormat:c}=i,u=[1,1,1],d=yr(s.shape,a,r,u,o,l,c),f=new LN(d,"avg",!1);return n.runWebGLProgram(f,[s],"float32")}const yye={kernelName:zh,backendName:"webgl",kernelFunc:gye};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vye{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterHeight,i=e.filterWidth,s=e.strideHeight,a=e.strideWidth,r=e.dilationHeight,o=e.dilationWidth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,u=l-1-e.padInfo.top,d=c-1-e.padInfo.left,f=1/(n*i);this.userCode=`
      const ivec2 pads = ivec2(${u}, ${d});
      const float avgMultiplier = float(${f});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${l};
            wR += ${r}) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${c};
            wC+= ${o}) {
            float dyC = float(dyCCorner + wC) / ${a}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class bye{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterDepth,i=e.filterHeight,s=e.filterWidth,a=e.strideDepth,r=e.strideHeight,o=e.strideWidth,l=e.dilationDepth,c=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterDepth,f=e.effectiveFilterHeight,h=e.effectiveFilterWidth,p=d-1-e.padInfo.front,m=f-1-e.padInfo.top,y=h-1-e.padInfo.left,g=1/(n*i*s);this.userCode=`
      const ivec3 pads = ivec3(${p}, ${m}, ${y});
      const float avgMultiplier = float(${g});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${d};
            wD += ${l}) {
          float dyD = float(dyDCorner + wD) / ${a}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${f};
              wR += ${c}) {
            float dyR = float(dyRCorner + wR) / ${r}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${h};
                wC += ${u}) {
              float dyC = float(dyCCorner + wC) / ${o}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wye(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,input:a}=e,r=a,{filterSize:o,strides:l,pad:c,dimRoundingMode:u}=i,d=[1,1,1],f=yr(r.shape,o,l,d,c,u),h=new bye(f);return n.runWebGLProgram(h,[s],r.dtype)}const kye={kernelName:iy,backendName:"webgl",kernelFunc:wye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _ye(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,input:a}=e,r=a;gm([s,a],"avgPoolGrad");const{filterSize:o,strides:l,pad:c}=i,u=Ns(r.shape,o,l,1,c),d=new vye(u);return n.runWebGLProgram(d,[s],r.dtype)}const xye={kernelName:ny,backendName:"webgl",kernelFunc:_ye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sye(t){const{inputs:e,backend:n,attrs:i}=t,{a:s,b:a}=e,{transposeA:r,transposeB:o}=i;return m0({a:s,b:a,transposeA:r,transposeB:o,backend:n})}const Cye={kernelName:Vh,backendName:"webgl",kernelFunc:Sye};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Nye{constructor(e,n,i,s,a,r){this.outputShape=[],this.variableNames=["x","mean","variance"],Pe(e,n),Pe(e,i);let o="0.0";s!=null&&(Pe(e,s),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let l="1.0";a!=null&&(Pe(e,a),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${o};
        float scale = ${l};
        float inv = scale * inversesqrt(variance + float(${r}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Iye{constructor(e,n,i,s,a,r){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Pe(e,n),Pe(e,i);let o="vec4(0.0)";s!=null&&(Pe(e,s),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let l="vec4(1.0)";a!=null&&(Pe(e,a),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = ${o};
        vec4 scale = ${l};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${r}));

        setOutput((x - mean) * inv + offset);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tye=({inputs:t,backend:e,attrs:n})=>{const{x:i,mean:s,variance:a,offset:r,scale:o}=t;E(s.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),E(r==null||s.shape.length===r.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),E(o==null||s.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=n;l==null&&(l=.001);const c=[i,s,a];let u=null;r!=null&&(u=r.shape,c.push(r));let d=null;o!=null&&(d=o.shape,c.push(o));const f=J().getBool("WEBGL_PACK_NORMALIZATION")?new Iye(i.shape,s.shape,a.shape,u,d,l):new Nye(i.shape,s.shape,a.shape,u,d,l);return e.runWebGLProgram(f,c,c[0].dtype)},$ye={kernelName:Zh,backendName:"webgl",kernelFunc:Tye};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Eye{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const n=ht(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const i=Dye(this.rank);let s;const a=e.map((r,o)=>`sourceLoc.${ox[o]} = start[${o}] + coords.${ox[o]};`);s=`
        ${n} sourceLoc;
        ${n} coords = getOutputCoords();
        ${a.join(`
`)}
      `,this.userCode=`
      void main() {
        ${s}
        setOutput(getSource(${i}));
      }
    `}}const ox=["x","y","z","w","u","v"];function Dye(t){if(t===1)return"sourceLoc";if(t<=6)return ox.slice(0,t).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Aye{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=ht(this.rank),i=Xn("coords",this.rank),s=Xn("sourceLoc",this.rank),a=this.rank===1?"sourceLoc":`vec2(${s.slice(-2).join()})`,r=`getChannel(getSource(${s.join()}), ${a})`,o=`
      result.x = ${r};
      if (++${i[this.rank-1]} < ${e[this.rank-1]}) {
        ++${s[this.rank-1]};
        result.y = ${r};
        --${s[this.rank-1]};
      }
    `,l=this.rank===1?"":`
      --${i[this.rank-1]};
      if (++${i[this.rank-2]} < ${e[this.rank-2]}) {
        ++${s[this.rank-2]};
        result.z = ${r};
        if (++${i[this.rank-1]} < ${e[this.rank-1]}) {
          ++${s[this.rank-1]};
          result.w = ${r};
        }
      }
    `,c=this.rank<=4?`sourceLoc = coords +
            ${n}(${e.map((u,d)=>`start[${d}]`).join()});`:e.map((u,d)=>`${s[d]} = ${i[d]} + start[${d}];`).join(`
`);this.userCode=`
      void main() {
        ${n} coords = getOutputCoords();
        ${n} sourceLoc;
        ${c}
        vec4 result = vec4(0.);
        ${o}
        ${l}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fye(t,e,n,i){const s=i.texData.get(t.dataId),a=i.makeTensorInfo(n,t.dtype),r=i.texData.get(a.dataId);Object.assign(r,s),r.refCount=1,r.shape=n,r.dtype=t.dtype;let o=yS(e,Ie(t.shape));s.slice&&(o+=s.slice.flatOffset),r.slice={flatOffset:o,origDataId:s.slice&&s.slice.origDataId||t.dataId};const l=i.dataRefCount.get(r.slice.origDataId)||1;return i.dataRefCount.set(r.slice.origDataId,l+1),a}function Pd(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{begin:a,size:r}=i,[o,l]=lv(s,a,r);if(pS(s,o,l),te(l)===0)return n.makeTensorInfo(l,s.dtype,[]);if(n.shouldExecuteOnCPU([s])||s.dtype==="string"){const d=n.texData.get(s.dataId),f=C1e(d.values,o,l,s.shape,s.dtype);return n.makeTensorInfo(l,s.dtype,f)}const{isPacked:c}=n.texData.get(s.dataId),u=gS(s.shape,o,l);if(c||!u){const d=J().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Aye(l):new Eye(l),f=[o];return n.runWebGLProgram(d,[s],s.dtype,f)}return n.uploadToGPU(s.dataId),Fye(s,o,l,n)}const Rye={kernelName:Tp,backendName:"webgl",kernelFunc:Pd};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oye=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{blockShape:a,crops:r}=i;E(s.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const o=a.reduce((v,b)=>v*b),l=nm(s.shape,a,o),c=im(l.length,a.length),u=sm(s.shape,a,o),d=C3(r,a.length),f=N3(u,r,a.length),h=[],p=ge({inputs:{x:s},backend:n,attrs:{shape:l}}),m=Zn({inputs:{x:p},backend:n,attrs:{perm:c}}),y=ge({inputs:{x:m},backend:n,attrs:{shape:u}}),g=Pd({inputs:{x:y},backend:n,attrs:{begin:d,size:f}});return h.push(p),h.push(m),h.push(y),h.forEach(v=>n.disposeIntermediateTensorInfo(v)),g},Pye={kernelName:Wh,backendName:"webgl",kernelFunc:Oye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lye(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,weights:a}=e,{size:r}=i,o=n.readSync(s.dataId),l=n.readSync(a.dataId),c=NM(o,l,a.dtype,a.shape,r);return n.makeTensorInfo([r],a.dtype,c)}const Mye={kernelName:sy,backendName:"webgl",kernelFunc:Lye};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bye(t){const{inputs:e,backend:n}=t,{s0:i,s1:s}=e,a=n.readSync(i.dataId),r=n.readSync(s.dataId),o=Pe(Array.from(a),Array.from(r));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}const zye={kernelName:ay,backendName:"webgl",kernelFunc:Bye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vye="return float(a != b);",zM=Tn({opSnippet:Vye,cpuKernelImpl:g1e,dtype:"bool"}),Wye={kernelName:gp,backendName:"webgl",kernelFunc:zM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wm(t){const{inputs:e,backend:n}=t,{input:i}=e,s=n.texData.get(i.dataId);return Fi({inputs:{x:s.complexTensorInfos.real},backend:n})}const jye={kernelName:My,backendName:"webgl",kernelFunc:wm};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hye="return float(int(x));";function Gye(t,e){const n=new ka(t.shape,Hye),i=e.runWebGLProgram(n,[t],"int32");return{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lx(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{dtype:a}=i;if(a==="complex64"){if(s.dtype==="complex64")return Fi({inputs:{x:s},backend:n});const r=Vt(s.shape),o=lx({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),l=Oo({inputs:{real:o,imag:r},backend:n});return r.dispose(),n.disposeIntermediateTensorInfo(o),l}if(s.dtype==="complex64"){const r=wm({inputs:{input:s},backend:n}),o=lx({inputs:{x:r},backend:n,attrs:{dtype:a}});return n.disposeIntermediateTensorInfo(r),o}if(!U2(s.dtype,a)){const r=Fi({inputs:{x:s},backend:n});return{dataId:r.dataId,shape:r.shape,dtype:a}}if(n.shouldExecuteOnCPU([s])){const r=n.texData.get(s.dataId).values,[o,l,c]=Jge(r,s.shape,s.dtype,a);return n.makeTensorInfo(o,l,c)}if(a==="int32")return Gye(s,n);if(a==="bool"){const r=n.makeTensorInfo([],"bool",on("bool",1)),l=zM({inputs:{a:s,b:r},backend:n});return n.disposeIntermediateTensorInfo(r),l}throw new Error(`Error in Cast: failed to cast ${s.dtype} to ${a}`)}const Uye={kernelName:Su,backendName:"webgl",kernelFunc:lx};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pE="return ceil(x);",qye=Qe({opSnippet:pE,packedOpSnippet:pE,cpuKernelImpl:Yge}),Kye={kernelName:Cu,backendName:"webgl",kernelFunc:qye};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Xye{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Jye{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yye(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{clipValueMin:a,clipValueMax:r}=i;let o;J().getBool("WEBGL_PACK_CLIP")?o=new Jye(s.shape):o=new Xye(s.shape);const l=[[a],[r]];return n.runWebGLProgram(o,[s],s.dtype,l)}const Qye={kernelName:Nu,backendName:"webgl",kernelFunc:Yye};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Zye{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mE(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}}function eve(t){const{inputs:e,backend:n}=t,{x:i}=e,s=n.texData.get(i.dataId),a=new Zye(i.shape),r=[mE(i,s.complexTensorInfos.real),mE(i,s.complexTensorInfos.imag)];return n.runWebGLProgram(a,r,r[0].dtype)}const tve={kernelName:jh,backendName:"webgl",kernelFunc:eve};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nve{constructor(e){this.outputShape=[],this.outputShape=$a(e,1),this.variableNames=e.map((r,o)=>`T${o}`);const n=new Array(e.length-1);n[0]=e[0][1];for(let r=1;r<n.length;r++)n[r]=n[r-1]+e[r][1];const i=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`];for(let r=1;r<n.length;r++){const o=n[r-1];i.push(`else if (yC < ${n[r]}) setOutput(getT${r}(yR, yC-${o}));`)}const s=n.length,a=n[n.length-1];i.push(`else setOutput(getT${s}(yR, yC-${a}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${i.join(`
        `)}
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ive{constructor(e,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=$a(e,n);const i=this.outputShape,s=i.length,a=ht(s),r=Xn("coords",s),o=["x","y","z","w","u","v"].slice(0,s);this.variableNames=e.map((m,y)=>`T${y}`);const l=new Array(e.length-1);l[0]=e[0][n];for(let m=1;m<l.length;m++)l[m]=l[m-1]+e[m][n];const c=o[n],u=o.slice(-2),d=o.join();let f=`if (${c} < ${l[0]}) {
        return getChannel(
            getT0(${d}), vec2(${u.join()}));
        }`;for(let m=1;m<l.length;m++){const y=l[m-1];f+=`
        if (${c} < ${l[m]}  && ${c} >= ${l[m-1]}) {
          return getChannel(
            getT${m}(${wg(o,c,y)}),
            vec2(${wg(u,c,y)}));
        }`}const h=l.length,p=l[l.length-1];f+=`
        return getChannel(
          getT${h}(${wg(o,c,p)}),
          vec2(${wg(u,c,p)}));`,this.userCode=`
      float getValue(${o.map(m=>"int "+m)}) {
        ${f}
      }

      void main() {
        ${a} coords = getOutputCoords();
        vec4 result = vec4(getValue(${r}), 0., 0., 0.);

        ${r[s-1]} = ${r[s-1]} + 1;
        if (${r[s-1]} < ${i[s-1]}) {
          result.g = getValue(${r});
        }

        ${r[s-2]} = ${r[s-2]} + 1;
        if (${r[s-2]} < ${i[s-2]}) {
          result.a = getValue(${r});
        }

        ${r[s-1]} = ${r[s-1]} - 1;
        if (${r[s-2]} < ${i[s-2]} &&
            ${r[s-1]} < ${i[s-1]}) {
          result.b = getValue(${r});
        }
        setOutput(result);
      }
    `}}function wg(t,e,n){const i=t.indexOf(e);return t.map((a,r)=>r===i?`${a} - ${n}`:a).join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ib(t){const{inputs:e,backend:n}=t,{input:i}=e,s=n.texData.get(i.dataId);return Fi({inputs:{x:s.complexTensorInfos.imag},backend:n})}const sve={kernelName:Sy,backendName:"webgl",kernelFunc:Ib};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vf(t,e,n){const i=t[0].dtype;if(i==="complex64"){const h=t.map(v=>wm({inputs:{input:v},backend:n})),p=t.map(v=>Ib({inputs:{input:v},backend:n})),m=vf(h,e,n),y=vf(p,e,n),g=Oo({inputs:{real:m,imag:y},backend:n});return h.forEach(v=>n.disposeIntermediateTensorInfo(v)),p.forEach(v=>n.disposeIntermediateTensorInfo(v)),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),g}let s=n.shouldExecuteOnCPU(t);if(i==="string"&&(s=!0),s){const h=t.map(w=>{const k=te(w.shape.slice(e));return ge({inputs:{x:w},backend:n,attrs:{shape:[-1,k]}})}),p=h.map(w=>({vals:n.readSync(w.dataId),shape:w.shape})),m=$a(h.map(w=>w.shape),1),y=h[0].shape[0]===1,g=Qge(p,m,i,y),v=$a(t.map(w=>w.shape),e),b=n.makeTensorInfo(v,i,g);return h.forEach(w=>n.disposeIntermediateTensorInfo(w)),b}const a=t.filter(h=>te(h.shape)>0),r=J().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&a[0].shape.length>1;if(a.length===1){const h=r?new ka(t[0].shape,Ar):new Ur(t[0].shape,Ar);return n.runWebGLProgram(h,t,i)}const o=J().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(a.length>o){const h=[];for(let m=0;m<a.length;m+=o){const y=a.slice(m,m+o);h.push(vf(y,e,n))}const p=vf(h,e,n);for(const m of h)n.disposeIntermediateTensorInfo(m);return p}if(r){const h=new ive(a.map(p=>p.shape),e);return n.runWebGLProgram(h,a,i)}const{tensors2D:l,outShape:c}=ave(a,e,n),u=new nve(l.map(h=>h.shape)),d=n.runWebGLProgram(u,l,i);l.forEach(h=>n.disposeIntermediateTensorInfo(h));const f=ge({inputs:{x:d},attrs:{shape:c},backend:n});return n.disposeIntermediateTensorInfo(d),f}function ave(t,e,n){const i=$a(t.map(a=>a.shape),e);return{tensors2D:t.map(a=>ge({inputs:{x:a},attrs:{shape:[-1,te(a.shape.slice(e))]},backend:n})),outShape:i}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VM(t){const{inputs:e,backend:n,attrs:i}=t,{axis:s}=i,a=ze(s,e[0].shape)[0],r=e.map(c=>c.shape);_3(r,a);const o=$a(e.map(c=>c.shape),a);if(te(o)===0)return n.makeTensorInfo(o,e[0].dtype,[]);const l=e.filter(c=>te(c.shape)>0);return l.length===1?Fi({inputs:{x:l[0]},backend:n}):vf(l,a,n)}const rve={kernelName:Hh,backendName:"webgl",kernelFunc:VM};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class WM{constructor(e,n=!1,i=null,s=!1,a=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const r=e.padInfo.top,o=e.padInfo.left,l=e.strideHeight,c=e.strideWidth,u=e.dilationHeight,d=e.dilationWidth,f=e.filterHeight,h=e.filterWidth,p=Math.floor(e.inChannels/4)*4,m=e.inChannels%4,y=e.dataFormat==="channelsLast",g=y?1:2,v=y?2:3,b=y?3:1;let w="",k="";i&&(s?w=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${i}
        }`:a?w=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${i}
        }`:w=`
          float activation(float x) {
            ${i}
          }
        `,k="result = activation(result);");const x=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${w}

      const ivec2 strides = ivec2(${l}, ${c});
      const ivec2 pads = ivec2(${r}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${b}];

        ivec2 xRCCorner =
            ivec2(coords[${g}], coords[${v}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${f}; wR++) {
          int xR = xRCorner + wR * ${u};

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${h}; wC++) {
            int xC = xCCorner + wC * ${d};

            if (xC < 0 || xC >= ${e.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${p}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${y}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${m===1}) {

              if (${y}) {
                dotProd +=
                    getX(batch, xR, xC, ${p}) *
                    getW(wR, wC, ${p}, d2);
              } else {
                dotProd +=
                    getX(batch, ${p}, xR, xC) *
                    getW(wR, wC, ${p}, d2);
              }

            } else if (${m===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2)
              );

              if (${y}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${m===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2),
                getW(wR, wC, ${p} + 2, d2)
              );

              if (${y}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1),
                  getX(batch, xR, xC, ${p} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC),
                  getX(batch, ${p} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${x}
        ${k}
        setOutput(result);
      }
    `}}class ove{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const n=e.padInfo.front,i=e.padInfo.top,s=e.padInfo.left,a=e.strideDepth,r=e.strideHeight,o=e.strideWidth,l=e.dilationDepth,c=e.dilationHeight,u=e.dilationWidth,d=e.filterDepth,f=e.filterHeight,h=e.filterWidth,p=Math.floor(e.inChannels/4)*4,m=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${a}, ${r}, ${o});
      const ivec3 pads = ivec3(${n}, ${i}, ${s});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${d}; wF++) {
          int xF = xFCorner + wF * ${l};

          if (xF < 0 || xF >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${f}; wR++) {
            int xR = xRCorner + wR * ${c};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${h}; wC++) {
              int xC = xCCorner + wC * ${u};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${p}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${m===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${p}) *
                  getW(wF, wR, wC, ${p}, d2);
              } else if (${m===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${m===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1),
                  getX(batch, xF, xR, xC, ${p} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2),
                  getW(wF, wR, wC, ${p} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jM{constructor(e,n=!1,i=null,s=!1,a=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=ii(this.outputShape.length);const r=e.padInfo.left,o=e.strideWidth,l=e.dilationWidth,c=e.filterHeight,u=e.filterWidth,d=u;let f=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let y=0;y<u;y++)f+=`
           vec4 xTexelC${y*2};
           int xTexelC${y*2}Ready;
           vec4 xTexelC${y*2+1};
           int xTexelC${y*2+1}Ready;
           vec4 xC${y};`;f+=`
     for (int r = 0; r < ${c}; r++) {
      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {
       `;for(let y=0;y<u;y++)f+=`
           xTexelC${y*2} = vec4(0.0);
           xTexelC${y*2}Ready = 0;
           xTexelC${y*2+1} = vec4(0.0);
           xTexelC${y*2+1}Ready = 0;
           xC${y} = vec4(0.0);`;f+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let y=0;y<(d+1)/2;y++){const g=y*2;if(f+=`
           xC = xCCorner + ${g*l};
           `,o===1){if(g<u&&(r%2===1?(f+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }
               `,l===1&&g>0?f+=`
                 xC${g} = vec4(xTexelC${g-2}.zw, xTexelC${g}.xy);
                 `:f+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${g} = vec4(previous.zw, xTexelC${g}.xy);
                   } else {
                     xC${g} = vec4(0.0, 0.0, xTexelC${g}.xy);
                   }
                   `):f+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }

                 xC${g} = xTexelC${g};
                 `,g+1<u)){const v=r%2===0?Q0(l):l;l%2===0&&r%2===1||l%2!==0&&r%2!==1?(f+=`
                   xCOffset = xC + imod(pads[1], 2) + ${v};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g+1}Ready == 0) {
                     xTexelC${g+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${g+1}.zw = vec2(0.0);
                     }
                     xTexelC${g+1}Ready = 1;
                   }
                   `,l>1?f+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${g+1} = vec4(previous.zw, xTexelC${g+1}.xy);
                     } else {
                      xC${g+1} = vec4(0.0, 0.0, xTexelC${g+1}.xy);
                     }
                     `:f+=`
                     xC${g+1} = vec4(xTexelC${g}.zw, xTexelC${g+1}.xy);
                     `):v===1?f+=`
                     xC${g+1} = xTexelC${g};
                     `:f+=`
                     xCOffset = xC + ${v};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g+1}Ready == 0) {
                       xTexelC${g+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${g+1}.zw = vec2(0.0);
                       }
                       xTexelC${g+1}Ready = 1;
                     }

                     xC${g+1} = xTexelC${g+1};
                     `}}else g<u&&(r%2===1?(f+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${g+1}Ready == 0) {
                   xTexelC${g+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${g+1}.zw = vec2(0.0);
                   }
                   xTexelC${g+1}Ready = 1;
                 }

                 xC${g} = vec4(xTexelC${g}.zw, xTexelC${g+1}.zw);
               `,g+1<u&&(f+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${g+1} = vec4(xTexelC${g+1}.xy, final.xy);
                 `)):(f+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g+1}Ready == 0) {
                   xTexelC${g+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${g+1}.zw = vec2(0.);
                   }
                   xTexelC${g+1}Ready = 1;
                 }

                 xC${g} = vec4(
                   xTexelC${g}.xy, xTexelC${g+1}.xy);
               `,g+1<u&&(f+=`
                   xC${g+1} = vec4(xTexelC${g}.zw, xTexelC${g+1}.zw);
                 `)));g<u&&(f+=`
             wTexel = getW(r, ${g}, d1, d2);
             dotProd += xC${g}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${e.inChannels}) {
               dotProd += xC${g}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,g+1<u&&(f+=`
               wTexel = getW(r, ${g+1}, d1, d2);
               dotProd += xC${g+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${e.inChannels}) {
                 dotProd += xC${g+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}f+=`
     }
   `,f+=`
     }
   `,f+=`
     }
   `;let h="",p="";i&&(s?h=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${i}
         }`:a?h=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${i}
         }`:h=`vec4 activation(vec4 x) {
           ${i}
         }`,p="result = activation(result);");const m=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${h}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${f}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${m}
         ${p}
         setOutput(result);
       }
     `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lve{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=ii(this.outputShape.length);const{dataFormat:i}=n,s=ni(),a=i==="channelsLast",r=a?1:2,o=a?2:3,l=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let c="";for(let u=0;u<=1;u++)for(let d=0;d<=1;d++)c+=`
          blockIndex = rc.z + ${d};
          pos = rc.y + ${u};

          ${l}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${r}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${o}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${a}) {
                  innerDims = vec2(d1, ch);
                  result[${u*2+d}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${u*2+d}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${c}

        ${s.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g0(t,e){const n=t.length;return n>=3?e?[...t.slice(0,-3),t[n-3]*t[n-2],t[n-1]]:[...t.slice(0,-3),t[n-3],t[n-2]*t[n-1]]:!e&&n===1&&t[0]>1?[t[0],1]:null}function HM({x:t,filter:e,convInfo:n,backend:i,bias:s=null,preluActivationWeights:a=null,leakyreluAlpha:r=0,activation:o=null}){const l=t.shape,c=i.texData.get(t.dataId),u=n.inChannels,d=l[0]*l[1]*l[2],f=n.outChannels,h=n.dataFormat==="channelsLast",p=!1,m=!1;let y;const g=[];if(a!=null){const w=g0(a.shape,h);w!=null&&(a=ge({inputs:{x:a},backend:i,attrs:{shape:w}}),g.push(a))}if(s!=null){const w=g0(s.shape,h);w!=null&&(s=ge({inputs:{x:s},backend:i,attrs:{shape:w}}),g.push(s))}if(!((d===1||f===1)&&u>PM)&&c.isPacked&&h&&c.texture!=null&&l[2]%2!==0&&Ge(c.shape.slice(-3),l.slice(-3))){const w=l[0]*l[1]*(l[2]+1),k={dataId:t.dataId,shape:[1,w,n.inChannels],dtype:t.dtype},x=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,E(p0(c.shape,k.shape),()=>`packed reshape ${c.shape} to ${k.shape} isn't free`);const N=ge({inputs:{x:e},backend:i,attrs:{shape:[1,n.inChannels,n.outChannels]}});g.push(N);const I=m0({a:k,b:N,backend:i,transposeA:p,transposeB:m,bias:s,activation:o,preluActivationWeights:a,leakyreluAlpha:r}),D=i.texData.get(I.dataId);E(D.isPacked,()=>"batchMatMul result is expected to be packed"),c.shape=x,D.shape=n.outShape,y=Fi({inputs:{x:I},backend:i}),y.shape=n.outShape,g.push(I)}else{const w=n.outHeight*n.outWidth,k=ge({inputs:{x:t},backend:i,attrs:{shape:h?[n.batchSize,w,n.inChannels]:[n.batchSize,n.inChannels,w]}}),x=ge({inputs:{x:e},backend:i,attrs:{shape:[1,n.inChannels,n.outChannels]}}),N=m0({a:h?k:x,b:h?x:k,transposeA:!h,transposeB:m,backend:i,bias:s,activation:o,preluActivationWeights:a,leakyreluAlpha:r});y=ge({inputs:{x:N},backend:i,attrs:{shape:n.outShape}}),g.push(k),g.push(x),g.push(N)}for(const w of g)i.disposeIntermediateTensorInfo(w);return y}function GM({x:t,filter:e,convInfo:n,backend:i,bias:s=null,preluActivationWeights:a=null,leakyreluAlpha:r=0,activation:o=null}){const{filterWidth:l,filterHeight:c,inChannels:u,outWidth:d,outHeight:f,dataFormat:h}=n,p=h==="channelsLast",m=l*c*u,y=f*d,g=[n.batchSize,m,y],v=!0,b=!1,w=[];if(a!=null){const M=g0(a.shape,p);M!=null&&(a=ge({inputs:{x:a},backend:i,attrs:{shape:M}}),w.push(a))}if(s!=null){const M=g0(s.shape,p);M!=null&&(s=ge({inputs:{x:s},backend:i,attrs:{shape:M}}),w.push(s))}const k=ge({inputs:{x:e},backend:i,attrs:{shape:[1,m,te(e.shape)/m]}});w.push(k);const x=new lve(g,n),N=[t.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],I=i.runWebGLProgram(x,[t],"float32",N),D=ge({inputs:{x:I},backend:i,attrs:{shape:g}});w.push(I),w.push(D);const R=s!=null,L=a!=null,O=o==="leakyrelu",T=o?vh(o,!0):null,A=new OM(p?D.shape:k.shape,p?k.shape:D.shape,p?[n.batchSize,y,n.outChannels]:[n.batchSize,n.outChannels,y],v,b,R,T,L,O),S=p?[D,k]:[k,D];if(s&&S.push(s),L&&S.push(a),O){const M=i.makeTensorInfo([],"float32",gr(r,"float32"));S.push(M),w.push(M)}const $=i.runWebGLProgram(A,S,"float32"),K=ge({inputs:{x:$},backend:i,attrs:{shape:n.outShape}});w.push($);for(const M of w)i.disposeIntermediateTensorInfo(M);return K}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cve(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:a}=e,{strides:r,pad:o,dataFormat:l,dilations:c,dimRoundingMode:u}=i,d=vr(l),f=pn(s.shape,a.shape,r,c,o,u,!1,d);let h;if(f.filterHeight===1&&f.filterWidth===1&&f.dilationHeight===1&&f.dilationWidth===1&&f.strideHeight===1&&f.strideWidth===1&&(f.padInfo.type==="SAME"||f.padInfo.type==="VALID"))h=HM({x:s,filter:a,convInfo:f,backend:n});else if(f.strideWidth<=2&&d==="channelsLast"&&J().getBool("WEBGL_EXP_CONV")){const m=new jM(f),y=[[f.padInfo.top,f.padInfo.left],[f.strideHeight,f.strideWidth],[f.dilationHeight,f.dilationWidth],[f.inHeight,f.inWidth]];h=n.runWebGLProgram(m,[s,a],"float32",y)}else if(J().getBool("WEBGL_CONV_IM2COL"))h=GM({x:s,filter:a,convInfo:f,backend:n});else{const m=new WM(f);h=n.runWebGLProgram(m,[s,a],"float32")}const p=ge({inputs:{x:h},backend:n,attrs:{shape:f.outShape}});return n.disposeIntermediateTensorInfo(h),p}const uve={kernelName:Gh,backendName:"webgl",kernelFunc:cve};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dve{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,i=e.strideWidth,s=e.padInfo.top,a=e.padInfo.left,r=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${s};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${i} - ${a};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              if (${r}) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class fve{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,i=e.filterWidth,s=e.strideHeight,a=e.strideWidth,r=e.dataFormat==="channelsLast",o=n-1-e.padInfo.top,l=i-1-e.padInfo.left,c=r?1:2,u=r?2:3,d=r?3:1;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${d}];

        ivec2 dyCorner = ivec2(coords[${c}], coords[${u}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${i}; wC++) {
            float dyC = float(dyCCorner + wC) / ${a}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${i} - 1 - wC;

            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {

              if (${r}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class hve{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideDepth,i=e.strideHeight,s=e.strideWidth,a=e.padInfo.front,r=e.padInfo.top,o=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yF = 0; yF < ${e.outDepth}; yF++) {
            int xF = wF + yF * ${n} - ${a};

            if (xF < 0 || xF >= ${e.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${e.outHeight}; yR++) {
              int xR = wR + yR * ${i} - ${r};

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${e.outWidth}; yC++) {
                int xC = wC + yC * ${s} - ${o};

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class pve{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterDepth,i=e.filterHeight,s=e.filterWidth,a=e.strideDepth,r=e.strideHeight,o=e.strideWidth,l=n-1-e.padInfo.front,c=i-1-e.padInfo.top,u=s-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${l}, ${c}, ${u});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${n}; wF++) {
          float dyF = float(dyFCorner + wF) / ${a}.0;

          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${n} - 1 - wF;

          for (int wR = 0; wR < ${i}; wR++) {
            float dyR = float(dyRCorner + wR) / ${r}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${i} - 1 - wR;

            for (int wC = 0; wC < ${s}; wC++) {
              float dyC = float(dyCCorner + wC) / ${o}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${s} - 1 - wC;

              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mve(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,dy:a}=e,{strides:r,pad:o,dataFormat:l,dimRoundingMode:c,filterShape:u}=i,d=vr(l),f=pn(s.shape,u,r,1,o,c,!1,d),h=new dve(f);return n.runWebGLProgram(h,[s,a],"float32")}const gve={kernelName:oy,backendName:"webgl",kernelFunc:mve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yve(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,filter:a}=e,{inputShape:r,strides:o,pad:l,dataFormat:c,dimRoundingMode:u}=i,d=vr(c),f=pn(r,a.shape,o,1,l,u,!1,d),h=new fve(f);return n.runWebGLProgram(h,[s,a],"float32")}const vve={kernelName:Uh,backendName:"webgl",kernelFunc:yve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bve(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:a}=e,{strides:r,pad:o,dilations:l}=i,c=$o(s.shape,a.shape,r,l,o),u=new ove(c);return n.runWebGLProgram(u,[s,a],"float32")}const wve={kernelName:qh,backendName:"webgl",kernelFunc:bve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kve(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,dy:a}=e,{strides:r,pad:o,filterShape:l}=i,c=$o(s.shape,l,r,1,o),u=new hve(c);return n.runWebGLProgram(u,[s,a],"float32")}const _ve={kernelName:ly,backendName:"webgl",kernelFunc:kve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xve(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,filter:a}=e,{pad:r,strides:o,inputShape:l}=i,c=$o(l,a.shape,o,1,r),u=new pve(c);return n.runWebGLProgram(u,[s,a],"float32")}const Sve={kernelName:cy,backendName:"webgl",kernelFunc:xve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cve=Od+`
  return cos(x);
`,Nve=Qe({opSnippet:Cve}),Ive={kernelName:Iu,backendName:"webgl",kernelFunc:Nve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tve=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,$ve=Qe({opSnippet:Tve}),Eve={kernelName:Tu,backendName:"webgl",kernelFunc:$ve};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Dve{constructor(e,n,i,s,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[r,o,l,c]=e,[u]=n,[d,f]=i;this.outputShape=[u,d,f,c];const h=s==="bilinear"?1:0,[p,m]=[`${o-1}.0`,`${l-1}.0`],[y,g,v]=d>1?[`${(o-1)/(d-1)}`,"(y2-y1) * height_ratio",`y1*${p} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${p}`],[b,w,k]=f>1?[`${(l-1)/(f-1)}`,"(x2-x1) * width_ratio",`x1*${m} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${m}`];this.userCode=`
      const float height_ratio = float(${y});
      const float width_ratio = float(${b});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${r}) {
          return;
        }

        float height_scale = ${g};
        float width_scale = ${w};

        float in_y = ${v};
        if( in_y < 0.0 || in_y > ${p} ) {
          setOutput(float(${a}));
          return;
        }
        float in_x = ${k};
        if( in_x < 0.0 || in_x > ${m} ) {
          setOutput(float(${a}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${h} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ave=t=>{const{inputs:e,backend:n,attrs:i}=t,{image:s,boxes:a,boxInd:r}=e,{cropSize:o,method:l,extrapolationValue:c}=i,u=new Dve(s.shape,a.shape,o,l,c);return n.runWebGLProgram(u,[s,a,r],"float32")},Fve={kernelName:dy,backendName:"webgl",kernelFunc:Ave};var wh;(function(t){t.Prod="*",t.Sum="+"})(wh||(wh={}));class gE{constructor(e,n,i,s){this.op=e,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const a=this.outputShape.length,r=this.op===wh.Prod?"1.0":"0.0",o=i?r:`getX(${yE(a,"coords",this.op)})`,l=this.outputShape[this.outputShape.length-1];let c="",u="";i?(c=s?`end != ${l-1}`:"end != 0",u=s?"end + 1":"end - 1"):(c=s?`end + pow2 < ${l}`:"end >= pow2",u=s?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${ht(a)} coords = getOutputCoords();
        int end = ${vE(a,"coords",this.op)};
        float val = ${o};
        int pow2 = int(pow(2.0, index));
        if (${c}) {
          int idx = ${u};
          ${vE(a,"coords",this.op)} = idx;
          val ${this.op}= getX(${yE(a,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function yE(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.x, ${e}.y`;if(t===3)return`${e}.x, ${e}.y, ${e}.z`;if(t===4)return`${e}.x, ${e}.y, ${e}.z, ${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}function vE(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.y`;if(t===3)return`${e}.z`;if(t===4)return`${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UM(t,e,n,i,s,a){const r=e.shape.length,o=Rt([i],r);let l=e;o!=null&&(l=Zn({inputs:{x:e},backend:n,attrs:{perm:o}}));const c=Gt(1,r)[0];if(c!==r-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${e.shape.length-1} but got axis=${i}`);const u=l.shape[c];let d=Fi({inputs:{x:l},backend:n});for(let f=0;f<=Math.ceil(Math.log2(u))-1;f++){const h=new gE(t,l.shape,!1,a),p=[[f]],m=d;d=n.runWebGLProgram(h,[d],d.dtype,p),n.disposeIntermediateTensorInfo(m)}if(s){const f=new gE(t,l.shape,s,a),h=d;d=n.runWebGLProgram(f,[d],d.dtype),n.disposeIntermediateTensorInfo(h)}if(o!=null){const f=Do(o),h=Zn({inputs:{x:d},backend:n,attrs:{perm:f}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(l),h}return d}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rve(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:a,exclusive:r,reverse:o}=i;return UM(wh.Prod,s,n,a,r,o)}const Ove={kernelName:uy,backendName:"webgl",kernelFunc:Rve};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pve(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:a,exclusive:r,reverse:o}=i;return UM(wh.Sum,s,n,a,r,o)}const Lve={kernelName:Kh,backendName:"webgl",kernelFunc:Pve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mve(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,weights:a}=e,{size:r,binaryOutput:o}=i;if(s.shape.length===1){const l=n.readSync(s.dataId),c=n.readSync(a.dataId),u=NM(l,c,a.dtype,a.shape,r);return n.makeTensorInfo([r],a.dtype,u)}else if(s.shape.length===2){const l=n.bufferSync(s),c=n.bufferSync(a),u=Xge(l,c,r,o);return n.makeTensorInfo(u.shape,a.dtype,u.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}const Bve={kernelName:fy,backendName:"webgl",kernelFunc:Mve};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zve{constructor(e,n,i){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=i,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${n};
      int offset_h = imod(h, ${n});
      int in_w = w / ${n};
      int offset_w = imod(w, ${n});
      int offset_d = (offset_h * ${n} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vve(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{blockSize:a,dataFormat:r}=i,o=s.shape[0],l=r==="NHWC"?s.shape[1]:s.shape[2],c=r==="NHWC"?s.shape[2]:s.shape[3],u=r==="NHWC"?s.shape[3]:s.shape[1],d=l*a,f=c*a,h=u/(a*a),p=r==="NHWC"?[o,d,f,h]:[o,h,d,f],m=new zve(p,a,r);return n.runWebGLProgram(m,[s],s.dtype)}const Wve={kernelName:hy,backendName:"webgl",kernelFunc:Vve};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qM{constructor(e,n=!1,i=null,s=!1,a=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=ii(this.outputShape.length);const r=e.filterHeight,o=e.filterWidth,l=e.outChannels/e.inChannels;let c="",u="";i&&(s?c=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${i}
        }`:a?c=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${i}
        }`:c=`
          float activation(float x) {
            ${i}
          }
        `,u="result = activation(result);");const d=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${c}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${l};
        int q = d2 - d1 * ${l};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${r}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${o}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${d}
        ${u}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class KM{constructor(e,n=!1,i=null,s=!1,a=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=ii(this.outputShape.length);const r=e.outChannels/e.inChannels,o=e.padInfo.left,l=e.strideWidth,c=e.dilationWidth,u=e.filterHeight,d=e.filterWidth,f=d;let h=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let g=0;g<d;g++)h+=`
          vec4 xTexelC${g*2};
          int xTexelC${g*2}Ready;
          vec4 xTexelC${g*2+1};
          int xTexelC${g*2+1}Ready;
          vec4 xC${g};`;h+=`
    for (int r = 0; r < ${u}; r++) {
      `;for(let g=0;g<d;g++)h+=`
          xTexelC${g*2} = vec4(0.0);
          xTexelC${g*2}Ready = 0;
          xTexelC${g*2+1} = vec4(0.0);
          xTexelC${g*2+1}Ready = 0;
          xC${g} = vec4(0.0);`;h+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let g=0;g<(f+1)/2;g++){const v=g*2;if(h+=`
          xC = xCCorner + ${v*c};
          `,l===1){if(v<d&&(o%2===1?(h+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v}Ready == 0) {
                  xTexelC${v} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${v}.zw = vec2(0.0);
                  }
                  xTexelC${v}Ready = 1;
                }
              `,c===1&&v>0?h+=`
                xC${v} = vec4(xTexelC${v-2}.zw, xTexelC${v}.xy);
                `:h+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${v} = vec4(previous.zw, xTexelC${v}.xy);
                  } else {
                    xC${v} = vec4(0.0, 0.0, xTexelC${v}.xy);
                  }
                  `):h+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${v}Ready == 0) {
                  xTexelC${v} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${v}.zw = vec2(0.0);
                  }
                  xTexelC${v}Ready = 1;
                }

                xC${v} = xTexelC${v};
                `,v+1<d)){const b=o%2===0?Q0(c):c;c%2===0&&o%2===1||c%2!==0&&o%2!==1?(h+=`
                  xCOffset = xC + imod(pads[1], 2) + ${b};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                    xTexelC${v+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${v+1}.zw = vec2(0.0);
                    }
                    xTexelC${v+1}Ready = 1;
                  }
                  `,c>1?h+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${v+1} = vec4(previous.zw, xTexelC${v+1}.xy);
                    } else {
                     xC${v+1} = vec4(0.0, 0.0, xTexelC${v+1}.xy);
                    }
                    `:h+=`
                    xC${v+1} = vec4(xTexelC${v}.zw, xTexelC${v+1}.xy);
                    `):b===1?h+=`
                    xC${v+1} = xTexelC${v};
                    `:h+=`
                    xCOffset = xC + ${b};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                      xTexelC${v+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${v+1}.zw = vec2(0.0);
                      }
                      xTexelC${v+1}Ready = 1;
                    }

                    xC${v+1} = xTexelC${v+1};
                    `}}else v<d&&(o%2===1?(h+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v}Ready == 0) {
                  xTexelC${v} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${v}.zw = vec2(0.0);
                  }
                  xTexelC${v}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${v+1}Ready == 0) {
                  xTexelC${v+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${v+1}.zw = vec2(0.0);
                  }
                  xTexelC${v+1}Ready = 1;
                }

                xC${v} = vec4(xTexelC${v}.zw, xTexelC${v+1}.zw);
              `,v+1<d&&(h+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${v+1} = vec4(xTexelC${v+1}.xy, final.xy);
                `)):(h+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${v}Ready == 0) {
                  xTexelC${v} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${v}.zw = vec2(0.0);
                  }
                  xTexelC${v}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                  xTexelC${v+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${v+1}.zw = vec2(0.);
                  }
                  xTexelC${v+1}Ready = 1;
                }

                xC${v} = vec4(
                  xTexelC${v}.xy, xTexelC${v+1}.xy);
              `,v+1<d&&(h+=`
                  xC${v+1} = vec4(xTexelC${v}.zw, xTexelC${v+1}.zw);
                `)));v<d&&(h+=`
            wTexel = getW(r, ${v}, d1, q);
            dotProd += xC${v} * vec4(wTexel.xz, wTexel.xz);
          `,v+1<d&&(h+=`
              wTexel = getW(r, ${v+1}, d1, q);
              dotProd += xC${v+1} * vec4(wTexel.xz, wTexel.xz);
            `))}h+=`
    }
  `,h+=`
      }
    `;let p="",m="";i&&(s?p=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${i}
        }`:a?p=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${i}
        }`:p=`vec4 activation(vec4 x) {
          ${i}
        }`,m="result = activation(result);");const y=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${p}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${r};
        int q = d2 - d1 * ${r};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${h}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${y}
        ${m}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jve(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:a}=e,{strides:r,pad:o,dilations:l,dimRoundingMode:c}=i;let u=l;u==null&&(u=[1,1]),E(Cn(r,u),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${r} and dilations '${u}'`);const d=pn(s.shape,a.shape,r,u,o,c,!0);let f;J().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?f=new KM(d):f=new qM(d);const h=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(f,[s,a],"float32",h)}const Hve={kernelName:Xh,backendName:"webgl",kernelFunc:jve};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Gve{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,i=e.strideWidth,s=e.padInfo.top,a=e.padInfo.left,r=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${r} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${s};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${i} - ${a};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class Uve{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,i=e.filterWidth,s=e.strideHeight,a=e.strideWidth,r=n-1-e.padInfo.top,o=i-1-e.padInfo.left,l=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${r}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${i}; wC++) {
            float dyC = float(dyCCorner + wC) / ${a}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${i} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${l}; dm++) {
              int d2 = d1 * ${l} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qve(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,dy:a}=e,{strides:r,dilations:o,pad:l,dimRoundingMode:c,filterShape:u}=i,d=pn(s.shape,u,r,o,l,c,!0),f=new Gve(d);return n.runWebGLProgram(f,[s,a],"float32")}const Kve={kernelName:py,backendName:"webgl",kernelFunc:qve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xve(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,filter:a}=e,{strides:r,dilations:o,pad:l,dimRoundingMode:c,inputShape:u}=i,d=pn(u,a.shape,r,o,l,c,!0),f=new Uve(d);return n.runWebGLProgram(f,[s,a],"float32")}const Jve={kernelName:my,backendName:"webgl",kernelFunc:Xve};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Yve{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qve(t){const{inputs:e,backend:n}=t,{x:i}=e,s=[...i.shape,...i.shape],a=te(i.shape),r=ge({inputs:{x:i},backend:n,attrs:{shape:[a]}}),o=new Yve(a),l=n.runWebGLProgram(o,[r],r.dtype),c=ge({inputs:{x:l},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(l),c}const Zve={kernelName:gy,backendName:"webgl",kernelFunc:Qve};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ebe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:n,inWidth:i,padInfo:s,strideHeight:a,strideWidth:r,filterHeight:o,filterWidth:l,dilationHeight:c,dilationWidth:u}=e,{top:d,left:f}=s;this.userCode=`
      const ivec2 strides = ivec2(${a}, ${r});
      const ivec2 pads = ivec2(${d}, ${f});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${o}; h++) {
          int hIn = hBeg + h * ${c};

          if (hIn >= 0 && hIn < ${n}) {
            for (int w = 0; w < ${l}; w++) {
              int wIn = wBeg + w * ${u};

              if (wIn >= 0 && wIn < ${i}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tbe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:a}=e,{strides:r,pad:o,dilations:l}=i,c=Bp(s.shape,a.shape,r,o,"NHWC",l);let u;const d=new ebe(c);u=n.runWebGLProgram(d,[s,a],"float32");const f=ge({inputs:{x:u},backend:n,attrs:{shape:c.outShape}});return n.disposeIntermediateTensorInfo(u),f}const nbe={kernelName:Jh,backendName:"webgl",kernelFunc:tbe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ibe(t){const{inputs:e,backend:n,attrs:i}=t,{equation:s}=i,a=e,{allDims:r,summedDims:o,idDims:l}=R3(s,a.length);P3(r.length,l,a);const{path:c,steps:u}=L3(o,l),d=u.length;let f=null,h=r.length;const p=[];for(let m=0;m<d;++m){for(const y of u[m]){const{permutationIndices:g,expandDims:v}=O3(h,l[y]);let b;M3(g)?b=a[y]:(b=Zn({inputs:{x:a[y]},backend:n,attrs:{perm:g}}),p.push(b));const w=b.shape.slice();for(let k=0;k<v.length;++k)w.splice(v[k],0,1);Ge(b.shape,w)||(b=ge({inputs:{x:b},backend:n,attrs:{shape:w}}),p.push(b)),f===null?f=b:(f=PN({inputs:{a:b,b:f},backend:n}),p.push(f))}m<d-1&&(c[m]>=0&&(f=Nb({inputs:{x:f},backend:n,attrs:{axis:c[m]-(r.length-h),keepDims:!1}}),p.push(f)),h--)}for(const m of p)m!==f&&n.disposeIntermediateTensorInfo(m);return f}const sbe={kernelName:yy,backendName:"webgl",kernelFunc:ibe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const abe="return (x >= 0.0) ? x : (exp(x) - 1.0);",rbe=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,obe=Qe({opSnippet:abe,packedOpSnippet:rbe}),lbe={kernelName:Eu,backendName:"webgl",kernelFunc:obe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cbe="return (b >= 1.0) ? a : a * (b + 1.0);",ube=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,dbe=t=>{const{inputs:e,backend:n}=t,{dy:i,y:s}=e,a=J().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new bm(ube,i.shape,s.shape):new uu(cbe,i.shape,s.shape);return n.runWebGLProgram(a,[i,s],i.dtype)},fbe={kernelName:vy,backendName:"webgl",kernelFunc:dbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hbe=`
  return vec4(equal(a, b));
`,pbe="return float(a == b);",mbe=Tn({opSnippet:pbe,packedOpSnippet:hbe,dtype:"bool",cpuKernelImpl:Zge}),gbe={kernelName:Yh,backendName:"webgl",kernelFunc:mbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ybe=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${I3};
  float a1 = ${T3};
  float a2 = ${$3};
  float a3 = ${E3};
  float a4 = ${D3};
  float a5 = ${A3};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,vbe=Qe({opSnippet:ybe}),bbe={kernelName:Du,backendName:"webgl",kernelFunc:vbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wbe=Od+`
  return exp(x);
`,kbe=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,XM=Qe({opSnippet:wbe,packedOpSnippet:kbe,cpuKernelImpl:e1e,dtype:"float32"}),_be={kernelName:Au,backendName:"webgl",kernelFunc:XM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cx(t){const{inputs:e,attrs:n,backend:i}=t,{dim:s}=n,{input:a}=e,r=a.shape.length,o=a.shape.slice();let l=s;return s<0&&(E(-(r+1)<=s,()=>`Axis must be in the interval [${-(r+1)}, ${r}]`),l=r+s+1),o.splice(l,0,1),ge({inputs:{x:a},backend:i,attrs:{shape:o}})}const xbe={kernelName:Qh,backendName:"webgl",kernelFunc:cx};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bE="return exp(x) - 1.0;",Sbe=Qe({opSnippet:bE,packedOpSnippet:bE,cpuKernelImpl:t1e}),Cbe={kernelName:Fu,backendName:"webgl",kernelFunc:Sbe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wE{constructor(e,n,i){this.variableNames=["real","imag"];const s=n[1];this.outputShape=n;const a=i?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,r=i?`${s}.0`:"1.0";let o;if(e==="real")o="return real * expR - imag * expI;";else if(e==="imag")o="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);this.userCode=`
      const float exponentMultiplier = ${a};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${o}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${s});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${s}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${r};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JM(t,e,n){const i=n.texData.get(t.dataId),s=te(t.shape),a=t.shape[t.shape.length-1],r=s/a,o=ge({inputs:{x:t},backend:n,attrs:{shape:[r,a]}}),l=o.shape,c=new wE("real",l,e),u=new wE("imag",l,e),d=[{dataId:i.complexTensorInfos.real.dataId,dtype:i.complexTensorInfos.real.dtype,shape:l},{dataId:i.complexTensorInfos.imag.dataId,dtype:i.complexTensorInfos.imag.dtype,shape:l}],f=n.runWebGLProgram(c,d,"float32"),h=n.runWebGLProgram(u,d,"float32"),p=Oo({inputs:{real:f,imag:h},backend:n});n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h);const m=ge({inputs:{x:p},backend:n,attrs:{shape:t.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(p),m}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nbe(t){const{inputs:e,backend:n}=t,{input:i}=e;return JM(i,!1,n)}const Ibe={kernelName:by,backendName:"webgl",kernelFunc:Nbe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Tbe{constructor(e,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function km(t){const{backend:e,attrs:n}=t,{shape:i,value:s}=n;let{dtype:a}=n;if(a=a||gu(s),a==="string"){const r=jt(a,te(i));return r.fill(s),e.makeTensorInfo(i,a,r)}else{const r=new Tbe(i,s),o=[[s]];return e.runWebGLProgram(r,[],a,o)}}const $be={kernelName:wy,backendName:"webgl",kernelFunc:km};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ebe{constructor(e){this.variableNames=["Image"],this.outputShape=[];const n=e[2];this.outputShape=e,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${n} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${n}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dbe={kernelName:ky,backendName:"webgl",kernelFunc:({inputs:t,backend:e})=>{const{image:n}=t,i=e,s=new Ebe(n.shape);return i.runWebGLProgram(s,[n],n.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kE="return floor(x);",Abe=Qe({opSnippet:kE,packedOpSnippet:kE,cpuKernelImpl:n1e}),Fbe={kernelName:Ru,backendName:"webgl",kernelFunc:Abe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rbe=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,Obe=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,Pbe=Tn({opSnippet:Rbe,packedOpSnippet:Obe,dtype:"int32"}),Lbe={kernelName:Ou,backendName:"webgl",kernelFunc:Pbe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Mbe{constructor(e){this.variableNames=["A"];const n=ni(),[i,s]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${s}.0, ${i}.0);

        vec4 values = ${n.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Bbe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=ni(),[i,s]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${s}.0, ${i}.0);
            vec4 values = ${n.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zbe={kernelName:V1,backendName:"webgl",kernelFunc:Vbe};let ac,Zw=J().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function Vbe(t){const{inputs:e,backend:n,attrs:i}=t;let{pixels:s}=e;const{numChannels:a}=i,r=typeof HTMLVideoElement!="undefined"&&s instanceof HTMLVideoElement,o=typeof HTMLImageElement!="undefined"&&s instanceof HTMLImageElement,[l,c]=r?[s.videoWidth,s.videoHeight]:[s.width,s.height],u=[c,l],d=[c,l,a];if(o||r){const m=J().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(ac==null||m!==Zw)&&(Zw=m,ac=document.createElement("canvas").getContext("2d",{willReadFrequently:Zw})),ac.canvas.width=l,ac.canvas.height=c,ac.drawImage(s,0,0,l,c),s=ac.canvas}const f=n.makeTensorInfo(u,"int32");n.texData.get(f.dataId).usage=ji.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(f.dataId),s);const h=J().getBool("WEBGL_PACK")?new Bbe(d):new Mbe(d),p=n.runWebGLProgram(h,[f],"int32");return n.disposeData(f.dataId),p}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wbe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:a,bias:r,preluActivationWeights:o}=e,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:f,activation:h,leakyreluAlpha:p}=i,m=vr(u),y=pn(s.shape,a.shape,l,d,c,f,!1,m);let g;const v=[],b=r!=null,w=o!=null,k=h==="leakyrelu",x=()=>{const I=[s,a],D=(R,L)=>{if(L==="NCHW"&&R.shape.length===1&&R.shape[0]!==1){const O=ge({inputs:{x:R},backend:n,attrs:{shape:[R.shape[0],1,1]}});return v.push(O),O}return R};if(b&&I.push(D(r,u)),w&&I.push(D(o,u)),k){const R=n.makeTensorInfo([],"float32",gr(p,"float32"));I.push(R),v.push(R)}return I};if(y.filterHeight===1&&y.filterWidth===1&&y.dilationHeight===1&&y.dilationWidth===1&&y.strideHeight===1&&y.strideWidth===1&&(y.padInfo.type==="SAME"||y.padInfo.type==="VALID"))g=HM({x:s,filter:a,convInfo:y,backend:n,bias:r,activation:h,preluActivationWeights:o,leakyreluAlpha:p});else if(y.strideWidth<=2&&m==="channelsLast"&&J().getBool("WEBGL_EXP_CONV")){const I=h?vh(h,!0):null,D=new jM(y,b,I,w,k),R=[[y.padInfo.top,y.padInfo.left],[y.strideHeight,y.strideWidth],[y.dilationHeight,y.dilationWidth],[y.inHeight,y.inWidth]],L=x();g=n.runWebGLProgram(D,L,"float32",R)}else if(J().getBool("WEBGL_CONV_IM2COL"))g=GM({x:s,filter:a,convInfo:y,backend:n,bias:r,activation:h,preluActivationWeights:o,leakyreluAlpha:p});else{const I=h?vh(h,!1):null,D=new WM(y,b,I,w,k),R=x();g=n.runWebGLProgram(D,R,"float32")}const N=ge({inputs:{x:g},backend:n,attrs:{shape:y.outShape}});return v.push(g),v.forEach(I=>n.disposeIntermediateTensorInfo(I)),N}const jbe={kernelName:oh,backendName:"webgl",kernelFunc:Wbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hbe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,filter:a,bias:r,preluActivationWeights:o}=e,{strides:l,pad:c,dilations:u,dimRoundingMode:d,activation:f,leakyreluAlpha:h}=i,p=[];let m=u;m==null&&(m=[1,1]),E(Cn(l,m),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${m}'`);const y=pn(s.shape,a.shape,l,m,c,d,!0),g=J().getBool("WEBGL_PACK_DEPTHWISECONV")&&y.strideWidth<=2&&y.outChannels/y.inChannels===1,v=f?vh(f,g):null,b=[s,a],w=r!=null,k=o!=null,x=f==="leakyrelu";if(w&&b.push(r),k&&b.push(o),x){const R=n.makeTensorInfo([],"float32",gr(h,"float32"));b.push(R),p.push(R)}let N;g?N=new KM(y,w,v,k,x):N=new qM(y,w,v,k,x);const I=[[y.padInfo.top,y.padInfo.left],[y.strideHeight,y.strideWidth],[y.dilationHeight,y.dilationWidth],[y.inHeight,y.inWidth]],D=n.runWebGLProgram(N,b,"float32",I);return p.forEach(R=>n.disposeIntermediateTensorInfo(R)),D}const Gbe={kernelName:lh,backendName:"webgl",kernelFunc:Hbe};class Ube{constructor(e,n,i,s){this.sliceDim=e,this.strides=n,this.paramsShape=s,this.variableNames=["x","indices"],this.outputShape=i;const a=ht(i.length);let r=`
    int index;`;for(let o=0;o<this.sliceDim;o++)r+=`
          index = round(getIndices(coords[0], ${o}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[o]};
          flattenIndex += index * ${this.strides[o]};`;this.userCode=`
         void main() {
          ${a} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${r}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qbe(t){const{inputs:e,backend:n}=t,{params:i,indices:s}=e,a=s.shape,r=a[a.length-1],o=te(i.shape),[l,c,u,d]=ov(i,s),f=ge({inputs:{x:s},backend:n,attrs:{shape:[c,r]}}),h=ge({inputs:{x:i},backend:n,attrs:{shape:[te(i.shape)/u,u]}});if(n.shouldExecuteOnCPU([i,s])||i.dtype==="string"){const g=n.readSync(s.dataId),v=n.bufferSync(i),b=i1e(g,v,i.dtype,c,r,u,d,i.shape,o);return n.makeTensorInfo(l,i.dtype,b.values)}const p=new Ube(r,d,[c,u],i.shape),m=n.runWebGLProgram(p,[h,f],h.dtype),y=ge({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),y}const Kbe={kernelName:_y,backendName:"webgl",kernelFunc:qbe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Xbe{constructor(e,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const i=ht(this.rank),s=Jbe(e);this.userCode=`
      void main() {
        ${i} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${s}));
      }
    `}}function Jbe(t,e){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[];for(let s=0;s<t.length;s++)s===2?i.push("index"):i.push(`${n[s]}`);return i.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YM(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,indices:a}=e,{axis:r,batchDims:o}=i,l=ze(r,s.shape)[0];if(J().get("DEBUG")){const v=n.readSync(a.dataId),b=s.shape[l];for(let w=0;w<v.length;++w){const k=v[w];E(k<=b-1&&k>=0,()=>`GatherV2: the index value ${k} is not in [0, ${b-1}]`)}}const c=z3(s,a,l,o),u=te(a.shape),d=[],f=ge({inputs:{x:s},backend:n,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),h=ge({inputs:{x:a},backend:n,attrs:{shape:[c.batchSize,u/c.batchSize]}});d.push(f),d.push(h);const p=[c.batchSize,c.outerSize,u/c.batchSize,c.sliceSize];if(n.shouldExecuteOnCPU([s,a])||s.dtype==="string"){const v=n.bufferSync(h),b=n.bufferSync(f),w=s1e(b,v,p);return d.forEach(k=>n.disposeIntermediateTensorInfo(k)),n.makeTensorInfo(c.outputShape,w.dtype,w.values)}const m=new Xbe(f.shape,p),y=n.runWebGLProgram(m,[f,h],f.dtype);d.push(y);const g=ge({inputs:{x:y},backend:n,attrs:{shape:c.outputShape}});return d.forEach(v=>n.disposeIntermediateTensorInfo(v)),g}const Ybe={kernelName:ep,backendName:"webgl",kernelFunc:YM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qbe="return float(a > b);",Zbe=`
  return vec4(greaterThan(a, b));
`,ewe=Tn({opSnippet:Qbe,packedOpSnippet:Zbe,cpuKernelImpl:a1e,dtype:"bool"}),twe={kernelName:tp,backendName:"webgl",kernelFunc:ewe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nwe="return float(a >= b);",iwe=`
  return vec4(greaterThanEqual(a, b));
`,swe=Tn({opSnippet:nwe,packedOpSnippet:iwe,dtype:"bool",cpuKernelImpl:r1e}),awe={kernelName:Pu,backendName:"webgl",kernelFunc:swe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rwe(t){const{inputs:e,backend:n}=t,{input:i}=e;return JM(i,!0,n)}const owe={kernelName:xy,backendName:"webgl",kernelFunc:rwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lwe="return float(!isnan(x) && !isinf(x));",cwe=Qe({opSnippet:lwe,dtype:"bool"}),uwe={kernelName:Mu,backendName:"webgl",kernelFunc:cwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dwe="return float(isinf(x));",fwe=Qe({opSnippet:dwe,dtype:"bool"}),hwe={kernelName:Bu,backendName:"webgl",kernelFunc:fwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pwe="return float(isnan(x));",mwe=Qe({opSnippet:pwe,dtype:"bool"}),gwe={kernelName:zu,backendName:"webgl",kernelFunc:mwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ywe="return float(a < b);",vwe=`
  return vec4(lessThan(a, b));
`,bwe=Tn({opSnippet:ywe,packedOpSnippet:vwe,cpuKernelImpl:o1e,dtype:"bool"}),wwe={kernelName:ip,backendName:"webgl",kernelFunc:bwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kwe="return float(a <= b);",_we=`
  return vec4(lessThanEqual(a, b));
`,xwe=Tn({opSnippet:kwe,packedOpSnippet:_we,cpuKernelImpl:l1e,dtype:"bool"}),Swe={kernelName:sp,backendName:"webgl",kernelFunc:xwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cwe(t){const{backend:e,attrs:n}=t,{start:i,stop:s,num:a}=n,r=c1e(i,s,a);return e.makeTensorInfo([r.length],"float32",r)}const Nwe={kernelName:Cy,backendName:"webgl",kernelFunc:Cwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Iwe=Od+`
  return x < 0.0 ? 0./0. : log(x);
`,Twe=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,$we=Qe({opSnippet:Iwe,packedOpSnippet:Twe,cpuKernelImpl:u1e}),Ewe={kernelName:Vu,backendName:"webgl",kernelFunc:$we};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dwe=Od+`
  return log(1.0 + x);
`,Awe=Qe({opSnippet:Dwe}),Fwe={kernelName:Wu,backendName:"webgl",kernelFunc:Awe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rwe="return float(a >= 1.0 && b >= 1.0);",Owe=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,Pwe=Tn({opSnippet:Rwe,packedOpSnippet:Owe,dtype:"bool"}),Lwe={kernelName:ap,backendName:"webgl",kernelFunc:Pwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mwe="return float(!(x >= 1.0));",Bwe=Qe({opSnippet:Mwe}),zwe={kernelName:rp,backendName:"webgl",kernelFunc:Bwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vwe="return float(a >= 1.0 || b >= 1.0);",Wwe=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,jwe=Tn({opSnippet:Vwe,packedOpSnippet:Wwe,dtype:"bool"}),Hwe={kernelName:op,backendName:"webgl",kernelFunc:jwe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Gwe{constructor(e,n,i,s,a){this.variableNames=["x"],this.outputShape=[];const r=n,o=e[3]-1;this.outputShape=e;let l;const c=`float(${i}) + float(${s}) * sum`;a===.5?l=`inversesqrt(${c})`:a===1?l=`1.0/(${c})`:l=`exp(log(${c}) * float(-${a}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${r}; j <= ${r}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${o}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${l};
        setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Uwe{constructor(e,n,i,s,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const r=n,o=e[3]-1;this.outputShape=e;let l;const c=`float(${i}) + float(${s}) * sum`;a===.5?l=`inversesqrt(${c})`:a===1?l=`1.0/(${c})`:l=`exp(log(${c}) * float(-${a}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${r};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${r}; j <= ${r}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${o}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${l};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qwe=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{depthRadius:a,bias:r,alpha:o,beta:l}=i,c=J().getBool("WEBGL_PACK_NORMALIZATION")?new Uwe(s.shape,a,r,o,l):new Gwe(s.shape,a,r,o,l);return n.runWebGLProgram(c,[s],s.dtype)},Kwe={kernelName:lp,backendName:"webgl",kernelFunc:qwe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Xwe{constructor(e,n,i,s,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=n,this.bias=i,this.alpha=s,this.beta=a,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${n})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${n} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${s}) * norm + float(${i});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${s})
                * float(${a})
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${a});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jwe=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:s,y:a,dy:r}=e,{depthRadius:o,bias:l,alpha:c,beta:u}=i,d=new Xwe(s.shape,o,l,c,u);return n.runWebGLProgram(d,[s,a,r],s.dtype)},Ywe={kernelName:Ny,backendName:"webgl",kernelFunc:Jwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qwe(t,e,n,i){const s=te(e),r=te(t.shape)/s,o=ge({inputs:{x:t},attrs:{shape:[r,s]},backend:i}),l=ec(o,t.dtype,"max",i),c=ge({inputs:{x:l},attrs:{shape:n},backend:i});return i.disposeIntermediateTensorInfo(o),i.disposeIntermediateTensorInfo(l),c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QM(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{reductionIndices:a,keepDims:r}=i,o=s.shape.length,l=ze(a,s.shape);let c=l;const u=Rt(c,o),d=u!=null,f=n.shouldExecuteOnCPU([s]);let h=s;if(d){if(f){const b=n.texData.get(h.dataId).values,w=new Array(o);for(let N=0;N<w.length;N++)w[N]=s.shape[u[N]];const k=RN(b,s.shape,s.dtype,u,w);h=n.makeTensorInfo(w,s.dtype);const x=n.texData.get(h.dataId);x.values=k}else h=Cb(s,u,n);c=Gt(c.length,o)}Nn("max",c,o);const[p,m]=mn(h.shape,c);let y=p;r&&(y=Ht(p,l));let g;if(f){const b=n.texData.get(h.dataId).values,w=d1e(b,te(m),y,s.dtype);g=n.makeTensorInfo(y,s.dtype);const k=n.texData.get(g.dataId);k.values=w}else g=Qwe(h,m,y,n);return d&&n.disposeIntermediateTensorInfo(h),g}const Zwe={kernelName:cp,backendName:"webgl",kernelFunc:QM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eke=ON+`
  return max(a, b);
`,tke=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+vm+`
  return result;
`,nke=Tn({opSnippet:eke,packedOpSnippet:tke,cpuKernelImpl:f1e}),ike={kernelName:ju,backendName:"webgl",kernelFunc:nke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ske(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e;gm(s,"maxPool");const{filterSize:a,strides:r,pad:o,dimRoundingMode:l}=i,c=1;E(Cn(r,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${r} and dilations '${c}'`);const u=Ns(s.shape,a,r,c,o,l);if(u.filterWidth===1&&u.filterHeight===1&&Ge(u.inShape,u.outShape))return Fi({inputs:{x:s},backend:n});const d=new bh(u,"max",!1);return n.runWebGLProgram(d,[s],s.dtype)}const ake={kernelName:up,backendName:"webgl",kernelFunc:ske};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rke(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{filterSize:a,strides:r,pad:o,dataFormat:l,dimRoundingMode:c}=i,u=[1,1,1],d=yr(s.shape,a,r,u,o,c,l),f=new LN(d,"max",!1);return n.runWebGLProgram(f,[s],s.dtype)}const oke={kernelName:dp,backendName:"webgl",kernelFunc:rke};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lke{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideHeight,i=e.strideWidth,s=e.dilationHeight,a=e.effectiveFilterHeight,r=e.effectiveFilterWidth,o=a-1-e.padInfo.top,l=r-1-e.padInfo.left,c=a*r-1;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${a};
          wR += ${s}) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${c} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${r} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class cke{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideDepth,i=e.strideHeight,s=e.strideWidth,a=e.dilationDepth,r=e.dilationHeight,o=e.dilationWidth,l=e.effectiveFilterDepth,c=e.effectiveFilterHeight,u=e.effectiveFilterWidth,d=l-1-e.padInfo.front,f=c-1-e.padInfo.top,h=u-1-e.padInfo.left,p=l*c*u-1;this.userCode=`
      const ivec3 pads = ivec3(${d}, ${f}, ${h});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${l};
           wD += ${a}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${c};
              wR += ${r}) {
            float dyR = float(dyRCorner + wR) / ${i}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${u};
                wC += ${o}) {
              float dyC = float(dyCCorner + wC) / ${s}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${p} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${c} * ${u} +
                  wR * ${u} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uke(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,input:a}=e,r=a,{filterSize:o,strides:l,pad:c,dimRoundingMode:u}=i,d=[1,1,1],f=yr(r.shape,o,l,d,c,u),h=new LN(f,"max",!0),p=n.runWebGLProgram(h,[r],r.dtype),m=new cke(f),y=n.runWebGLProgram(m,[s,p],r.dtype);return n.disposeIntermediateTensorInfo(p),y}const dke={kernelName:Ty,backendName:"webgl",kernelFunc:uke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fke(t){const{inputs:e,backend:n,attrs:i}=t,{dy:s,input:a,output:r}=e,o=a;gm([a,r],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=i,f=Ns(o.shape,l,c,1,u,d),h=!0,p=new bh(f,"max",h),m=n.runWebGLProgram(p,[o],o.dtype),y=new lke(f),g=n.runWebGLProgram(y,[s,m],o.dtype);return n.disposeIntermediateTensorInfo(m),g}const hke={kernelName:Iy,backendName:"webgl",kernelFunc:fke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pke(t,e,n,i){let s=new bh(n,"max",!1);const a=i.runWebGLProgram(s,[t],"float32");s=new bh(n,"max",!0,!0,e);const r=i.runWebGLProgram(s,[t],"float32");return[a,r]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mke={kernelName:$y,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:i}=t,{filterSize:s,strides:a,pad:r,includeBatchInIndex:o}=e,l=n;E(i.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${i.shape.length}.`);const c=[1,1];E(Cn(a,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${c}'`);const u=Ns(i.shape,s,a,c,r),[d,f]=pke(i,o,u,l);return[d,f]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gke(t,e,n,i){const s=te(e),r=te(t.shape)/s,o=ge({inputs:{x:t},attrs:{shape:[r,s]},backend:i}),l=ec(o,"float32","mean",i),c=ge({inputs:{x:l},attrs:{shape:n},backend:i});return i.disposeIntermediateTensorInfo(o),i.disposeIntermediateTensorInfo(l),c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yke={kernelName:fp,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:i}=t,{keepDims:s,axis:a}=e,r=n,o=i.shape.length,l=ze(a,i.shape);let c=l;const u=Rt(c,o),d=u!=null,f=r.shouldExecuteOnCPU([i]),h=[];let p=i;if(d){if(f){const w=r.texData.get(p.dataId).values,k=new Array(o);for(let I=0;I<k.length;I++)k[I]=i.shape[u[I]];const x=RN(w,i.shape,i.dtype,u,k);p=r.makeTensorInfo(k,i.dtype);const N=r.texData.get(p.dataId);N.values=x}else p=Cb(i,u,r);h.push(p),c=Gt(c.length,o)}Nn("sum",c,o);const[m,y]=mn(p.shape,c);let g=m;s&&(g=Ht(m,l));const v=gke(p,y,g,r);for(const b of h)r.disposeIntermediateTensorInfo(b);return v}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vke(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:a,keepDims:r}=i,o=s.shape.length,l=ze(a,s.shape);let c=l;const u=Rt(c,o);let d=s;u!=null&&(d=Zn({inputs:{x:s},backend:n,attrs:{perm:u}}),c=Gt(c.length,s.shape.length)),Nn("min",c,o);const[f,h]=mn(d.shape,c),p=te(h),m=ge({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}}),y=ec(m,m.dtype,"min",n);let g;if(r){const v=Ht(f,l);g=ge({inputs:{x:y},backend:n,attrs:{shape:v}})}else g=ge({inputs:{x:y},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),u!=null&&n.disposeIntermediateTensorInfo(d),g}const bke={kernelName:hp,backendName:"webgl",kernelFunc:vke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wke=ON+`
  return min(a, b);
`,kke=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+vm+`
  return result;
`,_ke=Tn({opSnippet:wke,packedOpSnippet:kke,cpuKernelImpl:h1e}),xke={kernelName:Hu,backendName:"webgl",kernelFunc:_ke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ske{constructor(e,n,i){this.variableNames=["x"],this.outputShape=n.map((u,d)=>u[0]+e[d]+u[1]);const s=e.length,a=ht(s),r=n.map(u=>u[0]).join(","),o=n.map((u,d)=>u[0]+e[d]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s),c=i==="reflect"?0:1;if(s===1){this.userCode=`
        int start = ${r};
        int end = ${o};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${c};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${c};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${a} start = ${a}(${r});
      ${a} end = ${a}(${o});

      void main() {
        ${a} outC = getOutputCoords();
        for (int i = 0; i < ${s}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${c};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${c};
          }
        }
        ${a} coords = outC - start;
        setOutput(getX(${l}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Cke{constructor(e,n,i){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((p,m)=>p[0]+e[m]+p[1]);const s=e.length,a=ht(s),r=n.map(p=>p[0]).join(","),o=n.map((p,m)=>p[0]+e[m]).join(","),l=Xn("rc",s),c=Xn("source",s),u=`${l[s-1]} < ${this.outputShape[s-1]}`,d=s===1?"source":`vec2(${c.slice(-2).join()})`,f=i==="reflect"?0:1;let h="";if(s===1){const p=`
        ${a} source = rc;
        if (source < start) {
          source = start * 2 - source - ${f};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${f};
        }
        source -= start;
      `;h=`
        ${a} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${c.join()}), ${d});
        ${l[s-1]} += 1;
        if(${u}) {
          ${p}
          result[1] = getChannel(getX(${c.join()}), ${d});
        }
      `}else{const p=`
        ${a} source = rc;
        ${a} lt = ${a}(lessThan(source, start));
        ${a} gte = ${a}(greaterThanEqual(source, end));
        ${a} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${f}) +
                gte * ((end - 1) * 2 - source + ${f});
        source -= start;
      `;h=`
        ${a} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${c.join()}), ${d});
        ${l[s-1]} += 1;
        if(${u}) {
          ${p}
          result[1] = getChannel(getX(${c.join()}), ${d});
        }
        rc = outputLoc;
        ${l[s-2]} += 1;
        if(${l[s-2]} < ${this.outputShape[s-2]}) {
          ${p}
          result[2] = getChannel(getX(${c.join()}), ${d});
          ${l[s-1]} += 1;
          if(${u}) {
            ${p}
            result[3] = getChannel(getX(${c.join()}), ${d});
          }
        }
      `}this.userCode=`
      const ${a} start = ${a}(${r});
      const ${a} end = ${a}(${o});

      void main() {
        ${a} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${h}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nke=({inputs:t,backend:e,attrs:n})=>{const{x:i}=t,{paddings:s,mode:a}=n,r=J().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Cke(i.shape,s,a):new Ske(i.shape,s,a);return e.runWebGLProgram(r,[i],i.dtype)},Ike={kernelName:pp,backendName:"webgl",kernelFunc:Nke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tke=`if (b == 0.0) return NAN;
  return mod(a, b);`,$ke=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+vm+`
  return result;
`,Eke=Tn({opSnippet:Tke,packedOpSnippet:$ke}),Dke={kernelName:Gu,backendName:"webgl",kernelFunc:Eke};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ake{constructor(e,n,i){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,i],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${n-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${n-1}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fke=`
if (a == b) {
  return 1.0;
};
return a / b;`,Rke=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,ZM=Tn({opSnippet:Fke,packedOpSnippet:Rke,checkOutOfBounds:!0}),Oke={kernelName:$u,backendName:"webgl",kernelFunc:ZM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _E="return a - b;",e9=Tn({opSnippet:_E,packedOpSnippet:_E,supportsComplex:!0,cpuKernelImpl:F1e}),Pke={kernelName:od,backendName:"webgl",kernelFunc:e9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t9(t){const{inputs:e,backend:n,attrs:i}=t,{logits:s}=e,{dim:a}=i,r=ze([a],s.shape),o=QM({inputs:{x:s},backend:n,attrs:{reductionIndices:r,keepDims:!1}}),l=Ht(o.shape,r),c=ge({inputs:{x:o},backend:n,attrs:{shape:l}}),u=e9({inputs:{a:s,b:c},backend:n}),d=XM({inputs:{x:u},backend:n}),f=Nb({inputs:{x:d},backend:n,attrs:{axis:r,keepDims:!1}}),h=ge({inputs:{x:f},backend:n,attrs:{shape:l}}),p=ZM({inputs:{a:d,b:h},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),p}const Lke={kernelName:Ap,backendName:"webgl",kernelFunc:t9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mke(t){const{inputs:e,backend:n,attrs:i}=t,{logits:s}=e,{numSamples:a,seed:r,normalized:o}=i,l=o?s:t9({inputs:{logits:s},backend:n,attrs:{dim:s.shape.length-1}}),c=l.shape[0],u=l.shape[1],d=new Ake(c,u,a),f=[[r]],h=n.runWebGLProgram(d,[l],"int32",f);return o||n.disposeIntermediateTensorInfo(l),h}const Bke={kernelName:Ey,backendName:"webgl",kernelFunc:Mke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zke=Ts+`
  return -x;
`,Vke=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function Wke(t){const{inputs:e,backend:n}=t,{x:i}=e;if(n.shouldExecuteOnCPU([i])){const a=n.texData.get(i.dataId),[r,o]=m1e(a.values,i.shape,i.dtype);return n.makeTensorInfo(o,i.dtype,r)}let s;return J().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new Ur(i.shape,Vke):s=new ka(i.shape,zke),n.runWebGLProgram(s,[i],i.dtype)}const jke={kernelName:mp,backendName:"webgl",kernelFunc:Wke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hke=Vv;function Gke(t){Bi("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:i}=t,{boxes:s,scores:a}=e,{maxOutputSize:r,iouThreshold:o,scoreThreshold:l}=i,c=n.readSync(s.dataId),u=n.readSync(a.dataId),{selectedIndices:d}=Hke(c,u,r,o,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}const Uke={kernelName:Dy,backendName:"webgl",kernelFunc:Gke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qke=Wv;function Kke(t){Bi("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:i}=t,{boxes:s,scores:a}=e,{maxOutputSize:r,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:c}=i,u=n.readSync(s.dataId),d=n.readSync(a.dataId),{selectedIndices:f,validOutputs:h}=qke(u,d,r,o,l,c);return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const Xke={kernelName:Ay,backendName:"webgl",kernelFunc:Kke};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jke=jv;function Yke(t){Bi("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:i}=t,{boxes:s,scores:a}=e,{maxOutputSize:r,iouThreshold:o,scoreThreshold:l,softNmsSigma:c}=i,u=n.readSync(s.dataId),d=n.readSync(a.dataId),f=r,h=o,p=l,m=c,{selectedIndices:y,selectedScores:g}=Jke(u,d,f,h,p,m);return[n.makeTensorInfo([y.length],"int32",new Int32Array(y)),n.makeTensorInfo([g.length],"float32",new Float32Array(g))]}const Qke={kernelName:Fy,backendName:"webgl",kernelFunc:Yke};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Zke{constructor(e,n,i,s){this.variableNames=["indices"],this.outputShape=[e,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${s}), float(${i}),
                      float(index == coords.y)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e_e=t=>{const{inputs:e,backend:n,attrs:i}=t,{indices:s}=e,{dtype:a,depth:r,onValue:o,offValue:l}=i,c=te(s.shape),u=new Zke(c,r,o,l),d=ge({inputs:{x:s},backend:n,attrs:{shape:[c]}}),f=n.runWebGLProgram(u,[d],a);n.disposeIntermediateTensorInfo(d);const h=[...s.shape,r],p=ge({inputs:{x:f},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(f),p},t_e={kernelName:vp,backendName:"webgl",kernelFunc:e_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y0(t){const{inputs:e,backend:n}=t,{x:i}=e;if(i.dtype==="complex64"){const s=wm({inputs:{input:i},backend:n}),a=y0({inputs:{x:s},backend:n}),r=Ib({inputs:{input:i},backend:n}),o=y0({inputs:{x:r},backend:n}),l=Oo({inputs:{real:a,imag:o},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),l}else return km({attrs:{shape:i.shape,dtype:i.dtype,value:i.dtype==="string"?"":0},backend:n})}const n_e={kernelName:Op,backendName:"webgl",kernelFunc:y0};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n9(t){const{inputs:e,backend:n}=t,{x:i}=e;if(i.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(i.dtype==="complex64"){const s=wm({inputs:{input:i},backend:n}),a=n9({inputs:{x:s},backend:n}),r=Ib({inputs:{input:i},backend:n}),o=y0({inputs:{x:r},backend:n}),l=Oo({inputs:{real:a,imag:o},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),l}else return km({attrs:{shape:i.shape,dtype:i.dtype,value:1},backend:n})}const i_e={kernelName:yp,backendName:"webgl",kernelFunc:n9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s_e(t){const{inputs:e,backend:n,attrs:i}=t,{axis:s}=i;if(e.length===1)return cx({inputs:{input:e[0]},backend:n,attrs:{dim:s}});const a=e[0].shape,r=e[0].dtype;e.forEach(u=>{Sn(a,u.shape,"All tensors passed to stack must have matching shapes"),E(r===u.dtype,()=>"All tensors passed to stack must have matching dtypes")});const o=[],l=e.map(u=>{const d=cx({inputs:{input:u},backend:n,attrs:{dim:s}});return o.push(d),d}),c=VM({inputs:l,backend:n,attrs:{axis:s}});return o.forEach(u=>n.disposeIntermediateTensorInfo(u)),c}const a_e={kernelName:bp,backendName:"webgl",kernelFunc:s_e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class r_e{constructor(e,n,i){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((c,u)=>c[0]+e[u]+c[1]);const s=e.length,a=ht(s),r=n.map(c=>c[0]).join(","),o=n.map((c,u)=>c[0]+e[u]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s);if(s===1){this.userCode=`
        int start = ${r};
        int end = ${o};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${a} start = ${a}(${r});
      ${a} end = ${a}(${o});

      void main() {
        ${a} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${a} coords = outC - start;
          setOutput(getX(${l}));
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class o_e{constructor(e,n,i){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((m,y)=>m[0]+e[y]+m[1]);const s=e.length,a=ht(s),r=n.map(m=>m[0]).join(","),o=n.map((m,y)=>m[0]+e[y]).join(","),l=Xn("rc",s),c=Xn("source",s),u=`${l[s-1]} < ${this.outputShape[s-1]}`,d=s===1?"source":`vec2(${c.slice(-2).join()})`,f=[`${a} rc = outputLoc;`,`${l[s-1]} += 1;
       if(${u}) {
      `,s===1?"":`}
       rc = outputLoc;
       ${l[s-2]} += 1;
       if(${l[s-2]} < ${this.outputShape[s-2]}) {`,s===1?"":`  ${l[s-1]} += 1;
         if(${u}) {`],h=s===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let m=0,y=s===1?2:4;m<y;m++)p+=`
        ${f[m]}
        if (${h}) {
          result[${m}] = float(value);
        } else {
          ${a} source = rc - start;
          result[${m}] = getChannel(getX(${c.join()}), ${d});
        }
      `;p+=s===1?"} ":"}}",this.userCode=`
      const ${a} start = ${a}(${r});
      const ${a} end = ${a}(${o});

      void main() {
        ${a} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${p}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i9=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{paddings:a,constantValue:r}=i;if(te(s.shape)===0){const c=a.map((u,d)=>u[0]+s.shape[d]+u[1]);return km({backend:n,attrs:{shape:c,value:r,dtype:s.dtype}})}const o=J().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new o_e(s.shape,a,r):new r_e(s.shape,a,r),l=[[r]];return n.runWebGLProgram(o,[s],s.dtype,l)},l_e={kernelName:wp,backendName:"webgl",kernelFunc:i9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c_e=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,u_e=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+vm+`
  return result;
`,d_e=Tn({opSnippet:c_e,packedOpSnippet:u_e}),f_e={kernelName:qu,backendName:"webgl",kernelFunc:d_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h_e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{axis:a,keepDims:r}=i,o=s.shape.length,l=[],c=ze(a,s.shape);let u=c;const d=Rt(u,o);let f=s;d!=null&&(f=Zn({inputs:{x:s},backend:n,attrs:{perm:d}}),u=Gt(u.length,o),l.push(f)),Nn("prod",u,o);let h;if(n.shouldExecuteOnCPU([f])){const p=n.texData.get(f.dataId).values,{outVals:m,outShape:y,outDtype:g}=y1e(f.shape,f.dtype,p,u);h=n.makeTensorInfo(y,g,m)}else{const[p,m]=mn(f.shape,u),y=te(m),g=ge({inputs:{x:f},backend:n,attrs:{shape:[-1,y]}}),v=sv(s.dtype),b=ec(g,v,"prod",n);h=ge({inputs:{x:b},backend:n,attrs:{shape:p}}),l.push(g),l.push(b)}if(r){l.push(h);const p=Ht(h.shape,c);h=ge({inputs:{x:h},backend:n,attrs:{shape:p}})}return l.forEach(p=>n.disposeIntermediateTensorInfo(p)),h}const p_e={kernelName:_p,backendName:"webgl",kernelFunc:h_e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m_e(t){const{inputs:e,backend:n,attrs:i}=t,{paramsNestedSplits:s,paramsDenseValues:a,indices:r}=e,{outputRaggedRank:o}=i,l=s.map(g=>n.readSync(g.dataId)),c=s.map(g=>g.shape),u=n.readSync(a.dataId),d=n.readSync(r.dataId),[f,h,p]=v1e(l,c,u,a.shape,a.dtype,d,r.shape,o),m=f.map(g=>n.makeTensorInfo([g.length],"int32",g)),y=n.makeTensorInfo(p,a.dtype,h);return m.concat([y])}const g_e={kernelName:Ry,backendName:"webgl",kernelFunc:m_e};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y_e(t){const{inputs:e,backend:n}=t,{starts:i,limits:s,deltas:a}=e,r=n.readSync(i.dataId),o=n.readSync(s.dataId),l=n.readSync(a.dataId),[c,u]=b1e(r,i.shape,i.dtype,o,s.shape,l,a.shape),d=n.makeTensorInfo([c.length],"int32",c),f=n.makeTensorInfo([u.length],i.dtype,u);return[d,f]}const v_e={kernelName:Oy,backendName:"webgl",kernelFunc:y_e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b_e(t){const{inputs:e,backend:n,attrs:i}=t,{shape:s,values:a,defaultValue:r,rowPartitionTensors:o}=e,{rowPartitionTypes:l}=i,c=n.readSync(s.dataId),u=n.readSync(a.dataId),d=n.readSync(r.dataId),f=o.map(y=>n.readSync(y.dataId)),h=o.map(y=>y.shape),[p,m]=w1e(c,s.shape,u,a.shape,a.dtype,d,r.shape,f,h,l);return n.makeTensorInfo(p,a.dtype,m)}const w_e={kernelName:Py,backendName:"webgl",kernelFunc:b_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s9=t=>{const{backend:e,attrs:n}=t,{start:i,stop:s,step:a,dtype:r}=n,o=k1e(i,s,a,r);return e.makeTensorInfo([o.length],r,o)},k_e={kernelName:Ly,backendName:"webgl",kernelFunc:s9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const __e="return 1.0 / x;",x_e=Qe({opSnippet:__e}),S_e={kernelName:Ku,backendName:"webgl",kernelFunc:x_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C_e=Ts+`
  return (x < 0.0) ? 0.0 : x;
`,N_e=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,I_e=Qe({opSnippet:C_e,packedOpSnippet:N_e}),T_e={kernelName:Xu,backendName:"webgl",kernelFunc:I_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $_e=Ts+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,E_e=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,D_e=Qe({opSnippet:$_e,packedOpSnippet:E_e}),A_e={kernelName:Ju,backendName:"webgl",kernelFunc:D_e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class F_e{constructor(e,n,i,s,a){this.variableNames=["A"],this.outputShape=[];const[r,o,l,c]=e;this.outputShape=[r,n,i,c];const u=[s&&n>1?o-1:o,s&&i>1?l-1:l],d=[s&&n>1?n-1:n,s&&i>1?i-1:i];let f;a?f="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":f="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${u[0]/d[0]},
          ${u[1]/d[1]});
      const vec2 inputShapeRC = vec2(${o}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${f};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class R_e{constructor(e,n,i,s,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[r,o,l,c]=e;this.outputShape=[r,n,i,c];const u=[s&&n>1?o-1:o,s&&i>1?l-1:l],d=[s&&n>1?n-1:n,s&&i>1?i-1:i];let f;a?f="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":f="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${u[0]/d[0]},
          ${u[1]/d[1]},
          ${u[1]/d[1]});
      const vec3 inputShapeRC = vec3(${o}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${f};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${c-1};
        bool hasNextRow = coords.z < ${i-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O_e(t){const{inputs:e,backend:n,attrs:i}=t,{images:s}=e,{alignCorners:a,halfPixelCenters:r,size:o}=i,[l,c]=o,u=J().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new R_e(s.shape,l,c,a,r):new F_e(s.shape,l,c,a,r);return n.runWebGLProgram(u,[s],"float32")}const P_e={kernelName:Cp,backendName:"webgl",kernelFunc:O_e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class L_e{constructor(e,n,i){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,a]=n,[,r,o]=e,l=[i&&r>1?s-1:s,i&&o>1?a-1:a],c=[i&&r>1?r-1:r,i&&o>1?o-1:o],u=l[0]/c[0],d=l[1]/c[1],f=1/u,h=1/d,p=Math.ceil(f)*2+2,m=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${u});
        const float widthScale = float(${d});

        const float invHeightScale = float(${f});
        const float invWidthScale = float(${h});

        const int winHeight = int(${p});
        const int winWidth = int(${m});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${r}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${o}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${s-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${a-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M_e(t){const{inputs:e,backend:n,attrs:i}=t,{images:s,dy:a}=e,{alignCorners:r}=i,o=new L_e(a.shape,s.shape,r);return n.runWebGLProgram(o,[a],a.dtype)}const B_e={kernelName:zy,backendName:"webgl",kernelFunc:M_e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class z_e{constructor(e,n,i,s,a){this.variableNames=["A"],this.outputShape=[];const[r,o,l,c]=e;this.outputShape=[r,n,i,c];const u=[s&&n>1?o-1:o,s&&i>1?l-1:l],d=[s&&n>1?n-1:n,s&&i>1?i-1:i],f=s?"0.5":"0.0";let h;a?h="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":h="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${u[0]/d[0]},
          ${u[1]/d[1]});
      const vec2 inputShapeRC = vec2(${o}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${f})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class V_e{constructor(e,n,i,s,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[r,o,l,c]=e;this.outputShape=[r,n,i,c];const u=[s&&n>1?o-1:o,s&&i>1?l-1:l],d=[s&&n>1?n-1:n,s&&i>1?i-1:i],f=s?"0.5":"0.0";let h;a?h="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":h="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${u[0]/d[0]},
          ${u[1]/d[1]},
          ${u[1]/d[1]});
      const vec3 inputShapeRC = vec3(${o}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${f})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${c-1};
        bool hasNextRow = coords.z < ${i-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W_e(t){const{inputs:e,backend:n,attrs:i}=t,{images:s}=e,{alignCorners:a,halfPixelCenters:r,size:o}=i,[l,c]=o,u=J().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new V_e(s.shape,l,c,a,r):new z_e(s.shape,l,c,a,r);return n.runWebGLProgram(u,[s],s.dtype)}const j_e={kernelName:Sp,backendName:"webgl",kernelFunc:W_e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class H_e{constructor(e,n,i){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,a]=n,[,r,o]=e,l=[i&&r>1?s-1:s,i&&o>1?a-1:a],c=[i&&r>1?r-1:r,i&&o>1?o-1:o],u=l[0]/c[0],d=l[1]/c[1],f=1/u,h=1/d,p=Math.ceil(f)*2+2,m=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${u});
        const float widthScale = float(${d});

        const float invHeightScale = float(${f});
        const float invWidthScale = float(${h});

        const int winHeight = int(${p});
        const int winWidth = int(${m});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${r}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${o}) {
              continue;
            }

            float sourceFracRow =
              float(${l[0]}) *
                (float(dyR) / float(${c[0]}));

            float sourceFracCol =
                float(${l[1]}) *
                  (float(dyC) / float(${c[1]}));

            int sourceNearestRow = int(min(
                float(int(${s}) - 1),
                ${i} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${a}) - 1),
                ${i} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G_e(t){const{inputs:e,backend:n,attrs:i}=t,{images:s,dy:a}=e,{alignCorners:r}=i,o=new H_e(a.shape,s.shape,r);return n.runWebGLProgram(o,[a],a.dtype)}const U_e={kernelName:By,backendName:"webgl",kernelFunc:G_e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class q_e{constructor(e,n){this.variableNames=["x"];const i=e.length;if(i>4)throw new Error(`WebGL backend: Reverse of rank-${i} tensor is not yet supported`);if(this.outputShape=e,i===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${e[0]} - coord - 1));
        }
      `;return}const s=o=>n.indexOf(o)!==-1&&e[o]!==1?`${e[o]} - coords[${o}] - 1`:`coords[${o}]`,a=e.map((o,l)=>s(l)).join(","),r=ht(i);this.userCode=`
      void main() {
        ${r} coords = getOutputCoords();
        setOutput(getX(${a}));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class K_e{constructor(e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const i=e.length;if(i>4)throw new Error(`WebGL backend: Reverse of rank-${i} tensor is not yet supported`);this.outputShape=e;const s=Xn("rc",i),a=`${s[i-1]} + 1 < ${this.outputShape[i-1]}`,r=`${s[i-2]} + 1 < ${this.outputShape[i-2]}`,o=ht(i);i===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${e[0]} - rc - 1),
            ${e[0]} - rc - 1);
          if(${a}){
              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),
                ${e[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${o} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${l(s.slice())};
          if(${a}){
            result.g = ${c(s.slice())};
          }
          if(${r}) {
            result.b = ${u(s.slice())};
            if(${a}) {
              result.a = ${d(s.slice())};
            }
          }
          setOutput(result);
        }
    `;function l(p){return f(p)}function c(p){return p[i-1]="("+p[i-1]+" + 1)",f(p)}function u(p){return p[i-2]="("+p[i-2]+" + 1)",f(p)}function d(p){return p[i-1]="("+p[i-1]+" + 1)",p[i-2]="("+p[i-2]+" + 1)",f(p)}function f(p){const m=e.map((v,b)=>h(b,p)),y=m.join(","),g=m.slice(-2).join(",");return`getChannel(getX(${y}), vec2(${g}))`}function h(p,m){return n.indexOf(p)!==-1&&e[p]!==1?`${e[p]} - ${m[p]} - 1`:`${m[p]}`}}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X_e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{dims:a}=i,r=s.shape.length,o=ze(a,s.shape);if(r===0)return Fi({inputs:{x:s},backend:n});const l=J().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new K_e(s.shape,o):new q_e(s.shape,o);return n.runWebGLProgram(l,[s],s.dtype)}const J_e={kernelName:Np,backendName:"webgl",kernelFunc:X_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Y_e{constructor(e,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const i=e[1],s=e[2];this.outputShape=e;let a="";typeof n=="number"?a=`float outputValue = ${n.toFixed(2)};`:a=`
        vec3 fill = vec3(${n.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${a}
          if(coordX >= 0 && coordX < ${s} && coordY >= 0 && coordY < ${i}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q_e={kernelName:nv,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:i}=t,{radians:s,fillValue:a,center:r}=e,o=n,l=new Y_e(i.shape,a),[c,u]=S3(r,i.shape[1],i.shape[2]),d=[[c,u,Math.sin(s),Math.cos(s)]];return o.runWebGLProgram(l,[i],i.dtype,d)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z_e=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,exe=Qe({opSnippet:Z_e}),txe={kernelName:Yu,backendName:"webgl",kernelFunc:exe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nxe="return inversesqrt(x);",ixe=Qe({opSnippet:nxe,cpuKernelImpl:_1e}),sxe={kernelName:Qu,backendName:"webgl",kernelFunc:ixe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class a9{constructor(e,n,i,s,a,r,o=!0){this.variableNames=["updates","indices","defaultValue"],this.outputShape=r;const l=ht(a.length),c=ht(r.length);let u="";i===1?u="i":i===2&&(u="i, j");const d=`getIndices(${u})`;let f="";s===1?f="i":s===2&&(f="i, coords[1]");const h=`getUpdates(${f})`,p=n>1?"strides[j]":"strides";this.userCode=`
        ${l} strides = ${l}(${a});

        void main() {
          ${c} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${e}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${n}; j++) {
              int index = round(${d});
              flattenedIndex += index * ${p};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${h};
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function axe(t){const{inputs:e,backend:n,attrs:i}=t,{indices:s,updates:a}=e,{shape:r}=i,{sliceRank:o,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=fd(a,s,r),f=[d/c,c];if(d===0)return n.makeTensorInfo(r,s.dtype);const h=ge({inputs:{x:s},backend:n,attrs:{shape:[l,o]}}),p=ge({inputs:{x:a},backend:n,attrs:{shape:[l,c]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0])),y=new a9(l,o,h.shape.length,p.shape.length,u,f),g=n.runWebGLProgram(y,[p,h,m],p.dtype),v=ge({inputs:{x:g},backend:n,attrs:{shape:r}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(m),v}const rxe={kernelName:Vy,backendName:"webgl",kernelFunc:axe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oxe{constructor(e,n,i,s){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,i];const a="while (left < right) {",r=`for (int i = 0; i < ${Math.ceil(Math.log2(n+1))}; ++i) { if (left >= right) break;`,o=J().getNumber("WEBGL_VERSION")===2?a:r,l=s==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${o}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${l} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lxe(t){const{inputs:e,backend:n,attrs:i}=t,{sortedSequence:s,values:a}=e,{side:r}=i,o=new oxe(s.shape[0],s.shape[1],a.shape[1],r),l=[[s.shape[1]]];return n.runWebGLProgram(o,[s,a],"int32",l)}const cxe={kernelName:Wy,backendName:"webgl",kernelFunc:lxe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uxe{constructor(e,n,i){this.variableNames=["c","a","b"],this.outputShape=n;let s,a;if(i>4)throw Error(`Where for rank ${i} is not yet supported`);if(i===1)a="resRC",s="resRC";else{const o=["resRC.x","resRC.y","resRC.z","resRC.w"],l=[],c=[];for(let u=0;u<n.length;u++)c.push(`${o[u]}`),u<e&&l.push(`${o[u]}`);s=l.join(),a=c.join()}const r=ht(i);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        float cVal = getC(${s});
        if (cVal >= 1.0) {
          setOutput(getA(${a}));
        } else {
          setOutput(getB(${a}));
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dxe(t){const{inputs:e,backend:n}=t,{condition:i,t:s,e:a}=e,r=new uxe(i.shape.length,s.shape,s.shape.length);return n.runWebGLProgram(r,[i,s,a],li(s.dtype,a.dtype))}const fxe={kernelName:Ip,backendName:"webgl",kernelFunc:dxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hxe=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${Qv};
  float scale = ${Zv};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,pxe=Qe({opSnippet:hxe}),mxe={kernelName:Zu,backendName:"webgl",kernelFunc:pxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gxe=Od+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,yxe=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,vxe=Qe({opSnippet:gxe,packedOpSnippet:yxe,cpuKernelImpl:S1e}),bxe={kernelName:id,backendName:"webgl",kernelFunc:vxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wxe=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,kxe=Qe({opSnippet:wxe}),_xe={kernelName:nd,backendName:"webgl",kernelFunc:kxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xxe=Od+`
  return sin(x);
`,Sxe=Qe({opSnippet:xxe}),Cxe={kernelName:ed,backendName:"webgl",kernelFunc:Sxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nxe=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,Ixe=Qe({opSnippet:Nxe}),Txe={kernelName:td,backendName:"webgl",kernelFunc:Ixe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $xe=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,Exe=Qe({opSnippet:$xe}),Dxe={kernelName:sd,backendName:"webgl",kernelFunc:Exe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Axe=t=>{const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{blockShape:a,paddings:r}=i;E(s.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const o=a.reduce((g,v)=>g*v),l=[[0,0]];l.push(...r);for(let g=1+a.length;g<s.shape.length;++g)l.push([0,0]);const c=[],u=i9({inputs:{x:s},backend:n,attrs:{paddings:l,constantValue:0}}),d=nm(u.shape,a,o,!1),f=im(d.length,a.length,!1),h=sm(u.shape,a,o,!1),p=ge({inputs:{x:u},backend:n,attrs:{shape:d}}),m=Zn({inputs:{x:p},backend:n,attrs:{perm:f}}),y=ge({inputs:{x:m},backend:n,attrs:{shape:h}});return c.push(u),c.push(p),c.push(m),c.forEach(g=>n.disposeIntermediateTensorInfo(g)),y},Fxe={kernelName:Ep,backendName:"webgl",kernelFunc:Axe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rxe(t){const{inputs:e,backend:n}=t,{indices:i,values:s,denseShape:a,defaultValue:r}=e;if(a.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${a.shape}`);if(i.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${i.shape}`);if(s.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${s.shape}`);if(r.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${r.shape}`);const o=n.readSync(i.dataId),l=n.readSync(s.dataId),c=n.readSync(a.dataId),u=n.readSync(r.dataId)[0],[d,f,h,p,m]=N1e(o,i.shape,i.dtype,l,s.dtype,c,u);return[n.makeTensorInfo(f,i.dtype,d),n.makeTensorInfo([f[0]],s.dtype,h),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(y=>Number(y)))),n.makeTensorInfo([m.length],i.dtype,new Int32Array(m))]}const Oxe={kernelName:jy,backendName:"webgl",kernelFunc:Rxe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pxe(t){const{inputs:e,backend:n}=t,{inputIndices:i,inputShape:s,newShape:a}=e;if(i.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${i.shape}`);if(s.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${s.shape}`);if(a.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${a.shape}`);const r=Array.from(n.readSync(s.dataId)),o=n.readSync(i.dataId),l=Array.from(n.readSync(a.dataId)),[c,u,d]=I1e(o,i.shape,i.dtype,r,l);return[n.makeTensorInfo(u,i.dtype,c),n.makeTensorInfo([d.length],a.dtype,new Int32Array(d))]}const Lxe={kernelName:Hy,backendName:"webgl",kernelFunc:Pxe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mxe(t){const{inputs:e,backend:n}=t,{data:i,indices:s,segmentIds:a}=e;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${s.shape}`);if(a.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${a.shape}`);const r=n.readSync(i.dataId),o=n.readSync(s.dataId),l=n.readSync(a.dataId),[c,u]=TM(r,i.shape,i.dtype,o,l,!0);return n.makeTensorInfo(u,i.dtype,c)}const Bxe={kernelName:Gy,backendName:"webgl",kernelFunc:Mxe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zxe(t){const{inputs:e,backend:n}=t,{data:i,indices:s,segmentIds:a}=e;if(i.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${s.shape}`);if(a.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${a.shape}`);const r=n.readSync(i.dataId),o=n.readSync(s.dataId),l=n.readSync(a.dataId),[c,u]=TM(r,i.shape,i.dtype,o,l);return n.makeTensorInfo(u,i.dtype,c)}const Vxe={kernelName:Uy,backendName:"webgl",kernelFunc:zxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wxe(t){const{inputs:e,backend:n,attrs:i}=t,{sparseIndices:s,sparseValues:a,defaultValue:r}=e,{outputShape:o}=i,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:f}=fd(a,s,o),h=!1;if(a.dtype==="string"){const g=n.bufferSync(s),v=n.bufferSync(a),b=lr(n.readSync(r.dataId)[0]),w=x1e(g,v,o,f,u,c,l,d,b,h);return n.makeTensorInfo(o,w.dtype,w.values)}const p=new a9(c,l,s.shape.length,a.shape.length,d,[f,1],h),m=n.runWebGLProgram(p,[a,s,r],a.dtype),y=ge({inputs:{x:m},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(m),y}const jxe={kernelName:qy,backendName:"webgl",kernelFunc:Wxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hxe(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{numOrSizeSplits:a,axis:r}=i,o=ze(r,s.shape)[0],l=B3(s,a,o),c=s.shape.length,u=new Array(c).fill(0),d=s.shape.slice();return l.map(f=>{const h=[...d];h[o]=f;const p=Pd({inputs:{x:s},backend:n,attrs:{begin:u,size:h}});return u[o]+=f,p})}const Gxe={kernelName:Dp,backendName:"webgl",kernelFunc:Hxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xE="return sqrt(x);",Uxe=Qe({opSnippet:xE,packedOpSnippet:xE,cpuKernelImpl:T1e}),qxe={kernelName:ad,backendName:"webgl",kernelFunc:Uxe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kxe="return x * x;",Xxe=Qe({opSnippet:Kxe}),Jxe={kernelName:Ky,backendName:"webgl",kernelFunc:Xxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SE="return (a - b) * (a - b);",Yxe=Tn({opSnippet:SE,packedOpSnippet:SE}),Qxe={kernelName:rd,backendName:"webgl",kernelFunc:Yxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zxe({inputs:t,attrs:e,backend:n}){const{x:i}=t,s=Ts+`
    return x > 0.0 ? 1.0 : float(${e.alpha});
  `,a=new ka(i.shape,s);return n.runWebGLProgram(a,[i],i.dtype)}const e2e={kernelName:dd,backendName:"webgl",kernelFunc:Zxe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class t2e{constructor(e,n,i){this.variableNames=["x"],this.outputShape=i;const s=i.length,a=ht(i.length),r=ht(i.length);let o="";if(s===1)o="coords * strides + begin";else{let l=0;o=i.map((c,u)=>(l++,i.length===1?`coords * strides[${u}] + begin[${u}]`:`coords[${l-1}] * strides[${u}] + begin[${u}]`)).join(",")}this.userCode=`
      ${a} begin = ${a}(${e});
      ${a} strides = ${a}(${n});

      void main() {
        ${r} coords = getOutputCoords();
        setOutput(getX(${o}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n2e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{begin:a,end:r,strides:o,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:f}=i,{finalShapeSparse:h,finalShape:p,isIdentity:m,sliceDim0:y,isSimpleSlice:g,begin:v,end:b,strides:w}=vS(s.shape,a,r,o,l,c,u,d,f);let k;if(m)k=ge({inputs:{x:s},backend:n,attrs:{shape:p}});else if(y||g){E(s.shape.length>=1,()=>`Input must have rank at least 1, got: ${s.shape.length}`);const N=mS(v,b,w),I=Pd({inputs:{x:s},backend:n,attrs:{begin:v,size:N}});k=ge({inputs:{x:I},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(I)}else if(n.shouldExecuteOnCPU([s])){const I=n.readSync(s.dataId),D=Me(s.shape,s.dtype,I),R=$1e(h,D,w,v);k=n.makeTensorInfo(p,s.dtype,R.values)}else{const I=new t2e(v,w,h);k=n.runWebGLProgram(I,[s],s.dtype)}const x=ge({inputs:{x:k},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(k),x}const i2e={kernelName:Xy,backendName:"webgl",kernelFunc:n2e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s2e(t){const{inputs:e,backend:n,attrs:i}=t,{separator:s,nGramWidths:a,leftPad:r,rightPad:o,padWidth:l,preserveShortSequences:c}=i,{data:u,dataSplits:d}=e,f=n.readSync(u.dataId),h=n.readSync(d.dataId),[p,m]=E1e(f,h,s,a,r,o,l,c);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(d.shape,"int32",m)]}const a2e={kernelName:Jy,backendName:"webgl",kernelFunc:s2e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r2e(t){const{inputs:e,backend:n,attrs:i}=t,{skipEmpty:s}=i,{input:a,delimiter:r}=e;if(a.dtype!=="string")throw new Error("Input must be of datatype string");if(a.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${a.shape}`);if(r.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${r.shape}`);const o=n.readSync(a.dataId),l=n.readSync(r.dataId)[0],[c,u,d]=D1e(o,l,s),f=u.length;return[n.makeTensorInfo([f,2],"int32",c),n.makeTensorInfo([f],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}const o2e={kernelName:Yy,backendName:"webgl",kernelFunc:r2e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l2e(t){const{inputs:e,backend:n,attrs:i}=t,{numBuckets:s}=i,{input:a}=e;if(a.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const r=n.readSync(a.dataId),o=A1e(r,s);return n.makeTensorInfo(a.shape,"int32",o)}const c2e={kernelName:Qy,backendName:"webgl",kernelFunc:l2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u2e="return tan(x);",d2e=Qe({opSnippet:u2e}),f2e={kernelName:ld,backendName:"webgl",kernelFunc:d2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h2e=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,p2e=Qe({opSnippet:h2e}),m2e={kernelName:cd,backendName:"webgl",kernelFunc:p2e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class g2e{constructor(e,n){this.variableNames=["A"];const i=new Array(e.length);for(let r=0;r<i.length;r++)i[r]=e[r]*n[r];this.outputShape=i,this.rank=i.length;const s=ht(this.rank),a=y2e(e);this.userCode=`
      void main() {
        ${s} resRC = getOutputCoords();
        setOutput(getA(${a}));
      }
    `}}function y2e(t){const e=t.length;if(e>5)throw Error(`Tile for rank ${e} is not yet supported`);if(e===1)return`imod(resRC, ${t[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],i=[];for(let s=0;s<t.length;s++)i.push(`imod(${n[s]}, ${t[s]})`);return i.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r9(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{reps:a}=i;if(s.dtype==="string"||s.shape.length>5){const l=n.readSync(s.dataId),c=s.dtype==="string"?l.map(f=>lr(f)):l,u=Me(s.shape,s.dtype,c),d=R1e(u,a);return n.makeTensorInfo(d.shape,d.dtype,d.values)}const r=new g2e(s.shape,a);return n.runWebGLProgram(r,[s],s.dtype)}const v2e={kernelName:ud,backendName:"webgl",kernelFunc:r9};class b2e{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class w2e{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vo(t,e){e!==null&&t.disposeIntermediateTensorInfo(e)}function CE(t){let e=1;for(;e<t;)e*=2;return e}function k2e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s}=e,{k:a,sorted:r}=i,o=J().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=J().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=s.shape,u=c[c.length-1];if(n.shouldExecuteOnCPU([s])||u<o||a>l){const R=n.readSync(s.dataId),[L,O]=O1e(R,c,s.dtype,a,r);return[n.makeTensorInfo(L.shape,L.dtype,L.values),n.makeTensorInfo(O.shape,O.dtype,O.values)]}if(a===0)return c[c.length-1]=0,[n.makeTensorInfo(c,s.dtype,[]),n.makeTensorInfo(c,"int32",[])];if(u===1)return[s,km({attrs:{shape:c,dtype:"int32",value:0},backend:n})];const d=n.texData.get(s.dataId),f=d!==null&&d.isPacked,h=f?n.unpackTensor(s):s,m=te(c)/u,y=ge({inputs:{x:h},attrs:{shape:[m,u]},backend:n});f&&Vo(n,h);const g=CE(a),v=CE(u);let b=null;const w=()=>b===null?[y,y]:[y,b],k=(R,L,O)=>{const T=w(),A=new b2e(O),$=[[u],[b===null?1:0],[Number.NEGATIVE_INFINITY],[R],[L]],K=b;b=n.runWebGLProgram(A,T,"int32",$),Vo(n,K)};for(let R=1;R<g;R*=2){const L=R*2;for(let O=R;O>=1;O/=2)k(L,O,[m,v])}for(let R=v;R>g;R/=2){const L=w(),O=new w2e([m,R/2]),A=[[u],[b===null?1:0],[g]],S=b;b=n.runWebGLProgram(O,L,"int32",A),Vo(n,S);const $=g/2,K=$*2;for(let M=$;M>=1;M/=2)k(K,M,b.shape)}let x=b;b=Pd({inputs:{x:b},backend:n,attrs:{begin:0,size:[m,a]}}),Vo(n,x);let N=YM({inputs:{x:y,indices:b},backend:n,attrs:{axis:1,batchDims:1}});Vo(n,y);const I=c.slice(0,-1);I.push(a),x=b,b=ge({inputs:{x:b},attrs:{shape:I},backend:n}),Vo(n,x);const D=N;return N=ge({inputs:{x:N},attrs:{shape:I},backend:n}),Vo(n,D),[N,b]}const _2e={kernelName:Zy,backendName:"webgl",kernelFunc:k2e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class x2e{constructor(e,n,i,s,a,r){this.variableNames=["Image","Transforms"],this.outputShape=r;const o=i==="nearest"?1:2;let l;switch(s){case"constant":l=1;break;case"reflect":l=2;break;case"wrap":l=3;break;case"nearest":l=4;break;default:l=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${l} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${n}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${a});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${a});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${n}));
                float mapY = mapCoord(inY, float(${e}));

                if (${o} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S2e(t){const{inputs:e,backend:n,attrs:i}=t,{image:s,transforms:a}=e,{interpolation:r,fillMode:o,fillValue:l,outputShape:c}=i,[u,d,f,h]=s.shape,[p,m]=c!=null?c:[d,f],y=[u,p,m,h],g=new x2e(d,f,r,o,l,y);return n.runWebGLProgram(g,[s,a],"float32")}const C2e={kernelName:ev,backendName:"webgl",kernelFunc:S2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N2e(t){const{inputs:e,attrs:n,backend:i}=t,{axis:s}=n,{x:a}=e;gm(a,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const r=i.readSync(a.dataId),{outputValues:o,outputShape:l,indices:c}=P1e(r,s,a.shape,a.dtype);return[i.makeTensorInfo(l,a.dtype,o),i.makeTensorInfo([c.length],"int32",c)]}const I2e={kernelName:tv,backendName:"webgl",kernelFunc:N2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T2e(t){const{inputs:e,backend:n,attrs:i}=t,{value:s}=e;let{axis:a}=i;a<0&&(a+=s.shape.length);const r=s,o=r.shape.length,l=s.shape[a],c=new Array(o-1);let u=0;for(let m=0;m<o;m++)m!==a&&(c[u++]=r.shape[m]);const d=[],f=new Array(o).fill(0),h=r.shape.slice();h[a]=1;const p=new Array(l);for(let m=0;m<p.length;m++){f[a]=m;const y=Pd({inputs:{x:r},backend:n,attrs:{begin:f,size:h}}),g=ge({inputs:{x:y},backend:n,attrs:{shape:c}});p[m]=g,d.push(y)}return d.forEach(m=>n.disposeIntermediateTensorInfo(m)),p}const $2e={kernelName:Fp,backendName:"webgl",kernelFunc:T2e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class E2e{constructor(e,n){this.variableNames=["x","segmentIds"];const i=e.windowSize,s=e.batchSize,a=e.inSize,r=e.numSegments,o=r*Math.ceil(a/i);this.outputShape=[s,o];const l="0.0",c="sumValue",u=Math.floor(i/4)*4,d=i%4,f=`
        sumValue += dot(values, segFilter);
    `;let h="";a%i>0&&(h=`
        if (inIdx < 0 || inIdx >= ${a}) {
          return initializationValue;
        }
      `);let p="";a%i>0&&(p=`
        if (inIdx < 0 || inIdx >= ${a}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${l};

      float getValue(int batch, int inIdx) {
        ${h}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${p}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${r})) * float(${i}));
        int currentSeg = int(mod(float(outIdx), float(${r})));

        float sumValue = 0.0;

        for (int i = 0; i < ${u}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${f}
        }

        int inIdx = inOffset + ${u};
        if (${d===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${f}
        } else if (${d===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${f}
        } else if (${d===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${f}
        }
        setOutput(${c});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D2e(t){const{inputs:e,backend:n,attrs:i}=t,{x:s,segmentIds:a}=e,{numSegments:r}=i,o=s.shape.length,l=[];let c=0;const u=Rt([c],o);let d=s;u!=null&&(d=Zn({inputs:{x:s},backend:n,attrs:{perm:u}}),l.push(d),c=Gt(1,o)[0]);const f=I5(d.shape,c,r),h=te([d.shape[c]]),p=ge({inputs:{x:d},backend:n,attrs:{shape:[-1,h]}});l.push(p);const m=sv(s.dtype),y=(w,k,x,N,I)=>{const D=w.shape[0],R=w.shape[1],L=N5(R,I),O={windowSize:L,inSize:R,batchSize:D,numSegments:I},T=new E2e(O,k),A=n.compileAndRun(T,[w,x],N);if(l.push(A),A.shape[1]===I)return A;const S=s9({backend:n,attrs:{start:0,stop:I,step:1,dtype:"float32"}}),$=r9({inputs:{x:S},backend:n,attrs:{reps:[R/L]}});return l.push(S),l.push($),y(A,k,$,N,I)},g=y(p,"unsortedSegmentSum",a,m,r),v=ge({inputs:{x:g},backend:n,attrs:{shape:f}});let b=v;if(u!=null){l.push(v);const w=Do(u);b=Zn({inputs:{x:b},backend:n,attrs:{perm:w}})}return l.forEach(w=>n.disposeIntermediateTensorInfo(w)),b}const A2e={kernelName:Rp,backendName:"webgl",kernelFunc:D2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F2e=[T0e,E0e,F0e,P0e,M0e,V0e,j0e,G0e,X0e,Y0e,eye,iye,rye,uye,hye,mye,yye,kye,xye,Cye,$ye,Pye,Mye,zye,Uye,Kye,Qye,d0e,tve,rve,uve,gve,vve,wve,_ve,Sve,Ive,Eve,Fve,Ove,Lve,Bve,Wve,Hve,Kve,Jve,Zve,nbe,sbe,lbe,fbe,gbe,bbe,_be,xbe,Cbe,Ibe,$be,Dbe,Fbe,Lbe,zbe,jbe,Gbe,Kbe,Ybe,twe,awe,u0e,owe,sve,uwe,hwe,gwe,h0e,wwe,Swe,Nwe,Ewe,Fwe,Lwe,zwe,Hwe,Kwe,Ywe,Zwe,ike,ake,oke,dke,hke,mke,yke,bke,xke,Ike,Dke,Bke,g0e,jke,Uke,Xke,Qke,Wye,t_e,i_e,a_e,l_e,f_e,m0e,p_e,g_e,v_e,w_e,k_e,jye,Oke,S_e,T_e,A_e,v0e,P_e,B_e,j_e,U_e,J_e,Q_e,txe,sxe,rxe,cxe,fxe,mxe,bxe,_xe,Cxe,Txe,Rye,Lke,Dxe,Fxe,Oxe,Lxe,Bxe,Vxe,jxe,Gxe,qxe,Jxe,Qxe,e2e,i2e,a2e,o2e,c2e,Pke,C0e,f2e,m2e,v2e,_2e,C2e,N0e,I2e,$2e,A2e,n_e];for(const t of F2e)iv(t);/** @license See the LICENSE file. */const R2e="4.1.0";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O2e={"tfjs-core":YR,"tfjs-backend-cpu":Wce,"tfjs-backend-webgl":c0e,"tfjs-data":oL,"tfjs-layers":fb,"tfjs-converter":GP,tfjs:R2e};var P2e=Object.freeze(Object.defineProperty({__proto__:null,data:Rle,version:O2e,AdadeltaOptimizer:Hv,AdagradOptimizer:Gv,AdamOptimizer:Uv,AdamaxOptimizer:qv,MomentumOptimizer:Kv,Optimizer:_r,OptimizerConstructors:Tr,RMSPropOptimizer:Xv,SGDOptimizer:tm,Tensor:Xe,TensorBuffer:sn,Variable:uh,get Rank(){return w_},sumOutType:sv,upcastType:li,get Reduction(){return qn},customGrad:Ra,grad:XJ,grads:JJ,valueAndGrad:YJ,valueAndGrads:QJ,variableGrads:oO,Environment:sR,env:J,get ENV(){return K2},nextFrame:Jv,KernelBackend:Y0,DataStorage:j2,abs:Kt,acos:kS,acosh:_S,add:oe,addN:QR,all:uv,any:fh,argMax:Nl,argMin:xS,asin:SS,asinh:CS,atan:NS,atan2:IS,atanh:TS,avgPool:zp,avgPool3d:ES,basicLSTMCell:ZR,batchToSpaceND:Vp,batchNorm:hd,batchNorm2d:DS,batchNorm3d:AS,batchNorm4d:FS,bincount:RS,broadcastArgs:eO,broadcastTo:dl,buffer:Me,cast:fe,ceil:OS,clipByValue:ci,clone:Ta,complex:ur,concat:Lt,concat1d:PS,concat2d:LS,concat3d:MS,concat4d:BS,conv1d:dv,conv2d:dr,conv2dTranspose:fv,conv3d:VS,conv3dTranspose:WS,cos:Wp,cosh:hv,cumprod:hh,cumsum:pv,denseBincount:J1,depthToSpace:jS,depthwiseConv2d:pd,diag:nO,dilation2d:HS,div:Ce,divNoNan:GS,dot:US,einsum:iO,elu:md,equal:$i,erf:qS,euclideanNorm:XS,exp:Ei,expandDims:Fn,expm1:JS,eye:mv,fill:Eo,floor:yd,floorDiv:cv,gather:vd,greater:ti,greaterEqual:br,imag:Mp,isFinite:YS,isInf:QS,isNaN:ZS,leakyRelu:jp,less:gv,lessEqual:Ao,linspace:rO,localResponseNormalization:e3,log:Di,log1p:Hp,logSigmoid:t3,logSoftmax:vv,logSumExp:bv,logicalAnd:Cs,logicalNot:Gp,logicalOr:wv,logicalXor:n3,lowerBound:lO,matMul:Be,max:Ui,maxPool:Up,maxPool3d:i3,maxPoolWithArgmax:cO,maximum:La,mean:Et,meshgrid:uO,min:Zc,minimum:bd,mirrorPad:s3,mod:a3,moments:qp,mul:W,multiRNNCell:dO,multinomial:fO,neg:wt,notEqual:Tl,oneHot:Yc,ones:Si,onesLike:Ai,outerProduct:hO,pad:wr,pad1d:pO,pad2d:mO,pad3d:gO,pad4d:yO,pool:r3,pow:fr,prelu:Xp,print:rS,prod:o3,raggedGather:vO,raggedRange:bO,raggedTensorToTensor:wO,rand:kO,randomGamma:$O,randomNormal:_v,randomStandardNormal:EO,randomUniform:kd,range:$l,real:Qc,reciprocal:c3,relu:sa,relu6:xv,reshape:j,reverse:Xi,reverse1d:DO,reverse2d:AO,reverse3d:FO,reverse4d:RO,round:Sv,rsqrt:Cv,scalar:Te,selu:Nv,separableConv2d:Iv,setdiff1dAsync:OO,sigmoid:Xs,sign:u3,sin:Tv,sinh:$v,slice:qe,slice1d:Jp,slice2d:Ev,slice3d:Yp,slice4d:eu,softmax:Qp,softplus:Ul,spaceToBatchND:Kp,fft:Zp,ifft:tu,irfft:Dv,rfft:em,split:oi,sqrt:xn,square:lt,squaredDifference:Av,squeeze:Fo,stack:ui,step:Kl,stridedSlice:d3,sub:be,sum:ke,tan:f3,tanh:Il,tensor:Ti,tensor1d:Rn,tensor2d:so,tensor3d:dS,tensor4d:PO,tensor5d:LO,tensor6d:MO,tile:Wi,topk:h3,truncatedNormal:Fv,unique:p3,unsortedSegmentSum:Rv,unstack:Ji,upperBound:BO,variable:m3,where:Mn,whereAsync:g3,zeros:Vt,zerosLike:Ke,op:z,OP_SCOPE_SUFFIX:eS,booleanMaskAsync:zO,transpose:He,norm:gd,movingAverage:VO,scatterND:WO,searchSorted:kv,sparseToDense:jO,gatherND:HO,dropout:y3,enclosingPowerOfTwo:v3,cosineWindow:Pv,inTopKAsync:GO,image:wa,linalg:k3,losses:n5,spectral:e5,fused:XO,signal:t5,sparse:i5,string:s5,train:qo,enableProdMode:yK,enableDebugMode:vK,disableDeprecationWarnings:bK,deprecationWarn:wK,disposeVariables:kK,engine:Ps,memory:q1,profile:_K,tidy:X,dispose:Oe,keep:tn,time:xK,setBackend:SK,ready:CK,getBackend:NK,removeBackend:IK,findBackend:TK,findBackendFactory:$K,registerBackend:uS,backend:MR,setPlatform:EK,getKernel:W1,getGradient:g_,getKernelsForBackend:j1,registerKernel:iv,registerGradient:lR,unregisterKernel:JU,unregisterGradient:YU,copyRegisteredKernels:QU,Abs:Oh,Acos:yu,Acosh:vu,Add:jl,AddN:Ph,All:ey,Any:ty,ArgMax:Lh,ArgMin:Mh,Asin:bu,Asinh:wu,Atan:ku,Atanh:_u,Atan2:xu,AvgPool:Bh,AvgPoolGrad:ny,AvgPool3D:zh,AvgPool3DGrad:iy,BatchMatMul:Vh,BatchToSpaceND:Wh,Bincount:sy,BroadcastTo:rR,BroadcastArgs:ay,Cast:Su,Ceil:Cu,ClipByValue:Nu,Complex:ry,ComplexAbs:jh,Concat:Hh,Conv2D:Gh,Conv2DBackpropFilter:oy,Conv2DBackpropInput:Uh,Conv3D:qh,Conv3DBackpropFilterV2:ly,Conv3DBackpropInputV2:cy,Cos:Iu,Cosh:Tu,Cumprod:uy,Cumsum:Kh,CropAndResize:dy,DenseBincount:fy,DepthToSpace:hy,DepthwiseConv2dNative:Xh,DepthwiseConv2dNativeBackpropFilter:py,DepthwiseConv2dNativeBackpropInput:my,Diag:gy,Dilation2D:Jh,Dilation2DBackpropInput:B1,Dilation2DBackpropFilter:z1,RealDiv:$u,Einsum:yy,Elu:Eu,EluGrad:vy,Erf:Du,Equal:Yh,Exp:Au,ExpandDims:Qh,Expm1:Fu,FFT:by,Fill:wy,FlipLeftRight:ky,Floor:Ru,FloorDiv:Ou,FusedBatchNorm:Zh,GatherV2:ep,GatherNd:_y,Greater:tp,GreaterEqual:Pu,Identity:Lu,IFFT:xy,Imag:Sy,IsFinite:Mu,IsInf:Bu,IsNan:zu,LeakyRelu:np,Less:ip,LessEqual:sp,LinSpace:Cy,Log:Vu,Log1p:Wu,LogicalAnd:ap,LogicalNot:rp,LogicalOr:op,LogicalXor:GU,LogSoftmax:oR,LowerBound:UU,LRN:lp,LRNGrad:Ny,Max:cp,Maximum:ju,MaxPool:up,MaxPoolGrad:Iy,MaxPool3D:dp,MaxPool3DGrad:Ty,MaxPoolWithArgmax:$y,Mean:fp,Min:hp,Minimum:Hu,MirrorPad:pp,Mod:Gu,Multinomial:Ey,Multiply:Uu,Neg:mp,NotEqual:gp,NonMaxSuppressionV3:Dy,NonMaxSuppressionV4:Ay,NonMaxSuppressionV5:Fy,OnesLike:yp,OneHot:vp,Pack:bp,PadV2:wp,Pool:qU,Pow:qu,Prelu:kp,Prod:_p,RaggedGather:Ry,RaggedRange:Oy,RaggedTensorToTensor:Py,Range:Ly,Real:My,Reciprocal:Ku,Relu:Xu,Reshape:xp,ResizeNearestNeighbor:Sp,ResizeNearestNeighborGrad:By,ResizeBilinear:Cp,ResizeBilinearGrad:zy,Relu6:Ju,Reverse:Np,Round:Yu,Rsqrt:Qu,ScatterNd:Vy,SearchSorted:Wy,Select:Ip,Selu:Zu,Slice:Tp,Sin:ed,Sinh:td,Sign:nd,Sigmoid:id,Softplus:sd,Sqrt:ad,Sum:$p,SpaceToBatchND:Ep,SplitV:Dp,Softmax:Ap,SparseFillEmptyRows:jy,SparseReshape:Hy,SparseSegmentMean:Gy,SparseSegmentSum:Uy,SparseToDense:qy,SquaredDifference:rd,Square:Ky,StridedSlice:Xy,StringNGrams:Jy,StringSplit:Yy,StringToHashBucketFast:Qy,Sub:od,Tan:ld,Tanh:cd,Tile:ud,TopK:Zy,Transform:ev,Transpose:cl,Unique:tv,Unpack:Fp,UnsortedSegmentSum:Rp,UpperBound:KU,ZerosLike:Op,Step:dd,FromPixels:V1,RotateWithOffset:nv,_FusedMatMul:rh,FusedConv2D:oh,FusedDepthwiseConv2D:lh,version_core:YR,browser:GK,io:cS,math:LK,serialization:QK,test_util:lX,util:rq,backend_util:$5,broadcast_util:MK,tensor_util:vq,slice_util:KR,gather_util:UK,scatter_util:qK,device_util:xq,kernel_impls:See,CallbackList:U5,CustomCallback:K5,History:q5,Callback:BP,callbacks:xre,EarlyStopping:zP,InputSpec:Jt,SymbolicTensor:Gs,LayersModel:nr,input:lP,loadLayersModel:U_,model:wse,registerCallbackConstructor:_se,sequential:kse,RNN:ra,Sequential:Al,LayerVariable:W5,version_layers:fb,constraints:pie,initializers:Eie,layers:ere,metrics:gre,models:yre,regularizers:kre,GraphModel:gN,loadGraphModel:Xoe,loadGraphModelSync:Joe,deregisterOp:Nre,registerOp:Cre,version_converter:GP},Symbol.toStringTag,{value:"Module"}));const L2e="@upscalerjs/default-model",M2e="1.0.0-beta.6",B2e=t=>{const e=t.layers.Layer,n=4,i=.2,s=c=>Array.isArray(c),a=c=>s(c)?c[0]:c;class r extends e{constructor(){super({});Bn(this,"beta");this.beta=i}call(d){return t.mul(a(d),this.beta)}}Bn(r,"className","MultiplyBeta");class o extends e{constructor(){super({});Bn(this,"scale");this.scale=n}computeOutputShape(d){return[d[0],d[1],d[2],3]}call(d){return t.depthToSpace(a(d),this.scale,"NHWC")}}return Bn(o,"className","PixelShuffle"),{scale:n,channels:3,path:"models/model.json",packageInformation:{name:L2e,version:M2e},meta:{dataset:"div2k"},preprocess:c=>t.mul(c,1/255),postprocess:c=>t.tidy(()=>{const u=c.clipByValue(0,1);return c.dispose(),t.mul(u,255)}),customLayers:[r,o]}};class z2e extends Error{constructor(){super(...arguments);Bn(this,"message","The upscale request received an abort signal")}}const V2e=t=>typeof t=="string";function o9(t){function e(n){try{return n.shape.length===t}catch{}return!1}return e}const W2e=new Error("You must provide a model definition"),j2e=new Error("You must provide a path for a model definition"),H2e=new Error("You must provide a scale for a model definition"),G2e=new Error("There is a bug with the upscaler code. Please report this.");function U2e(t){return t?t.path?t.scale?G2e:H2e:j2e:W2e}const q2e=t=>t===void 0?!1:Boolean(t.path&&t.scale),K2e=t=>{t.customLayers&&t.customLayers.forEach(e=>{ae(e)})},l9=o9(4),c9=o9(3),Tb=t=>t instanceof Xe,NE=t=>{console.warn(Array.isArray(t)?t.join(`
`):t)};function u9(t){return t!==void 0&&typeof t=="function"}const X2e=(t,e,n)=>!u9(t)||t.length<=1?!1:n===void 0&&e==="tensor"||n==="tensor",J2e=t=>t?t.aborted:!1;async function d9(t,e){let n;for(n=await t.next();!n.done;n=await t.next())e&&await e(n.value);return n.value}function Y2e(t){return typeof t=="function"}const Q2e=t=>X(()=>{const[e,n]=t.shape,i=Eo([e,n],255).expandDims(2);return t.clipByValue(0,255).concat([i],2).dataSync()}),Z2e=t=>Y2e(t)?t(P2e):t;function IE(t,e){return e==="src"?(console.warn(`You have provided "src" as an option to ${t}. You should switch this to "base64". "src" is deprecated and will be removed in a future version.`),"base64"):e}function eSe(t){return{...t,output:IE("output",t.output),progressOutput:IE("progressOutput",t.progressOutput)}}function v0(t,e){if(e){const n=X(()=>e(t));return t.isDisposed||t.dispose(),n}return t}const TE=[{name:"jsdelivr",fn:(t,e,n)=>`https://cdn.jsdelivr.net/npm/${t}@${e}/${n}`},{name:"unpkg",fn:(t,e,n)=>`https://unpkg.com/${t}@${e}/${n}`}],tSe=t=>new Error(`Could not resolve URL ${t}`),nSe=async(t,e)=>{if(e){for(let n=0;n<TE.length;n++){const{fn:i}=TE[n];try{const s=i(e.name,e.version,t);return await U_(s)}catch{}}throw tSe(t)}return await U_(t)},iSe=async t=>{if(q2e(t))return K2e(t),{model:await nSe(t.path,t.packageInformation),modelDefinition:t};throw U2e(t)},f9=(t,e)=>async n=>{if(e&&await Jv(),J2e(t))throw Array.isArray(n)?n.forEach(i=>i==null?void 0:i.dispose()):Tb(n)&&n.dispose(),new z2e},h9=t=>t!==null&&typeof t=="object"&&"patchSize"in t,sSe=t=>t!==void 0&&Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number",aSe=t=>new Error(`Invalid value passed to warmup in warmupSizes. Expected two numbers, got ${JSON.stringify(t)}`),rSe=t=>{if(h9(t)){const{patchSize:e,padding:n=0}=t,i=e+n*2;return[i,i]}return t};async function*oSe(t,e){const{model:n,modelDefinition:i}=await t;for(const s of e){if(!h9(s)&&!sSe(s))throw aSe(s);const[a,r]=rSe(s);let o=Vt([1,r,a,3]);yield[o];const l=[i.preprocess,c=>n.predict(c),i.postprocess].filter(Boolean);for(let c=0;c<l.length;c++){const u=l[c];o=v0(o,u),yield[o]}o.dispose(),yield}}const lSe=async(t,e,{signal:n=void 0,awaitNextFrame:i=!1}={},s)=>{const a=f9(n||s.signal,i);await a(),await d9(oSe(t,e),a)},cSe=t=>new Error([`Unsupported dimensions for incoming pixels: ${t.shape.length}.`,"Only 3 or 4 rank tensors are supported."].join(" ")),uSe=()=>new Error(["Failed to load image"].join(" ")),dSe=t=>new Promise((e,n)=>{const i=new Image;i.src=t,i.crossOrigin="anonymous",i.onload=()=>e(i),i.onerror=()=>n(uSe())}),fSe=async t=>{if(Tb(t))return t;if(V2e(t)){const e=await dSe(t);return K1(e)}return K1(t)},hSe=async t=>{const e=await fSe(t);if(c9(e)){const n=e.expandDims(0);return e.dispose(),n}if(l9(e))return e;throw cSe(e)},p9=t=>{const e=Q2e(t),[n,i]=t.shape,s=new ImageData(i,n);s.data.set(e);const a=document.createElement("canvas");a.width=i,a.height=n;const r=a.getContext("2d");if(!r)throw new Error("No context found");return r.putImageData(s,0,0),a.toDataURL()},pSe="https://thekevinscott.github.io/UpscalerJS/#/?id=padding-is-undefined",mSe=['"padding" is undefined, but "patchSize" is explicitly defined.',"Without padding, patches of images often have visible artifacting at the seams. Defining an explicit padding will resolve the artifacting.",`For more information, see ${pSe}.`,'To hide this warning, pass an explicit padding of "0".'].join(`
`),gSe="https://thekevinscott.github.io/UpscalerJS/#/?id=progress-specified-without-patch-size",ySe=['The "progress" callback was provided but "patchSize" was not defined.','Without a "patchSize", the "progress" callback will never be called.',`For more information, see ${gSe}.`].join(`
`),vSe=t=>new Error(`Invalid shape provided to getWidthAndHeight, expected tensor of rank 3 or 4: ${JSON.stringify(t.shape)}`),bSe=()=>new Error("No defined tensors were passed to concatTensors"),wSe=t=>{if(l9(t))return[t.shape[1],t.shape[2]];if(c9(t))return[t.shape[0],t.shape[1]];throw vSe(t)},kSe=(t,e)=>{const[n,i]=wSe(t);return{rows:Math.ceil(n/e),columns:Math.ceil(i/e)}},$E=(t,e,n)=>{if(e[t]<0){const i=0-e[t];e[t]+=i,n[t]-=i}},EE=(t,e,n,i,s,a)=>{if(n[e]>t){const r=n[e]-t;let o=0;i[e]-r<0&&(o=0-(i[e]-r)),i[e]-=r-o,n[e]-=r;const l=r-o;s[e]+=l,a[e]+=l}},DE=(t,e,n)=>{n[t]>e[t]&&(n[t]=e[t])},_Se=new Error("Row is undefined"),xSe=new Error("Column is undefined"),SSe=new Error("Patch Size is undefined"),CSe=new Error("Height is undefined"),NSe=new Error("Width is undefined"),ISe=({row:t,col:e,patchSize:n,height:i,width:s,padding:a=0})=>{if(t===void 0)throw _Se;if(e===void 0)throw xSe;if(n===void 0)throw SSe;if(i===void 0)throw CSe;if(s===void 0)throw NSe;let r=n,o=n;r>i&&(r=i),o>s&&(o=s);const l=[t*n-a,e*n-a],c=[a,a];$E(0,l,c),$E(1,l,c);const u=[l[0]+r+a*2,l[1]+o+a*2],d=[c[0]+r,c[1]+o];EE(i,0,u,l,c,d),EE(s,1,u,l,c,d);const f=[u[0]-l[0],u[1]-l[1]];DE(0,f,d),DE(1,f,d);const h=[d[0]-c[0],d[1]-c[1]];return{origin:l,sliceOrigin:c,size:f,sliceSize:h}};function AE(t,e=0){const n=[];for(let s=0;s<t.length;s++){const a=t[s];a!==void 0&&n.push(a)}if(n.length===0)throw bSe();const i=Lt(n,e);return t.forEach(s=>s==null?void 0:s.dispose()),i}async function*TSe(t,{output:e,progress:n,patchSize:i,padding:s,progressOutput:a},{model:r,modelDefinition:o}){const l=o.scale;i&&s===void 0&&NE(mSe);const c=i;if(c){const[h,p]=t.shape.slice(1),{rows:m,columns:y}=kSe(t,c);yield;let g;const v=m*y;for(let w=0;w<m;w++){let k;yield[k,g];for(let x=0;x<y;x++){const{origin:N,size:I,sliceOrigin:D,sliceSize:R}=ISe({row:w,col:x,patchSize:c,padding:s,height:h,width:p});yield[g,k];const L=t.slice([0,N[0],N[1]],[-1,I[0],I[1]]);yield[g,k,L];const O=r.predict(L);L.dispose(),yield[g,k,O];const T=[0,D[0]*l,D[1]*l],A=[-1,R[0]*l,R[1]*l],S=O.slice(T,A);O.dispose(),yield[g,k,S];const $=v0(S,o.postprocess);if(yield[g,k,$],n!==void 0&&u9(n)){const M=(w*y+x+1)/v;if(n.length<=1)n(M);else{const U=$.squeeze();if(X2e(n,e,a))n(M,U,w,x);else{const Q=p9(U);U.dispose(),n(M,Q,w,x)}}}yield[g,k,$],k=AE([k,$],2),$.dispose(),yield[g,k]}g=AE([g,k],1),k.dispose(),yield[g]}const b=g.squeeze();return g.dispose(),b}n&&NE(ySe);const u=r.predict(t);yield[u];const d=v0(u,o.postprocess),f=d.squeeze();return d.dispose(),f}const $Se=t=>Tb(t)?t.clone():t;async function*ESe(t,e,{model:n,modelDefinition:i}){const s=$Se(t),a=await hSe(s);yield a;const r=v0(a,i.preprocess);yield r;const o=TSe(r,e,{model:n,modelDefinition:i});let l=await o.next();for(yield l.value;!l.done;)l=await o.next(),Array.isArray(l.value)?yield[...l.value,r]:Tb(l.value)?yield[l.value,r]:yield r;r.dispose();const c=l.value;if(e.output==="tensor")return c;const u=p9(c);return c.dispose(),u}async function DSe(t,{signal:e,awaitNextFrame:n,...i},s){const a=f9(e||s.signal,n);await a();const r=await d9(ESe(t,i,s),a);return await a(),r}const ASe=B2e;class FSe{constructor(e={}){Bn(this,"_opts");Bn(this,"_model");Bn(this,"_ready");Bn(this,"_readyResolver");Bn(this,"abortController",new AbortController);Bn(this,"dispose",async()=>{await this._ready;const{model:e}=await this._model;e.dispose()});Bn(this,"getModel",()=>this._model);Bn(this,"warmup",async(e=[],n)=>(await this._ready,lSe(this._model,e,n,{signal:this.abortController.signal})));Bn(this,"upscale",async(e,n={})=>{await this._ready;const{model:i,modelDefinition:s}=await this._model,a=eSe(n);return DSe(e,a,{model:i,modelDefinition:s,signal:this.abortController.signal})});Bn(this,"abort",()=>{this.abortController.abort(),this.abortController=new AbortController});this._opts={...e},this._model=iSe(Z2e(this._opts.model||ASe)),this._ready=new Promise(n=>{this.warmup(this._opts.warmupSizes).then(n)})}}new FSe;const RSe=({socket:t,permission:e})=>{const{showEmoji:n,setShowEmoji:i,ref:s}=Fh(!1),[a,r]=Z.exports.useState(""),[o,l]=Z.exports.useState(""),[c,u]=Z.exports.useState(""),[d,f]=Z.exports.useState([]),[h,p]=Z.exports.useState(!1),[m,y]=Z.exports.useState(""),[g,v]=Z.exports.useState(!1),[b,w]=Z.exports.useState([]),[k,x]=Z.exports.useState([]),[N,I]=Z.exports.useState(!1),[D,R]=Z.exports.useState(!1),[L,O]=Z.exports.useState(!1),[T,A]=Z.exports.useState({id:"",chatName:"",chatNumber:"",chatFunnel:"",chatParent:"",chatParentTeam:"",chatEmail:"",chatDirectory:"",chatCampaign:"",chatBusiness:"",chatValue:0,chatObjective:"",chatPlatform:"",chatLabel:"",chatHandlerName:"",chatHandlerId:"",chatMessages:[],chatDate:""}),[S,$]=Z.exports.useState({_id:"",_name:"User",_email:"",_teamId:"",_teamRole:"neutral",_gsIntegration:!1,_gsSessionData:"",_wpIntegration:!1,_wpSessionData:"",_fbIntegration:!1,_fbSessionData:"",_igIntegration:!1,_igSessionData:"",_totalMessagesSent:0,_totalLeadsGained:0,_totalMessagesSentThisWeek:[],_totalLeadsGainedThisWeek:[],_funnelsCount:0,_funnels:[],_directories:[],_ownChats:[],_assignedChats:[]}),[K,M]=Z.exports.useState({_id:"",_teamName:"Your team",_teamAdmin:"",_gsIntegration:!1,_gsSessionData:"",_fbIntegration:!1,_fbSessionData:"",_igIntegration:!1,_igSessionData:"",_teamMembers:[],_teamFunnels:[],_totalMessagesSent:0,_totalLeadsGained:0,_totalMessagesSentThisWeek:[],_totalLeadsGainedThisWeek:[]}),[U,Q]=Z.exports.useState(""),[ee,ie]=Z.exports.useState(0),[se,ce]=Z.exports.useState(""),[le,ue]=Z.exports.useState(""),[pe,we]=Z.exports.useState(""),[Se,$e]=Z.exports.useState(""),Ae=()=>{i(V=>!V)},me=V=>{r(q=>q+=V.native)},it=V=>{r(V.target.value)};setTimeout(()=>{const V=document.getElementById("chatbox");V.scrollTop=V.scrollHeight},50);const je=["WP Leads","CL Leads"],et=["WP Leads","FB Leads","IG Leads","CL Leads"],ye=JSON.parse(window.localStorage.getItem("shulidtH9kNnMgaUtlL730ktnkB.saleshub.io"));function Fe(V){var q=document.getElementById("snackbar");q.className.replace("show",""),q.className="show";var G=document.getElementById("messagebox");G.innerText=V,setTimeout(function(){q.className=q.className.replace("show","")},3e3)}const Y=()=>{t.emit("get_googlesheets",{authToken:ye,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io"},V=>{V&&Fe(V)})};Z.exports.useEffect(()=>{t.emit("get_user",{authToken:ye,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io"},V=>{V&&Fe(V)}),h&&t.emit("get_user_team",{authToken:ye,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",teamId:o},V=>{V&&Fe(V)})},[h]),Z.exports.useEffect(()=>{const V=()=>{const q=document.getElementById("chatbox");q.scrollTop=q.scrollHeight};t.on("got_sheets",({password:q,sheets:G})=>{q==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&f(G)}),t.on("got_user",({user:q,password:G})=>{G==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(l(q._teamId),w(q._wpChats),x(q._assignedChats),$({_id:q._id,_name:q._name,_email:q._email,_teamId:q._teamId,_teamRole:q._teamRole,_gsIntegration:q._gsIntegration,_gsSessionData:q._gsSessionData,_wpIntegration:q._wpIntegration,_wpSessionData:q._wpSessionData,_fbIntegration:q._fbIntegration,_fbSessionData:q._fbSessionData,_igIntegration:q._igIntegration,_igSessionData:q._igSessionData,_totalMessagesSent:q._totalMessagesSent,_totalLeadsGained:q._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(q._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(q._totalLeadsGainedThisWeek),_funnelsCount:q._funnelsCount,_funnels:q._funnels,_directories:q._directories,_ownChats:q._wpChats,_assignedChats:q._assignedChats}),q._gsIntegration&&q._gsSessionData!==""&&Y(),q._teamId!==""&&q._teamRole!=="neutral"?p(!0):p(!1))}),t.on("got_user_team",({team:q,password:G})=>{G==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&M({_id:q._id,_teamAdmin:q._teamAdmin,_teamMembers:q._teamMembers,_teamName:q._teamName,_gsIntegration:q._gsIntegration,_gsSessionData:q._gsSessionData,_fbIntegration:q._fbIntegration,_fbSessionData:q._fbSessionData,_igIntegration:q._igIntegration,_igSessionData:q._igSessionData,_totalMessagesSent:q._totalMessagesSent,_totalLeadsGained:q._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(q._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(q._totalLeadsGainedThisWeek)})}),t.on("user_updated",({updatedUser:q,password:G})=>{G==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(l(q._teamId),w(q._wpChats),x(q._assignedChats),$({_id:q._id,_name:q._name,_email:q._email,_teamId:q._teamId,_teamRole:q._teamRole,_gsIntegration:q._gsIntegration,_gsSessionData:q._gsSessionData,_wpIntegration:q._wpIntegration,_wpSessionData:q._wpSessionData,_fbIntegration:q._fbIntegration,_fbSessionData:q._fbSessionData,_igIntegration:q._igIntegration,_igSessionData:q._igSessionData,_totalMessagesSent:q._totalMessagesSent,_totalLeadsGained:q._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(q._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(q._totalLeadsGainedThisWeek),_funnelsCount:q._funnelsCount,_funnels:q._funnels,_directories:q._directories,_ownChats:q._wpChats,_assignedChats:q._assignedChats}),q._gsIntegration&&q._gsSessionData!==""&&Y(),q._teamId!==""&&q._teamRole!=="neutral"?p(!0):p(!1))}),t.on("member_updated",({updatedUser:q,password:G,target:It})=>{console.log("Third Party Request got"),G==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&It===S._id&&(l(q._teamId),w(q._wpChats),x(q._assignedChats),$({_id:q._id,_name:q._name,_email:q._email,_teamId:q._teamId,_teamRole:q._teamRole,_gsIntegration:q._gsIntegration,_gsSessionData:q._gsSessionData,_wpIntegration:q._wpIntegration,_wpSessionData:q._wpSessionData,_fbIntegration:q._fbIntegration,_fbSessionData:q._fbSessionData,_igIntegration:q._igIntegration,_igSessionData:q._igSessionData,_totalMessagesSent:q._totalMessagesSent,_totalLeadsGained:q._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(q._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(q._totalLeadsGainedThisWeek),_funnelsCount:q._funnelsCount,_funnels:q._funnels,_directories:q._directories,_ownChats:q._wpChats,_assignedChats:q._assignedChats}),q._gsIntegration&&q._gsSessionData!==""&&Y(),q._teamId!==""&&q._teamRole!=="neutral"?p(!0):p(!1))}),t.on("got_chat_details",({password:q,chat:G})=>{q==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&window.localStorage.getItem("spfudFojdbcdblsbh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io")===G._id&&(A({id:G._id,chatName:G._chatName,chatValue:G._chatValue,chatNumber:G._chatNumber,chatFunnel:G._chatFunnel,chatParent:G._chatParent,chatParentTeam:G._chatParentTeam,chatDirectory:G._chatDirectory,chatEmail:G._chatEmail,chatCampaign:G._chatCampaign,chatBusiness:G._chatBusiness,chatObjective:G._chatObjective,chatPlatform:G._chatPlatform,chatLabel:G._chatLabel,chatHandlerName:G._chatHandlerName,chatHandlerId:G._chatHandlerId,chatMessages:G._chatMessages,chatDate:G._chatDate}),setTimeout(V,50),O(!0),I(!1),Q(G._chatName),ce(G._chatEmail),ie(G._chatValue),ue(G._chatCampaign),we(G._chatBusiness),$e(G._chatObjective))}),t.on("got_chat_details_for_member",({password:q,chat:G,target:It})=>{q==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&It===S._id&&window.localStorage.getItem("spfudFojdbcdblsbh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io")===G._id&&(A({id:G._id,chatName:G._chatName,chatValue:G._chatValue,chatNumber:G._chatNumber,chatFunnel:G._chatFunnel,chatParent:G._chatParent,chatParentTeam:G._chatParentTeam,chatDirectory:G._chatDirectory,chatEmail:G._chatEmail,chatCampaign:G._chatCampaign,chatBusiness:G._chatBusiness,chatObjective:G._chatObjective,chatPlatform:G._chatPlatform,chatLabel:G._chatLabel,chatHandlerName:G._chatHandlerName,chatHandlerId:G._chatHandlerId,chatMessages:G._chatMessages,chatDate:G._chatDate}),setTimeout(V,50),O(!0),I(!1),Q(G._chatName),ce(G._chatEmail),ie(G._chatValue),ue(G._chatCampaign),we(G._chatBusiness),$e(G._chatObjective))}),t.on("chat_deleted",({password:q})=>{q==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(Fe("Chat Deleted..."),A({id:"",chatName:"",chatNumber:"",chatFunnel:"",chatParent:"",chatParentTeam:"",chatEmail:"",chatDirectory:"",chatCampaign:"",chatBusiness:"",chatValue:0,chatObjective:"",chatPlatform:"",chatLabel:"",chatHandlerName:"",chatHandlerId:"",chatMessages:[],chatDate:""}),O(!1))}),t.on("chat_deleted_by_admin",({password:q,target:G})=>{q==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&m==="Assigned chats"&&window.localStorage.getItem("spfudFojdbcdblsbh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io")===T._id&&G===S._id&&(Fe("Chat Deleted..."),A({id:"",chatName:"",chatNumber:"",chatFunnel:"",chatParent:"",chatParentTeam:"",chatEmail:"",chatDirectory:"",chatCampaign:"",chatBusiness:"",chatValue:0,chatObjective:"",chatPlatform:"",chatLabel:"",chatHandlerName:"",chatHandlerId:"",chatMessages:[],chatDate:""}),O(!1))}),t.on("whatsapp_message",({password:q,chat:G})=>{q==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&window.localStorage.getItem("spfudFojdbcdblsbh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io")===G._id&&(A({id:G._id,chatName:G._chatName,chatNumber:G._chatNumber,chatDirectory:G._chatDirectory,chatFunnel:G._chatFunnel,chatParent:G._chatParent,chatParentTeam:G._chatParentTeam,chatEmail:G._chatEmail,chatCampaign:G._chatCampaign,chatValue:G._chatValue,chatBusiness:G._chatBusiness,chatObjective:G._chatObjective,chatPlatform:G._chatPlatform,chatLabel:G._chatLabel,chatHandlerName:G._chatHandlerName,chatHandlerId:G._chatHandlerId,chatMessages:G._chatMessages,chatDate:G._chatDate}),setTimeout(V,50),Q(G._chatName),ie(G._chatValue),ce(G._chatEmail),ue(G._chatCampaign),we(G._chatBusiness),$e(G._chatObjective))}),t.on("whatsapp_message_for_member",({password:q,chat:G,target:It})=>{q==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(console.log("Third party wp message",It),It===S._id&&window.localStorage.getItem("spfudFojdbcdblsbh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io")===G._id&&(A({id:G._id,chatName:G._chatName,chatNumber:G._chatNumber,chatDirectory:G._chatDirectory,chatFunnel:G._chatFunnel,chatParent:G._chatParent,chatParentTeam:G._chatParentTeam,chatEmail:G._chatEmail,chatCampaign:G._chatCampaign,chatValue:G._chatValue,chatBusiness:G._chatBusiness,chatObjective:G._chatObjective,chatPlatform:G._chatPlatform,chatLabel:G._chatLabel,chatHandlerName:G._chatHandlerName,chatHandlerId:G._chatHandlerId,chatMessages:G._chatMessages,chatDate:G._chatDate}),setTimeout(V,50),Q(G._chatName),ie(G._chatValue),ce(G._chatEmail),ue(G._chatCampaign),we(G._chatBusiness),$e(G._chatObjective)))}),t.on("sent_message",({password:q,chat:G})=>{q==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&window.localStorage.getItem("spfudFojdbcdblsbh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io")===G._id&&(A({id:G._id,chatName:G._chatName,chatNumber:G._chatNumber,chatFunnel:G._chatFunnel,chatValue:G._chatValue,chatDirectory:G._chatDirectory,chatParent:G._chatParent,chatParentTeam:G._chatParentTeam,chatEmail:G._chatEmail,chatCampaign:G._chatCampaign,chatBusiness:G._chatBusiness,chatObjective:G._chatObjective,chatPlatform:G._chatPlatform,chatLabel:G._chatLabel,chatHandlerName:G._chatHandlerName,chatHandlerId:G._chatHandlerId,chatMessages:G._chatMessages,chatDate:G._chatDate}),setTimeout(V,50),Q(G._chatName),ie(G._chatValue),ce(G._chatEmail),ue(G._chatCampaign),we(G._chatBusiness),$e(G._chatObjective))}),t.on("sent_message_for_member",({password:q,chat:G,target:It})=>{q==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&window.localStorage.getItem("spfudFojdbcdblsbh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io")===G._id&&It===S._id&&window.localStorage.getItem("spfudFojdbcdblsbh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io")===G._id&&(A({id:G._id,chatName:G._chatName,chatNumber:G._chatNumber,chatFunnel:G._chatFunnel,chatValue:G._chatValue,chatDirectory:G._chatDirectory,chatParent:G._chatParent,chatParentTeam:G._chatParentTeam,chatEmail:G._chatEmail,chatCampaign:G._chatCampaign,chatBusiness:G._chatBusiness,chatObjective:G._chatObjective,chatPlatform:G._chatPlatform,chatLabel:G._chatLabel,chatHandlerName:G._chatHandlerName,chatHandlerId:G._chatHandlerId,chatMessages:G._chatMessages,chatDate:G._chatDate}),setTimeout(V,50),Q(G._chatName),ie(G._chatValue),ce(G._chatEmail),ue(G._chatCampaign),we(G._chatBusiness),$e(G._chatObjective))})});const Ee=()=>{const V=document.getElementById("handler").value;V!=="false"&&t.emit("assign_chat_to_member",{authToken:ye,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",memberId:V,chatId:T.id},q=>{q&&Fe(q)})},kt=V=>{if(V.preventDefault(),document.getElementById("message").value==="")Fe("Please type a message...");else{t.emit("send_message",{authToken:ye,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",clientNumber:`${T.chatNumber}`,clientName:`${T.chatName}`,permission:e,message:document.getElementById("message").value},G=>{G&&Fe(G)});var q=document.getElementById("message");q.value="",r("")}},Bt=()=>{const V=`A very special greeting from IDEALIDAD Digital Marketing Agency.
        
I am ${S._name}and I am here to advise you on everything related to the digital world, tell us ${T.chatName}, how can we help you?`;t.emit("send_message",{authToken:ye,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",clientNumber:`${T.chatNumber}`,clientName:`${T.chatName}`,permission:e,message:V},q=>{q&&Fe(q)})},qt=V=>{t.emit("send_message",{isImage:!0,authToken:ye,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",clientNumber:`${T.chatNumber}`,clientName:`${T.chatName}`,permission:e,message:V},G=>{G&&Fe(G)});var q=document.getElementById("message");q.value=""},$s=()=>{var V=document.getElementById("status").value;const q={_chatLabel:V};V!=="false"?m==="Assigned chats"?t.emit("update_chat",{origin:!0,authToken:ye,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",chatUpdates:q,chatNumber:T.chatNumber},G=>{G&&Fe(G)}):t.emit("update_chat",{authToken:ye,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",chatUpdates:q,chatNumber:T.chatNumber},G=>{G&&Fe(G)}):Fe("Please select other label...")},Pi=()=>{var V=document.getElementById("funnel").value;V!=="false"?t.emit("add_chat_to_funnel",{authToken:ye,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",funnelId:V,chatId:T.id},q=>{q&&Fe(q)}):Fe("Please select other funnel...")},Es=()=>{var V=document.getElementById("directory").value;V!=="false"?t.emit("add_chat_to_dir",{authToken:ye,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",directoryId:V,chatDetails:{chatId:T.id,name:T.chatName,number:T.chatNumber.substring(0,T.chatNumber.indexOf("@")),campaign:T.chatCampaign,business:T.chatBusiness,email:T.chatEmail,platform:T.chatPlatform,date:T.chatDate,objective:T.chatObjective}},q=>{q&&Fe(q)}):Fe("Please select other funnel...")},ts=()=>{if(m==="Assigned chats"){const V={_chatValue:parseInt(ee),_chatEmail:se,_chatCampaign:le,_chatBusiness:pe,_chatObjective:Se};t.emit("update_chat",{origin:!0,authToken:ye,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",chatUpdates:V,chatNumber:T.chatNumber},q=>{q&&Fe(q)})}else{const V={_chatName:U,_chatValue:parseInt(ee),_chatEmail:se,_chatCampaign:le,_chatBusiness:pe,_chatObjective:Se};t.emit("update_chat",{authToken:ye,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",chatUpdates:V,chatNumber:T.chatNumber},q=>{q&&Fe(q)})}},oa=V=>{let q=new FileReader;q.readAsDataURL(V),q.onload=()=>{qt(q.result)}},la=V=>{console.log("Called");const G=V.target.files[0];oa(G)},Po=V=>{m==="WP Chats"?t.emit("delete_chat",{origin:!0,authToken:ye,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",chatNumber:V},q=>{q&&Fe(q)}):t.emit("delete_chat",{authToken:ye,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",chatNumber:V},q=>{q&&Fe(q)})},Ld=()=>{var V=document.getElementById("attachmentSelector");V.click()};return console.log({ownChats:b}),P(jc,{children:[_(EU,{showModal:N,setShowModal:I,socket:t,permission:e}),_(L2,{chatDetails:T,showModal:D,setShowModal:R,socket:t,permission:e}),P("div",{className:"app__chats",children:[P("div",{id:"snackbar",children:[_("img",{src:Bl,alt:""}),_("span",{id:"messagebox",children:"Hello"})]}),P("div",{className:"app__funnels__search__wrapper",children:[P("div",{className:"list-choice",children:[_("div",{className:"list-choice-title",children:"Select category"}),_("div",{className:"list-choice-objects",children:S._teamRole==="neutral"?je.map((V,q)=>P("label",{children:[_("input",{type:"radio",name:"funnels",id:V,onClick:()=>{V==="CL Leads"?(v(!1),y(""),O(!1),A({chatName:"",chatNumber:"",chatFunnel:"",chatParent:"",chatEmail:"",chatCampaign:"",chatBusiness:"",chatObjective:"",chatPlatform:"",chatLabel:"",chatHandler:"",chatMessages:[],chatDate:""})):(y(V),v(!0))}})," ",P("span",{children:[V,_("div",{className:"color"})]})]},V)):S._teamRole!=="neutral"?et.map((V,q)=>P("label",{children:[_("input",{type:"radio",name:"funnels",id:V,onClick:()=>{V==="CL Leads"?(v(!1),y(""),O(!1),A({id:"",chatName:"",chatNumber:"",chatFunnel:"",chatParent:"",chatParentTeam:"",chatEmail:"",chatDirectory:"",chatCampaign:"",chatBusiness:"",chatValue:0,chatObjective:"",chatPlatform:"",chatLabel:"",chatHandlerName:"",chatHandlerId:"",chatMessages:[],chatDate:""})):(A({id:"",chatName:"",chatNumber:"",chatFunnel:"",chatParent:"",chatParentTeam:"",chatEmail:"",chatDirectory:"",chatCampaign:"",chatBusiness:"",chatValue:0,chatObjective:"",chatPlatform:"",chatLabel:"",chatHandlerName:"",chatHandlerId:"",chatMessages:[],chatDate:""}),y(V),v(!0),O(!1))}})," ",P("span",{children:[V,_("div",{className:"color"})]})]},V)):null})]}),P("form",{className:"search__wrapper",children:[_("img",{src:r2,alt:"",className:"search__icon"}),_("input",{type:"search",name:"",id:"search__box",placeholder:"Search for chats.....",value:c,onChange:V=>{u(V.target.value)},onKeyUp:V=>{const q=V.target.value,G=q.toLowerCase();if(q.length>0){if(m==="WP Leads"){const Sr=S._ownChats;var It=[];for(const $b of Sr)$b.chatName.toLowerCase().includes(G)&&(It.push($b),w(It))}else if(m==="Assigned chats"){const Sr=S._assignedChats;var It=[];for(const Eb of Sr)Eb.chatName.toLowerCase().includes(G)&&(It.push(Eb),x(It))}}else x(S._assignedChats),w(S._ownChats)}}),_("button",{type:"submit",className:"search__button",onClick:V=>{V.preventDefault()},children:"Search"})]}),_("div",{className:"more__actions__wrapper",children:_("img",{src:Vc,alt:"",className:"action__icon",onClick:()=>{I(!0)}})})]}),g?P("div",{className:"app__chats__directory",children:["       ",P("div",{className:"chat__list__wrapper",children:[P("div",{className:"chat__list__wrapper__header",children:[_("img",{src:Kk,alt:"",className:"header__icon"}),_("span",{children:"Inbox"})]}),_("div",{className:"chat__list__wrapper__chats",children:S._teamRole==="seller"?m==="WP Leads"?b.map((V,q)=>P("div",{className:"chat",id:V.chatNumber,onClick:()=>{window.localStorage.setItem("spfudFojdbcdblsbh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io",V.chatId),t.emit("get_chat_details",{authToken:ye,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",chatNumber:V.chatNumber,origin:!0},G=>{G&&(window.localStorage.setItem("spfudFojdbcdblsbh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io",V.chatId),Fe(G))})},children:[_("img",{src:fa,alt:"",className:"chat__icon",id:V.chatLabel}),P("div",{className:"lead__details",children:[_("span",{className:"leadname",children:V.chatName.length>20?`${V.chatName.substring(0,20)}...`:V.chatName}),_("span",{className:"lastmessage",children:V.from==="client"?`Lead : ${V.lastMessage.length>20?`${V.lastMessage.substring(0,20)}...`:V.lastMessage}`:`You : ${V.lastMessage.length>20?`${V.lastMessage.substring(0,20)}...`:V.lastMessage}`})]}),_("img",{src:V.chatLabel==="Neutral"?cw:V.chatLabel==="Urgent"?uw:V.chatLabel==="Important"?pw:V.chatLabel==="Slope"?hw:V.chatLabel==="Stuck"?fw:V.chatLabel==="Cancelled"?dw:V.chatLabel==="Done"?Tf:"",alt:"",className:"label__icon"})]},q)):"":S._teamRole!=="seller"?m==="WP Leads"?b.map((V,q)=>P("div",{className:"chat",id:V.chatNumber,onClick:()=>{window.localStorage.setItem("spfudFojdbcdblsbh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io",V.chatId),t.emit("get_chat_details",{authToken:ye,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",chatNumber:V.chatNumber},G=>{G&&(window.localStorage.setItem("spfudFojdbcdblsbh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io",V.chatId),Fe(G))})},children:[_("img",{src:fa,alt:"",className:"chat__icon",id:V.chatLabel}),P("div",{className:"lead__details",children:[_("span",{className:"leadname",children:V.chatName.length>20?`${V.chatName.substring(0,20)}...`:V.chatName}),_("span",{className:"lastmessage",children:V.from==="client"?`Lead : ${V.lastMessage.length>20?`${V.lastMessage.substring(0,20)}...`:V.lastMessage}`:`You : ${V.lastMessage.length>20?`${V.lastMessage.substring(0,20)}...`:V.lastMessage}`})]}),_("img",{src:V.chatLabel==="Neutral"?cw:V.chatLabel==="Urgent"?uw:V.chatLabel==="Important"?pw:V.chatLabel==="Slope"?hw:V.chatLabel==="Stuck"?fw:V.chatLabel==="Cancelled"?dw:V.chatLabel==="Done"?Tf:"",alt:"",className:"label__icon"})]},q)):m==="CL Leads"?()=>{}:m==="Assigned chats"?k.map((V,q)=>P("div",{className:"chat",id:V.chatNumber,onClick:()=>{window.localStorage.setItem("spfudFojdbcdblsbh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io",V.chatId),t.emit("get_chat_details",{authToken:ye,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io",chatNumber:V.chatNumber,origin:!0},G=>{G&&(window.localStorage.setItem("spfudFojdbcdblsbh7djbadjcbadbjhfbvjhfbvnSDBVad55gegy.saleshub.io",V.chatId),Fe(G))})},children:[_("img",{src:fa,alt:"",className:"chat__icon",id:V.chatLabel}),P("div",{className:"lead__details",children:[_("span",{className:"leadname",children:V.chatName.length>20?`${V.chatName.substring(0,20)}...`:V.chatName}),_("span",{className:"lastmessage",children:V.from==="client"?`Lead : ${V.lastMessage.length>20?`${V.lastMessage.substring(0,20)}...`:V.lastMessage}`:`You : ${V.lastMessage.length>20?`${V.lastMessage.substring(0,20)}...`:V.lastMessage}`})]}),_("img",{src:V.chatLabel==="Neutral"?cw:V.chatLabel==="Urgent"?uw:V.chatLabel==="Important"?pw:V.chatLabel==="Slope"?hw:V.chatLabel==="Stuck"?fw:V.chatLabel==="Cancelled"?dw:V.chatLabel==="Done"?Tf:"",alt:"",className:"label__icon"})]},q)):null:""})]}),P("div",{className:"chat__box",children:[L?"":_("div",{className:"top__layer"}),P("div",{className:"topbar",children:[_("img",{src:fa,alt:""}),_("div",{className:"lead__details",children:_("p",{className:"name",children:T.chatName})})]}),_("div",{className:"chatbox",id:"chatbox",children:T.chatMessages.map((V,q)=>V.type==="image"?P("div",{className:`message ${V.from==="client"?"client":"seller"}`,children:[_("img",{src:`data:${V.mimetype};base64,${V.data}`,alt:"",onClick:()=>{const G=`data:${V.mimetype};base64,${V.data}`,It=document.createElement("a");It.href=G,It.download="Idealidad-Image",It.click()}}),P("div",{className:"timestamps",children:[P("span",{className:"user",children:["Lead"," |\xA0"]}),P("span",{className:"day",children:[V.timestamp.substring(4,11)," |\xA0"]}),_("span",{className:"date",children:V.timestamp.substring(16,25)})]})]},q):V.type==="note"?P("div",{className:`note ${V.from==="client"?"client":"seller"}`,children:[_("i",{className:"dataFor",children:V.data}),P("div",{className:"timestamps",children:[P("span",{className:"user",children:[V.caption.substring(V.caption.substring(" "))," |\xA0"]}),P("span",{className:"day",children:[V.timestamp.substring(4,11)," |\xA0"]}),_("span",{className:"date",children:V.timestamp.substring(16,25)})]})]},q):P("div",{className:`message ${V.from==="client"?"client":"seller"}`,children:[_("p",{children:V.data}),P("div",{className:"timestamps",children:[P("span",{className:"user",children:[V.caption.length>0?V.caption.substring(V.caption.substring(" ")):"Lead"," |\xA0"]}),P("span",{className:"day",children:[V.timestamp.substring(4,11)," |\xA0"]}),_("span",{className:"date",children:V.timestamp.substring(16,25)})]})]},q))}),P("div",{className:"messagebox",children:[_("img",{src:o2,alt:"",onClick:()=>{R(!0)}}),_("img",{src:O0,alt:"",onClick:Ae}),_("img",{src:P0,alt:"",onClick:Ld}),_("input",{onChange:la,type:"file",name:"",id:"attachmentSelector",accept:"image/png, image/gif, image/jpeg"}),_("img",{src:c2,alt:"",onClick:Bt}),P("form",{className:"send__message__wrapper",children:[_("input",{type:"text",value:a,placeholder:"Type a message....",id:"message",onChange:it}),_("button",{type:"submit",onClick:kt,children:"Send message"})]}),n&&_("div",{className:"emoji__picker",ref:s,children:_(X0,{onEmojiSelect:me,data:U0})})]})]}),P("div",{className:"infobox",children:[L?"":_("div",{className:"top__layer"}),P("div",{className:"chat__list__wrapper__header",children:[_("img",{src:Kk,alt:"",className:"header__icon"}),_("span",{children:"Details"}),_("img",{src:Wc,alt:"",onClick:()=>{Po(T.chatNumber)},className:"header__icon p-absolute"})]}),S._teamRole==="seller"?m==="WP Leads"?P("div",{className:"infobox__details",children:[P("div",{className:"intro",children:[_("img",{src:fa,alt:""}),P("div",{className:"details",children:[_("p",{className:"details__name",children:T.chatName.substring(0,18)}),_("p",{className:"details__number",children:T.chatNumber.substring(0,T.chatNumber.indexOf("@"))})]})]}),P("div",{className:"details__chat",children:[P("div",{className:"tooltip",children:[_("img",{src:gw,alt:""}),_("span",{className:"tooltiptext",children:U}),_("span",{type:"text",className:"data",children:T.chatName.substring(0,15)}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:mw,alt:""}),_("span",{className:"tooltiptext",children:T.chatNumber.substring(0,T.chatNumber.indexOf("@"))}),_("span",{type:"text",className:"data",children:T.chatNumber.substring(0,T.chatNumber.indexOf("@"))}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:yw,alt:""}),_("span",{className:"tooltiptext",children:ee}),_("input",{type:"text",className:"data",id:"infoName",value:`${ee}`,onChange:V=>{ie(V.target.value)}}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:iw,alt:""}),_("span",{className:"tooltiptext",children:T.chatDate}),_("span",{className:"data",children:T.chatDate.substring(0,10)}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:Rg,alt:""}),_("span",{className:"tooltiptext",children:se}),_("input",{type:"text",className:"data",id:"infoName",value:se,onChange:V=>{ce(V.target.value)}}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:rw,alt:""}),_("span",{className:"tooltiptext",children:le}),_("input",{type:"text",className:"data",id:"infoName",value:le,onChange:V=>{ue(V.target.value)}}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:sw,alt:""}),_("span",{className:"tooltiptext",children:pe}),_("input",{type:"text",className:"data",id:"infoName",value:pe,onChange:V=>{we(V.target.value)}}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:aw,alt:""}),_("span",{className:"tooltiptext",children:Se}),_("input",{type:"text",className:"data",id:"infoName",value:Se,onChange:V=>{$e(V.target.value)}}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:ow,alt:""}),_("span",{className:"tooltiptext",children:T.chatPlatform==="crm"?"Idealidad":T.chatPlatform==="wp"?"WhatsApp":T.chatPlatform==="fb"?"Facebook":T.chatPlatform==="ig"?"Instagram":"Direct"}),_("span",{className:"data",children:T.chatPlatform==="crm"?"Idealidad":T.chatPlatform==="wp"?"WhatsApp":T.chatPlatform==="fb"?"FaceBook":T.chatPlatform==="ig"?"Instagram":"Messages"}),_("div",{className:"color"})]}),P("div",{className:"funnel__name",children:[_("img",{src:lw,alt:""}),T.chatLabel,_("div",{className:"color"})]}),S._teamRole!=="dead"?P("select",{name:"",id:"status",className:"action__select",onChange:$s,children:[_("option",{value:"false",children:"Add label to chat..."}),_("option",{value:"Neutral",children:"Neutral"}),_("option",{value:"Urgent",children:"Urgent"}),_("option",{value:"Important",children:"Important"}),_("option",{value:"Slope",children:"Slope"}),_("option",{value:"Stuck",children:"Stuck"}),_("option",{value:"Cancelled",children:"Cancelled"}),_("option",{value:"Done",children:"Done"})]}):null,P("div",{className:"funnel__name",children:[_("img",{src:Fg,alt:""}),T.chatHandlerName.length>15?`${T.chatHandlerName.substring(0,15)}...`:T.chatHandlerName,_("div",{className:"color"})]}),_("div",{className:"funnel__name button",onClick:ts,children:_("span",{children:"Save"})})]})]}):"":m==="WP Leads"?P("div",{className:"infobox__details",children:[P("div",{className:"intro",children:[_("img",{src:fa,alt:""}),P("div",{className:"details",children:[_("p",{className:"details__name",children:T.chatName.substring(0,18)}),_("p",{className:"details__number",children:T.chatNumber.substring(0,T.chatNumber.indexOf("@"))})]})]}),P("div",{className:"details__chat",children:[P("div",{className:"tooltip",children:[_("img",{src:gw,alt:""}),_("span",{className:"tooltiptext",children:U}),_("input",{type:"text",className:"data",id:"infoName",value:U,onChange:V=>{Q(V.target.value)}}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:mw,alt:""}),_("span",{className:"tooltiptext",children:T.chatNumber.substring(0,T.chatNumber.indexOf("@"))}),_("span",{type:"text",className:"data",children:T.chatNumber.substring(0,T.chatNumber.indexOf("@"))}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:yw,alt:""}),_("span",{className:"tooltiptext",children:ee}),_("input",{type:"text",className:"data",id:"infoName",value:`${ee}`,onChange:V=>{ie(V.target.value)}}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:iw,alt:""}),_("span",{className:"tooltiptext",children:T.chatDate}),_("span",{className:"data",children:T.chatDate.substring(0,10)}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:Rg,alt:""}),_("span",{className:"tooltiptext",children:se}),_("input",{type:"text",className:"data",id:"infoName",value:se,onChange:V=>{ce(V.target.value)}}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:rw,alt:""}),_("span",{className:"tooltiptext",children:le}),_("input",{type:"text",className:"data",id:"infoName",value:le,onChange:V=>{ue(V.target.value)}}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:sw,alt:""}),_("span",{className:"tooltiptext",children:pe}),_("input",{type:"text",className:"data",id:"infoName",value:pe,onChange:V=>{we(V.target.value)}}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:aw,alt:""}),_("span",{className:"tooltiptext",children:Se}),_("input",{type:"text",className:"data",id:"infoName",value:Se,onChange:V=>{$e(V.target.value)}}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:ow,alt:""}),_("span",{className:"tooltiptext",children:T.chatPlatform==="crm"?"Idealidad":T.chatPlatform==="wp"?"WhatsApp":T.chatPlatform==="fb"?"Facebook":T.chatPlatform==="ig"?"Instagram":"Direct"}),_("span",{className:"data",children:T.chatPlatform==="crm"?"Idealidad":T.chatPlatform==="wp"?"WhatsApp":T.chatPlatform==="fb"?"FaceBook":T.chatPlatform==="ig"?"Instagram":"Messages"}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:YA,alt:""}),_("span",{className:"tooltiptext",children:T.chatDirectory}),_("span",{className:"data",children:T.chatDirectory?T.chatDirectory.length>15?`${T.chatDirectory.substring(0,15)}...`:T.chatDirectory:""}),_("div",{className:"color"})]}),P("select",{name:"",id:"directory",className:"action__select",onChange:Es,children:[_("option",{value:"false",children:"Send chat to directory..."}),S._directories.length>0?S._directories.map(V=>_("option",{value:V.directoryId,children:V.directoryName},V.directoryId)):""]}),P("div",{className:"tooltip",children:[_("img",{src:k8,alt:""}),_("span",{className:"tooltiptext",children:T.chatFunnel}),_("span",{className:"data",children:T.chatFunnel.length>15?`${T.chatFunnel.substring(0,15)}...`:T.chatFunnel}),_("div",{className:"color"})]}),P("select",{name:"",id:"funnel",className:"action__select",onChange:Pi,children:[_("option",{value:"false",children:"Send chat to funnel..."}),S._funnels.length>0?S._funnels.map(V=>_("option",{value:V.funnelId,children:V.funnelName},V.funnelId)):""]}),P("div",{className:"funnel__name",children:[_("img",{src:lw,alt:""}),T.chatLabel,_("div",{className:"color"})]}),S._teamRole!=="dead"?P("select",{name:"",id:"status",className:"action__select",onChange:$s,children:[_("option",{value:"false",children:"Add label to chat..."}),_("option",{value:"Neutral",children:"Neutral"}),_("option",{value:"Urgent",children:"Urgent"}),_("option",{value:"Important",children:"Important"}),_("option",{value:"Slope",children:"Slope"}),_("option",{value:"Stuck",children:"Stuck"}),_("option",{value:"Cancelled",children:"Cancelled"}),_("option",{value:"Done",children:"Done"})]}):null,P("div",{className:"funnel__name",children:[_("img",{src:Fg,alt:""}),T.chatHandlerName.length>15?`${T.chatHandlerName.substring(0,15)}...`:T.chatHandlerName,_("div",{className:"color"})]}),S._teamRole==="admin"?P("select",{name:"",id:"handler",className:"action__select",onChange:Ee,children:[_("option",{value:"false",children:"Assign chat to member..."}),K._teamMembers.length>0?K._teamMembers.map(V=>_("option",{value:V.id,children:V.name},V.id)):""]}):null,_("div",{className:"funnel__name button",onClick:ts,children:_("span",{children:"Save"})})]})]}):m==="Assigned chats"?P("div",{className:"infobox__details",children:[P("div",{className:"intro",children:[_("img",{src:fa,alt:""}),P("div",{className:"details",children:[_("p",{className:"details__name",children:T.chatName.substring(0,18)}),_("p",{className:"details__number",children:T.chatNumber.substring(0,T.chatNumber.indexOf("@"))})]})]}),P("div",{className:"details__chat",children:[P("div",{className:"tooltip",children:[_("img",{src:gw,alt:""}),_("span",{className:"tooltiptext",children:U}),_("span",{type:"text",className:"data",children:T.chatName.substring(0,15)}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:mw,alt:""}),_("span",{className:"tooltiptext",children:T.chatNumber.substring(0,T.chatNumber.indexOf("@"))}),_("span",{type:"text",className:"data",children:T.chatNumber.substring(0,T.chatNumber.indexOf("@"))}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:yw,alt:""}),_("span",{className:"tooltiptext",children:ee}),_("input",{type:"text",className:"data",id:"infoName",value:`${ee}`,onChange:V=>{ie(V.target.value)}}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:iw,alt:""}),_("span",{className:"tooltiptext",children:T.chatDate}),_("span",{className:"data",children:T.chatDate.substring(0,10)}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:Rg,alt:""}),_("span",{className:"tooltiptext",children:se}),_("input",{type:"text",className:"data",id:"infoName",value:se,onChange:V=>{ce(V.target.value)}}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:rw,alt:""}),_("span",{className:"tooltiptext",children:le}),_("input",{type:"text",className:"data",id:"infoName",value:le,onChange:V=>{ue(V.target.value)}}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:sw,alt:""}),_("span",{className:"tooltiptext",children:pe}),_("input",{type:"text",className:"data",id:"infoName",value:pe,onChange:V=>{we(V.target.value)}}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:aw,alt:""}),_("span",{className:"tooltiptext",children:Se}),_("input",{type:"text",className:"data",id:"infoName",value:Se,onChange:V=>{$e(V.target.value)}}),_("div",{className:"color"})]}),P("div",{className:"tooltip",children:[_("img",{src:ow,alt:""}),_("span",{className:"tooltiptext",children:T.chatPlatform==="crm"?"Idealidad":T.chatPlatform==="wp"?"WhatsApp":T.chatPlatform==="fb"?"Facebook":T.chatPlatform==="ig"?"Instagram":"Direct"}),_("span",{className:"data",children:T.chatPlatform==="crm"?"Idealidad":T.chatPlatform==="wp"?"WhatsApp":T.chatPlatform==="fb"?"FaceBook":T.chatPlatform==="ig"?"Instagram":"Messages"}),_("div",{className:"color"})]}),P("div",{className:"funnel__name",children:[_("img",{src:lw,alt:""}),T.chatLabel,_("div",{className:"color"})]}),S._teamRole!=="dead"?P("select",{name:"",id:"status",className:"action__select",onChange:$s,children:[_("option",{value:"false",children:"Add label to chat..."}),_("option",{value:"Neutral",children:"Neutral"}),_("option",{value:"Urgent",children:"Urgent"}),_("option",{value:"Important",children:"Important"}),_("option",{value:"Slope",children:"Slope"}),_("option",{value:"Stuck",children:"Stuck"}),_("option",{value:"Cancelled",children:"Cancelled"}),_("option",{value:"Done",children:"Done"})]}):null,P("div",{className:"funnel__name",children:[_("img",{src:Fg,alt:""}),T.chatHandlerName.length>15?`${T.chatHandlerName.substring(0,15)}...`:T.chatHandlerName,_("div",{className:"color"})]}),_("div",{className:"funnel__name button",onClick:ts,children:_("span",{children:"Save"})})]})]}):""]})]}):_("div",{className:"app__chats__directory",children:_("div",{className:"info__div",children:_("span",{children:"Select a category from the above category menu to see its data"})})}),_(Rh,{})]})]})};const OSe=({socket:t})=>{const e=JSON.parse(window.localStorage.getItem("shulidtH9kNnMgaUtlL730ktnkB.saleshub.io")),[n,i]=Z.exports.useState({_id:"",_name:"User",_email:"",_teamId:"",_teamRole:"neutral",_gsIntegration:!1,_gsSessionData:"",_wpIntegration:!1,_wpSessionData:"",_fbIntegration:!1,_fbSessionData:"",_igIntegration:!1,_igSessionData:"",_totalMessagesSent:0,_totalLeadsGained:0,_chatBot:!1,_chatBotTemplate:[],_totalMessagesSentThisWeek:[],_totalLeadsGainedThisWeek:[],_funnelsCount:0,_funnels:[],_teamChats:[],_ownChats:[],_assignedChats:[]});Fh(!1),Z.exports.useState("");const[s,a]=Z.exports.useState(!1);Z.exports.useEffect(()=>{t.emit("get_user",{authToken:e,password:"spfudFojOQJsh7FmhAKSJDBHVKSDBVad55gegy.saleshub.io"},o=>{o&&r(o)})},[]),Z.exports.useEffect(()=>{t.on("got_user",({user:o,password:l})=>{l==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(a(o._chatBot),i({_id:o._id,_name:o._name,_email:o._email,_teamId:o._teamId,_teamRole:o._teamRole,_chatBot:o._chatBot,_chatBotTemplate:o._chatBotTemplate,_gsIntegration:o._gsIntegration,_gsSessionData:o._gsSessionData,_wpIntegration:o._wpIntegration,_wpSessionData:o._wpSessionData,_fbIntegration:o._fbIntegration,_fbSessionData:o._fbSessionData,_igIntegration:o._igIntegration,_igSessionData:o._igSessionData,_totalMessagesSent:o._totalMessagesSent,_totalLeadsGained:o._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(o._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(o._totalLeadsGainedThisWeek),_funnelsCount:o._funnelsCount,_funnels:o._funnels,_teamChats:o._teamChats,_ownChats:o._ownChats,_assignedChats:o._assignedChats}))}),t.on("user_updated",({updatedUser:o,password:l})=>{l==="spfudFojOQJsh7Fmhad5JHVCASDKy.saleshub.io"&&(a(o._chatBot),i({_id:o._id,_name:o._name,_email:o._email,_teamId:o._teamId,_teamRole:o._teamRole,_chatBot:o._chatBot,_chatBotTemplate:o._chatBotTemplate,_gsIntegration:o._gsIntegration,_gsSessionData:o._gsSessionData,_wpIntegration:o._wpIntegration,_wpSessionData:o._wpSessionData,_fbIntegration:o._fbIntegration,_fbSessionData:o._fbSessionData,_igIntegration:o._igIntegration,_igSessionData:o._igSessionData,_totalMessagesSent:o._totalMessagesSent,_totalLeadsGained:o._totalLeadsGained,_totalMessagesSentThisWeek:JSON.parse(o._totalMessagesSentThisWeek),_totalLeadsGainedThisWeek:JSON.parse(o._totalLeadsGainedThisWeek),_funnelsCount:o._funnelsCount,_funnels:o._funnels,_teamChats:o._teamChats,_ownChats:o._ownChats,_assignedChats:o._assignedChats}))})});function r(o){var l=document.getElementById("snackbar");l.className.replace("show",""),l.className="show";var c=document.getElementById("messagebox");c.innerText=o,setTimeout(function(){l.className=l.className.replace("show","")},3e3)}return P("div",{className:"app__salesbot",children:[P("div",{id:"snackbar",children:[_("img",{src:Bl,alt:""}),_("span",{id:"messagebox",children:"Hello"})]}),P("div",{className:"message",style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[_("img",{src:t6,alt:"",srcset:"",style:{width:"60px"}}),_("span",{style:{width:"60%",textAlign:"center",marginTop:"20px"},children:"Sorry for the inconvience. But the analytics menu will be launched with super admin as it has a registory at super admin dashboard. You can have a look at its trial version at the dashboard. Thanks for your co-operation."})]})]})},PSe=({setHome:t,socket:e})=>{const[n,i]=Z.exports.useState(""),[s,a]=Z.exports.useState(!1),[r,o]=Z.exports.useState(!1),[l,c]=Z.exports.useState(!1),[u,d]=Z.exports.useState(!1);return Z.exports.useEffect(()=>{setTimeout(()=>{const f=window.localStorage.getItem("shulidtH9kNnMgaUtlL730ktnkB.saleshub.io"),h=window.localStorage.getItem("shulidtH9kNnMgaUtlL73dbhkvhkl.saleshub.io");u||(JSON.parse(h)._wpIntegration?o(!1):o(!0),i("dashboard"),d(!0)),(f===null||h===null)&&t(!1)},1e3)},[]),P("div",{className:"app__home",children:[P("div",{id:"snackbar",children:[_("img",{src:Bl,alt:""}),_("span",{id:"messagebox",children:"Hello"})]}),_(b7,{setDisplayComponent:i,displayComponent:n}),n==="dashboard"?_(GH,{socket:e,gsAuth:l,setGsAuth:c,setPermission:a,wpAuth:r,setWpAuth:o}):n==="funnels"?_(MG,{socket:e,permission:s}):n==="directory"?_(IU,{socket:e,permission:s}):n==="chats"?_(RSe,{socket:e,permission:s}):n==="salesbot"?_(DU,{socket:e}):n==="analytics"?_(OSe,{socket:e}):""]})},LSe=()=>_(jc,{children:_(r8,{children:_(a8,{children:_(XA,{exact:!0,path:"/",element:_(y7,{})})})})});ek.createRoot(document.getElementById("root")).render(_(VE.StrictMode,{children:_(LSe,{})}));
